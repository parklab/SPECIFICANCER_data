/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,n={7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=s(e),a=o[0],l=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),u=0,h=l>0?a-4:a;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,c=r-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8287:(e,t,n)=>{"use strict";const r=n(7526),i=n(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(q(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(q(e,SharedArrayBuffer)||e&&q(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return u(e),s(e<0?0:0|f(e))}function d(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function f(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(i)return r?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){let o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function T(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(K(r))return a;e[n+a]=r}return a}function _(e,t,n,r){return W($(t,e.length-n),e,n,r)}function E(e,t,n,r){return W(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return W(X(t),e,n,r)}function w(e,t,n,r){return W(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),q(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(q(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(q(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==u[e]){o=c[e],a=u[e];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function C(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=Z[e[r]];return i}function D(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i){G(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function M(e,t,n,r,i){G(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Q((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Q((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Q((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Q((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Q((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};const U={};function j(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function G(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,i,o)}function z(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=H(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const Y=/[^+/0-9A-Za-z-_]/g;function $(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function X(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},8075:(e,t,n)=>{"use strict";var r=n(453),i=n(487),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},487:(e,t,n)=>{"use strict";var r=n(6743),i=n(453),o=n(6897),a=n(9675),s=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||r.call(l,s),u=n(655),h=i("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=c(r,l,arguments);return o(t,1+h(0,e.length-(arguments.length-1)),!0)};var d=function(){return c(r,s,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},2181:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o),s=n(4417),l=n.n(s),c=new URL(n(2435),n.b),u=new URL(n(4512),n.b),h=new URL(n(368),n.b),d=new URL(n(792),n.b),p=new URL(n(1285),n.b),f=new URL(n(3969),n.b),m=new URL(n(2006),n.b),g=new URL(n(6426),n.b),b=new URL(n(8226),n.b),v=new URL(n(3886),n.b),y=a()(i()),T=l()(c),_=l()(u),E=l()(h),x=l()(d),w=l()(p),S=l()(f),A=l()(m),k=l()(g),C=l()(b),I=l()(v);y.push([e.id,`/*!\n * Bootstrap v4.6.2 (https://getbootstrap.com/)\n * Copyright 2011-2022 The Bootstrap Authors\n * Copyright 2011-2022 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n */:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus:not(:focus-visible){outline:0 !important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}abbr[data-original-title],abbr[title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;border-bottom:0;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}a{color:#007bff;text-decoration:none;background-color:rgba(0,0,0,0)}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([class]){color:inherit;text-decoration:none}a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto;-ms-overflow-style:scrollbar}figure{margin:0 0 1rem}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit;text-align:-webkit-match-parent}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{padding:0;border-style:none}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none !important}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;font-weight:500;line-height:1.2}.h1,h1{font-size:2.5rem}.h2,h2{font-size:2rem}.h3,h3{font-size:1.75rem}.h4,h4{font-size:1.5rem}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:6rem;font-weight:300;line-height:1.2}.display-2{font-size:5.5rem;font-weight:300;line-height:1.2}.display-3{font-size:4.5rem;font-weight:300;line-height:1.2}.display-4{font-size:3.5rem;font-weight:300;line-height:1.2}hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}.small,small{font-size:.875em;font-weight:400}.mark,mark{padding:.2em;background-color:#fcf8e3}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:90%;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote-footer{display:block;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:"— "}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:90%;color:#6c757d}code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:87.5%;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:100%;font-weight:700}pre{display:block;font-size:87.5%;color:#212529}pre code{font-size:inherit;color:inherit;word-break:normal}.pre-scrollable{max-height:340px;overflow-y:scroll}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media(min-width: 576px){.container,.container-sm{max-width:540px}}@media(min-width: 768px){.container,.container-md,.container-sm{max-width:720px}}@media(min-width: 992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media(min-width: 1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.no-gutters{margin-right:0;margin-left:0}.no-gutters>.col,.no-gutters>[class*=col-]{padding-right:0;padding-left:0}.col,.col-1,.col-10,.col-11,.col-12,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-auto,.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-auto,.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-auto,.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-auto{position:relative;width:100%;padding-right:15px;padding-left:15px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-1>*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-2>*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-3>*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-4>*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-5>*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-6>*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-first{-ms-flex-order:-1;order:-1}.order-last{-ms-flex-order:13;order:13}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-4{-ms-flex-order:4;order:4}.order-5{-ms-flex-order:5;order:5}.order-6{-ms-flex-order:6;order:6}.order-7{-ms-flex-order:7;order:7}.order-8{-ms-flex-order:8;order:8}.order-9{-ms-flex-order:9;order:9}.order-10{-ms-flex-order:10;order:10}.order-11{-ms-flex-order:11;order:11}.order-12{-ms-flex-order:12;order:12}.offset-1{margin-left:8.333333%}.offset-2{margin-left:16.666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.333333%}.offset-5{margin-left:41.666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.333333%}.offset-8{margin-left:66.666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.333333%}.offset-11{margin-left:91.666667%}@media(min-width: 576px){.col-sm{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-sm-1>*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-sm-2>*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-sm-3>*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-sm-4>*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-sm-5>*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-sm-6>*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-sm-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-sm-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-sm-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-sm-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-sm-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-sm-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-sm-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-sm-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-sm-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-sm-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-sm-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-sm-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-sm-first{-ms-flex-order:-1;order:-1}.order-sm-last{-ms-flex-order:13;order:13}.order-sm-0{-ms-flex-order:0;order:0}.order-sm-1{-ms-flex-order:1;order:1}.order-sm-2{-ms-flex-order:2;order:2}.order-sm-3{-ms-flex-order:3;order:3}.order-sm-4{-ms-flex-order:4;order:4}.order-sm-5{-ms-flex-order:5;order:5}.order-sm-6{-ms-flex-order:6;order:6}.order-sm-7{-ms-flex-order:7;order:7}.order-sm-8{-ms-flex-order:8;order:8}.order-sm-9{-ms-flex-order:9;order:9}.order-sm-10{-ms-flex-order:10;order:10}.order-sm-11{-ms-flex-order:11;order:11}.order-sm-12{-ms-flex-order:12;order:12}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.333333%}.offset-sm-2{margin-left:16.666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.333333%}.offset-sm-5{margin-left:41.666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.333333%}.offset-sm-8{margin-left:66.666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.333333%}.offset-sm-11{margin-left:91.666667%}}@media(min-width: 768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-md-1>*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-md-2>*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-md-3>*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-md-4>*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-md-5>*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-md-6>*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-md-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-md-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-md-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-md-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-md-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-md-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-md-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-md-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-md-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-md-first{-ms-flex-order:-1;order:-1}.order-md-last{-ms-flex-order:13;order:13}.order-md-0{-ms-flex-order:0;order:0}.order-md-1{-ms-flex-order:1;order:1}.order-md-2{-ms-flex-order:2;order:2}.order-md-3{-ms-flex-order:3;order:3}.order-md-4{-ms-flex-order:4;order:4}.order-md-5{-ms-flex-order:5;order:5}.order-md-6{-ms-flex-order:6;order:6}.order-md-7{-ms-flex-order:7;order:7}.order-md-8{-ms-flex-order:8;order:8}.order-md-9{-ms-flex-order:9;order:9}.order-md-10{-ms-flex-order:10;order:10}.order-md-11{-ms-flex-order:11;order:11}.order-md-12{-ms-flex-order:12;order:12}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.333333%}.offset-md-2{margin-left:16.666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.333333%}.offset-md-5{margin-left:41.666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.333333%}.offset-md-8{margin-left:66.666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.333333%}.offset-md-11{margin-left:91.666667%}}@media(min-width: 992px){.col-lg{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-lg-1>*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-lg-2>*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-lg-3>*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-lg-4>*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-lg-5>*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-lg-6>*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-lg-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-lg-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-lg-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-lg-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-lg-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-lg-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-lg-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-lg-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-lg-first{-ms-flex-order:-1;order:-1}.order-lg-last{-ms-flex-order:13;order:13}.order-lg-0{-ms-flex-order:0;order:0}.order-lg-1{-ms-flex-order:1;order:1}.order-lg-2{-ms-flex-order:2;order:2}.order-lg-3{-ms-flex-order:3;order:3}.order-lg-4{-ms-flex-order:4;order:4}.order-lg-5{-ms-flex-order:5;order:5}.order-lg-6{-ms-flex-order:6;order:6}.order-lg-7{-ms-flex-order:7;order:7}.order-lg-8{-ms-flex-order:8;order:8}.order-lg-9{-ms-flex-order:9;order:9}.order-lg-10{-ms-flex-order:10;order:10}.order-lg-11{-ms-flex-order:11;order:11}.order-lg-12{-ms-flex-order:12;order:12}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.333333%}.offset-lg-2{margin-left:16.666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.333333%}.offset-lg-5{margin-left:41.666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.333333%}.offset-lg-8{margin-left:66.666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.333333%}.offset-lg-11{margin-left:91.666667%}}@media(min-width: 1200px){.col-xl{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.row-cols-xl-1>*{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.row-cols-xl-2>*{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.row-cols-xl-3>*{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.row-cols-xl-4>*{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.row-cols-xl-5>*{-ms-flex:0 0 20%;flex:0 0 20%;max-width:20%}.row-cols-xl-6>*{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-auto{-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{-ms-flex:0 0 8.333333%;flex:0 0 8.333333%;max-width:8.333333%}.col-xl-2{-ms-flex:0 0 16.666667%;flex:0 0 16.666667%;max-width:16.666667%}.col-xl-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-xl-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-xl-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-xl-6{-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.col-xl-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}.col-xl-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}.col-xl-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.col-xl-10{-ms-flex:0 0 83.333333%;flex:0 0 83.333333%;max-width:83.333333%}.col-xl-11{-ms-flex:0 0 91.666667%;flex:0 0 91.666667%;max-width:91.666667%}.col-xl-12{-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.order-xl-first{-ms-flex-order:-1;order:-1}.order-xl-last{-ms-flex-order:13;order:13}.order-xl-0{-ms-flex-order:0;order:0}.order-xl-1{-ms-flex-order:1;order:1}.order-xl-2{-ms-flex-order:2;order:2}.order-xl-3{-ms-flex-order:3;order:3}.order-xl-4{-ms-flex-order:4;order:4}.order-xl-5{-ms-flex-order:5;order:5}.order-xl-6{-ms-flex-order:6;order:6}.order-xl-7{-ms-flex-order:7;order:7}.order-xl-8{-ms-flex-order:8;order:8}.order-xl-9{-ms-flex-order:9;order:9}.order-xl-10{-ms-flex-order:10;order:10}.order-xl-11{-ms-flex-order:11;order:11}.order-xl-12{-ms-flex-order:12;order:12}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.333333%}.offset-xl-2{margin-left:16.666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.333333%}.offset-xl-5{margin-left:41.666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.333333%}.offset-xl-8{margin-left:66.666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.333333%}.offset-xl-11{margin-left:91.666667%}}.table{width:100%;margin-bottom:1rem;color:#212529}.table td,.table th{padding:.75rem;vertical-align:top;border-top:1px solid #dee2e6}.table thead th{vertical-align:bottom;border-bottom:2px solid #dee2e6}.table tbody+tbody{border-top:2px solid #dee2e6}.table-sm td,.table-sm th{padding:.3rem}.table-bordered{border:1px solid #dee2e6}.table-bordered td,.table-bordered th{border:1px solid #dee2e6}.table-bordered thead td,.table-bordered thead th{border-bottom-width:2px}.table-borderless tbody+tbody,.table-borderless td,.table-borderless th,.table-borderless thead th{border:0}.table-striped tbody tr:nth-of-type(odd){background-color:rgba(0,0,0,.05)}.table-hover tbody tr:hover{color:#212529;background-color:rgba(0,0,0,.075)}.table-primary,.table-primary>td,.table-primary>th{background-color:#b8daff}.table-primary tbody+tbody,.table-primary td,.table-primary th,.table-primary thead th{border-color:#7abaff}.table-hover .table-primary:hover{background-color:#9fcdff}.table-hover .table-primary:hover>td,.table-hover .table-primary:hover>th{background-color:#9fcdff}.table-secondary,.table-secondary>td,.table-secondary>th{background-color:#d6d8db}.table-secondary tbody+tbody,.table-secondary td,.table-secondary th,.table-secondary thead th{border-color:#b3b7bb}.table-hover .table-secondary:hover{background-color:#c8cbcf}.table-hover .table-secondary:hover>td,.table-hover .table-secondary:hover>th{background-color:#c8cbcf}.table-success,.table-success>td,.table-success>th{background-color:#c3e6cb}.table-success tbody+tbody,.table-success td,.table-success th,.table-success thead th{border-color:#8fd19e}.table-hover .table-success:hover{background-color:#b1dfbb}.table-hover .table-success:hover>td,.table-hover .table-success:hover>th{background-color:#b1dfbb}.table-info,.table-info>td,.table-info>th{background-color:#bee5eb}.table-info tbody+tbody,.table-info td,.table-info th,.table-info thead th{border-color:#86cfda}.table-hover .table-info:hover{background-color:#abdde5}.table-hover .table-info:hover>td,.table-hover .table-info:hover>th{background-color:#abdde5}.table-warning,.table-warning>td,.table-warning>th{background-color:#ffeeba}.table-warning tbody+tbody,.table-warning td,.table-warning th,.table-warning thead th{border-color:#ffdf7e}.table-hover .table-warning:hover{background-color:#ffe8a1}.table-hover .table-warning:hover>td,.table-hover .table-warning:hover>th{background-color:#ffe8a1}.table-danger,.table-danger>td,.table-danger>th{background-color:#f5c6cb}.table-danger tbody+tbody,.table-danger td,.table-danger th,.table-danger thead th{border-color:#ed969e}.table-hover .table-danger:hover{background-color:#f1b0b7}.table-hover .table-danger:hover>td,.table-hover .table-danger:hover>th{background-color:#f1b0b7}.table-light,.table-light>td,.table-light>th{background-color:#fdfdfe}.table-light tbody+tbody,.table-light td,.table-light th,.table-light thead th{border-color:#fbfcfc}.table-hover .table-light:hover{background-color:#ececf6}.table-hover .table-light:hover>td,.table-hover .table-light:hover>th{background-color:#ececf6}.table-dark,.table-dark>td,.table-dark>th{background-color:#c6c8ca}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#95999c}.table-hover .table-dark:hover{background-color:#b9bbbe}.table-hover .table-dark:hover>td,.table-hover .table-dark:hover>th{background-color:#b9bbbe}.table-active,.table-active>td,.table-active>th{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover{background-color:rgba(0,0,0,.075)}.table-hover .table-active:hover>td,.table-hover .table-active:hover>th{background-color:rgba(0,0,0,.075)}.table .thead-dark th{color:#fff;background-color:#343a40;border-color:#454d55}.table .thead-light th{color:#495057;background-color:#e9ecef;border-color:#dee2e6}.table-dark{color:#fff;background-color:#343a40}.table-dark td,.table-dark th,.table-dark thead th{border-color:#454d55}.table-dark.table-bordered{border:0}.table-dark.table-striped tbody tr:nth-of-type(odd){background-color:rgba(255,255,255,.05)}.table-dark.table-hover tbody tr:hover{color:#fff;background-color:rgba(255,255,255,.075)}@media(max-width: 575.98px){.table-responsive-sm{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-sm>.table-bordered{border:0}}@media(max-width: 767.98px){.table-responsive-md{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-md>.table-bordered{border:0}}@media(max-width: 991.98px){.table-responsive-lg{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-lg>.table-bordered{border:0}}@media(max-width: 1199.98px){.table-responsive-xl{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive-xl>.table-bordered{border:0}}.table-responsive{display:block;width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.table-responsive>.table-bordered{border:0}.form-control{display:block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion: reduce){.form-control{transition:none}}.form-control::-ms-expand{background-color:rgba(0,0,0,0);border:0}.form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.form-control::-webkit-input-placeholder{color:#6c757d;opacity:1}.form-control::-moz-placeholder{color:#6c757d;opacity:1}.form-control:-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::-ms-input-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}input[type=date].form-control,input[type=datetime-local].form-control,input[type=month].form-control,input[type=time].form-control{-webkit-appearance:none;-moz-appearance:none;appearance:none}select.form-control:-moz-focusring{color:rgba(0,0,0,0);text-shadow:0 0 0 #495057}select.form-control:focus::-ms-value{color:#495057;background-color:#fff}.form-control-file,.form-control-range{display:block;width:100%}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem;line-height:1.5}.col-form-label-sm{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem;line-height:1.5}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;font-size:1rem;line-height:1.5;color:#212529;background-color:rgba(0,0,0,0);border:solid rgba(0,0,0,0);border-width:1px 0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.form-control-lg{height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}select.form-control[multiple],select.form-control[size]{height:auto}textarea.form-control{height:auto}.form-group{margin-bottom:1rem}.form-text{display:block;margin-top:.25rem}.form-row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-5px;margin-left:-5px}.form-row>.col,.form-row>[class*=col-]{padding-right:5px;padding-left:5px}.form-check{position:relative;display:block;padding-left:1.25rem}.form-check-input{position:absolute;margin-top:.3rem;margin-left:-1.25rem}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{color:#6c757d}.form-check-label{margin-bottom:0}.form-check-inline{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#28a745}.valid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;line-height:1.5;color:#fff;background-color:rgba(40,167,69,.9);border-radius:.25rem}.form-row>.col>.valid-tooltip,.form-row>[class*=col-]>.valid-tooltip{left:5px}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:#28a745;padding-right:calc(1.5em + .75rem) !important;background-image:url(${T});background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.was-validated select.form-control:valid,select.form-control.is-valid{padding-right:3rem !important;background-position:right 1.5rem center}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.custom-select.is-valid,.was-validated .custom-select:valid{border-color:#28a745;padding-right:calc(.75em + 2.3125rem) !important;background:url(${_}) right .75rem center/8px 10px no-repeat,#fff url(${T}) center right 1.75rem/calc(0.75em + 0.375rem) calc(.75em + .375rem) no-repeat}.custom-select.is-valid:focus,.was-validated .custom-select:valid:focus{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:#28a745}.form-check-input.is-valid~.valid-feedback,.form-check-input.is-valid~.valid-tooltip,.was-validated .form-check-input:valid~.valid-feedback,.was-validated .form-check-input:valid~.valid-tooltip{display:block}.custom-control-input.is-valid~.custom-control-label,.was-validated .custom-control-input:valid~.custom-control-label{color:#28a745}.custom-control-input.is-valid~.custom-control-label::before,.was-validated .custom-control-input:valid~.custom-control-label::before{border-color:#28a745}.custom-control-input.is-valid:checked~.custom-control-label::before,.was-validated .custom-control-input:valid:checked~.custom-control-label::before{border-color:#34ce57;background-color:#34ce57}.custom-control-input.is-valid:focus~.custom-control-label::before,.was-validated .custom-control-input:valid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.custom-control-input.is-valid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:valid:focus:not(:checked)~.custom-control-label::before{border-color:#28a745}.custom-file-input.is-valid~.custom-file-label,.was-validated .custom-file-input:valid~.custom-file-label{border-color:#28a745}.custom-file-input.is-valid:focus~.custom-file-label,.was-validated .custom-file-input:valid:focus~.custom-file-label{border-color:#28a745;box-shadow:0 0 0 .2rem rgba(40,167,69,.25)}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip{position:absolute;top:100%;left:0;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;line-height:1.5;color:#fff;background-color:rgba(220,53,69,.9);border-radius:.25rem}.form-row>.col>.invalid-tooltip,.form-row>[class*=col-]>.invalid-tooltip{left:5px}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:#dc3545;padding-right:calc(1.5em + .75rem) !important;background-image:url(${E});background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.was-validated select.form-control:invalid,select.form-control.is-invalid{padding-right:3rem !important;background-position:right 1.5rem center}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.custom-select.is-invalid,.was-validated .custom-select:invalid{border-color:#dc3545;padding-right:calc(.75em + 2.3125rem) !important;background:url(${_}) right .75rem center/8px 10px no-repeat,#fff url(${E}) center right 1.75rem/calc(0.75em + 0.375rem) calc(.75em + .375rem) no-repeat}.custom-select.is-invalid:focus,.was-validated .custom-select:invalid:focus{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:#dc3545}.form-check-input.is-invalid~.invalid-feedback,.form-check-input.is-invalid~.invalid-tooltip,.was-validated .form-check-input:invalid~.invalid-feedback,.was-validated .form-check-input:invalid~.invalid-tooltip{display:block}.custom-control-input.is-invalid~.custom-control-label,.was-validated .custom-control-input:invalid~.custom-control-label{color:#dc3545}.custom-control-input.is-invalid~.custom-control-label::before,.was-validated .custom-control-input:invalid~.custom-control-label::before{border-color:#dc3545}.custom-control-input.is-invalid:checked~.custom-control-label::before,.was-validated .custom-control-input:invalid:checked~.custom-control-label::before{border-color:#e4606d;background-color:#e4606d}.custom-control-input.is-invalid:focus~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.custom-control-input.is-invalid:focus:not(:checked)~.custom-control-label::before,.was-validated .custom-control-input:invalid:focus:not(:checked)~.custom-control-label::before{border-color:#dc3545}.custom-file-input.is-invalid~.custom-file-label,.was-validated .custom-file-input:invalid~.custom-file-label{border-color:#dc3545}.custom-file-input.is-invalid:focus~.custom-file-label,.was-validated .custom-file-input:invalid:focus~.custom-file-label{border-color:#dc3545;box-shadow:0 0 0 .2rem rgba(220,53,69,.25)}.form-inline{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center}.form-inline .form-check{width:100%}@media(min-width: 576px){.form-inline label{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;margin-bottom:0}.form-inline .form-group{display:-ms-flexbox;display:flex;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex-align:center;align-items:center;margin-bottom:0}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-plaintext{display:inline-block}.form-inline .custom-select,.form-inline .input-group{width:auto}.form-inline .form-check{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-left:0}.form-inline .form-check-input{position:relative;-ms-flex-negative:0;flex-shrink:0;margin-top:0;margin-right:.25rem;margin-left:0}.form-inline .custom-control{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.form-inline .custom-control-label{margin-bottom:0}}.btn{display:inline-block;font-weight:400;color:#212529;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion: reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn.disabled,.btn:disabled{opacity:.65}.btn:not(:disabled):not(.disabled){cursor:pointer}a.btn.disabled,fieldset:disabled a.btn{pointer-events:none}.btn-primary{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:hover{color:#fff;background-color:#0069d9;border-color:#0062cc}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#0069d9;border-color:#0062cc;box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-primary.disabled,.btn-primary:disabled{color:#fff;background-color:#007bff;border-color:#007bff}.btn-primary:not(:disabled):not(.disabled).active,.btn-primary:not(:disabled):not(.disabled):active,.show>.btn-primary.dropdown-toggle{color:#fff;background-color:#0062cc;border-color:#005cbf}.btn-primary:not(:disabled):not(.disabled).active:focus,.btn-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(38,143,255,.5)}.btn-secondary{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:hover{color:#fff;background-color:#5a6268;border-color:#545b62}.btn-secondary.focus,.btn-secondary:focus{color:#fff;background-color:#5a6268;border-color:#545b62;box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-secondary.disabled,.btn-secondary:disabled{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary:not(:disabled):not(.disabled).active,.btn-secondary:not(:disabled):not(.disabled):active,.show>.btn-secondary.dropdown-toggle{color:#fff;background-color:#545b62;border-color:#4e555b}.btn-secondary:not(:disabled):not(.disabled).active:focus,.btn-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(130,138,145,.5)}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:hover{color:#fff;background-color:#218838;border-color:#1e7e34}.btn-success.focus,.btn-success:focus{color:#fff;background-color:#218838;border-color:#1e7e34;box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-success.disabled,.btn-success:disabled{color:#fff;background-color:#28a745;border-color:#28a745}.btn-success:not(:disabled):not(.disabled).active,.btn-success:not(:disabled):not(.disabled):active,.show>.btn-success.dropdown-toggle{color:#fff;background-color:#1e7e34;border-color:#1c7430}.btn-success:not(:disabled):not(.disabled).active:focus,.btn-success:not(:disabled):not(.disabled):active:focus,.show>.btn-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(72,180,97,.5)}.btn-info{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:hover{color:#fff;background-color:#138496;border-color:#117a8b}.btn-info.focus,.btn-info:focus{color:#fff;background-color:#138496;border-color:#117a8b;box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-info.disabled,.btn-info:disabled{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-info:not(:disabled):not(.disabled).active,.btn-info:not(:disabled):not(.disabled):active,.show>.btn-info.dropdown-toggle{color:#fff;background-color:#117a8b;border-color:#10707f}.btn-info:not(:disabled):not(.disabled).active:focus,.btn-info:not(:disabled):not(.disabled):active:focus,.show>.btn-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(58,176,195,.5)}.btn-warning{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:hover{color:#212529;background-color:#e0a800;border-color:#d39e00}.btn-warning.focus,.btn-warning:focus{color:#212529;background-color:#e0a800;border-color:#d39e00;box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-warning.disabled,.btn-warning:disabled{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-warning:not(:disabled):not(.disabled).active,.btn-warning:not(:disabled):not(.disabled):active,.show>.btn-warning.dropdown-toggle{color:#212529;background-color:#d39e00;border-color:#c69500}.btn-warning:not(:disabled):not(.disabled).active:focus,.btn-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(222,170,12,.5)}.btn-danger{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:hover{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-danger.focus,.btn-danger:focus{color:#fff;background-color:#c82333;border-color:#bd2130;box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-danger.disabled,.btn-danger:disabled{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger:not(:disabled):not(.disabled).active,.btn-danger:not(:disabled):not(.disabled):active,.show>.btn-danger.dropdown-toggle{color:#fff;background-color:#bd2130;border-color:#b21f2d}.btn-danger:not(:disabled):not(.disabled).active:focus,.btn-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(225,83,97,.5)}.btn-light{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:hover{color:#212529;background-color:#e2e6ea;border-color:#dae0e5}.btn-light.focus,.btn-light:focus{color:#212529;background-color:#e2e6ea;border-color:#dae0e5;box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-light.disabled,.btn-light:disabled{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light:not(:disabled):not(.disabled).active,.btn-light:not(:disabled):not(.disabled):active,.show>.btn-light.dropdown-toggle{color:#212529;background-color:#dae0e5;border-color:#d3d9df}.btn-light:not(:disabled):not(.disabled).active:focus,.btn-light:not(:disabled):not(.disabled):active:focus,.show>.btn-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(216,217,219,.5)}.btn-dark{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:hover{color:#fff;background-color:#23272b;border-color:#1d2124}.btn-dark.focus,.btn-dark:focus{color:#fff;background-color:#23272b;border-color:#1d2124;box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-dark.disabled,.btn-dark:disabled{color:#fff;background-color:#343a40;border-color:#343a40}.btn-dark:not(:disabled):not(.disabled).active,.btn-dark:not(:disabled):not(.disabled):active,.show>.btn-dark.dropdown-toggle{color:#fff;background-color:#1d2124;border-color:#171a1d}.btn-dark:not(:disabled):not(.disabled).active:focus,.btn-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(82,88,93,.5)}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:rgba(0,0,0,0)}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-secondary{color:#6c757d;border-color:#6c757d}.btn-outline-secondary:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary.focus,.btn-outline-secondary:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-secondary.disabled,.btn-outline-secondary:disabled{color:#6c757d;background-color:rgba(0,0,0,0)}.btn-outline-secondary:not(:disabled):not(.disabled).active,.btn-outline-secondary:not(:disabled):not(.disabled):active,.show>.btn-outline-secondary.dropdown-toggle{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-outline-secondary:not(:disabled):not(.disabled).active:focus,.btn-outline-secondary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-secondary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.btn-outline-success{color:#28a745;border-color:#28a745}.btn-outline-success:hover{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success.focus,.btn-outline-success:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-success.disabled,.btn-outline-success:disabled{color:#28a745;background-color:rgba(0,0,0,0)}.btn-outline-success:not(:disabled):not(.disabled).active,.btn-outline-success:not(:disabled):not(.disabled):active,.show>.btn-outline-success.dropdown-toggle{color:#fff;background-color:#28a745;border-color:#28a745}.btn-outline-success:not(:disabled):not(.disabled).active:focus,.btn-outline-success:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-success.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.btn-outline-info{color:#17a2b8;border-color:#17a2b8}.btn-outline-info:hover{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info.focus,.btn-outline-info:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-info.disabled,.btn-outline-info:disabled{color:#17a2b8;background-color:rgba(0,0,0,0)}.btn-outline-info:not(:disabled):not(.disabled).active,.btn-outline-info:not(:disabled):not(.disabled):active,.show>.btn-outline-info.dropdown-toggle{color:#fff;background-color:#17a2b8;border-color:#17a2b8}.btn-outline-info:not(:disabled):not(.disabled).active:focus,.btn-outline-info:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-info.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.btn-outline-warning{color:#ffc107;border-color:#ffc107}.btn-outline-warning:hover{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning.focus,.btn-outline-warning:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-warning.disabled,.btn-outline-warning:disabled{color:#ffc107;background-color:rgba(0,0,0,0)}.btn-outline-warning:not(:disabled):not(.disabled).active,.btn-outline-warning:not(:disabled):not(.disabled):active,.show>.btn-outline-warning.dropdown-toggle{color:#212529;background-color:#ffc107;border-color:#ffc107}.btn-outline-warning:not(:disabled):not(.disabled).active:focus,.btn-outline-warning:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-warning.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.btn-outline-danger{color:#dc3545;border-color:#dc3545}.btn-outline-danger:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger.focus,.btn-outline-danger:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-danger.disabled,.btn-outline-danger:disabled{color:#dc3545;background-color:rgba(0,0,0,0)}.btn-outline-danger:not(:disabled):not(.disabled).active,.btn-outline-danger:not(:disabled):not(.disabled):active,.show>.btn-outline-danger.dropdown-toggle{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-outline-danger:not(:disabled):not(.disabled).active:focus,.btn-outline-danger:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-danger.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.btn-outline-light{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:hover{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light.focus,.btn-outline-light:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-light.disabled,.btn-outline-light:disabled{color:#f8f9fa;background-color:rgba(0,0,0,0)}.btn-outline-light:not(:disabled):not(.disabled).active,.btn-outline-light:not(:disabled):not(.disabled):active,.show>.btn-outline-light.dropdown-toggle{color:#212529;background-color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light:not(:disabled):not(.disabled).active:focus,.btn-outline-light:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-light.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.btn-outline-dark{color:#343a40;border-color:#343a40}.btn-outline-dark:hover{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark.focus,.btn-outline-dark:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-outline-dark.disabled,.btn-outline-dark:disabled{color:#343a40;background-color:rgba(0,0,0,0)}.btn-outline-dark:not(:disabled):not(.disabled).active,.btn-outline-dark:not(:disabled):not(.disabled):active,.show>.btn-outline-dark.dropdown-toggle{color:#fff;background-color:#343a40;border-color:#343a40}.btn-outline-dark:not(:disabled):not(.disabled).active:focus,.btn-outline-dark:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-dark.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.btn-link{font-weight:400;color:#007bff;text-decoration:none}.btn-link:hover{color:#0056b3;text-decoration:underline}.btn-link.focus,.btn-link:focus{text-decoration:underline}.btn-link.disabled,.btn-link:disabled{color:#6c757d;pointer-events:none}.btn-group-lg>.btn,.btn-lg{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.btn-group-sm>.btn,.btn-sm{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:.5rem}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{transition:opacity .15s linear}@media(prefers-reduced-motion: reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{position:relative;height:0;overflow:hidden;transition:height .35s ease}@media(prefers-reduced-motion: reduce){.collapsing{transition:none}}.collapsing.width{width:0;height:auto;transition:width .35s ease}@media(prefers-reduced-motion: reduce){.collapsing.width{transition:none}}.dropdown,.dropleft,.dropright,.dropup{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid rgba(0,0,0,0);border-bottom:0;border-left:.3em solid rgba(0,0,0,0)}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu-left{right:auto;left:0}.dropdown-menu-right{right:0;left:auto}@media(min-width: 576px){.dropdown-menu-sm-left{right:auto;left:0}.dropdown-menu-sm-right{right:0;left:auto}}@media(min-width: 768px){.dropdown-menu-md-left{right:auto;left:0}.dropdown-menu-md-right{right:0;left:auto}}@media(min-width: 992px){.dropdown-menu-lg-left{right:auto;left:0}.dropdown-menu-lg-right{right:0;left:auto}}@media(min-width: 1200px){.dropdown-menu-xl-left{right:auto;left:0}.dropdown-menu-xl-right{right:0;left:auto}}.dropup .dropdown-menu{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid rgba(0,0,0,0);border-bottom:.3em solid;border-left:.3em solid rgba(0,0,0,0)}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-menu{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropright .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid rgba(0,0,0,0);border-right:0;border-bottom:.3em solid rgba(0,0,0,0);border-left:.3em solid}.dropright .dropdown-toggle:empty::after{margin-left:0}.dropright .dropdown-toggle::after{vertical-align:0}.dropleft .dropdown-menu{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropleft .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropleft .dropdown-toggle::after{display:none}.dropleft .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid rgba(0,0,0,0);border-right:.3em solid;border-bottom:.3em solid rgba(0,0,0,0)}.dropleft .dropdown-toggle:empty::after{margin-left:0}.dropleft .dropdown-toggle::before{vertical-align:0}.dropdown-menu[x-placement^=bottom],.dropdown-menu[x-placement^=left],.dropdown-menu[x-placement^=right],.dropdown-menu[x-placement^=top]{right:auto;bottom:auto}.dropdown-divider{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid #e9ecef}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:rgba(0,0,0,0);border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:rgba(0,0,0,0)}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:.5rem 1.5rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text{display:block;padding:.25rem 1.5rem;color:#212529}.btn-group,.btn-group-vertical{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;-ms-flex:1 1 auto;flex:1 1 auto}.btn-group-vertical>.btn:hover,.btn-group>.btn:hover{z-index:1}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus{z-index:1}.btn-toolbar{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:start;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group>.btn-group:not(:first-child),.btn-group>.btn:not(:first-child){margin-left:-1px}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropright .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropleft .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:center;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:-1px}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.btn-group-toggle>.btn,.btn-group-toggle>.btn-group>.btn{margin-bottom:0}.btn-group-toggle>.btn input[type=checkbox],.btn-group-toggle>.btn input[type=radio],.btn-group-toggle>.btn-group>.btn input[type=checkbox],.btn-group-toggle>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0, 0, 0, 0);pointer-events:none}.input-group{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:stretch;align-items:stretch;width:100%}.input-group>.custom-file,.input-group>.custom-select,.input-group>.form-control,.input-group>.form-control-plaintext{position:relative;-ms-flex:1 1 auto;flex:1 1 auto;width:1%;min-width:0;margin-bottom:0}.input-group>.custom-file+.custom-file,.input-group>.custom-file+.custom-select,.input-group>.custom-file+.form-control,.input-group>.custom-select+.custom-file,.input-group>.custom-select+.custom-select,.input-group>.custom-select+.form-control,.input-group>.form-control+.custom-file,.input-group>.form-control+.custom-select,.input-group>.form-control+.form-control,.input-group>.form-control-plaintext+.custom-file,.input-group>.form-control-plaintext+.custom-select,.input-group>.form-control-plaintext+.form-control{margin-left:-1px}.input-group>.custom-file .custom-file-input:focus~.custom-file-label,.input-group>.custom-select:focus,.input-group>.form-control:focus{z-index:3}.input-group>.custom-file .custom-file-input:focus{z-index:4}.input-group>.custom-select:not(:first-child),.input-group>.form-control:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.custom-file{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.input-group>.custom-file:not(:last-child) .custom-file-label,.input-group>.custom-file:not(:last-child) .custom-file-label::after{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.custom-file:not(:first-child) .custom-file-label{border-top-left-radius:0;border-bottom-left-radius:0}.input-group:not(.has-validation)>.custom-file:not(:last-child) .custom-file-label,.input-group:not(.has-validation)>.custom-file:not(:last-child) .custom-file-label::after,.input-group:not(.has-validation)>.custom-select:not(:last-child),.input-group:not(.has-validation)>.form-control:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.custom-file:nth-last-child(n+3) .custom-file-label,.input-group.has-validation>.custom-file:nth-last-child(n+3) .custom-file-label::after,.input-group.has-validation>.custom-select:nth-last-child(n+3),.input-group.has-validation>.form-control:nth-last-child(n+3){border-top-right-radius:0;border-bottom-right-radius:0}.input-group-append,.input-group-prepend{display:-ms-flexbox;display:flex}.input-group-append .btn,.input-group-prepend .btn{position:relative;z-index:2}.input-group-append .btn:focus,.input-group-prepend .btn:focus{z-index:3}.input-group-append .btn+.btn,.input-group-append .btn+.input-group-text,.input-group-append .input-group-text+.btn,.input-group-append .input-group-text+.input-group-text,.input-group-prepend .btn+.btn,.input-group-prepend .btn+.input-group-text,.input-group-prepend .input-group-text+.btn,.input-group-prepend .input-group-text+.input-group-text{margin-left:-1px}.input-group-prepend{margin-right:-1px}.input-group-append{margin-left:-1px}.input-group-text{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.375rem .75rem;margin-bottom:0;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-text input[type=checkbox],.input-group-text input[type=radio]{margin-top:0}.input-group-lg>.custom-select,.input-group-lg>.form-control:not(textarea){height:calc(1.5em + 1rem + 2px)}.input-group-lg>.custom-select,.input-group-lg>.form-control,.input-group-lg>.input-group-append>.btn,.input-group-lg>.input-group-append>.input-group-text,.input-group-lg>.input-group-prepend>.btn,.input-group-lg>.input-group-prepend>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.input-group-sm>.custom-select,.input-group-sm>.form-control:not(textarea){height:calc(1.5em + .5rem + 2px)}.input-group-sm>.custom-select,.input-group-sm>.form-control,.input-group-sm>.input-group-append>.btn,.input-group-sm>.input-group-append>.input-group-text,.input-group-sm>.input-group-prepend>.btn,.input-group-sm>.input-group-prepend>.input-group-text{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.input-group-lg>.custom-select,.input-group-sm>.custom-select{padding-right:1.75rem}.input-group.has-validation>.input-group-append:nth-last-child(n+3)>.btn,.input-group.has-validation>.input-group-append:nth-last-child(n+3)>.input-group-text,.input-group:not(.has-validation)>.input-group-append:not(:last-child)>.btn,.input-group:not(.has-validation)>.input-group-append:not(:last-child)>.input-group-text,.input-group>.input-group-append:last-child>.btn:not(:last-child):not(.dropdown-toggle),.input-group>.input-group-append:last-child>.input-group-text:not(:last-child),.input-group>.input-group-prepend>.btn,.input-group>.input-group-prepend>.input-group-text{border-top-right-radius:0;border-bottom-right-radius:0}.input-group>.input-group-append>.btn,.input-group>.input-group-append>.input-group-text,.input-group>.input-group-prepend:first-child>.btn:not(:first-child),.input-group>.input-group-prepend:first-child>.input-group-text:not(:first-child),.input-group>.input-group-prepend:not(:first-child)>.btn,.input-group>.input-group-prepend:not(:first-child)>.input-group-text{border-top-left-radius:0;border-bottom-left-radius:0}.custom-control{position:relative;z-index:1;display:block;min-height:1.5rem;padding-left:1.5rem;-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}.custom-control-inline{display:-ms-inline-flexbox;display:inline-flex;margin-right:1rem}.custom-control-input{position:absolute;left:0;z-index:-1;width:1rem;height:1.25rem;opacity:0}.custom-control-input:checked~.custom-control-label::before{color:#fff;border-color:#007bff;background-color:#007bff}.custom-control-input:focus~.custom-control-label::before{box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-control-input:focus:not(:checked)~.custom-control-label::before{border-color:#80bdff}.custom-control-input:not(:disabled):active~.custom-control-label::before{color:#fff;background-color:#b3d7ff;border-color:#b3d7ff}.custom-control-input:disabled~.custom-control-label,.custom-control-input[disabled]~.custom-control-label{color:#6c757d}.custom-control-input:disabled~.custom-control-label::before,.custom-control-input[disabled]~.custom-control-label::before{background-color:#e9ecef}.custom-control-label{position:relative;margin-bottom:0;vertical-align:top}.custom-control-label::before{position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;pointer-events:none;content:"";background-color:#fff;border:1px solid #adb5bd}.custom-control-label::after{position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:1rem;content:"";background:50%/50% 50% no-repeat}.custom-checkbox .custom-control-label::before{border-radius:.25rem}.custom-checkbox .custom-control-input:checked~.custom-control-label::after{background-image:url(${x})}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::before{border-color:#007bff;background-color:#007bff}.custom-checkbox .custom-control-input:indeterminate~.custom-control-label::after{background-image:url(${w})}.custom-checkbox .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-checkbox .custom-control-input:disabled:indeterminate~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-radio .custom-control-label::before{border-radius:50%}.custom-radio .custom-control-input:checked~.custom-control-label::after{background-image:url(${S})}.custom-radio .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-switch{padding-left:2.25rem}.custom-switch .custom-control-label::before{left:-2.25rem;width:1.75rem;pointer-events:all;border-radius:.5rem}.custom-switch .custom-control-label::after{top:calc(.25rem + 2px);left:calc(-2.25rem + 2px);width:calc(1rem - 4px);height:calc(1rem - 4px);background-color:#adb5bd;border-radius:.5rem;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-transform .15s ease-in-out;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:transform .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,-webkit-transform .15s ease-in-out}@media(prefers-reduced-motion: reduce){.custom-switch .custom-control-label::after{transition:none}}.custom-switch .custom-control-input:checked~.custom-control-label::after{background-color:#fff;-webkit-transform:translateX(0.75rem);transform:translateX(0.75rem)}.custom-switch .custom-control-input:disabled:checked~.custom-control-label::before{background-color:rgba(0,123,255,.5)}.custom-select{display:inline-block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem 1.75rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;vertical-align:middle;background:#fff url(${_}) right .75rem center/8px 10px no-repeat;border:1px solid #ced4da;border-radius:.25rem;-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-select:focus{border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-select:focus::-ms-value{color:#495057;background-color:#fff}.custom-select[multiple],.custom-select[size]:not([size="1"]){height:auto;padding-right:.75rem;background-image:none}.custom-select:disabled{color:#6c757d;background-color:#e9ecef}.custom-select::-ms-expand{display:none}.custom-select:-moz-focusring{color:rgba(0,0,0,0);text-shadow:0 0 0 #495057}.custom-select-sm{height:calc(1.5em + .5rem + 2px);padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.custom-select-lg{height:calc(1.5em + 1rem + 2px);padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.custom-file{position:relative;display:inline-block;width:100%;height:calc(1.5em + .75rem + 2px);margin-bottom:0}.custom-file-input{position:relative;z-index:2;width:100%;height:calc(1.5em + .75rem + 2px);margin:0;overflow:hidden;opacity:0}.custom-file-input:focus~.custom-file-label{border-color:#80bdff;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.custom-file-input:disabled~.custom-file-label,.custom-file-input[disabled]~.custom-file-label{background-color:#e9ecef}.custom-file-input:lang(en)~.custom-file-label::after{content:"Browse"}.custom-file-input~.custom-file-label[data-browse]::after{content:attr(data-browse)}.custom-file-label{position:absolute;top:0;right:0;left:0;z-index:1;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;overflow:hidden;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;border:1px solid #ced4da;border-radius:.25rem}.custom-file-label::after{position:absolute;top:0;right:0;bottom:0;z-index:3;display:block;height:calc(1.5em + .75rem);padding:.375rem .75rem;line-height:1.5;color:#495057;content:"Browse";background-color:#e9ecef;border-left:inherit;border-radius:0 .25rem .25rem 0}.custom-range{width:100%;height:1.4rem;padding:0;background-color:rgba(0,0,0,0);-webkit-appearance:none;-moz-appearance:none;appearance:none}.custom-range:focus{outline:0}.custom-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range:focus::-ms-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .2rem rgba(0,123,255,.25)}.custom-range::-moz-focus-outer{border:0}.custom-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-0.25rem;background-color:#007bff;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media(prefers-reduced-motion: reduce){.custom-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.custom-range::-webkit-slider-thumb:active{background-color:#b3d7ff}.custom-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:rgba(0,0,0,0);cursor:pointer;background-color:#dee2e6;border-color:rgba(0,0,0,0);border-radius:1rem}.custom-range::-moz-range-thumb{width:1rem;height:1rem;background-color:#007bff;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media(prefers-reduced-motion: reduce){.custom-range::-moz-range-thumb{-moz-transition:none;transition:none}}.custom-range::-moz-range-thumb:active{background-color:#b3d7ff}.custom-range::-moz-range-track{width:100%;height:.5rem;color:rgba(0,0,0,0);cursor:pointer;background-color:#dee2e6;border-color:rgba(0,0,0,0);border-radius:1rem}.custom-range::-ms-thumb{width:1rem;height:1rem;margin-top:0;margin-right:.2rem;margin-left:.2rem;background-color:#007bff;border:0;border-radius:1rem;-ms-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;appearance:none}@media(prefers-reduced-motion: reduce){.custom-range::-ms-thumb{-ms-transition:none;transition:none}}.custom-range::-ms-thumb:active{background-color:#b3d7ff}.custom-range::-ms-track{width:100%;height:.5rem;color:rgba(0,0,0,0);cursor:pointer;background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0);border-width:.5rem}.custom-range::-ms-fill-lower{background-color:#dee2e6;border-radius:1rem}.custom-range::-ms-fill-upper{margin-right:15px;background-color:#dee2e6;border-radius:1rem}.custom-range:disabled::-webkit-slider-thumb{background-color:#adb5bd}.custom-range:disabled::-webkit-slider-runnable-track{cursor:default}.custom-range:disabled::-moz-range-thumb{background-color:#adb5bd}.custom-range:disabled::-moz-range-track{cursor:default}.custom-range:disabled::-ms-thumb{background-color:#adb5bd}.custom-control-label::before,.custom-file-label,.custom-select{transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion: reduce){.custom-control-label::before,.custom-file-label,.custom-select{transition:none}}.nav{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.nav-link.disabled{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs{border-bottom:1px solid #dee2e6}.nav-tabs .nav-link{margin-bottom:-1px;background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{isolation:isolate;border-color:#e9ecef #e9ecef #dee2e6}.nav-tabs .nav-link.disabled{color:#6c757d;background-color:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills .nav-link{background:0 0;border:0;border-radius:.25rem}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:#fff;background-color:#007bff}.nav-fill .nav-item,.nav-fill>.nav-link{-ms-flex:1 1 auto;flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;text-align:center}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;padding:.5rem 1rem}.navbar .container,.navbar .container-fluid,.navbar .container-lg,.navbar .container-md,.navbar .container-sm,.navbar .container-xl{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-text{display:inline-block;padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse{-ms-flex-preferred-size:100%;flex-basis:100%;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);border-radius:.25rem}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:"";background:50%/100% 100% no-repeat}.navbar-nav-scroll{max-height:75vh;overflow-y:auto}@media(max-width: 575.98px){.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{padding-right:0;padding-left:0}}@media(min-width: 576px){.navbar-expand-sm{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-sm .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm>.container,.navbar-expand-sm>.container-fluid,.navbar-expand-sm>.container-lg,.navbar-expand-sm>.container-md,.navbar-expand-sm>.container-sm,.navbar-expand-sm>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:-ms-flexbox !important;display:flex !important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}}@media(max-width: 767.98px){.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{padding-right:0;padding-left:0}}@media(min-width: 768px){.navbar-expand-md{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-md .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container,.navbar-expand-md>.container-fluid,.navbar-expand-md>.container-lg,.navbar-expand-md>.container-md,.navbar-expand-md>.container-sm,.navbar-expand-md>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:-ms-flexbox !important;display:flex !important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}}@media(max-width: 991.98px){.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{padding-right:0;padding-left:0}}@media(min-width: 992px){.navbar-expand-lg{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-lg .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg>.container,.navbar-expand-lg>.container-fluid,.navbar-expand-lg>.container-lg,.navbar-expand-lg>.container-md,.navbar-expand-lg>.container-sm,.navbar-expand-lg>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:-ms-flexbox !important;display:flex !important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}}@media(max-width: 1199.98px){.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{padding-right:0;padding-left:0}}@media(min-width: 1200px){.navbar-expand-xl{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-xl .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl>.container,.navbar-expand-xl>.container-fluid,.navbar-expand-xl>.container-lg,.navbar-expand-xl>.container-md,.navbar-expand-xl>.container-sm,.navbar-expand-xl>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:-ms-flexbox !important;display:flex !important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}}.navbar-expand{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{padding-right:0;padding-left:0}.navbar-expand .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand>.container,.navbar-expand>.container-fluid,.navbar-expand>.container-lg,.navbar-expand>.container-md,.navbar-expand>.container-sm,.navbar-expand>.container-xl{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:-ms-flexbox !important;display:flex !important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-nav .nav-link.disabled{color:rgba(0,0,0,.3)}.navbar-light .navbar-nav .active>.nav-link,.navbar-light .navbar-nav .nav-link.active,.navbar-light .navbar-nav .nav-link.show,.navbar-light .navbar-nav .show>.nav-link{color:rgba(0,0,0,.9)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url(${A})}.navbar-light .navbar-text{color:rgba(0,0,0,.5)}.navbar-light .navbar-text a{color:rgba(0,0,0,.9)}.navbar-light .navbar-text a:focus,.navbar-light .navbar-text a:hover{color:rgba(0,0,0,.9)}.navbar-dark .navbar-brand{color:#fff}.navbar-dark .navbar-brand:focus,.navbar-dark .navbar-brand:hover{color:#fff}.navbar-dark .navbar-nav .nav-link{color:rgba(255,255,255,.5)}.navbar-dark .navbar-nav .nav-link:focus,.navbar-dark .navbar-nav .nav-link:hover{color:rgba(255,255,255,.75)}.navbar-dark .navbar-nav .nav-link.disabled{color:rgba(255,255,255,.25)}.navbar-dark .navbar-nav .active>.nav-link,.navbar-dark .navbar-nav .nav-link.active,.navbar-dark .navbar-nav .nav-link.show,.navbar-dark .navbar-nav .show>.nav-link{color:#fff}.navbar-dark .navbar-toggler{color:rgba(255,255,255,.5);border-color:rgba(255,255,255,.1)}.navbar-dark .navbar-toggler-icon{background-image:url(${k})}.navbar-dark .navbar-text{color:rgba(255,255,255,.5)}.navbar-dark .navbar-text a{color:#fff}.navbar-dark .navbar-text a:focus,.navbar-dark .navbar-text a:hover{color:#fff}.card{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{-ms-flex:1 1 auto;flex:1 1 auto;min-height:1px;padding:1.25rem}.card-title{margin-bottom:.75rem}.card-subtitle{margin-top:-0.375rem;margin-bottom:0}.card-text:last-child{margin-bottom:0}.card-link:hover{text-decoration:none}.card-link+.card-link{margin-left:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer{padding:.75rem 1.25rem;background-color:rgba(0,0,0,.03);border-top:1px solid rgba(0,0,0,.125)}.card-footer:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs{margin-right:-0.625rem;margin-bottom:-0.75rem;margin-left:-0.625rem;border-bottom:0}.card-header-pills{margin-right:-0.625rem;margin-left:-0.625rem}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:1.25rem;border-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom,.card-img-top{-ms-flex-negative:0;flex-shrink:0;width:100%}.card-img,.card-img-top{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img,.card-img-bottom{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-deck .card{margin-bottom:15px}@media(min-width: 576px){.card-deck{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;margin-right:-15px;margin-left:-15px}.card-deck .card{-ms-flex:1 0 0%;flex:1 0 0%;margin-right:15px;margin-bottom:0;margin-left:15px}}.card-group>.card{margin-bottom:15px}@media(min-width: 576px){.card-group{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap}.card-group>.card{-ms-flex:1 0 0%;flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.card-columns .card{margin-bottom:.75rem}@media(min-width: 576px){.card-columns{-webkit-column-count:3;-moz-column-count:3;column-count:3;-webkit-column-gap:1.25rem;-moz-column-gap:1.25rem;column-gap:1.25rem;orphans:1;widows:1}.card-columns .card{display:inline-block;width:100%}}.accordion{overflow-anchor:none}.accordion>.card{overflow:hidden}.accordion>.card:not(:last-of-type){border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.accordion>.card:not(:first-of-type){border-top-left-radius:0;border-top-right-radius:0}.accordion>.card>.card-header{border-radius:0;margin-bottom:-1px}.breadcrumb{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:.75rem 1rem;margin-bottom:1rem;list-style:none;background-color:#e9ecef;border-radius:.25rem}.breadcrumb-item+.breadcrumb-item{padding-left:.5rem}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:.5rem;color:#6c757d;content:"/"}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:underline}.breadcrumb-item+.breadcrumb-item:hover::before{text-decoration:none}.breadcrumb-item.active{color:#6c757d}.pagination{display:-ms-flexbox;display:flex;padding-left:0;list-style:none;border-radius:.25rem}.page-link{position:relative;display:block;padding:.5rem .75rem;margin-left:-1px;line-height:1.25;color:#007bff;background-color:#fff;border:1px solid #dee2e6}.page-link:hover{z-index:2;color:#0056b3;text-decoration:none;background-color:#e9ecef;border-color:#dee2e6}.page-link:focus{z-index:3;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.page-item:first-child .page-link{margin-left:0;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item:last-child .page-link{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.page-item.active .page-link{z-index:3;color:#fff;background-color:#007bff;border-color:#007bff}.page-item.disabled .page-link{color:#6c757d;pointer-events:none;cursor:auto;background-color:#fff;border-color:#dee2e6}.pagination-lg .page-link{padding:.75rem 1.5rem;font-size:1.25rem;line-height:1.5}.pagination-lg .page-item:first-child .page-link{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg .page-item:last-child .page-link{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm .page-link{padding:.25rem .5rem;font-size:.875rem;line-height:1.5}.pagination-sm .page-item:first-child .page-link{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm .page-item:last-child .page-link{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge{display:inline-block;padding:.25em .4em;font-size:75%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media(prefers-reduced-motion: reduce){.badge{transition:none}}a.badge:focus,a.badge:hover{text-decoration:none}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.badge-pill{padding-right:.6em;padding-left:.6em;border-radius:10rem}.badge-primary{color:#fff;background-color:#007bff}a.badge-primary:focus,a.badge-primary:hover{color:#fff;background-color:#0062cc}a.badge-primary.focus,a.badge-primary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.badge-secondary{color:#fff;background-color:#6c757d}a.badge-secondary:focus,a.badge-secondary:hover{color:#fff;background-color:#545b62}a.badge-secondary.focus,a.badge-secondary:focus{outline:0;box-shadow:0 0 0 .2rem rgba(108,117,125,.5)}.badge-success{color:#fff;background-color:#28a745}a.badge-success:focus,a.badge-success:hover{color:#fff;background-color:#1e7e34}a.badge-success.focus,a.badge-success:focus{outline:0;box-shadow:0 0 0 .2rem rgba(40,167,69,.5)}.badge-info{color:#fff;background-color:#17a2b8}a.badge-info:focus,a.badge-info:hover{color:#fff;background-color:#117a8b}a.badge-info.focus,a.badge-info:focus{outline:0;box-shadow:0 0 0 .2rem rgba(23,162,184,.5)}.badge-warning{color:#212529;background-color:#ffc107}a.badge-warning:focus,a.badge-warning:hover{color:#212529;background-color:#d39e00}a.badge-warning.focus,a.badge-warning:focus{outline:0;box-shadow:0 0 0 .2rem rgba(255,193,7,.5)}.badge-danger{color:#fff;background-color:#dc3545}a.badge-danger:focus,a.badge-danger:hover{color:#fff;background-color:#bd2130}a.badge-danger.focus,a.badge-danger:focus{outline:0;box-shadow:0 0 0 .2rem rgba(220,53,69,.5)}.badge-light{color:#212529;background-color:#f8f9fa}a.badge-light:focus,a.badge-light:hover{color:#212529;background-color:#dae0e5}a.badge-light.focus,a.badge-light:focus{outline:0;box-shadow:0 0 0 .2rem rgba(248,249,250,.5)}.badge-dark{color:#fff;background-color:#343a40}a.badge-dark:focus,a.badge-dark:hover{color:#fff;background-color:#1d2124}a.badge-dark.focus,a.badge-dark:focus{outline:0;box-shadow:0 0 0 .2rem rgba(52,58,64,.5)}.jumbotron{padding:2rem 1rem;margin-bottom:2rem;background-color:#e9ecef;border-radius:.3rem}@media(min-width: 576px){.jumbotron{padding:4rem 2rem}}.jumbotron-fluid{padding-right:0;padding-left:0;border-radius:0}.alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid rgba(0,0,0,0);border-radius:.25rem}.alert-heading{color:inherit}.alert-link{font-weight:700}.alert-dismissible{padding-right:4rem}.alert-dismissible .close{position:absolute;top:0;right:0;z-index:2;padding:.75rem 1.25rem;color:inherit}.alert-primary{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-primary hr{border-top-color:#9fcdff}.alert-primary .alert-link{color:#002752}.alert-secondary{color:#383d41;background-color:#e2e3e5;border-color:#d6d8db}.alert-secondary hr{border-top-color:#c8cbcf}.alert-secondary .alert-link{color:#202326}.alert-success{color:#155724;background-color:#d4edda;border-color:#c3e6cb}.alert-success hr{border-top-color:#b1dfbb}.alert-success .alert-link{color:#0b2e13}.alert-info{color:#0c5460;background-color:#d1ecf1;border-color:#bee5eb}.alert-info hr{border-top-color:#abdde5}.alert-info .alert-link{color:#062c33}.alert-warning{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-warning hr{border-top-color:#ffe8a1}.alert-warning .alert-link{color:#533f03}.alert-danger{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-danger hr{border-top-color:#f1b0b7}.alert-danger .alert-link{color:#491217}.alert-light{color:#818182;background-color:#fefefe;border-color:#fdfdfe}.alert-light hr{border-top-color:#ececf6}.alert-light .alert-link{color:#686868}.alert-dark{color:#1b1e21;background-color:#d6d8d9;border-color:#c6c8ca}.alert-dark hr{border-top-color:#b9bbbe}.alert-dark .alert-link{color:#040505}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}.progress{display:-ms-flexbox;display:flex;height:1rem;overflow:hidden;line-height:0;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#007bff;transition:width .6s ease}@media(prefers-reduced-motion: reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);background-size:1rem 1rem}.progress-bar-animated{-webkit-animation:1s linear infinite progress-bar-stripes;animation:1s linear infinite progress-bar-stripes}@media(prefers-reduced-motion: reduce){.progress-bar-animated{-webkit-animation:none;animation:none}}.media{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.media-body{-ms-flex:1;flex:1}.list-group{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:.25rem}.list-group-item-action{width:100%;color:#495057;text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action:active{color:#212529;background-color:#e9ecef}.list-group-item{position:relative;display:block;padding:.75rem 1.25rem;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active{z-index:2;color:#fff;background-color:#007bff;border-color:#007bff}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:-1px;border-top-width:1px}.list-group-horizontal{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}@media(min-width: 576px){.list-group-horizontal-sm{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media(min-width: 768px){.list-group-horizontal-md{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media(min-width: 992px){.list-group-horizontal-lg{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}@media(min-width: 1200px){.list-group-horizontal-xl{-ms-flex-direction:row;flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:-1px;border-left-width:1px}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 1px}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{color:#004085;background-color:#b8daff}.list-group-item-primary.list-group-item-action:focus,.list-group-item-primary.list-group-item-action:hover{color:#004085;background-color:#9fcdff}.list-group-item-primary.list-group-item-action.active{color:#fff;background-color:#004085;border-color:#004085}.list-group-item-secondary{color:#383d41;background-color:#d6d8db}.list-group-item-secondary.list-group-item-action:focus,.list-group-item-secondary.list-group-item-action:hover{color:#383d41;background-color:#c8cbcf}.list-group-item-secondary.list-group-item-action.active{color:#fff;background-color:#383d41;border-color:#383d41}.list-group-item-success{color:#155724;background-color:#c3e6cb}.list-group-item-success.list-group-item-action:focus,.list-group-item-success.list-group-item-action:hover{color:#155724;background-color:#b1dfbb}.list-group-item-success.list-group-item-action.active{color:#fff;background-color:#155724;border-color:#155724}.list-group-item-info{color:#0c5460;background-color:#bee5eb}.list-group-item-info.list-group-item-action:focus,.list-group-item-info.list-group-item-action:hover{color:#0c5460;background-color:#abdde5}.list-group-item-info.list-group-item-action.active{color:#fff;background-color:#0c5460;border-color:#0c5460}.list-group-item-warning{color:#856404;background-color:#ffeeba}.list-group-item-warning.list-group-item-action:focus,.list-group-item-warning.list-group-item-action:hover{color:#856404;background-color:#ffe8a1}.list-group-item-warning.list-group-item-action.active{color:#fff;background-color:#856404;border-color:#856404}.list-group-item-danger{color:#721c24;background-color:#f5c6cb}.list-group-item-danger.list-group-item-action:focus,.list-group-item-danger.list-group-item-action:hover{color:#721c24;background-color:#f1b0b7}.list-group-item-danger.list-group-item-action.active{color:#fff;background-color:#721c24;border-color:#721c24}.list-group-item-light{color:#818182;background-color:#fdfdfe}.list-group-item-light.list-group-item-action:focus,.list-group-item-light.list-group-item-action:hover{color:#818182;background-color:#ececf6}.list-group-item-light.list-group-item-action.active{color:#fff;background-color:#818182;border-color:#818182}.list-group-item-dark{color:#1b1e21;background-color:#c6c8ca}.list-group-item-dark.list-group-item-action:focus,.list-group-item-dark.list-group-item-action:hover{color:#1b1e21;background-color:#b9bbbe}.list-group-item-dark.list-group-item-action.active{color:#fff;background-color:#1b1e21;border-color:#1b1e21}.close{float:right;font-size:1.5rem;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.5}.close:hover{color:#000;text-decoration:none}.close:not(:disabled):not(.disabled):focus,.close:not(:disabled):not(.disabled):hover{opacity:.75}button.close{padding:0;background-color:rgba(0,0,0,0);border:0}a.close.disabled{pointer-events:none}.toast{-ms-flex-preferred-size:350px;flex-basis:350px;max-width:350px;font-size:.875rem;background-color:rgba(255,255,255,.85);background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .25rem .75rem rgba(0,0,0,.1);opacity:0;border-radius:.25rem}.toast:not(:last-child){margin-bottom:.75rem}.toast.showing{opacity:1}.toast.show{display:block;opacity:1}.toast.hide{display:none}.toast-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;padding:.25rem .75rem;color:#6c757d;background-color:rgba(255,255,255,.85);background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-body{padding:.75rem}.modal-open{overflow:hidden}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal{position:fixed;top:0;left:0;z-index:1050;display:none;width:100%;height:100%;overflow:hidden;outline:0}.modal-dialog{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade .modal-dialog{transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out;-webkit-transform:translate(0, -50px);transform:translate(0, -50px)}@media(prefers-reduced-motion: reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{-webkit-transform:none;transform:none}.modal.modal-static .modal-dialog{-webkit-transform:scale(1.02);transform:scale(1.02)}.modal-dialog-scrollable{display:-ms-flexbox;display:flex;max-height:calc(100% - 1rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 1rem);overflow:hidden}.modal-dialog-scrollable .modal-footer,.modal-dialog-scrollable .modal-header{-ms-flex-negative:0;flex-shrink:0}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;min-height:calc(100% - 1rem)}.modal-dialog-centered::before{display:block;height:calc(100vh - 1rem);height:-webkit-min-content;height:-moz-min-content;height:min-content;content:""}.modal-dialog-centered.modal-dialog-scrollable{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;height:100%}.modal-dialog-centered.modal-dialog-scrollable .modal-content{max-height:none}.modal-dialog-centered.modal-dialog-scrollable::before{content:none}.modal-content{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:.5}.modal-header{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;-ms-flex-pack:justify;justify-content:space-between;padding:1rem 1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header .close{padding:1rem 1rem;margin:-1rem -1rem -1rem auto}.modal-title{margin-bottom:0;line-height:1.5}.modal-body{position:relative;-ms-flex:1 1 auto;flex:1 1 auto;padding:1rem}.modal-footer{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:end;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer>*{margin:.25rem}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media(min-width: 576px){.modal-dialog{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable{max-height:calc(100% - 3.5rem)}.modal-dialog-scrollable .modal-content{max-height:calc(100vh - 3.5rem)}.modal-dialog-centered{min-height:calc(100% - 3.5rem)}.modal-dialog-centered::before{height:calc(100vh - 3.5rem);height:-webkit-min-content;height:-moz-min-content;height:min-content}.modal-sm{max-width:300px}}@media(min-width: 992px){.modal-lg,.modal-xl{max-width:800px}}@media(min-width: 1200px){.modal-xl{max-width:1140px}}.tooltip{position:absolute;z-index:1070;display:block;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show{opacity:.9}.tooltip .arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip .arrow::before{position:absolute;content:"";border-color:rgba(0,0,0,0);border-style:solid}.bs-tooltip-auto[x-placement^=top],.bs-tooltip-top{padding:.4rem 0}.bs-tooltip-auto[x-placement^=top] .arrow,.bs-tooltip-top .arrow{bottom:0}.bs-tooltip-auto[x-placement^=top] .arrow::before,.bs-tooltip-top .arrow::before{top:0;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-auto[x-placement^=right],.bs-tooltip-right{padding:0 .4rem}.bs-tooltip-auto[x-placement^=right] .arrow,.bs-tooltip-right .arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=right] .arrow::before,.bs-tooltip-right .arrow::before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-auto[x-placement^=bottom],.bs-tooltip-bottom{padding:.4rem 0}.bs-tooltip-auto[x-placement^=bottom] .arrow,.bs-tooltip-bottom .arrow{top:0}.bs-tooltip-auto[x-placement^=bottom] .arrow::before,.bs-tooltip-bottom .arrow::before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-auto[x-placement^=left],.bs-tooltip-left{padding:0 .4rem}.bs-tooltip-auto[x-placement^=left] .arrow,.bs-tooltip-left .arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-auto[x-placement^=left] .arrow::before,.bs-tooltip-left .arrow::before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover{position:absolute;top:0;left:0;z-index:1060;display:block;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover .arrow{position:absolute;display:block;width:1rem;height:.5rem;margin:0 .3rem}.popover .arrow::after,.popover .arrow::before{position:absolute;display:block;content:"";border-color:rgba(0,0,0,0);border-style:solid}.bs-popover-auto[x-placement^=top],.bs-popover-top{margin-bottom:.5rem}.bs-popover-auto[x-placement^=top]>.arrow,.bs-popover-top>.arrow{bottom:calc(-0.5rem - 1px)}.bs-popover-auto[x-placement^=top]>.arrow::before,.bs-popover-top>.arrow::before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=top]>.arrow::after,.bs-popover-top>.arrow::after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-auto[x-placement^=right],.bs-popover-right{margin-left:.5rem}.bs-popover-auto[x-placement^=right]>.arrow,.bs-popover-right>.arrow{left:calc(-0.5rem - 1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=right]>.arrow::before,.bs-popover-right>.arrow::before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=right]>.arrow::after,.bs-popover-right>.arrow::after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-auto[x-placement^=bottom],.bs-popover-bottom{margin-top:.5rem}.bs-popover-auto[x-placement^=bottom]>.arrow,.bs-popover-bottom>.arrow{top:calc(-0.5rem - 1px)}.bs-popover-auto[x-placement^=bottom]>.arrow::before,.bs-popover-bottom>.arrow::before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=bottom]>.arrow::after,.bs-popover-bottom>.arrow::after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-auto[x-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-0.5rem;content:"";border-bottom:1px solid #f7f7f7}.bs-popover-auto[x-placement^=left],.bs-popover-left{margin-right:.5rem}.bs-popover-auto[x-placement^=left]>.arrow,.bs-popover-left>.arrow{right:calc(-0.5rem - 1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-auto[x-placement^=left]>.arrow::before,.bs-popover-left>.arrow::before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,0,.25)}.bs-popover-auto[x-placement^=left]>.arrow::after,.bs-popover-left>.arrow::after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header{padding:.5rem .75rem;margin-bottom:0;font-size:1rem;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header:empty{display:none}.popover-body{padding:.5rem .75rem;color:#212529}.carousel{position:relative}.carousel.pointer-event{-ms-touch-action:pan-y;touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:-webkit-transform .6s ease-in-out;transition:transform .6s ease-in-out;transition:transform .6s ease-in-out,-webkit-transform .6s ease-in-out}@media(prefers-reduced-motion: reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-right,.carousel-item-next:not(.carousel-item-left){-webkit-transform:translateX(100%);transform:translateX(100%)}.active.carousel-item-left,.carousel-item-prev:not(.carousel-item-right){-webkit-transform:translateX(-100%);transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;-webkit-transform:none;transform:none}.carousel-fade .carousel-item-next.carousel-item-left,.carousel-fade .carousel-item-prev.carousel-item-right,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{z-index:0;opacity:0;transition:opacity 0s .6s}@media(prefers-reduced-motion: reduce){.carousel-fade .active.carousel-item-left,.carousel-fade .active.carousel-item-right{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;opacity:.5;transition:opacity .15s ease}@media(prefers-reduced-motion: reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:20px;height:20px;background:50%/100% 100% no-repeat}.carousel-control-prev-icon{background-image:url(${C})}.carousel-control-next-icon{background-image:url(${I})}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:15;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;padding-left:0;margin-right:15%;margin-left:15%;list-style:none}.carousel-indicators li{box-sizing:content-box;-ms-flex:0 1 auto;flex:0 1 auto;width:30px;height:3px;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border-top:10px solid rgba(0,0,0,0);border-bottom:10px solid rgba(0,0,0,0);opacity:.5;transition:opacity .6s ease}@media(prefers-reduced-motion: reduce){.carousel-indicators li{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:20px;left:15%;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.spinner-border{display:inline-block;width:2rem;height:2rem;vertical-align:-0.125em;border:.25em solid currentcolor;border-right-color:rgba(0,0,0,0);border-radius:50%;-webkit-animation:.75s linear infinite spinner-border;animation:.75s linear infinite spinner-border}.spinner-border-sm{width:1rem;height:1rem;border-width:.2em}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1;-webkit-transform:none;transform:none}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1;-webkit-transform:none;transform:none}}.spinner-grow{display:inline-block;width:2rem;height:2rem;vertical-align:-0.125em;background-color:currentcolor;border-radius:50%;opacity:0;-webkit-animation:.75s linear infinite spinner-grow;animation:.75s linear infinite spinner-grow}.spinner-grow-sm{width:1rem;height:1rem}@media(prefers-reduced-motion: reduce){.spinner-border,.spinner-grow{-webkit-animation-duration:1.5s;animation-duration:1.5s}}.align-baseline{vertical-align:baseline !important}.align-top{vertical-align:top !important}.align-middle{vertical-align:middle !important}.align-bottom{vertical-align:bottom !important}.align-text-bottom{vertical-align:text-bottom !important}.align-text-top{vertical-align:text-top !important}.bg-primary{background-color:#007bff !important}a.bg-primary:focus,a.bg-primary:hover,button.bg-primary:focus,button.bg-primary:hover{background-color:#0062cc !important}.bg-secondary{background-color:#6c757d !important}a.bg-secondary:focus,a.bg-secondary:hover,button.bg-secondary:focus,button.bg-secondary:hover{background-color:#545b62 !important}.bg-success{background-color:#28a745 !important}a.bg-success:focus,a.bg-success:hover,button.bg-success:focus,button.bg-success:hover{background-color:#1e7e34 !important}.bg-info{background-color:#17a2b8 !important}a.bg-info:focus,a.bg-info:hover,button.bg-info:focus,button.bg-info:hover{background-color:#117a8b !important}.bg-warning{background-color:#ffc107 !important}a.bg-warning:focus,a.bg-warning:hover,button.bg-warning:focus,button.bg-warning:hover{background-color:#d39e00 !important}.bg-danger{background-color:#dc3545 !important}a.bg-danger:focus,a.bg-danger:hover,button.bg-danger:focus,button.bg-danger:hover{background-color:#bd2130 !important}.bg-light{background-color:#f8f9fa !important}a.bg-light:focus,a.bg-light:hover,button.bg-light:focus,button.bg-light:hover{background-color:#dae0e5 !important}.bg-dark{background-color:#343a40 !important}a.bg-dark:focus,a.bg-dark:hover,button.bg-dark:focus,button.bg-dark:hover{background-color:#1d2124 !important}.bg-white{background-color:#fff !important}.bg-transparent{background-color:rgba(0,0,0,0) !important}.border{border:1px solid #dee2e6 !important}.border-top{border-top:1px solid #dee2e6 !important}.border-right{border-right:1px solid #dee2e6 !important}.border-bottom{border-bottom:1px solid #dee2e6 !important}.border-left{border-left:1px solid #dee2e6 !important}.border-0{border:0 !important}.border-top-0{border-top:0 !important}.border-right-0{border-right:0 !important}.border-bottom-0{border-bottom:0 !important}.border-left-0{border-left:0 !important}.border-primary{border-color:#007bff !important}.border-secondary{border-color:#6c757d !important}.border-success{border-color:#28a745 !important}.border-info{border-color:#17a2b8 !important}.border-warning{border-color:#ffc107 !important}.border-danger{border-color:#dc3545 !important}.border-light{border-color:#f8f9fa !important}.border-dark{border-color:#343a40 !important}.border-white{border-color:#fff !important}.rounded-sm{border-radius:.2rem !important}.rounded{border-radius:.25rem !important}.rounded-top{border-top-left-radius:.25rem !important;border-top-right-radius:.25rem !important}.rounded-right{border-top-right-radius:.25rem !important;border-bottom-right-radius:.25rem !important}.rounded-bottom{border-bottom-right-radius:.25rem !important;border-bottom-left-radius:.25rem !important}.rounded-left{border-top-left-radius:.25rem !important;border-bottom-left-radius:.25rem !important}.rounded-lg{border-radius:.3rem !important}.rounded-circle{border-radius:50% !important}.rounded-pill{border-radius:50rem !important}.rounded-0{border-radius:0 !important}.clearfix::after{display:block;clear:both;content:""}.d-none{display:none !important}.d-inline{display:inline !important}.d-inline-block{display:inline-block !important}.d-block{display:block !important}.d-table{display:table !important}.d-table-row{display:table-row !important}.d-table-cell{display:table-cell !important}.d-flex{display:-ms-flexbox !important;display:flex !important}.d-inline-flex{display:-ms-inline-flexbox !important;display:inline-flex !important}@media(min-width: 576px){.d-sm-none{display:none !important}.d-sm-inline{display:inline !important}.d-sm-inline-block{display:inline-block !important}.d-sm-block{display:block !important}.d-sm-table{display:table !important}.d-sm-table-row{display:table-row !important}.d-sm-table-cell{display:table-cell !important}.d-sm-flex{display:-ms-flexbox !important;display:flex !important}.d-sm-inline-flex{display:-ms-inline-flexbox !important;display:inline-flex !important}}@media(min-width: 768px){.d-md-none{display:none !important}.d-md-inline{display:inline !important}.d-md-inline-block{display:inline-block !important}.d-md-block{display:block !important}.d-md-table{display:table !important}.d-md-table-row{display:table-row !important}.d-md-table-cell{display:table-cell !important}.d-md-flex{display:-ms-flexbox !important;display:flex !important}.d-md-inline-flex{display:-ms-inline-flexbox !important;display:inline-flex !important}}@media(min-width: 992px){.d-lg-none{display:none !important}.d-lg-inline{display:inline !important}.d-lg-inline-block{display:inline-block !important}.d-lg-block{display:block !important}.d-lg-table{display:table !important}.d-lg-table-row{display:table-row !important}.d-lg-table-cell{display:table-cell !important}.d-lg-flex{display:-ms-flexbox !important;display:flex !important}.d-lg-inline-flex{display:-ms-inline-flexbox !important;display:inline-flex !important}}@media(min-width: 1200px){.d-xl-none{display:none !important}.d-xl-inline{display:inline !important}.d-xl-inline-block{display:inline-block !important}.d-xl-block{display:block !important}.d-xl-table{display:table !important}.d-xl-table-row{display:table-row !important}.d-xl-table-cell{display:table-cell !important}.d-xl-flex{display:-ms-flexbox !important;display:flex !important}.d-xl-inline-flex{display:-ms-inline-flexbox !important;display:inline-flex !important}}@media print{.d-print-none{display:none !important}.d-print-inline{display:inline !important}.d-print-inline-block{display:inline-block !important}.d-print-block{display:block !important}.d-print-table{display:table !important}.d-print-table-row{display:table-row !important}.d-print-table-cell{display:table-cell !important}.d-print-flex{display:-ms-flexbox !important;display:flex !important}.d-print-inline-flex{display:-ms-inline-flexbox !important;display:inline-flex !important}}.embed-responsive{position:relative;display:block;width:100%;padding:0;overflow:hidden}.embed-responsive::before{display:block;content:""}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;border:0}.embed-responsive-21by9::before{padding-top:42.857143%}.embed-responsive-16by9::before{padding-top:56.25%}.embed-responsive-4by3::before{padding-top:75%}.embed-responsive-1by1::before{padding-top:100%}.flex-row{-ms-flex-direction:row !important;flex-direction:row !important}.flex-column{-ms-flex-direction:column !important;flex-direction:column !important}.flex-row-reverse{-ms-flex-direction:row-reverse !important;flex-direction:row-reverse !important}.flex-column-reverse{-ms-flex-direction:column-reverse !important;flex-direction:column-reverse !important}.flex-wrap{-ms-flex-wrap:wrap !important;flex-wrap:wrap !important}.flex-nowrap{-ms-flex-wrap:nowrap !important;flex-wrap:nowrap !important}.flex-wrap-reverse{-ms-flex-wrap:wrap-reverse !important;flex-wrap:wrap-reverse !important}.flex-fill{-ms-flex:1 1 auto !important;flex:1 1 auto !important}.flex-grow-0{-ms-flex-positive:0 !important;flex-grow:0 !important}.flex-grow-1{-ms-flex-positive:1 !important;flex-grow:1 !important}.flex-shrink-0{-ms-flex-negative:0 !important;flex-shrink:0 !important}.flex-shrink-1{-ms-flex-negative:1 !important;flex-shrink:1 !important}.justify-content-start{-ms-flex-pack:start !important;justify-content:flex-start !important}.justify-content-end{-ms-flex-pack:end !important;justify-content:flex-end !important}.justify-content-center{-ms-flex-pack:center !important;justify-content:center !important}.justify-content-between{-ms-flex-pack:justify !important;justify-content:space-between !important}.justify-content-around{-ms-flex-pack:distribute !important;justify-content:space-around !important}.align-items-start{-ms-flex-align:start !important;align-items:flex-start !important}.align-items-end{-ms-flex-align:end !important;align-items:flex-end !important}.align-items-center{-ms-flex-align:center !important;align-items:center !important}.align-items-baseline{-ms-flex-align:baseline !important;align-items:baseline !important}.align-items-stretch{-ms-flex-align:stretch !important;align-items:stretch !important}.align-content-start{-ms-flex-line-pack:start !important;align-content:flex-start !important}.align-content-end{-ms-flex-line-pack:end !important;align-content:flex-end !important}.align-content-center{-ms-flex-line-pack:center !important;align-content:center !important}.align-content-between{-ms-flex-line-pack:justify !important;align-content:space-between !important}.align-content-around{-ms-flex-line-pack:distribute !important;align-content:space-around !important}.align-content-stretch{-ms-flex-line-pack:stretch !important;align-content:stretch !important}.align-self-auto{-ms-flex-item-align:auto !important;align-self:auto !important}.align-self-start{-ms-flex-item-align:start !important;align-self:flex-start !important}.align-self-end{-ms-flex-item-align:end !important;align-self:flex-end !important}.align-self-center{-ms-flex-item-align:center !important;align-self:center !important}.align-self-baseline{-ms-flex-item-align:baseline !important;align-self:baseline !important}.align-self-stretch{-ms-flex-item-align:stretch !important;align-self:stretch !important}@media(min-width: 576px){.flex-sm-row{-ms-flex-direction:row !important;flex-direction:row !important}.flex-sm-column{-ms-flex-direction:column !important;flex-direction:column !important}.flex-sm-row-reverse{-ms-flex-direction:row-reverse !important;flex-direction:row-reverse !important}.flex-sm-column-reverse{-ms-flex-direction:column-reverse !important;flex-direction:column-reverse !important}.flex-sm-wrap{-ms-flex-wrap:wrap !important;flex-wrap:wrap !important}.flex-sm-nowrap{-ms-flex-wrap:nowrap !important;flex-wrap:nowrap !important}.flex-sm-wrap-reverse{-ms-flex-wrap:wrap-reverse !important;flex-wrap:wrap-reverse !important}.flex-sm-fill{-ms-flex:1 1 auto !important;flex:1 1 auto !important}.flex-sm-grow-0{-ms-flex-positive:0 !important;flex-grow:0 !important}.flex-sm-grow-1{-ms-flex-positive:1 !important;flex-grow:1 !important}.flex-sm-shrink-0{-ms-flex-negative:0 !important;flex-shrink:0 !important}.flex-sm-shrink-1{-ms-flex-negative:1 !important;flex-shrink:1 !important}.justify-content-sm-start{-ms-flex-pack:start !important;justify-content:flex-start !important}.justify-content-sm-end{-ms-flex-pack:end !important;justify-content:flex-end !important}.justify-content-sm-center{-ms-flex-pack:center !important;justify-content:center !important}.justify-content-sm-between{-ms-flex-pack:justify !important;justify-content:space-between !important}.justify-content-sm-around{-ms-flex-pack:distribute !important;justify-content:space-around !important}.align-items-sm-start{-ms-flex-align:start !important;align-items:flex-start !important}.align-items-sm-end{-ms-flex-align:end !important;align-items:flex-end !important}.align-items-sm-center{-ms-flex-align:center !important;align-items:center !important}.align-items-sm-baseline{-ms-flex-align:baseline !important;align-items:baseline !important}.align-items-sm-stretch{-ms-flex-align:stretch !important;align-items:stretch !important}.align-content-sm-start{-ms-flex-line-pack:start !important;align-content:flex-start !important}.align-content-sm-end{-ms-flex-line-pack:end !important;align-content:flex-end !important}.align-content-sm-center{-ms-flex-line-pack:center !important;align-content:center !important}.align-content-sm-between{-ms-flex-line-pack:justify !important;align-content:space-between !important}.align-content-sm-around{-ms-flex-line-pack:distribute !important;align-content:space-around !important}.align-content-sm-stretch{-ms-flex-line-pack:stretch !important;align-content:stretch !important}.align-self-sm-auto{-ms-flex-item-align:auto !important;align-self:auto !important}.align-self-sm-start{-ms-flex-item-align:start !important;align-self:flex-start !important}.align-self-sm-end{-ms-flex-item-align:end !important;align-self:flex-end !important}.align-self-sm-center{-ms-flex-item-align:center !important;align-self:center !important}.align-self-sm-baseline{-ms-flex-item-align:baseline !important;align-self:baseline !important}.align-self-sm-stretch{-ms-flex-item-align:stretch !important;align-self:stretch !important}}@media(min-width: 768px){.flex-md-row{-ms-flex-direction:row !important;flex-direction:row !important}.flex-md-column{-ms-flex-direction:column !important;flex-direction:column !important}.flex-md-row-reverse{-ms-flex-direction:row-reverse !important;flex-direction:row-reverse !important}.flex-md-column-reverse{-ms-flex-direction:column-reverse !important;flex-direction:column-reverse !important}.flex-md-wrap{-ms-flex-wrap:wrap !important;flex-wrap:wrap !important}.flex-md-nowrap{-ms-flex-wrap:nowrap !important;flex-wrap:nowrap !important}.flex-md-wrap-reverse{-ms-flex-wrap:wrap-reverse !important;flex-wrap:wrap-reverse !important}.flex-md-fill{-ms-flex:1 1 auto !important;flex:1 1 auto !important}.flex-md-grow-0{-ms-flex-positive:0 !important;flex-grow:0 !important}.flex-md-grow-1{-ms-flex-positive:1 !important;flex-grow:1 !important}.flex-md-shrink-0{-ms-flex-negative:0 !important;flex-shrink:0 !important}.flex-md-shrink-1{-ms-flex-negative:1 !important;flex-shrink:1 !important}.justify-content-md-start{-ms-flex-pack:start !important;justify-content:flex-start !important}.justify-content-md-end{-ms-flex-pack:end !important;justify-content:flex-end !important}.justify-content-md-center{-ms-flex-pack:center !important;justify-content:center !important}.justify-content-md-between{-ms-flex-pack:justify !important;justify-content:space-between !important}.justify-content-md-around{-ms-flex-pack:distribute !important;justify-content:space-around !important}.align-items-md-start{-ms-flex-align:start !important;align-items:flex-start !important}.align-items-md-end{-ms-flex-align:end !important;align-items:flex-end !important}.align-items-md-center{-ms-flex-align:center !important;align-items:center !important}.align-items-md-baseline{-ms-flex-align:baseline !important;align-items:baseline !important}.align-items-md-stretch{-ms-flex-align:stretch !important;align-items:stretch !important}.align-content-md-start{-ms-flex-line-pack:start !important;align-content:flex-start !important}.align-content-md-end{-ms-flex-line-pack:end !important;align-content:flex-end !important}.align-content-md-center{-ms-flex-line-pack:center !important;align-content:center !important}.align-content-md-between{-ms-flex-line-pack:justify !important;align-content:space-between !important}.align-content-md-around{-ms-flex-line-pack:distribute !important;align-content:space-around !important}.align-content-md-stretch{-ms-flex-line-pack:stretch !important;align-content:stretch !important}.align-self-md-auto{-ms-flex-item-align:auto !important;align-self:auto !important}.align-self-md-start{-ms-flex-item-align:start !important;align-self:flex-start !important}.align-self-md-end{-ms-flex-item-align:end !important;align-self:flex-end !important}.align-self-md-center{-ms-flex-item-align:center !important;align-self:center !important}.align-self-md-baseline{-ms-flex-item-align:baseline !important;align-self:baseline !important}.align-self-md-stretch{-ms-flex-item-align:stretch !important;align-self:stretch !important}}@media(min-width: 992px){.flex-lg-row{-ms-flex-direction:row !important;flex-direction:row !important}.flex-lg-column{-ms-flex-direction:column !important;flex-direction:column !important}.flex-lg-row-reverse{-ms-flex-direction:row-reverse !important;flex-direction:row-reverse !important}.flex-lg-column-reverse{-ms-flex-direction:column-reverse !important;flex-direction:column-reverse !important}.flex-lg-wrap{-ms-flex-wrap:wrap !important;flex-wrap:wrap !important}.flex-lg-nowrap{-ms-flex-wrap:nowrap !important;flex-wrap:nowrap !important}.flex-lg-wrap-reverse{-ms-flex-wrap:wrap-reverse !important;flex-wrap:wrap-reverse !important}.flex-lg-fill{-ms-flex:1 1 auto !important;flex:1 1 auto !important}.flex-lg-grow-0{-ms-flex-positive:0 !important;flex-grow:0 !important}.flex-lg-grow-1{-ms-flex-positive:1 !important;flex-grow:1 !important}.flex-lg-shrink-0{-ms-flex-negative:0 !important;flex-shrink:0 !important}.flex-lg-shrink-1{-ms-flex-negative:1 !important;flex-shrink:1 !important}.justify-content-lg-start{-ms-flex-pack:start !important;justify-content:flex-start !important}.justify-content-lg-end{-ms-flex-pack:end !important;justify-content:flex-end !important}.justify-content-lg-center{-ms-flex-pack:center !important;justify-content:center !important}.justify-content-lg-between{-ms-flex-pack:justify !important;justify-content:space-between !important}.justify-content-lg-around{-ms-flex-pack:distribute !important;justify-content:space-around !important}.align-items-lg-start{-ms-flex-align:start !important;align-items:flex-start !important}.align-items-lg-end{-ms-flex-align:end !important;align-items:flex-end !important}.align-items-lg-center{-ms-flex-align:center !important;align-items:center !important}.align-items-lg-baseline{-ms-flex-align:baseline !important;align-items:baseline !important}.align-items-lg-stretch{-ms-flex-align:stretch !important;align-items:stretch !important}.align-content-lg-start{-ms-flex-line-pack:start !important;align-content:flex-start !important}.align-content-lg-end{-ms-flex-line-pack:end !important;align-content:flex-end !important}.align-content-lg-center{-ms-flex-line-pack:center !important;align-content:center !important}.align-content-lg-between{-ms-flex-line-pack:justify !important;align-content:space-between !important}.align-content-lg-around{-ms-flex-line-pack:distribute !important;align-content:space-around !important}.align-content-lg-stretch{-ms-flex-line-pack:stretch !important;align-content:stretch !important}.align-self-lg-auto{-ms-flex-item-align:auto !important;align-self:auto !important}.align-self-lg-start{-ms-flex-item-align:start !important;align-self:flex-start !important}.align-self-lg-end{-ms-flex-item-align:end !important;align-self:flex-end !important}.align-self-lg-center{-ms-flex-item-align:center !important;align-self:center !important}.align-self-lg-baseline{-ms-flex-item-align:baseline !important;align-self:baseline !important}.align-self-lg-stretch{-ms-flex-item-align:stretch !important;align-self:stretch !important}}@media(min-width: 1200px){.flex-xl-row{-ms-flex-direction:row !important;flex-direction:row !important}.flex-xl-column{-ms-flex-direction:column !important;flex-direction:column !important}.flex-xl-row-reverse{-ms-flex-direction:row-reverse !important;flex-direction:row-reverse !important}.flex-xl-column-reverse{-ms-flex-direction:column-reverse !important;flex-direction:column-reverse !important}.flex-xl-wrap{-ms-flex-wrap:wrap !important;flex-wrap:wrap !important}.flex-xl-nowrap{-ms-flex-wrap:nowrap !important;flex-wrap:nowrap !important}.flex-xl-wrap-reverse{-ms-flex-wrap:wrap-reverse !important;flex-wrap:wrap-reverse !important}.flex-xl-fill{-ms-flex:1 1 auto !important;flex:1 1 auto !important}.flex-xl-grow-0{-ms-flex-positive:0 !important;flex-grow:0 !important}.flex-xl-grow-1{-ms-flex-positive:1 !important;flex-grow:1 !important}.flex-xl-shrink-0{-ms-flex-negative:0 !important;flex-shrink:0 !important}.flex-xl-shrink-1{-ms-flex-negative:1 !important;flex-shrink:1 !important}.justify-content-xl-start{-ms-flex-pack:start !important;justify-content:flex-start !important}.justify-content-xl-end{-ms-flex-pack:end !important;justify-content:flex-end !important}.justify-content-xl-center{-ms-flex-pack:center !important;justify-content:center !important}.justify-content-xl-between{-ms-flex-pack:justify !important;justify-content:space-between !important}.justify-content-xl-around{-ms-flex-pack:distribute !important;justify-content:space-around !important}.align-items-xl-start{-ms-flex-align:start !important;align-items:flex-start !important}.align-items-xl-end{-ms-flex-align:end !important;align-items:flex-end !important}.align-items-xl-center{-ms-flex-align:center !important;align-items:center !important}.align-items-xl-baseline{-ms-flex-align:baseline !important;align-items:baseline !important}.align-items-xl-stretch{-ms-flex-align:stretch !important;align-items:stretch !important}.align-content-xl-start{-ms-flex-line-pack:start !important;align-content:flex-start !important}.align-content-xl-end{-ms-flex-line-pack:end !important;align-content:flex-end !important}.align-content-xl-center{-ms-flex-line-pack:center !important;align-content:center !important}.align-content-xl-between{-ms-flex-line-pack:justify !important;align-content:space-between !important}.align-content-xl-around{-ms-flex-line-pack:distribute !important;align-content:space-around !important}.align-content-xl-stretch{-ms-flex-line-pack:stretch !important;align-content:stretch !important}.align-self-xl-auto{-ms-flex-item-align:auto !important;align-self:auto !important}.align-self-xl-start{-ms-flex-item-align:start !important;align-self:flex-start !important}.align-self-xl-end{-ms-flex-item-align:end !important;align-self:flex-end !important}.align-self-xl-center{-ms-flex-item-align:center !important;align-self:center !important}.align-self-xl-baseline{-ms-flex-item-align:baseline !important;align-self:baseline !important}.align-self-xl-stretch{-ms-flex-item-align:stretch !important;align-self:stretch !important}}.float-left{float:left !important}.float-right{float:right !important}.float-none{float:none !important}@media(min-width: 576px){.float-sm-left{float:left !important}.float-sm-right{float:right !important}.float-sm-none{float:none !important}}@media(min-width: 768px){.float-md-left{float:left !important}.float-md-right{float:right !important}.float-md-none{float:none !important}}@media(min-width: 992px){.float-lg-left{float:left !important}.float-lg-right{float:right !important}.float-lg-none{float:none !important}}@media(min-width: 1200px){.float-xl-left{float:left !important}.float-xl-right{float:right !important}.float-xl-none{float:none !important}}.user-select-all{-webkit-user-select:all !important;-moz-user-select:all !important;user-select:all !important}.user-select-auto{-webkit-user-select:auto !important;-moz-user-select:auto !important;-ms-user-select:auto !important;user-select:auto !important}.user-select-none{-webkit-user-select:none !important;-moz-user-select:none !important;-ms-user-select:none !important;user-select:none !important}.overflow-auto{overflow:auto !important}.overflow-hidden{overflow:hidden !important}.position-static{position:static !important}.position-relative{position:relative !important}.position-absolute{position:absolute !important}.position-fixed{position:fixed !important}.position-sticky{position:-webkit-sticky !important;position:sticky !important}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}@supports(position: -webkit-sticky) or (position: sticky){.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;overflow:visible;clip:auto;white-space:normal}.shadow-sm{box-shadow:0 .125rem .25rem rgba(0,0,0,.075) !important}.shadow{box-shadow:0 .5rem 1rem rgba(0,0,0,.15) !important}.shadow-lg{box-shadow:0 1rem 3rem rgba(0,0,0,.175) !important}.shadow-none{box-shadow:none !important}.w-25{width:25% !important}.w-50{width:50% !important}.w-75{width:75% !important}.w-100{width:100% !important}.w-auto{width:auto !important}.h-25{height:25% !important}.h-50{height:50% !important}.h-75{height:75% !important}.h-100{height:100% !important}.h-auto{height:auto !important}.mw-100{max-width:100% !important}.mh-100{max-height:100% !important}.min-vw-100{min-width:100vw !important}.min-vh-100{min-height:100vh !important}.vw-100{width:100vw !important}.vh-100{height:100vh !important}.m-0{margin:0 !important}.mt-0,.my-0{margin-top:0 !important}.mr-0,.mx-0{margin-right:0 !important}.mb-0,.my-0{margin-bottom:0 !important}.ml-0,.mx-0{margin-left:0 !important}.m-1{margin:.25rem !important}.mt-1,.my-1{margin-top:.25rem !important}.mr-1,.mx-1{margin-right:.25rem !important}.mb-1,.my-1{margin-bottom:.25rem !important}.ml-1,.mx-1{margin-left:.25rem !important}.m-2{margin:.5rem !important}.mt-2,.my-2{margin-top:.5rem !important}.mr-2,.mx-2{margin-right:.5rem !important}.mb-2,.my-2{margin-bottom:.5rem !important}.ml-2,.mx-2{margin-left:.5rem !important}.m-3{margin:1rem !important}.mt-3,.my-3{margin-top:1rem !important}.mr-3,.mx-3{margin-right:1rem !important}.mb-3,.my-3{margin-bottom:1rem !important}.ml-3,.mx-3{margin-left:1rem !important}.m-4{margin:1.5rem !important}.mt-4,.my-4{margin-top:1.5rem !important}.mr-4,.mx-4{margin-right:1.5rem !important}.mb-4,.my-4{margin-bottom:1.5rem !important}.ml-4,.mx-4{margin-left:1.5rem !important}.m-5{margin:3rem !important}.mt-5,.my-5{margin-top:3rem !important}.mr-5,.mx-5{margin-right:3rem !important}.mb-5,.my-5{margin-bottom:3rem !important}.ml-5,.mx-5{margin-left:3rem !important}.p-0{padding:0 !important}.pt-0,.py-0{padding-top:0 !important}.pr-0,.px-0{padding-right:0 !important}.pb-0,.py-0{padding-bottom:0 !important}.pl-0,.px-0{padding-left:0 !important}.p-1{padding:.25rem !important}.pt-1,.py-1{padding-top:.25rem !important}.pr-1,.px-1{padding-right:.25rem !important}.pb-1,.py-1{padding-bottom:.25rem !important}.pl-1,.px-1{padding-left:.25rem !important}.p-2{padding:.5rem !important}.pt-2,.py-2{padding-top:.5rem !important}.pr-2,.px-2{padding-right:.5rem !important}.pb-2,.py-2{padding-bottom:.5rem !important}.pl-2,.px-2{padding-left:.5rem !important}.p-3{padding:1rem !important}.pt-3,.py-3{padding-top:1rem !important}.pr-3,.px-3{padding-right:1rem !important}.pb-3,.py-3{padding-bottom:1rem !important}.pl-3,.px-3{padding-left:1rem !important}.p-4{padding:1.5rem !important}.pt-4,.py-4{padding-top:1.5rem !important}.pr-4,.px-4{padding-right:1.5rem !important}.pb-4,.py-4{padding-bottom:1.5rem !important}.pl-4,.px-4{padding-left:1.5rem !important}.p-5{padding:3rem !important}.pt-5,.py-5{padding-top:3rem !important}.pr-5,.px-5{padding-right:3rem !important}.pb-5,.py-5{padding-bottom:3rem !important}.pl-5,.px-5{padding-left:3rem !important}.m-n1{margin:-0.25rem !important}.mt-n1,.my-n1{margin-top:-0.25rem !important}.mr-n1,.mx-n1{margin-right:-0.25rem !important}.mb-n1,.my-n1{margin-bottom:-0.25rem !important}.ml-n1,.mx-n1{margin-left:-0.25rem !important}.m-n2{margin:-0.5rem !important}.mt-n2,.my-n2{margin-top:-0.5rem !important}.mr-n2,.mx-n2{margin-right:-0.5rem !important}.mb-n2,.my-n2{margin-bottom:-0.5rem !important}.ml-n2,.mx-n2{margin-left:-0.5rem !important}.m-n3{margin:-1rem !important}.mt-n3,.my-n3{margin-top:-1rem !important}.mr-n3,.mx-n3{margin-right:-1rem !important}.mb-n3,.my-n3{margin-bottom:-1rem !important}.ml-n3,.mx-n3{margin-left:-1rem !important}.m-n4{margin:-1.5rem !important}.mt-n4,.my-n4{margin-top:-1.5rem !important}.mr-n4,.mx-n4{margin-right:-1.5rem !important}.mb-n4,.my-n4{margin-bottom:-1.5rem !important}.ml-n4,.mx-n4{margin-left:-1.5rem !important}.m-n5{margin:-3rem !important}.mt-n5,.my-n5{margin-top:-3rem !important}.mr-n5,.mx-n5{margin-right:-3rem !important}.mb-n5,.my-n5{margin-bottom:-3rem !important}.ml-n5,.mx-n5{margin-left:-3rem !important}.m-auto{margin:auto !important}.mt-auto,.my-auto{margin-top:auto !important}.mr-auto,.mx-auto{margin-right:auto !important}.mb-auto,.my-auto{margin-bottom:auto !important}.ml-auto,.mx-auto{margin-left:auto !important}@media(min-width: 576px){.m-sm-0{margin:0 !important}.mt-sm-0,.my-sm-0{margin-top:0 !important}.mr-sm-0,.mx-sm-0{margin-right:0 !important}.mb-sm-0,.my-sm-0{margin-bottom:0 !important}.ml-sm-0,.mx-sm-0{margin-left:0 !important}.m-sm-1{margin:.25rem !important}.mt-sm-1,.my-sm-1{margin-top:.25rem !important}.mr-sm-1,.mx-sm-1{margin-right:.25rem !important}.mb-sm-1,.my-sm-1{margin-bottom:.25rem !important}.ml-sm-1,.mx-sm-1{margin-left:.25rem !important}.m-sm-2{margin:.5rem !important}.mt-sm-2,.my-sm-2{margin-top:.5rem !important}.mr-sm-2,.mx-sm-2{margin-right:.5rem !important}.mb-sm-2,.my-sm-2{margin-bottom:.5rem !important}.ml-sm-2,.mx-sm-2{margin-left:.5rem !important}.m-sm-3{margin:1rem !important}.mt-sm-3,.my-sm-3{margin-top:1rem !important}.mr-sm-3,.mx-sm-3{margin-right:1rem !important}.mb-sm-3,.my-sm-3{margin-bottom:1rem !important}.ml-sm-3,.mx-sm-3{margin-left:1rem !important}.m-sm-4{margin:1.5rem !important}.mt-sm-4,.my-sm-4{margin-top:1.5rem !important}.mr-sm-4,.mx-sm-4{margin-right:1.5rem !important}.mb-sm-4,.my-sm-4{margin-bottom:1.5rem !important}.ml-sm-4,.mx-sm-4{margin-left:1.5rem !important}.m-sm-5{margin:3rem !important}.mt-sm-5,.my-sm-5{margin-top:3rem !important}.mr-sm-5,.mx-sm-5{margin-right:3rem !important}.mb-sm-5,.my-sm-5{margin-bottom:3rem !important}.ml-sm-5,.mx-sm-5{margin-left:3rem !important}.p-sm-0{padding:0 !important}.pt-sm-0,.py-sm-0{padding-top:0 !important}.pr-sm-0,.px-sm-0{padding-right:0 !important}.pb-sm-0,.py-sm-0{padding-bottom:0 !important}.pl-sm-0,.px-sm-0{padding-left:0 !important}.p-sm-1{padding:.25rem !important}.pt-sm-1,.py-sm-1{padding-top:.25rem !important}.pr-sm-1,.px-sm-1{padding-right:.25rem !important}.pb-sm-1,.py-sm-1{padding-bottom:.25rem !important}.pl-sm-1,.px-sm-1{padding-left:.25rem !important}.p-sm-2{padding:.5rem !important}.pt-sm-2,.py-sm-2{padding-top:.5rem !important}.pr-sm-2,.px-sm-2{padding-right:.5rem !important}.pb-sm-2,.py-sm-2{padding-bottom:.5rem !important}.pl-sm-2,.px-sm-2{padding-left:.5rem !important}.p-sm-3{padding:1rem !important}.pt-sm-3,.py-sm-3{padding-top:1rem !important}.pr-sm-3,.px-sm-3{padding-right:1rem !important}.pb-sm-3,.py-sm-3{padding-bottom:1rem !important}.pl-sm-3,.px-sm-3{padding-left:1rem !important}.p-sm-4{padding:1.5rem !important}.pt-sm-4,.py-sm-4{padding-top:1.5rem !important}.pr-sm-4,.px-sm-4{padding-right:1.5rem !important}.pb-sm-4,.py-sm-4{padding-bottom:1.5rem !important}.pl-sm-4,.px-sm-4{padding-left:1.5rem !important}.p-sm-5{padding:3rem !important}.pt-sm-5,.py-sm-5{padding-top:3rem !important}.pr-sm-5,.px-sm-5{padding-right:3rem !important}.pb-sm-5,.py-sm-5{padding-bottom:3rem !important}.pl-sm-5,.px-sm-5{padding-left:3rem !important}.m-sm-n1{margin:-0.25rem !important}.mt-sm-n1,.my-sm-n1{margin-top:-0.25rem !important}.mr-sm-n1,.mx-sm-n1{margin-right:-0.25rem !important}.mb-sm-n1,.my-sm-n1{margin-bottom:-0.25rem !important}.ml-sm-n1,.mx-sm-n1{margin-left:-0.25rem !important}.m-sm-n2{margin:-0.5rem !important}.mt-sm-n2,.my-sm-n2{margin-top:-0.5rem !important}.mr-sm-n2,.mx-sm-n2{margin-right:-0.5rem !important}.mb-sm-n2,.my-sm-n2{margin-bottom:-0.5rem !important}.ml-sm-n2,.mx-sm-n2{margin-left:-0.5rem !important}.m-sm-n3{margin:-1rem !important}.mt-sm-n3,.my-sm-n3{margin-top:-1rem !important}.mr-sm-n3,.mx-sm-n3{margin-right:-1rem !important}.mb-sm-n3,.my-sm-n3{margin-bottom:-1rem !important}.ml-sm-n3,.mx-sm-n3{margin-left:-1rem !important}.m-sm-n4{margin:-1.5rem !important}.mt-sm-n4,.my-sm-n4{margin-top:-1.5rem !important}.mr-sm-n4,.mx-sm-n4{margin-right:-1.5rem !important}.mb-sm-n4,.my-sm-n4{margin-bottom:-1.5rem !important}.ml-sm-n4,.mx-sm-n4{margin-left:-1.5rem !important}.m-sm-n5{margin:-3rem !important}.mt-sm-n5,.my-sm-n5{margin-top:-3rem !important}.mr-sm-n5,.mx-sm-n5{margin-right:-3rem !important}.mb-sm-n5,.my-sm-n5{margin-bottom:-3rem !important}.ml-sm-n5,.mx-sm-n5{margin-left:-3rem !important}.m-sm-auto{margin:auto !important}.mt-sm-auto,.my-sm-auto{margin-top:auto !important}.mr-sm-auto,.mx-sm-auto{margin-right:auto !important}.mb-sm-auto,.my-sm-auto{margin-bottom:auto !important}.ml-sm-auto,.mx-sm-auto{margin-left:auto !important}}@media(min-width: 768px){.m-md-0{margin:0 !important}.mt-md-0,.my-md-0{margin-top:0 !important}.mr-md-0,.mx-md-0{margin-right:0 !important}.mb-md-0,.my-md-0{margin-bottom:0 !important}.ml-md-0,.mx-md-0{margin-left:0 !important}.m-md-1{margin:.25rem !important}.mt-md-1,.my-md-1{margin-top:.25rem !important}.mr-md-1,.mx-md-1{margin-right:.25rem !important}.mb-md-1,.my-md-1{margin-bottom:.25rem !important}.ml-md-1,.mx-md-1{margin-left:.25rem !important}.m-md-2{margin:.5rem !important}.mt-md-2,.my-md-2{margin-top:.5rem !important}.mr-md-2,.mx-md-2{margin-right:.5rem !important}.mb-md-2,.my-md-2{margin-bottom:.5rem !important}.ml-md-2,.mx-md-2{margin-left:.5rem !important}.m-md-3{margin:1rem !important}.mt-md-3,.my-md-3{margin-top:1rem !important}.mr-md-3,.mx-md-3{margin-right:1rem !important}.mb-md-3,.my-md-3{margin-bottom:1rem !important}.ml-md-3,.mx-md-3{margin-left:1rem !important}.m-md-4{margin:1.5rem !important}.mt-md-4,.my-md-4{margin-top:1.5rem !important}.mr-md-4,.mx-md-4{margin-right:1.5rem !important}.mb-md-4,.my-md-4{margin-bottom:1.5rem !important}.ml-md-4,.mx-md-4{margin-left:1.5rem !important}.m-md-5{margin:3rem !important}.mt-md-5,.my-md-5{margin-top:3rem !important}.mr-md-5,.mx-md-5{margin-right:3rem !important}.mb-md-5,.my-md-5{margin-bottom:3rem !important}.ml-md-5,.mx-md-5{margin-left:3rem !important}.p-md-0{padding:0 !important}.pt-md-0,.py-md-0{padding-top:0 !important}.pr-md-0,.px-md-0{padding-right:0 !important}.pb-md-0,.py-md-0{padding-bottom:0 !important}.pl-md-0,.px-md-0{padding-left:0 !important}.p-md-1{padding:.25rem !important}.pt-md-1,.py-md-1{padding-top:.25rem !important}.pr-md-1,.px-md-1{padding-right:.25rem !important}.pb-md-1,.py-md-1{padding-bottom:.25rem !important}.pl-md-1,.px-md-1{padding-left:.25rem !important}.p-md-2{padding:.5rem !important}.pt-md-2,.py-md-2{padding-top:.5rem !important}.pr-md-2,.px-md-2{padding-right:.5rem !important}.pb-md-2,.py-md-2{padding-bottom:.5rem !important}.pl-md-2,.px-md-2{padding-left:.5rem !important}.p-md-3{padding:1rem !important}.pt-md-3,.py-md-3{padding-top:1rem !important}.pr-md-3,.px-md-3{padding-right:1rem !important}.pb-md-3,.py-md-3{padding-bottom:1rem !important}.pl-md-3,.px-md-3{padding-left:1rem !important}.p-md-4{padding:1.5rem !important}.pt-md-4,.py-md-4{padding-top:1.5rem !important}.pr-md-4,.px-md-4{padding-right:1.5rem !important}.pb-md-4,.py-md-4{padding-bottom:1.5rem !important}.pl-md-4,.px-md-4{padding-left:1.5rem !important}.p-md-5{padding:3rem !important}.pt-md-5,.py-md-5{padding-top:3rem !important}.pr-md-5,.px-md-5{padding-right:3rem !important}.pb-md-5,.py-md-5{padding-bottom:3rem !important}.pl-md-5,.px-md-5{padding-left:3rem !important}.m-md-n1{margin:-0.25rem !important}.mt-md-n1,.my-md-n1{margin-top:-0.25rem !important}.mr-md-n1,.mx-md-n1{margin-right:-0.25rem !important}.mb-md-n1,.my-md-n1{margin-bottom:-0.25rem !important}.ml-md-n1,.mx-md-n1{margin-left:-0.25rem !important}.m-md-n2{margin:-0.5rem !important}.mt-md-n2,.my-md-n2{margin-top:-0.5rem !important}.mr-md-n2,.mx-md-n2{margin-right:-0.5rem !important}.mb-md-n2,.my-md-n2{margin-bottom:-0.5rem !important}.ml-md-n2,.mx-md-n2{margin-left:-0.5rem !important}.m-md-n3{margin:-1rem !important}.mt-md-n3,.my-md-n3{margin-top:-1rem !important}.mr-md-n3,.mx-md-n3{margin-right:-1rem !important}.mb-md-n3,.my-md-n3{margin-bottom:-1rem !important}.ml-md-n3,.mx-md-n3{margin-left:-1rem !important}.m-md-n4{margin:-1.5rem !important}.mt-md-n4,.my-md-n4{margin-top:-1.5rem !important}.mr-md-n4,.mx-md-n4{margin-right:-1.5rem !important}.mb-md-n4,.my-md-n4{margin-bottom:-1.5rem !important}.ml-md-n4,.mx-md-n4{margin-left:-1.5rem !important}.m-md-n5{margin:-3rem !important}.mt-md-n5,.my-md-n5{margin-top:-3rem !important}.mr-md-n5,.mx-md-n5{margin-right:-3rem !important}.mb-md-n5,.my-md-n5{margin-bottom:-3rem !important}.ml-md-n5,.mx-md-n5{margin-left:-3rem !important}.m-md-auto{margin:auto !important}.mt-md-auto,.my-md-auto{margin-top:auto !important}.mr-md-auto,.mx-md-auto{margin-right:auto !important}.mb-md-auto,.my-md-auto{margin-bottom:auto !important}.ml-md-auto,.mx-md-auto{margin-left:auto !important}}@media(min-width: 992px){.m-lg-0{margin:0 !important}.mt-lg-0,.my-lg-0{margin-top:0 !important}.mr-lg-0,.mx-lg-0{margin-right:0 !important}.mb-lg-0,.my-lg-0{margin-bottom:0 !important}.ml-lg-0,.mx-lg-0{margin-left:0 !important}.m-lg-1{margin:.25rem !important}.mt-lg-1,.my-lg-1{margin-top:.25rem !important}.mr-lg-1,.mx-lg-1{margin-right:.25rem !important}.mb-lg-1,.my-lg-1{margin-bottom:.25rem !important}.ml-lg-1,.mx-lg-1{margin-left:.25rem !important}.m-lg-2{margin:.5rem !important}.mt-lg-2,.my-lg-2{margin-top:.5rem !important}.mr-lg-2,.mx-lg-2{margin-right:.5rem !important}.mb-lg-2,.my-lg-2{margin-bottom:.5rem !important}.ml-lg-2,.mx-lg-2{margin-left:.5rem !important}.m-lg-3{margin:1rem !important}.mt-lg-3,.my-lg-3{margin-top:1rem !important}.mr-lg-3,.mx-lg-3{margin-right:1rem !important}.mb-lg-3,.my-lg-3{margin-bottom:1rem !important}.ml-lg-3,.mx-lg-3{margin-left:1rem !important}.m-lg-4{margin:1.5rem !important}.mt-lg-4,.my-lg-4{margin-top:1.5rem !important}.mr-lg-4,.mx-lg-4{margin-right:1.5rem !important}.mb-lg-4,.my-lg-4{margin-bottom:1.5rem !important}.ml-lg-4,.mx-lg-4{margin-left:1.5rem !important}.m-lg-5{margin:3rem !important}.mt-lg-5,.my-lg-5{margin-top:3rem !important}.mr-lg-5,.mx-lg-5{margin-right:3rem !important}.mb-lg-5,.my-lg-5{margin-bottom:3rem !important}.ml-lg-5,.mx-lg-5{margin-left:3rem !important}.p-lg-0{padding:0 !important}.pt-lg-0,.py-lg-0{padding-top:0 !important}.pr-lg-0,.px-lg-0{padding-right:0 !important}.pb-lg-0,.py-lg-0{padding-bottom:0 !important}.pl-lg-0,.px-lg-0{padding-left:0 !important}.p-lg-1{padding:.25rem !important}.pt-lg-1,.py-lg-1{padding-top:.25rem !important}.pr-lg-1,.px-lg-1{padding-right:.25rem !important}.pb-lg-1,.py-lg-1{padding-bottom:.25rem !important}.pl-lg-1,.px-lg-1{padding-left:.25rem !important}.p-lg-2{padding:.5rem !important}.pt-lg-2,.py-lg-2{padding-top:.5rem !important}.pr-lg-2,.px-lg-2{padding-right:.5rem !important}.pb-lg-2,.py-lg-2{padding-bottom:.5rem !important}.pl-lg-2,.px-lg-2{padding-left:.5rem !important}.p-lg-3{padding:1rem !important}.pt-lg-3,.py-lg-3{padding-top:1rem !important}.pr-lg-3,.px-lg-3{padding-right:1rem !important}.pb-lg-3,.py-lg-3{padding-bottom:1rem !important}.pl-lg-3,.px-lg-3{padding-left:1rem !important}.p-lg-4{padding:1.5rem !important}.pt-lg-4,.py-lg-4{padding-top:1.5rem !important}.pr-lg-4,.px-lg-4{padding-right:1.5rem !important}.pb-lg-4,.py-lg-4{padding-bottom:1.5rem !important}.pl-lg-4,.px-lg-4{padding-left:1.5rem !important}.p-lg-5{padding:3rem !important}.pt-lg-5,.py-lg-5{padding-top:3rem !important}.pr-lg-5,.px-lg-5{padding-right:3rem !important}.pb-lg-5,.py-lg-5{padding-bottom:3rem !important}.pl-lg-5,.px-lg-5{padding-left:3rem !important}.m-lg-n1{margin:-0.25rem !important}.mt-lg-n1,.my-lg-n1{margin-top:-0.25rem !important}.mr-lg-n1,.mx-lg-n1{margin-right:-0.25rem !important}.mb-lg-n1,.my-lg-n1{margin-bottom:-0.25rem !important}.ml-lg-n1,.mx-lg-n1{margin-left:-0.25rem !important}.m-lg-n2{margin:-0.5rem !important}.mt-lg-n2,.my-lg-n2{margin-top:-0.5rem !important}.mr-lg-n2,.mx-lg-n2{margin-right:-0.5rem !important}.mb-lg-n2,.my-lg-n2{margin-bottom:-0.5rem !important}.ml-lg-n2,.mx-lg-n2{margin-left:-0.5rem !important}.m-lg-n3{margin:-1rem !important}.mt-lg-n3,.my-lg-n3{margin-top:-1rem !important}.mr-lg-n3,.mx-lg-n3{margin-right:-1rem !important}.mb-lg-n3,.my-lg-n3{margin-bottom:-1rem !important}.ml-lg-n3,.mx-lg-n3{margin-left:-1rem !important}.m-lg-n4{margin:-1.5rem !important}.mt-lg-n4,.my-lg-n4{margin-top:-1.5rem !important}.mr-lg-n4,.mx-lg-n4{margin-right:-1.5rem !important}.mb-lg-n4,.my-lg-n4{margin-bottom:-1.5rem !important}.ml-lg-n4,.mx-lg-n4{margin-left:-1.5rem !important}.m-lg-n5{margin:-3rem !important}.mt-lg-n5,.my-lg-n5{margin-top:-3rem !important}.mr-lg-n5,.mx-lg-n5{margin-right:-3rem !important}.mb-lg-n5,.my-lg-n5{margin-bottom:-3rem !important}.ml-lg-n5,.mx-lg-n5{margin-left:-3rem !important}.m-lg-auto{margin:auto !important}.mt-lg-auto,.my-lg-auto{margin-top:auto !important}.mr-lg-auto,.mx-lg-auto{margin-right:auto !important}.mb-lg-auto,.my-lg-auto{margin-bottom:auto !important}.ml-lg-auto,.mx-lg-auto{margin-left:auto !important}}@media(min-width: 1200px){.m-xl-0{margin:0 !important}.mt-xl-0,.my-xl-0{margin-top:0 !important}.mr-xl-0,.mx-xl-0{margin-right:0 !important}.mb-xl-0,.my-xl-0{margin-bottom:0 !important}.ml-xl-0,.mx-xl-0{margin-left:0 !important}.m-xl-1{margin:.25rem !important}.mt-xl-1,.my-xl-1{margin-top:.25rem !important}.mr-xl-1,.mx-xl-1{margin-right:.25rem !important}.mb-xl-1,.my-xl-1{margin-bottom:.25rem !important}.ml-xl-1,.mx-xl-1{margin-left:.25rem !important}.m-xl-2{margin:.5rem !important}.mt-xl-2,.my-xl-2{margin-top:.5rem !important}.mr-xl-2,.mx-xl-2{margin-right:.5rem !important}.mb-xl-2,.my-xl-2{margin-bottom:.5rem !important}.ml-xl-2,.mx-xl-2{margin-left:.5rem !important}.m-xl-3{margin:1rem !important}.mt-xl-3,.my-xl-3{margin-top:1rem !important}.mr-xl-3,.mx-xl-3{margin-right:1rem !important}.mb-xl-3,.my-xl-3{margin-bottom:1rem !important}.ml-xl-3,.mx-xl-3{margin-left:1rem !important}.m-xl-4{margin:1.5rem !important}.mt-xl-4,.my-xl-4{margin-top:1.5rem !important}.mr-xl-4,.mx-xl-4{margin-right:1.5rem !important}.mb-xl-4,.my-xl-4{margin-bottom:1.5rem !important}.ml-xl-4,.mx-xl-4{margin-left:1.5rem !important}.m-xl-5{margin:3rem !important}.mt-xl-5,.my-xl-5{margin-top:3rem !important}.mr-xl-5,.mx-xl-5{margin-right:3rem !important}.mb-xl-5,.my-xl-5{margin-bottom:3rem !important}.ml-xl-5,.mx-xl-5{margin-left:3rem !important}.p-xl-0{padding:0 !important}.pt-xl-0,.py-xl-0{padding-top:0 !important}.pr-xl-0,.px-xl-0{padding-right:0 !important}.pb-xl-0,.py-xl-0{padding-bottom:0 !important}.pl-xl-0,.px-xl-0{padding-left:0 !important}.p-xl-1{padding:.25rem !important}.pt-xl-1,.py-xl-1{padding-top:.25rem !important}.pr-xl-1,.px-xl-1{padding-right:.25rem !important}.pb-xl-1,.py-xl-1{padding-bottom:.25rem !important}.pl-xl-1,.px-xl-1{padding-left:.25rem !important}.p-xl-2{padding:.5rem !important}.pt-xl-2,.py-xl-2{padding-top:.5rem !important}.pr-xl-2,.px-xl-2{padding-right:.5rem !important}.pb-xl-2,.py-xl-2{padding-bottom:.5rem !important}.pl-xl-2,.px-xl-2{padding-left:.5rem !important}.p-xl-3{padding:1rem !important}.pt-xl-3,.py-xl-3{padding-top:1rem !important}.pr-xl-3,.px-xl-3{padding-right:1rem !important}.pb-xl-3,.py-xl-3{padding-bottom:1rem !important}.pl-xl-3,.px-xl-3{padding-left:1rem !important}.p-xl-4{padding:1.5rem !important}.pt-xl-4,.py-xl-4{padding-top:1.5rem !important}.pr-xl-4,.px-xl-4{padding-right:1.5rem !important}.pb-xl-4,.py-xl-4{padding-bottom:1.5rem !important}.pl-xl-4,.px-xl-4{padding-left:1.5rem !important}.p-xl-5{padding:3rem !important}.pt-xl-5,.py-xl-5{padding-top:3rem !important}.pr-xl-5,.px-xl-5{padding-right:3rem !important}.pb-xl-5,.py-xl-5{padding-bottom:3rem !important}.pl-xl-5,.px-xl-5{padding-left:3rem !important}.m-xl-n1{margin:-0.25rem !important}.mt-xl-n1,.my-xl-n1{margin-top:-0.25rem !important}.mr-xl-n1,.mx-xl-n1{margin-right:-0.25rem !important}.mb-xl-n1,.my-xl-n1{margin-bottom:-0.25rem !important}.ml-xl-n1,.mx-xl-n1{margin-left:-0.25rem !important}.m-xl-n2{margin:-0.5rem !important}.mt-xl-n2,.my-xl-n2{margin-top:-0.5rem !important}.mr-xl-n2,.mx-xl-n2{margin-right:-0.5rem !important}.mb-xl-n2,.my-xl-n2{margin-bottom:-0.5rem !important}.ml-xl-n2,.mx-xl-n2{margin-left:-0.5rem !important}.m-xl-n3{margin:-1rem !important}.mt-xl-n3,.my-xl-n3{margin-top:-1rem !important}.mr-xl-n3,.mx-xl-n3{margin-right:-1rem !important}.mb-xl-n3,.my-xl-n3{margin-bottom:-1rem !important}.ml-xl-n3,.mx-xl-n3{margin-left:-1rem !important}.m-xl-n4{margin:-1.5rem !important}.mt-xl-n4,.my-xl-n4{margin-top:-1.5rem !important}.mr-xl-n4,.mx-xl-n4{margin-right:-1.5rem !important}.mb-xl-n4,.my-xl-n4{margin-bottom:-1.5rem !important}.ml-xl-n4,.mx-xl-n4{margin-left:-1.5rem !important}.m-xl-n5{margin:-3rem !important}.mt-xl-n5,.my-xl-n5{margin-top:-3rem !important}.mr-xl-n5,.mx-xl-n5{margin-right:-3rem !important}.mb-xl-n5,.my-xl-n5{margin-bottom:-3rem !important}.ml-xl-n5,.mx-xl-n5{margin-left:-3rem !important}.m-xl-auto{margin:auto !important}.mt-xl-auto,.my-xl-auto{margin-top:auto !important}.mr-xl-auto,.mx-xl-auto{margin-right:auto !important}.mb-xl-auto,.my-xl-auto{margin-bottom:auto !important}.ml-xl-auto,.mx-xl-auto{margin-left:auto !important}}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;pointer-events:auto;content:"";background-color:rgba(0,0,0,0)}.text-monospace{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace !important}.text-justify{text-align:justify !important}.text-wrap{white-space:normal !important}.text-nowrap{white-space:nowrap !important}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.text-left{text-align:left !important}.text-right{text-align:right !important}.text-center{text-align:center !important}@media(min-width: 576px){.text-sm-left{text-align:left !important}.text-sm-right{text-align:right !important}.text-sm-center{text-align:center !important}}@media(min-width: 768px){.text-md-left{text-align:left !important}.text-md-right{text-align:right !important}.text-md-center{text-align:center !important}}@media(min-width: 992px){.text-lg-left{text-align:left !important}.text-lg-right{text-align:right !important}.text-lg-center{text-align:center !important}}@media(min-width: 1200px){.text-xl-left{text-align:left !important}.text-xl-right{text-align:right !important}.text-xl-center{text-align:center !important}}.text-lowercase{text-transform:lowercase !important}.text-uppercase{text-transform:uppercase !important}.text-capitalize{text-transform:capitalize !important}.font-weight-light{font-weight:300 !important}.font-weight-lighter{font-weight:lighter !important}.font-weight-normal{font-weight:400 !important}.font-weight-bold{font-weight:700 !important}.font-weight-bolder{font-weight:bolder !important}.font-italic{font-style:italic !important}.text-white{color:#fff !important}.text-primary{color:#007bff !important}a.text-primary:focus,a.text-primary:hover{color:#0056b3 !important}.text-secondary{color:#6c757d !important}a.text-secondary:focus,a.text-secondary:hover{color:#494f54 !important}.text-success{color:#28a745 !important}a.text-success:focus,a.text-success:hover{color:#19692c !important}.text-info{color:#17a2b8 !important}a.text-info:focus,a.text-info:hover{color:#0f6674 !important}.text-warning{color:#ffc107 !important}a.text-warning:focus,a.text-warning:hover{color:#ba8b00 !important}.text-danger{color:#dc3545 !important}a.text-danger:focus,a.text-danger:hover{color:#a71d2a !important}.text-light{color:#f8f9fa !important}a.text-light:focus,a.text-light:hover{color:#cbd3da !important}.text-dark{color:#343a40 !important}a.text-dark:focus,a.text-dark:hover{color:#121416 !important}.text-body{color:#212529 !important}.text-muted{color:#6c757d !important}.text-black-50{color:rgba(0,0,0,.5) !important}.text-white-50{color:rgba(255,255,255,.5) !important}.text-hide{font:0/0 a;color:rgba(0,0,0,0);text-shadow:none;background-color:rgba(0,0,0,0);border:0}.text-decoration-none{text-decoration:none !important}.text-break{word-break:break-word !important;word-wrap:break-word !important}.text-reset{color:inherit !important}.visible{visibility:visible !important}.invisible{visibility:hidden !important}@media print{*,::after,::before{text-shadow:none !important;box-shadow:none !important}a:not(.btn){text-decoration:underline}abbr[title]::after{content:" (" attr(title) ")"}pre{white-space:pre-wrap !important}blockquote,pre{border:1px solid #adb5bd;page-break-inside:avoid}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}@page{size:a3}body{min-width:992px !important}.container{min-width:992px !important}.navbar{display:none}.badge{border:1px solid #000}.table{border-collapse:collapse !important}.table td,.table th{background-color:#fff !important}.table-bordered td,.table-bordered th{border:1px solid #dee2e6 !important}.table-dark{color:inherit}.table-dark tbody+tbody,.table-dark td,.table-dark th,.table-dark thead th{border-color:#dee2e6}.table .thead-dark th{color:inherit;border-color:#dee2e6}}`,""]);const O=y},162:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,".App-logo{height:40vmin;pointer-events:none}@media(prefers-reduced-motion: no-preference){.App-logo{animation:App-logo-spin infinite 20s linear}}#overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.8);z-index:2;cursor:pointer}#overlay-text{position:absolute;top:50%;left:50%;font-size:50px;color:#fff;transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%)}.z0{z-index:0}.sort-table-icon{color:#bdbdbd}.sort-table-icon:hover{color:#333;cursor:pointer}.App-header{background-color:#282c34;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:calc(10px + 2vmin);color:#fff}.table thead th{vertical-align:middle !important;border-bottom:2px solid #dee2e6}.sticky-table-header{position:sticky;top:0}.App-link{color:#61dafb}.pointer{cursor:pointer}@keyframes App-logo-spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}",""]);const s=a},9891:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(1601),i=n.n(r),o=n(6314),a=n.n(o)()(i());a.push([e.id,'body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}code{font-family:source-code-pro,Menlo,Monaco,Consolas,"Courier New",monospace}',""]);const s=a},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},1601:e=>{"use strict";e.exports=function(e){return e[1]}},41:(e,t,n)=>{"use strict";var r=n(655),i=n(8068),o=n(9675),a=n(5795);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!a&&a(e,t);if(r)r(e,t,{configurable:null===c&&h?h.configurable:!c,enumerable:null===s&&h?h.enumerable:!s,value:n,writable:null===l&&h?h.writable:!l});else{if(!u&&(s||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},6570:e=>{"use strict";function t(e,t,r){r=r||2;var o,a,s,l,h,d,f,m=t&&t.length,g=m?t[0]*r:e.length,b=n(e,0,g,r,!0),v=[];if(!b||b.next===b.prev)return v;if(m&&(b=function(e,t,r,i){var o,a,s,l=[];for(o=0,a=t.length;o<a;o++)(s=n(e,t[o]*i,o<a-1?t[o+1]*i:e.length,i,!1))===s.next&&(s.steiner=!0),l.push(p(s));for(l.sort(c),o=0;o<l.length;o++)r=u(l[o],r);return r}(e,t,b,r)),e.length>80*r){o=s=e[0],a=l=e[1];for(var y=r;y<g;y+=r)(h=e[y])<o&&(o=h),(d=e[y+1])<a&&(a=d),h>s&&(s=h),d>l&&(l=d);f=0!==(f=Math.max(s-o,l-a))?32767/f:0}return i(b,v,r,o,a,f,0),v}function n(e,t,n,r,i){var o,a;if(i===A(e,t,n,r)>0)for(o=t;o<n;o+=r)a=x(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=x(o,e[o],e[o+1],a);return a&&b(a,a.next)&&(w(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!b(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(w(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,c,u,h,p){if(e){!p&&h&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=d(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,c,u,h);for(var f,m,g=e;e.prev!==e.next;)if(f=e.prev,m=e.next,h?a(e,c,u,h):o(e))t.push(f.i/n|0),t.push(e.i/n|0),t.push(m.i/n|0),w(e),e=m.next,g=m.next;else if((e=m)===g){p?1===p?i(e=s(r(e),t,n),t,n,c,u,h,2):2===p&&l(e,t,n,c,u,h):i(r(e),t,n,c,u,h,1);break}}}function o(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,h=s<l?s<c?s:c:l<c?l:c,d=i>o?i>a?i:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c,m=r.next;m!==t;){if(m.x>=u&&m.x<=d&&m.y>=h&&m.y<=p&&f(i,s,o,l,a,c,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function a(e,t,n,r){var i=e.prev,o=e,a=e.next;if(g(i,o,a)>=0)return!1;for(var s=i.x,l=o.x,c=a.x,u=i.y,h=o.y,p=a.y,m=s<l?s<c?s:c:l<c?l:c,b=u<h?u<p?u:p:h<p?h:p,v=s>l?s>c?s:c:l>c?l:c,y=u>h?u>p?u:p:h>p?h:p,T=d(m,b,t,n,r),_=d(v,y,t,n,r),E=e.prevZ,x=e.nextZ;E&&E.z>=T&&x&&x.z<=_;){if(E.x>=m&&E.x<=v&&E.y>=b&&E.y<=y&&E!==i&&E!==a&&f(s,u,l,h,c,p,E.x,E.y)&&g(E.prev,E,E.next)>=0)return!1;if(E=E.prevZ,x.x>=m&&x.x<=v&&x.y>=b&&x.y<=y&&x!==i&&x!==a&&f(s,u,l,h,c,p,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;E&&E.z>=T;){if(E.x>=m&&E.x<=v&&E.y>=b&&E.y<=y&&E!==i&&E!==a&&f(s,u,l,h,c,p,E.x,E.y)&&g(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;x&&x.z<=_;){if(x.x>=m&&x.x<=v&&x.y>=b&&x.y<=y&&x!==i&&x!==a&&f(s,u,l,h,c,p,x.x,x.y)&&g(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function s(e,t,n){var i=e;do{var o=i.prev,a=i.next.next;!b(o,a)&&v(o,i,i.next,a)&&_(o,a)&&_(a,o)&&(t.push(o.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),w(i),w(i.next),i=e=a),i=i.next}while(i!==e);return r(i)}function l(e,t,n,o,a,s){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&m(l,c)){var u=E(l,c);return l=r(l,l.next),u=r(u,u.next),i(l,t,n,o,a,s,0),void i(u,t,n,o,a,s,0)}c=c.next}l=l.next}while(l!==e)}function c(e,t){return e.x-t.x}function u(e,t){var n=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var l,c=n,u=n.x,d=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&f(o<d?i:a,o,u,d,o<d?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),_(r,e)&&(l<p||l===p&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,p=l)),r=r.next}while(r!==c);return n}(e,t);if(!n)return t;var i=E(n,e);return r(i,i.next),r(n,n.next)}function h(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function d(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function f(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function m(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&v(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(_(e,t)&&_(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||b(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function b(e,t){return e.x===t.x&&e.y===t.y}function v(e,t,n,r){var i=T(g(e,t,n)),o=T(g(e,t,r)),a=T(g(n,r,e)),s=T(g(n,r,t));return i!==o&&a!==s||!(0!==i||!y(e,n,t))||!(0!==o||!y(e,r,t))||!(0!==a||!y(n,e,r))||!(0!==s||!y(n,t,r))}function y(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function T(e){return e>0?1:e<0?-1:0}function _(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function E(e,t){var n=new S(e.i,e.x,e.y),r=new S(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function x(e,t,n,r){var i=new S(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function w(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function S(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(A(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var c=t[s]*n,u=s<l-1?t[s+1]*n:e.length;a-=Math.abs(A(e,c,u,n))}var h=0;for(s=0;s<r.length;s+=3){var d=r[s]*n,p=r[s+1]*n,f=r[s+2]*n;h+=Math.abs((e[d]-e[f])*(e[p+1]-e[d+1])-(e[d]-e[p])*(e[f+1]-e[d+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},655:(e,t,n)=>{"use strict";var r=n(453)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(e){r=!1}e.exports=r},1237:e=>{"use strict";e.exports=EvalError},9383:e=>{"use strict";e.exports=Error},9290:e=>{"use strict";e.exports=RangeError},9538:e=>{"use strict";e.exports=ReferenceError},8068:e=>{"use strict";e.exports=SyntaxError},9675:e=>{"use strict";e.exports=TypeError},5345:e=>{"use strict";e.exports=URIError},6354:function(e,t,n){var r;!function(i){var o=i.Promise,a=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var e;return new o((function(t){e=t})),"function"==typeof e}();t?(t.Promise=a?o:A,t.Polyfill=A):void 0===(r=function(){return a?o:A}.call(t,n,t,e))||(e.exports=r);var s="pending",l="sealed",c="fulfilled",u="rejected",h=function(){};function d(e){return"[object Array]"===Object.prototype.toString.call(e)}var p,f="undefined"!=typeof setImmediate?setImmediate:setTimeout,m=[];function g(){for(var e=0;e<m.length;e++)m[e][0](m[e][1]);m=[],p=!1}function b(e,t){m.push([e,t]),p||(p=!0,f(g,0))}function v(e){var t=e.owner,n=t.state_,r=t.data_,i=e[n],o=e.then;if("function"==typeof i){n=c;try{r=i(r)}catch(e){E(o,e)}}y(o,r)||(n===c&&T(o,r),n===u&&E(o,r))}function y(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var r=t.then;if("function"==typeof r)return r.call(t,(function(r){n||(n=!0,t!==r?T(e,r):_(e,r))}),(function(t){n||(n=!0,E(e,t))})),!0}}catch(t){return n||E(e,t),!0}return!1}function T(e,t){e!==t&&y(e,t)||_(e,t)}function _(e,t){e.state_===s&&(e.state_=l,e.data_=t,b(w,e))}function E(e,t){e.state_===s&&(e.state_=l,e.data_=t,b(S,e))}function x(e){var t=e.then_;e.then_=void 0;for(var n=0;n<t.length;n++)v(t[n])}function w(e){e.state_=c,x(e)}function S(e){e.state_=u,x(e)}function A(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(this instanceof A==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(e,t){function n(e){E(t,e)}try{e((function(e){T(t,e)}),n)}catch(e){n(e)}}(e,this)}A.prototype={constructor:A,state_:s,then_:null,data_:void 0,then:function(e,t){var n={owner:this,then:new this.constructor(h),fulfilled:e,rejected:t};return this.state_===c||this.state_===u?b(v,n):this.then_.push(n),n.then},catch:function(e){return this.then(null,e)}},A.all=function(e){if(!d(e))throw new TypeError("You must pass an array to Promise.all().");return new this((function(t,n){var r=[],i=0;function o(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var a,s=0;s<e.length;s++)(a=e[s])&&"function"==typeof a.then?a.then(o(s),n):r[s]=a;i||t(r)}))},A.race=function(e){if(!d(e))throw new TypeError("You must pass an array to Promise.race().");return new this((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"==typeof r.then?r.then(t,n):t(r)}))},A.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this((function(t){t(e)}))},A.reject=function(e){return new this((function(t,n){n(e)}))}}("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:this)},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,o),!0;case 6:return u.fn.call(u.context,t,r,i,o,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},9353:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(e){for(var t=[],n=1,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),s=n(0,i.length-a.length),l=[],c=0;c<s;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=",");return t}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,r(a,arguments));return Object(t)===t?t:this}return i.apply(e,r(a,arguments))})),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o}},6743:(e,t,n)=>{"use strict";var r=n(9353);e.exports=Function.prototype.bind||r},453:(e,t,n)=>{"use strict";var r,i=n(9383),o=n(1237),a=n(9290),s=n(9538),l=n(8068),c=n(9675),u=n(5345),h=Function,d=function(e){try{return h('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var f=function(){throw new c},m=p?function(){try{return f}catch(e){try{return p(arguments,"callee").get}catch(e){return f}}}():f,g=n(4039)(),b=n(24)(),v=Object.getPrototypeOf||(b?function(e){return e.__proto__}:null),y={},T="undefined"!=typeof Uint8Array&&v?v(Uint8Array):r,_={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":g&&v?v([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&v?v(v([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&v?v((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&v?v((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&v?v(""[Symbol.iterator]()):r,"%Symbol%":g?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":m,"%TypedArray%":T,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(v)try{null.error}catch(e){var E=v(v(e));_["%Error.prototype%"]=E}var x=function e(t){var n;if("%AsyncFunction%"===t)n=d("async function () {}");else if("%GeneratorFunction%"===t)n=d("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=d("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&v&&(n=v(i.prototype))}return _[t]=n,n},w={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(6743),A=n(9957),k=S.call(Function.call,Array.prototype.concat),C=S.call(Function.apply,Array.prototype.splice),I=S.call(Function.call,String.prototype.replace),O=S.call(Function.call,String.prototype.slice),D=S.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,R=function(e,t){var n,r=e;if(A(w,r)&&(r="%"+(n=w[r])[0]+"%"),A(_,r)){var i=_[r];if(i===y&&(i=x(r)),void 0===i&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===D(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=O(e,0,1),n=O(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return I(e,P,(function(e,t,n,i){r[r.length]=n?I(i,N,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=R("%"+r+"%",t),o=i.name,a=i.value,s=!1,u=i.alias;u&&(r=u[0],C(n,k([0,1],u)));for(var h=1,d=!0;h<n.length;h+=1){var f=n[h],m=O(f,0,1),g=O(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&d||(s=!0),A(_,o="%"+(r+="."+f)+"%"))a=_[o];else if(null!=a){if(!(f in a)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&h+1>=n.length){var b=p(a,f);a=(d=!!b)&&"get"in b&&!("originalValue"in b.get)?b.get:a[f]}else d=A(a,f),a=a[f];d&&!s&&(_[o]=a)}}return a}},5795:(e,t,n)=>{"use strict";var r=n(453)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},592:(e,t,n)=>{"use strict";var r=n(655),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},24:e=>{"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof n)}},4039:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(1333);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},1333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},9957:(e,t,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(6743);e.exports=o.call(r,i)},724:e=>{var t;window,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.higlassTracks=window.higlassTracks||{},window.higlassTracksByType=window.higlassTracksByType||{},window.higlassDataFetchersByType=window.higlassDataFetchersByType||{};var r=function(){return Math.random().toString(36).substring(2,8)};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.pluginType,i=void 0===n?"track":n;"track"===i?function(e){for(var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).force,n=void 0!==t&&t,i=r();window.higlassTracks[i];)i=r();e.name=i,window.higlassTracks[e.name]=e,window.higlassTracksByType[e.config.type]&&!n?console.warn("A track with the same type ("+e.config.type+") was already registered. To override it, set force to true."):window.higlassTracksByType[e.config.type]=e}(e,t):"dataFetcher"===i&&function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).force,n=void 0!==t&&t;window.higlassDataFetchersByType[e.config.type]&&!n?console.warn("A data fetcher with the same type ("+e.config.type+") was already registered. To override it, set force to true."):window.higlassDataFetchersByType[e.config.type]=e}(e,t)}}])},e.exports=t()},3944:(e,t,n)=>{e.exports=n(8048)},8048:(e,t,n)=>{var r=n(8563),i=n(1967);t.encode=function(e){var t=i.parse(e);return new Buffer(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/")+"==";return i.unparse(new Buffer(t,"base64"))},t.v4=function(){return r(null,new Buffer(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},t.nice=function(){var e=r(null,new Buffer(16));return e[0]=127&e[0],e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}},2060:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},5449:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)3&t||(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},8563:(e,t,n)=>{var r=n(5449),i=n(2060);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},4647:function(e,t,n){function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},r.apply(this,arguments)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function o(e){var t=c();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}(this,n)}}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},s(e)}function l(e,t,n){return(l=c()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,"symbol"==typeof(i=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key))?i:String(i)),r)}var i}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}e=n.nmd(e),function(t,n,l,c){"use strict";const u=e=>e&&"object"==typeof e&&"default"in e?e:{default:e};function p(e){if(e&&e.__esModule)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e)for(const n in e)if("default"!==n){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}return t.default=e,Object.freeze(t)}const m=u(n),g=u(l),b=p(c);var v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};function y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function T(e){var t=e.default;if("function"==typeof t){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var _,E,x,w,S={exports:{}};S.exports=function(){if(w)return x;w=1;var e=E?_:(E=1,_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,x=function(){function r(t,n,r,i,o,a){if(a!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function i(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}()();var A="http://www.w3.org/1999/xhtml";const k={svg:"http://www.w3.org/2000/svg",xhtml:A,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function C(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),k.hasOwnProperty(t)?{space:k[t],local:e}:e}function I(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===A&&t.documentElement.namespaceURI===A?t.createElement(e):t.createElementNS(n,e)}}function O(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function D(e){var t=C(e);return(t.local?O:I)(t)}function P(){}function N(e){return null==e?P:function(){return this.querySelector(e)}}function R(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function M(){return[]}function L(e){return null==e?M:function(){return this.querySelectorAll(e)}}function B(e){return function(){return this.matches(e)}}function F(e){return function(t){return t.matches(e)}}var U=Array.prototype.find;function j(){return this.firstElementChild}var H=Array.prototype.filter;function G(){return this.children}function z(e){return new Array(e.length)}function V(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Y(e,t,n,r,i,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new V(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function $(e,t,n,r,i,o,a){var s,l,c,u=new Map,h=t.length,d=o.length,p=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(p[s]=c=a.call(l,l.__data__,s,t)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<d;++s)c=a.call(e,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new V(e,o[s]);for(s=0;s<h;++s)(l=t[s])&&u.get(p[s])===l&&(i[s]=l)}function X(e){return e.__data__}function W(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function q(e){return function(){this.removeAttribute(e)}}function K(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Z(e,t){return function(){this.setAttribute(e,t)}}function Q(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function J(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function ee(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function te(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ne(e){return function(){this.style.removeProperty(e)}}function re(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ie(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function oe(e,t){return e.style.getPropertyValue(t)||te(e).getComputedStyle(e,null).getPropertyValue(t)}function ae(e){return function(){delete this[e]}}function se(e,t){return function(){this[e]=t}}function le(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ce(e){return e.trim().split(/^|\s+/)}function ue(e){return e.classList||new he(e)}function he(e){this._node=e,this._names=ce(e.getAttribute("class")||"")}function de(e,t){for(var n=ue(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function pe(e,t){for(var n=ue(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function fe(e){return function(){de(this,e)}}function me(e){return function(){pe(this,e)}}function ge(e,t){return function(){(t.apply(this,arguments)?de:pe)(this,e)}}function be(){this.textContent=""}function ve(e){return function(){this.textContent=e}}function ye(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Te(){this.innerHTML=""}function _e(e){return function(){this.innerHTML=e}}function Ee(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function xe(){this.nextSibling&&this.parentNode.appendChild(this)}function we(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Se(){return null}function Ae(){var e=this.parentNode;e&&e.removeChild(this)}function ke(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ce(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ie(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Oe(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function De(e,t,n){var r=te(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Pe(e,t){return function(){return De(this,e,t)}}function Ne(e,t){return function(){return De(this,e,t.apply(this,arguments))}}V.prototype={constructor:V,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},he.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Re=[null];function Me(e,t){this._groups=e,this._parents=t}function Le(){return new Me([[document.documentElement]],Re)}function Be(e){return"string"==typeof e?new Me([[document.querySelector(e)]],[document.documentElement]):new Me([[e]],Re)}Me.prototype=Le.prototype={constructor:Me,select:function(e){"function"!=typeof e&&(e=N(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=e.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Me(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:R(t)}}(e):L(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),i.push(a));return new Me(r,i)},selectChild:function(e){return this.select(null==e?j:function(e){return function(){return U.call(this.children,e)}}("function"==typeof e?e:F(e)))},selectChildren:function(e){return this.selectAll(null==e?G:function(e){return function(){return H.call(this.children,e)}}("function"==typeof e?e:F(e)))},filter:function(e){"function"!=typeof e&&(e=B(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new Me(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,X);var n,r=t?$:Y,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var h=i[u],d=o[u],p=d.length,f=R(e.call(h,h&&h.__data__,u,i)),m=f.length,g=l[u]=new Array(m),b=s[u]=new Array(m);r(h,d,g,b,c[u]=new Array(p),f,t);for(var v,y,T=0,_=0;T<m;++T)if(v=g[T]){for(T>=_&&(_=T+1);!(y=b[_])&&++_<m;);v._next=y||null}}return(s=new Me(s,i))._enter=l,s._exit=c,s},enter:function(){return new Me(this._enter||this._groups.map(z),this._parents)},exit:function(){return new Me(this._exit||this._groups.map(z),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){if(!(e instanceof Me))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=t[s],u=n[s],h=c.length,d=a[s]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;s<r;++s)a[s]=t[s];return new Me(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=W);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Me(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=C(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?K:q:"function"==typeof t?n.local?ee:J:n.local?Q:Z)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?ne:"function"==typeof t?ie:re)(e,t,null==n?"":n)):oe(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?ae:"function"==typeof t?le:se)(e,t)):this.node()[e]},classed:function(e,t){var n=ce(e+"");if(arguments.length<2){for(var r=ue(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?ge:t?fe:me)(n,t))},text:function(e){return arguments.length?this.each(null==e?be:("function"==typeof e?ye:ve)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Te:("function"==typeof e?Ee:_e)(e)):this.node().innerHTML},raise:function(){return this.each(xe)},lower:function(){return this.each(we)},append:function(e){var t="function"==typeof e?e:D(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:D(e),r=null==t?Se:"function"==typeof t?t:N(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ae)},clone:function(e){return this.select(e?Ce:ke)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Oe:Ie,r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Ne:Pe)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Fe=0;function Ue(){return new je}function je(){this._="@"+(++Fe).toString(36)}function He(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ge(e,t){if(e=He(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}je.prototype=Ue.prototype={constructor:je,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};const ze=Object.freeze(Object.defineProperty({__proto__:null,create:function(e){return Be(D(e).call(document.documentElement))},creator:D,local:Ue,matcher:B,namespace:C,namespaces:k,pointer:Ge,pointers:function(e,t){return e.target&&(e=He(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,(e=>Ge(e,t)))},select:Be,selectAll:function(e){return"string"==typeof e?new Me([document.querySelectorAll(e)],[document.documentElement]):new Me([null==e?[]:R(e)],Re)},selection:Le,selector:N,selectorAll:L,style:oe,window:te},Symbol.toStringTag,{value:"Module"}));function Ve(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ye(e){let t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>Ve(e(t),n)}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);const a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}function $e(e){return null===e?NaN:+e}const Xe=Ye(Ve),We=Xe.right,qe=Xe.left,Ke=Ye($e).center,Ze=We;function Qe(e,t){let n=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&++n;else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(i=+i)>=i&&++n}return n}function Je(e){return 0|e.length}function et(e){return!(e>0)}function tt(e){return"object"!=typeof e||"length"in e?e:Array.from(e)}function nt(e,t){let n,r=0,i=0,o=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-i,i+=n/++r,o+=n*(t-i));else{let a=-1;for(let s of e)null!=(s=t(s,++a,e))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function rt(e,t){const n=nt(e,t);return n?Math.sqrt(n):n}function it(e,t){let n,r;if(void 0===t)for(const t of e)null!=t&&(void 0===n?t>=t&&(n=r=t):(n>t&&(n=t),r<t&&(r=t)));else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}let ot=function(){function e(){d(this,e),this._partials=new Float64Array(32),this._n=0}return f(e,[{key:"add",value:function(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=t[r],o=e+i,a=Math.abs(e)<Math.abs(i)?e-(o-i):i-(o-e);a&&(t[n++]=a),e=o}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){const e=this._partials;let t,n,r,i=this._n,o=0;if(i>0){for(o=e[--i];i>0&&(t=o,n=e[--i],o=t+n,r=n-(o-t),!r););i>0&&(r<0&&e[i-1]<0||r>0&&e[i-1]>0)&&(n=2*r,t=o+n,n==t-o&&(o=t))}return o}}]),e}();let at=function(e){i(n,e);var t=o(n);function n(e,r=ht){var i;if(d(this,n),i=t.call(this),Object.defineProperties(a(i),{_intern:{value:new Map},_key:{value:r}}),null!=e)for(const[t,n]of e)i.set(t,n);return i}return f(n,[{key:"get",value:function(e){return r(h(n.prototype),"get",this).call(this,lt(this,e))}},{key:"has",value:function(e){return r(h(n.prototype),"has",this).call(this,lt(this,e))}},{key:"set",value:function(e,t){return r(h(n.prototype),"set",this).call(this,ct(this,e),t)}},{key:"delete",value:function(e){return r(h(n.prototype),"delete",this).call(this,ut(this,e))}}]),n}(s(Map)),st=function(e){i(n,e);var t=o(n);function n(e,r=ht){var i;if(d(this,n),i=t.call(this),Object.defineProperties(a(i),{_intern:{value:new Map},_key:{value:r}}),null!=e)for(const t of e)i.add(t);return i}return f(n,[{key:"has",value:function(e){return r(h(n.prototype),"has",this).call(this,lt(this,e))}},{key:"add",value:function(e){return r(h(n.prototype),"add",this).call(this,ct(this,e))}},{key:"delete",value:function(e){return r(h(n.prototype),"delete",this).call(this,ut(this,e))}}]),n}(s(Set));function lt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ct({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ut({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(n),e.delete(r)),n}function ht(e){return null!==e&&"object"==typeof e?e.valueOf():e}function dt(e){return e}function pt(e,...t){return gt(e,dt,dt,t)}function ft(e,t,...n){return gt(e,dt,t,n)}function mt(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function gt(e,t,n,r){return function e(i,o){if(o>=r.length)return n(i);const a=new at,s=r[o++];let l=-1;for(const e of i){const t=s(e,++l,i),n=a.get(t);n?n.push(e):a.set(t,[e])}for(const[t,n]of a)a.set(t,e(n,o));return t(a)}(e,0)}function bt(e,t){return Array.from(t,(t=>e[t]))}function vt(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n=Ve]=t;if(1===n.length||t.length>1){const r=Uint32Array.from(e,((e,t)=>t));return t.length>1?(t=t.map((t=>e.map(t))),r.sort(((e,n)=>{for(const r of t){const t=Ve(r[e],r[n]);if(t)return t}}))):(n=e.map(n),r.sort(((e,t)=>Ve(n[e],n[t])))),bt(e,r)}return e.sort(n)}var yt=Array.prototype.slice;function Tt(e){return function(){return e}}var _t=Math.sqrt(50),Et=Math.sqrt(10),xt=Math.sqrt(2);function wt(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=St(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}function St(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=_t?10:o>=Et?5:o>=xt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=_t?10:o>=Et?5:o>=xt?2:1)}function At(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=_t?i*=10:o>=Et?i*=5:o>=xt&&(i*=2),t<e?-i:i}function kt(e,t,n){let r;for(;;){const i=St(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function Ct(e){return Math.ceil(Math.log(Qe(e))/Math.LN2)+1}function It(){var e=dt,t=it,n=Ct;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(r[i],i,r);var l=t(s),c=l[0],u=l[1],h=n(s,c,u);if(!Array.isArray(h)){const e=u,n=+h;if(t===it&&([c,u]=kt(c,u,n)),(h=wt(c,u,n))[h.length-1]>=u)if(e>=u&&t===it){const e=St(c,u,n);isFinite(e)&&(e>0?u=(Math.floor(u/e)+1)*e:e<0&&(u=(Math.ceil(u*-e)+1)/-e))}else h.pop()}for(var d=h.length;h[0]<=c;)h.shift(),--d;for(;h[d-1]>u;)h.pop(),--d;var p,f=new Array(d+1);for(i=0;i<=d;++i)(p=f[i]=[]).x0=i>0?h[i-1]:c,p.x1=i<d?h[i]:u;for(i=0;i<a;++i)c<=(o=s[i])&&o<=u&&f[Ze(h,o,0,d)].push(r[i]);return f}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:Tt(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:Tt([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?Tt(yt.call(e)):Tt(e),r):n},r}function Ot(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function Dt(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function Pt(e,t,n=0,r=e.length-1,i=Ve){for(;r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);Pt(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(Nt(e,n,t),i(e[r],o)>0&&Nt(e,n,r);a<s;){for(Nt(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?Nt(e,n,s):(++s,Nt(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Nt(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Rt(e,t,n){if(r=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n))).length){if((t=+t)<=0||r<2)return Dt(e);if(t>=1)return Ot(e);var r,i=(r-1)*t,o=Math.floor(i),a=Ot(Pt(e,o).subarray(0,o+1));return a+(Dt(e.subarray(o+1))-a)*(i-o)}}function Mt(e,t,n=$e){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function Lt(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n<t||void 0===n&&t>=t)&&(n=t,r=i);else for(let o of e)null!=(o=t(o,++i,e))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function Bt(e,t){let n=0,r=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,r+=t);else{let i=-1;for(let o of e)null!=(o=t(o,++i,e))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Ft(e,t){return Rt(e,.5,t)}function Ut(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function jt(e,t){let n,r=-1,i=-1;if(void 0===t)for(const t of e)++i,null!=t&&(n>t||void 0===n&&t>=t)&&(n=t,r=i);else for(let o of e)null!=(o=t(o,++i,e))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function Ht(e,t){return[e,t]}function Gt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function zt(e,t=Ve){if(1===t.length)return jt(e,t);let n,r=-1,i=-1;for(const o of e)++i,(r<0?0===t(o,o):t(o,n)<0)&&(n=o,r=i);return r}const Vt=Yt(Math.random);function Yt(e){return function(t,n=0,r=t.length){let i=r-(n=+n);for(;i;){const r=e()*i--|0,o=t[i+n];t[i+n]=t[r+n],t[r+n]=o}return t}}function $t(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Xt(e){if(!(i=e.length))return[];for(var t=-1,n=Dt(e,Wt),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=e[o][t];return r}function Wt(e){return e.length}function qt(e){return e instanceof Set?e:new Set(e)}function Kt(e,t){const n=e[Symbol.iterator](),r=new Set;for(const e of t){if(r.has(e))continue;let t,i;for(;({value:t,done:i}=n.next());){if(i)return!1;if(r.add(t),Object.is(e,t))break}}return!0}const Zt=Object.freeze(Object.defineProperty({__proto__:null,bisect:Ze,bisectRight:We,bisectLeft:qe,bisectCenter:Ke,ascending:Ve,bisector:Ye,count:Qe,cross:function(...e){const t="function"==typeof e[e.length-1]&&function(e){return t=>e(...t)}(e.pop()),n=(e=e.map(tt)).map(Je),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(et))return o;for(;;){o.push(i.map(((t,n)=>e[n][t])));let a=r;for(;++i[a]===n[a];){if(0===a)return t?o.map(t):o;i[a--]=0}}},cumsum:function(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?e=>n+=+e||0:i=>n+=+t(i,r++,e)||0)},descending:function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},deviation:rt,extent:it,Adder:ot,fsum:function(e,t){const n=new ot;if(void 0===t)for(let t of e)(t=+t)&&n.add(t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&n.add(i)}return+n},fcumsum:function(e,t){const n=new ot;let r=-1;return Float64Array.from(e,void 0===t?e=>n.add(+e||0):i=>n.add(+t(i,++r,e)||0))},group:pt,groups:function(e,...t){return gt(e,Array.from,dt,t)},index:function(e,...t){return gt(e,dt,mt,t)},indexes:function(e,...t){return gt(e,Array.from,mt,t)},rollup:ft,rollups:function(e,t,...n){return gt(e,Array.from,t,n)},groupSort:function(e,t,n){return(1===t.length?vt(ft(e,t,n),(([e,t],[n,r])=>Ve(t,r)||Ve(e,n))):vt(pt(e,n),(([e,n],[r,i])=>t(n,i)||Ve(e,r)))).map((([e])=>e))},bin:It,histogram:It,thresholdFreedmanDiaconis:function(e,t,n){return Math.ceil((n-t)/(2*(Rt(e,.75)-Rt(e,.25))*Math.pow(Qe(e),-1/3)))},thresholdScott:function(e,t,n){return Math.ceil((n-t)/(3.5*rt(e)*Math.pow(Qe(e),-1/3)))},thresholdSturges:Ct,max:Ot,maxIndex:Lt,mean:Bt,median:Ft,merge:Ut,min:Dt,minIndex:jt,nice:kt,pairs:function(e,t=Ht){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n},permute:bt,quantile:Rt,quantileSorted:Mt,quickselect:Pt,range:Gt,least:function(e,t=Ve){let n,r=!1;if(1===t.length){let i;for(const o of e){const e=t(o);(r?Ve(e,i)<0:0===Ve(e,e))&&(n=o,i=e,r=!0)}}else for(const i of e)(r?t(i,n)<0:0===t(i,i))&&(n=i,r=!0);return n},leastIndex:zt,greatest:function(e,t=Ve){let n,r=!1;if(1===t.length){let i;for(const o of e){const e=t(o);(r?Ve(e,i)>0:0===Ve(e,e))&&(n=o,i=e,r=!0)}}else for(const i of e)(r?t(i,n)>0:0===t(i,i))&&(n=i,r=!0);return n},greatestIndex:function(e,t=Ve){if(1===t.length)return Lt(e,t);let n,r=-1,i=-1;for(const o of e)++i,(r<0?0===t(o,o):t(o,n)>0)&&(n=o,r=i);return r},scan:function(e,t){const n=zt(e,t);return n<0?void 0:n},shuffle:Vt,shuffler:Yt,sum:$t,ticks:wt,tickIncrement:St,tickStep:At,transpose:Xt,variance:nt,zip:function(){return Xt(arguments)},every:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(!t(r,++n,e))return!1;return!0},some:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");let n=-1;for(const r of e)if(t(r,++n,e))return!0;return!1},filter:function(e,t){if("function"!=typeof t)throw new TypeError("test is not a function");const n=[];let r=-1;for(const i of e)t(i,++r,e)&&n.push(i);return n},map:function(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,((n,r)=>t(n,r,e)))},reduce:function(e,t,n){if("function"!=typeof t)throw new TypeError("reducer is not a function");const r=e[Symbol.iterator]();let i,o,a=-1;if(arguments.length<3){if(({done:i,value:n}=r.next()),i)return;++a}for(;({done:i,value:o}=r.next()),!i;)n=t(n,o,++a,e);return n},reverse:function(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()},sort:vt,difference:function(e,...t){e=new Set(e);for(const n of t)for(const t of n)e.delete(t);return e},disjoint:function(e,t){const n=t[Symbol.iterator](),r=new Set;for(const t of e){if(r.has(t))return!1;let e,i;for(;({value:e,done:i}=n.next())&&!i;){if(Object.is(t,e))return!1;r.add(e)}}return!0},intersection:function(e,...t){e=new Set(e),t=t.map(qt);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e},subset:function(e,t){return Kt(t,e)},superset:Kt,union:function(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t},InternMap:at,InternSet:st},Symbol.toStringTag,{value:"Module"}));function Qt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Jt(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const en=Symbol("implicit");function tn(){var e=new at,t=[],n=[],r=en;function i(i){let o=e.get(i);if(void 0===o){if(r!==en)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new at;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return tn(t,n).unknown(r)},Qt.apply(i,arguments),i}function nn(){var e,t,n=tn().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=a<o,d=h?a:o,p=h?o:a;e=(p-d)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),d+=(p-d-e*(n-l))*u,t=e*(1-l),s&&(d=Math.round(d),t=Math.round(t));var f=Gt(n).map((function(t){return d+e*t}));return i(h?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,h()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,h()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},n.copy=function(){return nn(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},Qt.apply(h(),arguments)}function rn(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rn(t())},e}function on(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function an(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function sn(){}var ln=.7,cn=1/ln,un="\\s*([+-]?\\d+)\\s*",hn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pn=/^#([0-9a-f]{3,8})$/,fn=new RegExp("^rgb\\("+[un,un,un]+"\\)$"),mn=new RegExp("^rgb\\("+[dn,dn,dn]+"\\)$"),gn=new RegExp("^rgba\\("+[un,un,un,hn]+"\\)$"),bn=new RegExp("^rgba\\("+[dn,dn,dn,hn]+"\\)$"),vn=new RegExp("^hsl\\("+[hn,dn,dn]+"\\)$"),yn=new RegExp("^hsla\\("+[hn,dn,dn,hn]+"\\)$"),Tn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _n(){return this.rgb().formatHex()}function En(){return this.rgb().formatRgb()}function xn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=pn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?wn(t):3===n?new Cn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Sn(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Sn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=fn.exec(e))?new Cn(t[1],t[2],t[3],1):(t=mn.exec(e))?new Cn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=gn.exec(e))?Sn(t[1],t[2],t[3],t[4]):(t=bn.exec(e))?Sn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=vn.exec(e))?Pn(t[1],t[2]/100,t[3]/100,1):(t=yn.exec(e))?Pn(t[1],t[2]/100,t[3]/100,t[4]):Tn.hasOwnProperty(e)?wn(Tn[e]):"transparent"===e?new Cn(NaN,NaN,NaN,0):null}function wn(e){return new Cn(e>>16&255,e>>8&255,255&e,1)}function Sn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Cn(e,t,n,r)}function An(e){return e instanceof sn||(e=xn(e)),e?new Cn((e=e.rgb()).r,e.g,e.b,e.opacity):new Cn}function kn(e,t,n,r){return 1===arguments.length?An(e):new Cn(e,t,n,null==r?1:r)}function Cn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function In(){return"#"+Dn(this.r)+Dn(this.g)+Dn(this.b)}function On(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Dn(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Pn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mn(e,t,n,r)}function Nn(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof sn||(e=xn(e)),!e)return new Mn;if(e instanceof Mn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Mn(a,s,l,e.opacity)}function Rn(e,t,n,r){return 1===arguments.length?Nn(e):new Mn(e,t,n,null==r?1:r)}function Mn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ln(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}on(sn,xn,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:_n,formatHex:_n,formatHsl:function(){return Nn(this).formatHsl()},formatRgb:En,toString:En}),on(Cn,kn,an(sn,{brighter:function(e){return e=null==e?cn:Math.pow(cn,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?ln:Math.pow(ln,e),new Cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:In,formatHex:In,formatRgb:On,toString:On})),on(Mn,Rn,an(sn,{brighter:function(e){return e=null==e?cn:Math.pow(cn,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ln:Math.pow(ln,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Cn(Ln(e>=240?e-240:e+120,i,r),Ln(e,i,r),Ln(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Bn=Math.PI/180,Fn=180/Math.PI,Un=.96422,jn=1,Hn=.82521,Gn=4/29,zn=6/29,Vn=3*zn*zn,Yn=zn*zn*zn;function $n(e){if(e instanceof Wn)return new Wn(e.l,e.a,e.b,e.opacity);if(e instanceof tr)return nr(e);e instanceof Cn||(e=An(e));var t,n,r=Qn(e.r),i=Qn(e.g),o=Qn(e.b),a=qn((.2225045*r+.7168786*i+.0606169*o)/jn);return r===i&&i===o?t=n=a:(t=qn((.4360747*r+.3850649*i+.1430804*o)/Un),n=qn((.0139322*r+.0971045*i+.7141733*o)/Hn)),new Wn(116*a-16,500*(t-a),200*(a-n),e.opacity)}function Xn(e,t,n,r){return 1===arguments.length?$n(e):new Wn(e,t,n,null==r?1:r)}function Wn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function qn(e){return e>Yn?Math.pow(e,1/3):e/Vn+Gn}function Kn(e){return e>zn?e*e*e:Vn*(e-Gn)}function Zn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Qn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Jn(e){if(e instanceof tr)return new tr(e.h,e.c,e.l,e.opacity);if(e instanceof Wn||(e=$n(e)),0===e.a&&0===e.b)return new tr(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Fn;return new tr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function er(e,t,n,r){return 1===arguments.length?Jn(e):new tr(e,t,n,null==r?1:r)}function tr(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function nr(e){if(isNaN(e.h))return new Wn(e.l,0,0,e.opacity);var t=e.h*Bn;return new Wn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}on(Wn,Xn,an(sn,{brighter:function(e){return new Wn(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Wn(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Cn(Zn(3.1338561*(t=Un*Kn(t))-1.6168667*(e=jn*Kn(e))-.4906146*(n=Hn*Kn(n))),Zn(-.9787684*t+1.9161415*e+.033454*n),Zn(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),on(tr,er,an(sn,{brighter:function(e){return new tr(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new tr(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return nr(this).rgb()}}));var rr=-.14861,ir=1.78277,or=-.29227,ar=-.90649,sr=1.97294,lr=sr*ar,cr=sr*ir,ur=ir*or-ar*rr;function hr(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof dr)return new dr(e.h,e.s,e.l,e.opacity);e instanceof Cn||(e=An(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(ur*r+lr*t-cr*n)/(ur+lr-cr),o=r-i,a=(sr*(n-i)-or*o)/ar,s=Math.sqrt(a*a+o*o)/(sr*i*(1-i)),l=s?Math.atan2(a,o)*Fn-120:NaN;return new dr(l<0?l+360:l,s,i,e.opacity)}(e):new dr(e,t,n,null==r?1:r)}function dr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}on(dr,hr,an(sn,{brighter:function(e){return e=null==e?cn:Math.pow(cn,e),new dr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ln:Math.pow(ln,e),new dr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Bn,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Cn(255*(t+n*(rr*r+ir*i)),255*(t+n*(or*r+ar*i)),255*(t+n*(sr*r)),this.opacity)}}));const pr=Object.freeze(Object.defineProperty({__proto__:null,color:xn,rgb:kn,hsl:Rn,lab:Xn,hcl:er,lch:function(e,t,n,r){return 1===arguments.length?Jn(e):new tr(n,t,e,null==r?1:r)},gray:function(e,t){return new Wn(e,0,0,null==t?1:t)},cubehelix:hr},Symbol.toStringTag,{value:"Module"})),fr=e=>()=>e;function mr(e){return 1==(e=+e)?gr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):fr(isNaN(t)?n:t)}}function gr(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):fr(isNaN(e)?t:e)}const br=function e(t){var n=mr(t);function r(e,t){var r=n((e=kn(e)).r,(t=kn(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=gr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function vr(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function yr(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Ar(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Tr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Er(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Ar(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wr=new RegExp(xr.source,"g");function Sr(e,t){var n,r,i,o=xr.lastIndex=wr.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=xr.exec(e))&&(r=wr.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:_r(n,r)})),o=wr.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Ar(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?fr(t):("number"===i?_r:"string"===i?(n=xn(t))?(t=n,br):Sr:t instanceof xn?br:t instanceof Date?Tr:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?yr:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Er:_r:vr))(e,t)}function kr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Cr,Ir=180/Math.PI,Or={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dr(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Ir,skewX:Math.atan(l)*Ir,scaleX:a,scaleY:s}}function Pr(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:_r(e,i)},{i:l-2,x:_r(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:_r(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:_r(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,l),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:_r(e,n)},{i:s-2,x:_r(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var Nr=Pr((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Or:Dr(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Rr=Pr((function(e){return null==e?Or:(Cr||(Cr=document.createElementNS("http://www.w3.org/2000/svg","g")),Cr.setAttribute("transform",e),(e=Cr.transform.baseVal.consolidate())?Dr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Or)}),", ",")",")");function Mr(e){return((e=Math.exp(e))+1/e)/2}const Lr=function e(t,n,r){function i(e,i){var o,a,s=e[0],l=e[1],c=e[2],u=i[0],h=i[1],d=i[2],p=u-s,f=h-l,m=p*p+f*f;if(m<1e-12)a=Math.log(d/c)/t,o=function(e){return[s+e*p,l+e*f,c*Math.exp(t*e*a)]};else{var g=Math.sqrt(m),b=(d*d-c*c+r*m)/(2*c*n*g),v=(d*d-c*c-r*m)/(2*d*n*g),y=Math.log(Math.sqrt(b*b+1)-b),T=Math.log(Math.sqrt(v*v+1)-v);a=(T-y)/t,o=function(e){var r,i=e*a,o=Mr(y),u=c/(n*g)*(o*(r=t*i+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[s+u*p,l+u*f,c*o/Mr(t*i+y)]}}return o.duration=1e3*a*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function Br(e){return+e}var Fr=[0,1];function Ur(e){return e}function jr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Hr(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=jr(i,r),o=n(a,o)):(r=jr(r,i),o=n(o,a)),function(e){return o(r(e))}}function Gr(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=jr(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Ze(e,t,1,r)-1;return o[n](i[n](t))}}function zr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vr(){var e,t,n,r,i,o,a=Fr,s=Fr,l=Ar,c=Ur;function u(){var e,t,n,l=Math.min(a.length,s.length);return c!==Ur&&(e=a[0],t=a[l-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?Gr:Hr,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(c(t)))}return h.invert=function(n){return c(t((o||(o=r(s,a.map(e),_r)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,Br),u()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),l=kr,u()},h.clamp=function(e){return arguments.length?(c=!!e||Ur,u()):c!==Ur},h.interpolate=function(e){return arguments.length?(l=e,u()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,u()}}function Yr(){return Vr()(Ur,Ur)}function $r(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Xr(e){return(e=$r(Math.abs(e)))?e[1]:NaN}var Wr,qr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kr(e){if(!(t=qr.exec(e)))throw new Error("invalid format: "+e);var t;return new Zr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Zr(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Qr(e,t){var n=$r(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Kr.prototype=Zr.prototype,Zr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Jr={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Qr(100*e,t),r:Qr,s:function(e,t){var n=$r(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Wr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$r(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ei(e){return e}var ti,ni,ri,ii=Array.prototype.map,oi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ai(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ei:(t=ii.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?ei:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ii.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=Kr(e)).fill,n=e.align,h=e.sign,d=e.symbol,p=e.zero,f=e.width,m=e.comma,g=e.precision,b=e.trim,v=e.type;"n"===v?(m=!0,v="g"):Jr[v]||(void 0===g&&(g=12),b=!0,v="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var y="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",T="$"===d?o:/[%p]/.test(v)?l:"",_=Jr[v],E=/[defgprs%]/.test(v);function x(e){var i,o,l,d=y,x=T;if("c"===v)x=_(e)+x,e="";else{var w=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:_(Math.abs(e),g),b&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),w&&0==+e&&"+"!==h&&(w=!1),d=(w?"("===h?h:c:"-"===h||"("===h?"":h)+d,x=("s"===v?oi[8+Wr/3]:"")+x+(w&&"("===h?")":""),E)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){x=(46===l?a+e.slice(i+1):e.slice(i))+x,e=e.slice(0,i);break}}m&&!p&&(e=r(e,1/0));var S=d.length+e.length+x.length,A=S<f?new Array(f-S+1).join(t):"";switch(m&&p&&(e=r(A+e,A.length?f-x.length:1/0),A=""),n){case"<":e=d+e+x+A;break;case"=":e=d+A+e+x;break;case"^":e=A.slice(0,S=A.length>>1)+d+e+x+A.slice(S);break;default:e=A+d+e+x}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return e+""},x}return{format:h,formatPrefix:function(e,t){var n=h(((e=Kr(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(Xr(t)/3))),i=Math.pow(10,-r),o=oi[8+r/3];return function(e){return n(i*e)+o}}}}function si(e){return ti=ai(e),ni=ti.format,ri=ti.formatPrefix,ti}function li(e){return Math.max(0,-Xr(Math.abs(e)))}function ci(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xr(t)/3)))-Xr(Math.abs(e)))}function ui(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Xr(t)-Xr(e))+1}si({thousands:",",grouping:[3],currency:["$",""]});const hi=Object.freeze(Object.defineProperty({__proto__:null,formatDefaultLocale:si,get format(){return ni},get formatPrefix(){return ri},formatLocale:ai,formatSpecifier:Kr,FormatSpecifier:Zr,precisionFixed:li,precisionPrefix:ci,precisionRound:ui},Symbol.toStringTag,{value:"Module"}));function di(e,t,n,r){var i,o=At(e,t,n);switch((r=Kr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=ci(o,a))||(r.precision=i),ri(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=ui(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=li(o))||(r.precision=i-2*("%"===r.type))}return ni(r)}function pi(e){var t=e.domain;return e.ticks=function(e){var n=t();return wt(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return di(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=St(l,c,n))===r)return o[a]=l,o[s]=c,t(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function fi(){var e=Yr();return e.copy=function(){return zr(e,fi())},Qt.apply(e,arguments),pi(e)}function mi(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function gi(e){return Math.log(e)}function bi(e){return Math.exp(e)}function vi(e){return-Math.log(-e)}function yi(e){return-Math.exp(-e)}function Ti(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _i(e){return(t,n)=>-e(-t,n)}function Ei(e){const t=e(gi,bi),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?Ti:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=_i(r),i=_i(i),e(vi,yi)):e(gi,bi),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,h=r(a),d=r(s);const p=null==e?10:+e;let f=[];if(!(o%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(c=1;c<o;++c)if(u=h<0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;f.push(u)}}else for(;h<=d;++h)for(c=o-1;c>=1;--c)if(u=h>0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;f.push(u)}2*f.length<p&&(f=wt(a,s,p))}else f=wt(h,d,Math.min(d-h,p)).map(i);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=Kr(n)).precision||(n.trim=!0),n=ni(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(mi(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function xi(){const e=Ei(Vr()).domain([1,10]);return e.copy=()=>zr(e,xi()).base(e.base()),Qt.apply(e,arguments),e}function wi(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Si(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ai(e){var t=1,n=e(wi(t),Si(t));return n.constant=function(n){return arguments.length?e(wi(t=+n),Si(t)):t},pi(n)}function ki(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ci(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ii(e){return e<0?-e*e:e*e}function Oi(e){var t=e(Ur,Ur),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(Ur,Ur):.5===n?e(Ci,Ii):e(ki(n),ki(1/n)):n},pi(t)}function Di(){var e=Oi(Vr());return e.copy=function(){return zr(e,Di()).exponent(e.exponent())},Qt.apply(e,arguments),e}function Pi(e){return Math.sign(e)*e*e}function Ni(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Mt(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[Ze(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Ve),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return Ni().domain(t).range(n).unknown(e)},Qt.apply(o,arguments)}const Ri=new Date,Mi=new Date;function Li(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>Li((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(Ri.setTime(+t),Mi.setTime(+r),e(Ri),e(Mi),Math.floor(n(Ri,Mi))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e==0:t=>i.count(0,t)%e==0):i:null)),i}const Bi=Li((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Bi.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Li((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):Bi:null),Bi.range;const Fi=1e3,Ui=6e4,ji=36e5,Hi=864e5,Gi=6048e5,zi=2592e6,Vi=31536e6,Yi=Li((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Fi)}),((e,t)=>(t-e)/Fi),(e=>e.getUTCSeconds()));Yi.range;const $i=Li((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fi)}),((e,t)=>{e.setTime(+e+t*Ui)}),((e,t)=>(t-e)/Ui),(e=>e.getMinutes()));$i.range;const Xi=Li((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*Ui)}),((e,t)=>(t-e)/Ui),(e=>e.getUTCMinutes()));Xi.range;const Wi=Li((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fi-e.getMinutes()*Ui)}),((e,t)=>{e.setTime(+e+t*ji)}),((e,t)=>(t-e)/ji),(e=>e.getHours()));Wi.range;const qi=Li((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*ji)}),((e,t)=>(t-e)/ji),(e=>e.getUTCHours()));qi.range;const Ki=Li((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/Hi),(e=>e.getDate()-1));Ki.range;const Zi=Li((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Hi),(e=>e.getUTCDate()-1));Zi.range;const Qi=Li((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Hi),(e=>Math.floor(e/Hi)));function Ji(e){return Li((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/Gi))}Qi.range;const eo=Ji(0),to=Ji(1),no=Ji(2),ro=Ji(3),io=Ji(4),oo=Ji(5),ao=Ji(6);function so(e){return Li((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Gi))}eo.range,to.range,no.range,ro.range,io.range,oo.range,ao.range;const lo=so(0),co=so(1),uo=so(2),ho=so(3),po=so(4),fo=so(5),mo=so(6);lo.range,co.range,uo.range,ho.range,po.range,fo.range,mo.range;const go=Li((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()));go.range;const bo=Li((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));bo.range;const vo=Li((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));vo.every=e=>isFinite(e=Math.floor(e))&&e>0?Li((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null,vo.range;const yo=Li((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function To(e,t,n,r,i,o){const a=[[Yi,1,Fi],[Yi,5,5e3],[Yi,15,15e3],[Yi,30,3e4],[o,1,Ui],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,ji],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Hi],[r,2,1728e5],[n,1,Gi],[t,1,zi],[t,3,7776e6],[e,1,Vi]];function s(t,n,r){const i=Math.abs(n-t)/r,o=Ye((([,,e])=>e)).right(a,i);if(o===a.length)return e.every(At(t/Vi,n/Vi,r));if(0===o)return Bi.every(Math.max(At(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}yo.every=e=>isFinite(e=Math.floor(e))&&e>0?Li((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null,yo.range;const[_o,Eo]=To(yo,bo,lo,Qi,qi,Xi),[xo,wo]=To(vo,go,eo,Ki,Wi,$i);function So(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ao(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ko(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Co,Io,Oo,Do={"-":"",_:" ",0:"0"},Po=/^\s*\d+/,No=/^%/,Ro=/[\\^$*+?|[\]().{}]/g;function Mo(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Lo(e){return e.replace(Ro,"\\$&")}function Bo(e){return new RegExp("^(?:"+e.map(Lo).join("|")+")","i")}function Fo(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Uo(e,t,n){var r=Po.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function jo(e,t,n){var r=Po.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ho(e,t,n){var r=Po.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Go(e,t,n){var r=Po.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function zo(e,t,n){var r=Po.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Vo(e,t,n){var r=Po.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yo(e,t,n){var r=Po.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $o(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xo(e,t,n){var r=Po.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Wo(e,t,n){var r=Po.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qo(e,t,n){var r=Po.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ko(e,t,n){var r=Po.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Zo(e,t,n){var r=Po.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Qo(e,t,n){var r=Po.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Jo(e,t,n){var r=Po.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ea(e,t,n){var r=Po.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ta(e,t,n){var r=Po.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function na(e,t,n){var r=No.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ra(e,t,n){var r=Po.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ia(e,t,n){var r=Po.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function oa(e,t){return Mo(e.getDate(),t,2)}function aa(e,t){return Mo(e.getHours(),t,2)}function sa(e,t){return Mo(e.getHours()%12||12,t,2)}function la(e,t){return Mo(1+Ki.count(vo(e),e),t,3)}function ca(e,t){return Mo(e.getMilliseconds(),t,3)}function ua(e,t){return ca(e,t)+"000"}function ha(e,t){return Mo(e.getMonth()+1,t,2)}function da(e,t){return Mo(e.getMinutes(),t,2)}function pa(e,t){return Mo(e.getSeconds(),t,2)}function fa(e){var t=e.getDay();return 0===t?7:t}function ma(e,t){return Mo(eo.count(vo(e)-1,e),t,2)}function ga(e){var t=e.getDay();return t>=4||0===t?io(e):io.ceil(e)}function ba(e,t){return e=ga(e),Mo(io.count(vo(e),e)+(4===vo(e).getDay()),t,2)}function va(e){return e.getDay()}function ya(e,t){return Mo(to.count(vo(e)-1,e),t,2)}function Ta(e,t){return Mo(e.getFullYear()%100,t,2)}function _a(e,t){return Mo((e=ga(e)).getFullYear()%100,t,2)}function Ea(e,t){return Mo(e.getFullYear()%1e4,t,4)}function xa(e,t){var n=e.getDay();return Mo((e=n>=4||0===n?io(e):io.ceil(e)).getFullYear()%1e4,t,4)}function wa(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Mo(t/60|0,"0",2)+Mo(t%60,"0",2)}function Sa(e,t){return Mo(e.getUTCDate(),t,2)}function Aa(e,t){return Mo(e.getUTCHours(),t,2)}function ka(e,t){return Mo(e.getUTCHours()%12||12,t,2)}function Ca(e,t){return Mo(1+Zi.count(yo(e),e),t,3)}function Ia(e,t){return Mo(e.getUTCMilliseconds(),t,3)}function Oa(e,t){return Ia(e,t)+"000"}function Da(e,t){return Mo(e.getUTCMonth()+1,t,2)}function Pa(e,t){return Mo(e.getUTCMinutes(),t,2)}function Na(e,t){return Mo(e.getUTCSeconds(),t,2)}function Ra(e){var t=e.getUTCDay();return 0===t?7:t}function Ma(e,t){return Mo(lo.count(yo(e)-1,e),t,2)}function La(e){var t=e.getUTCDay();return t>=4||0===t?po(e):po.ceil(e)}function Ba(e,t){return e=La(e),Mo(po.count(yo(e),e)+(4===yo(e).getUTCDay()),t,2)}function Fa(e){return e.getUTCDay()}function Ua(e,t){return Mo(co.count(yo(e)-1,e),t,2)}function ja(e,t){return Mo(e.getUTCFullYear()%100,t,2)}function Ha(e,t){return Mo((e=La(e)).getUTCFullYear()%100,t,2)}function Ga(e,t){return Mo(e.getUTCFullYear()%1e4,t,4)}function za(e,t){var n=e.getUTCDay();return Mo((e=n>=4||0===n?po(e):po.ceil(e)).getUTCFullYear()%1e4,t,4)}function Va(){return"+0000"}function Ya(){return"%"}function $a(e){return+e}function Xa(e){return Math.floor(+e/1e3)}function Wa(e){return new Date(e)}function qa(e){return e instanceof Date?+e:+new Date(+e)}function Ka(e,t,n,r,i,o,a,s,l,c){var u=Yr(),h=u.invert,d=u.domain,p=c(".%L"),f=c(":%S"),m=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),v=c("%b %d"),y=c("%B"),T=c("%Y");function _(e){return(l(e)<e?p:s(e)<e?f:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?b:v:n(e)<e?y:T)(e)}return u.invert=function(e){return new Date(h(e))},u.domain=function(e){return arguments.length?d(Array.from(e,qa)):d().map(Wa)},u.ticks=function(t){var n=d();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?_:c(t)},u.nice=function(e){var n=d();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?d(mi(n,e)):u},u.copy=function(){return zr(u,Ka(e,t,n,r,i,o,a,s,l,c))},u}function Za(){var e,t,n,r,i,o=0,a=1,s=Ur,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),c):[o,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Ar),c.rangeRound=u(kr),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),c}}function Qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ja(){var e=Oi(Za());return e.copy=function(){return Qa(e,Ja()).exponent(e.exponent())},Jt.apply(e,arguments)}function es(){var e,t,n,r,i,o,a,s=0,l=.5,c=1,u=1,h=Ur,d=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(u*e<u*t?r:i),h(d?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,h=function(e,t){void 0===t&&(t=e,e=Ar);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),p):[h(0),h(.5),h(1)]}}return p.domain=function(a){return arguments.length?([s,l,c]=a,e=o(s=+s),t=o(l=+l),n=o(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(d=!!e,p):d},p.interpolator=function(e){return arguments.length?(h=e,p):h},p.range=f(Ar),p.rangeRound=f(kr),p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return o=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function ts(){var e=Oi(es());return e.copy=function(){return Qa(e,ts()).exponent(e.exponent())},Jt.apply(e,arguments)}Co=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=Bo(i),u=Fo(i),h=Bo(o),d=Fo(o),p=Bo(a),f=Fo(a),m=Bo(s),g=Fo(s),b=Bo(l),v=Fo(l),y={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:oa,e:oa,f:ua,g:_a,G:xa,H:aa,I:sa,j:la,L:ca,m:ha,M:da,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:$a,s:Xa,S:pa,u:fa,U:ma,V:ba,w:va,W:ya,x:null,X:null,y:Ta,Y:Ea,Z:wa,"%":Ya},T={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Sa,e:Sa,f:Oa,g:Ha,G:za,H:Aa,I:ka,j:Ca,L:Ia,m:Da,M:Pa,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:$a,s:Xa,S:Na,u:Ra,U:Ma,V:Ba,w:Fa,W:Ua,x:null,X:null,y:ja,Y:Ga,Z:Va,"%":Ya},_={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=b.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return w(e,t,n,r)},d:qo,e:qo,f:ta,g:Yo,G:Vo,H:Zo,I:Zo,j:Ko,L:ea,m:Wo,M:Qo,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:Xo,Q:ra,s:ia,S:Jo,u:jo,U:Ho,V:Go,w:Uo,W:zo,x:function(e,t,r){return w(e,n,t,r)},X:function(e,t,n){return w(e,r,t,n)},y:Yo,Y:Vo,Z:$o,"%":na};function E(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Do[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function x(e,t){return function(n){var r,i,o=ko(1900,void 0,1);if(w(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Ao(ko(o.y,0,1))).getUTCDay(),r=i>4||0===i?co.ceil(r):co(r),r=Zi.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=So(ko(o.y,0,1))).getDay(),r=i>4||0===i?to.ceil(r):to(r),r=Ki.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ao(ko(o.y,0,1)).getUTCDay():So(ko(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ao(o)):So(o)}}function w(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=_[i in Do?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=E(n,y),y.X=E(r,y),y.c=E(t,y),T.x=E(n,T),T.X=E(r,T),T.c=E(t,T),{format:function(e){var t=E(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=E(e+="",T);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Io=Co.format,Co.parse,Oo=Co.utcFormat,Co.utcParse;const ns=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nn,scalePoint:function(){return rn(nn.apply(null,arguments).paddingInner(1))},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,Br),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Br):[0,1],pi(r)},scaleLinear:fi,scaleLog:xi,scaleSymlog:function e(){var t=Ai(Vr());return t.copy=function(){return zr(t,e()).constant(t.constant())},Qt.apply(t,arguments)},scaleOrdinal:tn,scaleImplicit:en,scalePow:Di,scaleSqrt:function(){return Di.apply(null,arguments).exponent(.5)},scaleRadial:function e(){var t,n=Yr(),r=[0,1],i=!1;function o(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return o.invert=function(e){return n.invert(Pi(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,Br)).map(Pi)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(i=!!e,o):i},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},Qt.apply(o,arguments),pi(o)},scaleQuantile:Ni,scaleQuantize:function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return null!=e&&e<=e?a[Ze(o,e,0,i)]:t}function l(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},Qt.apply(pi(s),arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[Ze(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},Qt.apply(o,arguments)},scaleTime:function(){return Qt.apply(Ka(xo,wo,vo,go,eo,Ki,Wi,$i,Yi,Io).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return Qt.apply(Ka(_o,Eo,yo,bo,lo,Zi,qi,Xi,Yi,Oo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},scaleSequential:function e(){var t=pi(Za()(Ur));return t.copy=function(){return Qa(t,e())},Jt.apply(t,arguments)},scaleSequentialLog:function e(){var t=Ei(Za()).domain([1,10]);return t.copy=function(){return Qa(t,e()).base(t.base())},Jt.apply(t,arguments)},scaleSequentialPow:Ja,scaleSequentialSqrt:function(){return Ja.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=Ai(Za());return t.copy=function(){return Qa(t,e()).constant(t.constant())},Jt.apply(t,arguments)},scaleSequentialQuantile:function e(){var t=[],n=Ur;function r(e){if(null!=e&&!isNaN(e=+e))return n((Ze(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Ve),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map(((e,r)=>n(r/(t.length-1))))},r.quantiles=function(e){return Array.from({length:e+1},((n,r)=>Rt(t,r/e)))},r.copy=function(){return e(n).domain(t)},Jt.apply(r,arguments)},scaleDiverging:function e(){var t=pi(es()(Ur));return t.copy=function(){return Qa(t,e())},Jt.apply(t,arguments)},scaleDivergingLog:function e(){var t=Ei(es()).domain([.1,1,10]);return t.copy=function(){return Qa(t,e()).base(t.base())},Jt.apply(t,arguments)},scaleDivergingPow:ts,scaleDivergingSqrt:function(){return ts.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=Ai(es());return t.copy=function(){return Qa(t,e()).constant(t.constant())},Jt.apply(t,arguments)},tickFormat:di},Symbol.toStringTag,{value:"Module"}));var rs,is={exports:{}},os={},as=new Uint8Array(16);function ss(){if(!rs&&!(rs="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rs(as)}const ls=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function cs(e){return"string"==typeof e&&ls.test(e)}for(var us,hs,ds=[],ps=0;ps<256;++ps)ds.push((ps+256).toString(16).substr(1));function fs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ds[e[t+0]]+ds[e[t+1]]+ds[e[t+2]]+ds[e[t+3]]+"-"+ds[e[t+4]]+ds[e[t+5]]+"-"+ds[e[t+6]]+ds[e[t+7]]+"-"+ds[e[t+8]]+ds[e[t+9]]+"-"+ds[e[t+10]]+ds[e[t+11]]+ds[e[t+12]]+ds[e[t+13]]+ds[e[t+14]]+ds[e[t+15]]).toLowerCase();if(!cs(n))throw TypeError("Stringified UUID is invalid");return n}var ms=0,gs=0;function bs(e){if(!cs(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function vs(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=bs(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return fs(a)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function ys(e){return 14+(e+64>>>9<<4)+1}function Ts(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function _s(e,t,n,r,i,o){return Ts((a=Ts(Ts(t,e),Ts(r,o)))<<(s=i)|a>>>32-s,n);var a,s}function Es(e,t,n,r,i,o,a){return _s(t&n|~t&r,e,t,i,o,a)}function xs(e,t,n,r,i,o,a){return _s(t&r|n&~r,e,t,i,o,a)}function ws(e,t,n,r,i,o,a){return _s(t^n^r,e,t,i,o,a)}function Ss(e,t,n,r,i,o,a){return _s(n^(t|~r),e,t,i,o,a)}const As=vs("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[ys(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,l=r,c=i,u=o;n=Es(n,r,i,o,e[a],7,-680876936),o=Es(o,n,r,i,e[a+1],12,-389564586),i=Es(i,o,n,r,e[a+2],17,606105819),r=Es(r,i,o,n,e[a+3],22,-1044525330),n=Es(n,r,i,o,e[a+4],7,-176418897),o=Es(o,n,r,i,e[a+5],12,1200080426),i=Es(i,o,n,r,e[a+6],17,-1473231341),r=Es(r,i,o,n,e[a+7],22,-45705983),n=Es(n,r,i,o,e[a+8],7,1770035416),o=Es(o,n,r,i,e[a+9],12,-1958414417),i=Es(i,o,n,r,e[a+10],17,-42063),r=Es(r,i,o,n,e[a+11],22,-1990404162),n=Es(n,r,i,o,e[a+12],7,1804603682),o=Es(o,n,r,i,e[a+13],12,-40341101),i=Es(i,o,n,r,e[a+14],17,-1502002290),n=xs(n,r=Es(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=xs(o,n,r,i,e[a+6],9,-1069501632),i=xs(i,o,n,r,e[a+11],14,643717713),r=xs(r,i,o,n,e[a],20,-373897302),n=xs(n,r,i,o,e[a+5],5,-701558691),o=xs(o,n,r,i,e[a+10],9,38016083),i=xs(i,o,n,r,e[a+15],14,-660478335),r=xs(r,i,o,n,e[a+4],20,-405537848),n=xs(n,r,i,o,e[a+9],5,568446438),o=xs(o,n,r,i,e[a+14],9,-1019803690),i=xs(i,o,n,r,e[a+3],14,-187363961),r=xs(r,i,o,n,e[a+8],20,1163531501),n=xs(n,r,i,o,e[a+13],5,-1444681467),o=xs(o,n,r,i,e[a+2],9,-51403784),i=xs(i,o,n,r,e[a+7],14,1735328473),n=ws(n,r=xs(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=ws(o,n,r,i,e[a+8],11,-2022574463),i=ws(i,o,n,r,e[a+11],16,1839030562),r=ws(r,i,o,n,e[a+14],23,-35309556),n=ws(n,r,i,o,e[a+1],4,-1530992060),o=ws(o,n,r,i,e[a+4],11,1272893353),i=ws(i,o,n,r,e[a+7],16,-155497632),r=ws(r,i,o,n,e[a+10],23,-1094730640),n=ws(n,r,i,o,e[a+13],4,681279174),o=ws(o,n,r,i,e[a],11,-358537222),i=ws(i,o,n,r,e[a+3],16,-722521979),r=ws(r,i,o,n,e[a+6],23,76029189),n=ws(n,r,i,o,e[a+9],4,-640364487),o=ws(o,n,r,i,e[a+12],11,-421815835),i=ws(i,o,n,r,e[a+15],16,530742520),n=Ss(n,r=ws(r,i,o,n,e[a+2],23,-995338651),i,o,e[a],6,-198630844),o=Ss(o,n,r,i,e[a+7],10,1126891415),i=Ss(i,o,n,r,e[a+14],15,-1416354905),r=Ss(r,i,o,n,e[a+5],21,-57434055),n=Ss(n,r,i,o,e[a+12],6,1700485571),o=Ss(o,n,r,i,e[a+3],10,-1894986606),i=Ss(i,o,n,r,e[a+10],15,-1051523),r=Ss(r,i,o,n,e[a+1],21,-2054922799),n=Ss(n,r,i,o,e[a+8],6,1873313359),o=Ss(o,n,r,i,e[a+15],10,-30611744),i=Ss(i,o,n,r,e[a+6],15,-1560198380),r=Ss(r,i,o,n,e[a+13],21,1309151649),n=Ss(n,r,i,o,e[a+4],6,-145523070),o=Ss(o,n,r,i,e[a+11],10,-1120210379),i=Ss(i,o,n,r,e[a+2],15,718787259),r=Ss(r,i,o,n,e[a+9],21,-343485551),n=Ts(n,s),r=Ts(r,l),i=Ts(i,c),o=Ts(o,u)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(ys(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));function ks(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function Cs(e,t){return e<<t|e>>>32-t}const Is=vs("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),l=0;l<a;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[64*l+4*u]<<24|e[64*l+4*u+1]<<16|e[64*l+4*u+2]<<8|e[64*l+4*u+3];s[l]=c}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<a;++h){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=s[h][p];for(var f=16;f<80;++f)d[f]=Cs(d[f-3]^d[f-8]^d[f-14]^d[f-16],1);for(var m=n[0],g=n[1],b=n[2],v=n[3],y=n[4],T=0;T<80;++T){var _=Math.floor(T/20),E=Cs(m,5)+ks(_,g,b,v)+y+t[_]+d[T]>>>0;y=v,v=b,b=Cs(g,30)>>>0,g=m,m=E}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var Os=T(Object.freeze(Object.defineProperty({__proto__:null,v1:function(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||us,a=void 0!==e.clockseq?e.clockseq:hs;if(null==o||null==a){var s=e.random||(e.rng||ss)();null==o&&(o=us=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=hs=16383&(s[6]<<8|s[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:gs+1,u=l-ms+(c-gs)/1e4;if(u<0&&void 0===e.clockseq&&(a=a+1&16383),(u<0||l>ms)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ms=l,gs=c,hs=a;var h=(1e4*(268435455&(l+=122192928e5))+c)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=255&h;var d=l/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var p=0;p<6;++p)i[r+p]=o[p];return t||fs(i)},v3:As,v4:function(e,t,n){var r=(e=e||{}).random||(e.rng||ss)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return fs(r)},v5:Is,NIL:"00000000-0000-0000-0000-000000000000",version:function(e){if(!cs(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)},validate:cs,stringify:fs,parse:bs},Symbol.toStringTag,{value:"Module"}))),Ds="undefined"!=typeof Buffer?e=>Buffer.from(e).toString("base64"):e=>btoa(String.fromCharCode(...e)),Ps="undefined"!=typeof Buffer?e=>Buffer.from(e,"base64"):e=>Uint8Array.from(atob(e),(e=>e.charCodeAt(0)));os.encode=function(e){var t=Os.parse(e);return Ds(t).replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},os.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/")+"==";return Os.stringify(Ps(t))},os.v4=function(){var e=Os.v4(null,new Uint8Array(16));return Ds(e).replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},os.nice=function(){var e=Os.v4(null,new Uint8Array(16));return e[0]=127&e[0],Ds(e).replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},is.exports=os;const Ns=y(is.exports);var Rs={exports:{}},Ms={},Ls={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=1,i=2,o=9007199254740991,a="[object Arguments]",s="[object Array]",l="[object AsyncFunction]",c="[object Boolean]",u="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",f="[object Map]",m="[object Number]",g="[object Null]",b="[object Object]",v="[object Promise]",y="[object Proxy]",T="[object RegExp]",_="[object Set]",E="[object String]",x="[object Symbol]",w="[object Undefined]",S="[object WeakMap]",A="[object ArrayBuffer]",k="[object DataView]",C=/^\[object .+?Constructor\]$/,I=/^(?:0|[1-9]\d*)$/,O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O[a]=O[s]=O[A]=O[c]=O[k]=O[u]=O[h]=O[d]=O[f]=O[m]=O[b]=O[T]=O[_]=O[E]=O[S]=!1;var D="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis,P="object"==typeof self&&self&&self.Object===Object&&self,N=D||P||Function("return this")(),R=t&&!t.nodeType&&t,M=R&&e&&!e.nodeType&&e,L=M&&M.exports===R,B=L&&D.process,F=function(){try{return B&&B.binding&&B.binding("util")}catch(e){}}(),U=F&&F.isTypedArray;function j(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var z,V,Y,$=Array.prototype,X=Function.prototype,W=Object.prototype,q=N["__core-js_shared__"],K=X.toString,Z=W.hasOwnProperty,Q=(z=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",J=W.toString,ee=RegExp("^"+K.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=L?N.Buffer:void 0,ne=N.Symbol,re=N.Uint8Array,ie=W.propertyIsEnumerable,oe=$.splice,ae=ne?ne.toStringTag:void 0,se=Object.getOwnPropertySymbols,le=te?te.isBuffer:void 0,ce=(V=Object.keys,Y=Object,function(e){return V(Y(e))}),ue=Fe(N,"DataView"),he=Fe(N,"Map"),de=Fe(N,"Promise"),pe=Fe(N,"Set"),fe=Fe(N,"WeakMap"),me=Fe(Object,"create"),ge=Ge(ue),be=Ge(he),ve=Ge(de),ye=Ge(pe),Te=Ge(fe),_e=ne?ne.prototype:void 0,Ee=_e?_e.valueOf:void 0;function xe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Se;++t<n;)this.add(e[t])}function ke(e){var t=this.__data__=new we(e);this.size=t.size}function Ce(e,t){var n=Ye(e),r=!n&&Ve(e),i=!n&&!r&&$e(e),o=!n&&!r&&!i&&Ze(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!Z.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||He(c,l))||s.push(c);return s}function Ie(e,t){for(var n=e.length;n--;)if(ze(e[n][0],t))return n;return-1}function Oe(e){return null==e?void 0===e?w:g:ae&&ae in Object(e)?function(e){var t=Z.call(e,ae),n=e[ae];try{e[ae]=void 0;var r=!0}catch(e){}var i=J.call(e);return r&&(t?e[ae]=n:delete e[ae]),i}(e):function(e){return J.call(e)}(e)}function De(e){return Ke(e)&&Oe(e)==a}function Pe(e,t,n,o,l){return e===t||(null==e||null==t||!Ke(e)&&!Ke(t)?e!=e&&t!=t:function(e,t,n,o,l,d){var p=Ye(e),g=Ye(t),v=p?s:je(e),y=g?s:je(t),w=(v=v==a?b:v)==b,S=(y=y==a?b:y)==b,C=v==y;if(C&&$e(e)){if(!$e(t))return!1;p=!0,w=!1}if(C&&!w)return d||(d=new ke),p||Ze(e)?Me(e,t,n,o,l,d):function(e,t,n,o,a,s,l){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!s(new re(e),new re(t)));case c:case u:case m:return ze(+e,+t);case h:return e.name==t.name&&e.message==t.message;case T:case E:return e==t+"";case f:var d=H;case _:var p=o&r;if(d||(d=G),e.size!=t.size&&!p)return!1;var g=l.get(e);if(g)return g==t;o|=i,l.set(e,t);var b=Me(d(e),d(t),o,a,s,l);return l.delete(e),b;case x:if(Ee)return Ee.call(e)==Ee.call(t)}return!1}(e,t,v,n,o,l,d);if(!(n&r)){var I=w&&Z.call(e,"__wrapped__"),O=S&&Z.call(t,"__wrapped__");if(I||O){var D=I?e.value():e,P=O?t.value():t;return d||(d=new ke),l(D,P,n,o,d)}}return!!C&&(d||(d=new ke),function(e,t,n,i,o,a){var s=n&r,l=Le(e),c=l.length;if(c!=Le(t).length&&!s)return!1;for(var u=c;u--;){var h=l[u];if(!(s?h in t:Z.call(t,h)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var p=!0;a.set(e,t),a.set(t,e);for(var f=s;++u<c;){var m=e[h=l[u]],g=t[h];if(i)var b=s?i(g,m,h,t,e,a):i(m,g,h,e,t,a);if(!(void 0===b?m===g||o(m,g,n,i,a):b)){p=!1;break}f||(f="constructor"==h)}if(p&&!f){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,o,l,d))}(e,t,n,o,Pe,l))}function Ne(e){return!(!qe(e)||function(e){return!!Q&&Q in e}(e))&&(Xe(e)?ee:C).test(Ge(e))}function Re(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||W))return ce(e);var t,n,r=[];for(var i in Object(e))Z.call(e,i)&&"constructor"!=i&&r.push(i);return r}function Me(e,t,n,o,a,s){var l=n&r,c=e.length,u=t.length;if(c!=u&&!(l&&u>c))return!1;var h=s.get(e);if(h&&s.get(t))return h==t;var d=-1,p=!0,f=n&i?new Ae:void 0;for(s.set(e,t),s.set(t,e);++d<c;){var m=e[d],g=t[d];if(o)var b=l?o(g,m,d,t,e,s):o(m,g,d,e,t,s);if(void 0!==b){if(b)continue;p=!1;break}if(f){if(!j(t,(function(e,t){if(r=t,!f.has(r)&&(m===e||a(m,e,n,o,s)))return f.push(t);var r}))){p=!1;break}}else if(m!==g&&!a(m,g,n,o,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function Le(e){return function(e,t,n){var r=t(e);return Ye(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Qe,Ue)}function Be(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ne(n)?n:void 0}xe.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},xe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xe.prototype.get=function(e){var t=this.__data__;if(me){var r=t[e];return r===n?void 0:r}return Z.call(t,e)?t[e]:void 0},xe.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:Z.call(t,e)},xe.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=me&&void 0===t?n:t,this},we.prototype.clear=function(){this.__data__=[],this.size=0},we.prototype.delete=function(e){var t=this.__data__,n=Ie(t,e);return!(n<0||(n==t.length-1?t.pop():oe.call(t,n,1),--this.size,0))},we.prototype.get=function(e){var t=this.__data__,n=Ie(t,e);return n<0?void 0:t[n][1]},we.prototype.has=function(e){return Ie(this.__data__,e)>-1},we.prototype.set=function(e,t){var n=this.__data__,r=Ie(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Se.prototype.clear=function(){this.size=0,this.__data__={hash:new xe,map:new(he||we),string:new xe}},Se.prototype.delete=function(e){var t=Be(this,e).delete(e);return this.size-=t?1:0,t},Se.prototype.get=function(e){return Be(this,e).get(e)},Se.prototype.has=function(e){return Be(this,e).has(e)},Se.prototype.set=function(e,t){var n=Be(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ae.prototype.add=Ae.prototype.push=function(e){return this.__data__.set(e,n),this},Ae.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.clear=function(){this.__data__=new we,this.size=0},ke.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof we){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Se(r)}return n.set(e,t),this.size=n.size,this};var Ue=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(se(e),(function(t){return ie.call(e,t)})))}:function(){return[]},je=Oe;function He(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(ue&&je(new ue(new ArrayBuffer(1)))!=k||he&&je(new he)!=f||de&&je(de.resolve())!=v||pe&&je(new pe)!=_||fe&&je(new fe)!=S)&&(je=function(e){var t=Oe(e),n=t==b?e.constructor:void 0,r=n?Ge(n):"";if(r)switch(r){case ge:return k;case be:return f;case ve:return v;case ye:return _;case Te:return S}return t});var Ve=De(function(){return arguments}())?De:function(e){return Ke(e)&&Z.call(e,"callee")&&!ie.call(e,"callee")},Ye=Array.isArray;var $e=le||function(){return!1};function Xe(e){if(!qe(e))return!1;var t=Oe(e);return t==d||t==p||t==l||t==y}function We(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function qe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ke(e){return null!=e&&"object"==typeof e}var Ze=U?function(e){return function(t){return e(t)}}(U):function(e){return Ke(e)&&We(e.length)&&!!O[Oe(e)]};function Qe(e){return null!=(t=e)&&We(t.length)&&!Xe(t)?Ce(e):Re(e);var t}e.exports=function(e,t){return Pe(e,t)}}(Ls,Ls.exports);var Bs,Fs={exports:{}};Bs=Fs,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)n.push(i);else if(Array.isArray(i)){if(i.length){var a=t.apply(null,i);a&&n.push(a)}}else if("object"===o){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){n.push(i.toString());continue}for(var s in i)e.call(i,s)&&i[s]&&n.push(s)}}}return n.join(" ")}Bs.exports?(t.default=t,Bs.exports=t):window.classNames=t}();var Us={__esModule:!0,noop:void 0},js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Us.bottom=Ys,Us.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=$s(e[n]);return t},Us.cloneLayoutItem=$s,Us.childrenEqual=function(e,t){return(0,Hs.default)(Gs.default.Children.map(e,(function(e){return e.key})),Gs.default.Children.map(t,(function(e){return e.key})))},Us.collides=Xs,Us.compact=Ws,Us.compactItem=Zs,Us.correctBounds=Qs,Us.getLayoutItem=Js,Us.getFirstCollision=el,Us.getAllCollisions=tl,Us.getStatics=nl,Us.moveElement=rl,Us.moveElementAwayFromCollision=il,Us.perc=function(e){return 100*e+"%"},Us.setTransform=function(e){var t=e.top,n="translate("+e.left+"px,"+t+"px)";return{transform:n,WebkitTransform:n,MozTransform:n,msTransform:n,OTransform:n,width:e.width+"px",height:e.height+"px",position:"absolute"}},Us.setTopLeft=function(e){return{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px",position:"absolute"}},Us.sortLayoutItems=ol,Us.sortLayoutItemsByRowCol=al,Us.sortLayoutItemsByColRow=sl,Us.synchronizeLayoutWithChildren=function(e,t,n,r){e=e||[];var i=[];return Gs.default.Children.forEach(t,(function(t,n){var r=Js(e,String(t.key));if(r)i[n]=$s(r);else{!Vs&&t.props._grid&&console.warn("`_grid` properties on children have been deprecated as of React 15.2. Please use `data-grid` or add your properties directly to the `layout`.");var o=t.props["data-grid"]||t.props._grid;o?(Vs||ll([o],"ReactGridLayout.children"),i[n]=$s(js({},o,{i:t.key}))):i[n]=$s({w:1,h:1,x:0,y:Ys(i),i:String(t.key)})}})),i=Ws(i=Qs(i,{cols:n}),r,n)},Us.validateLayout=ll,Us.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))};var Hs=zs(Ls.exports),Gs=zs(m.default);function zs(e){return e&&e.__esModule?e:{default:e}}var Vs=!0;function Ys(e){for(var t=0,n=void 0,r=0,i=e.length;r<i;r++)(n=e[r].y+e[r].h)>t&&(t=n);return t}function $s(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable}}function Xs(e,t){return!(e===t||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function Ws(e,t,n){for(var r=nl(e),i=ol(e,t),o=Array(e.length),a=0,s=i.length;a<s;a++){var l=$s(i[a]);l.static||(l=Zs(r,l,t,n,i),r.push(l)),o[e.indexOf(i[a])]=l,l.moved=!1}return o}var qs={x:"w",y:"h"};function Ks(e,t,n,r){var i=qs[r];t[r]+=1;for(var o=e.indexOf(t)+1;o<e.length;o++){var a=e[o];if(!a.static){if(a.y>t.y+t.h)break;Xs(t,a)&&Ks(e,a,n+t[i],r)}}t[r]=n}function Zs(e,t,n,r,i){var o="horizontal"===n;if("vertical"===n)for(t.y=Math.min(Ys(e),t.y);t.y>0&&!el(e,t);)t.y--;else if(o)for(t.y=Math.min(Ys(e),t.y);t.x>0&&!el(e,t);)t.x--;for(var a=void 0;a=el(e,t);)o?Ks(i,t,a.x+a.w,"x"):Ks(i,t,a.y+a.h,"y"),o&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t}function Qs(e,t){for(var n=nl(e),r=0,i=e.length;r<i;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;el(n,o);)o.y++;else n.push(o)}return e}function Js(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function el(e,t){for(var n=0,r=e.length;n<r;n++)if(Xs(e[n],t))return e[n]}function tl(e,t){return e.filter((function(e){return Xs(e,t)}))}function nl(e){return e.filter((function(e){return e.static}))}function rl(e,t,n,r,i,o,a,s){if(t.static)return e;if(t.y===r&&t.x===n)return e;t.i,String(n),String(r),t.x,t.y;var l=t.x,c=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var u=ol(e,a);("vertical"===a&&"number"==typeof r?c>=r:"horizontal"===a&&"number"==typeof n&&l>=n)&&(u=u.reverse());var h=tl(u,t);if(o&&h.length)return t.i,t.x=l,t.y=c,t.moved=!1,e;for(var d=0,p=h.length;d<p;d++){var f=h[d];t.i,t.x,t.y,f.i,f.x,f.y,f.moved||(e=f.static?il(e,f,t,i,a):il(e,t,f,i,a))}return e}function il(e,t,n,r,i,o){var a="horizontal"===i,s="vertical"===i,l=!1;if(r){r=!1;var c={x:a?Math.max(t.x-n.w,0):n.x,y:s?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!el(e,c))return n.i,rl(e,n,a?c.x:void 0,s?c.y:void 0,r,l,i)}return rl(e,n,a?n.x+1:void 0,s?n.y+1:void 0,r,l,i)}function ol(e,t){return"horizontal"===t?sl(e):al(e)}function al(e){return[].concat(e).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function sl(e){return[].concat(e).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}function ll(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,i=e.length;r<i;r++){for(var o=e[r],a=0;a<n.length;a++)if("number"!=typeof o[n[a]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[a]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}}Us.noop=function(){};var cl={},ul={exports:{}};!function(e){e.exports=function(e,t){function n(e,t){return e(t={exports:{}},t.exports),t.exports}function r(e){return function(){return e}}e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t;var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e};var o=i,a=function(e){};function s(e,t,n,r,i,o,s,l){if(a(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,s,l],h=0;(c=new Error(t.replace(/%s/g,(function(){return u[h++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}a=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")};var l=s,c=o,u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};c=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];u.apply(void 0,[t].concat(r))}};var h=c,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;function m(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function g(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}var b=g()?Object.assign:function(e,t){for(var n,r,i=m(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))p.call(n,a)&&(i[a]=n[a]);if(d){r=d(n);for(var s=0;s<r.length;s++)f.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},v="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",y=l,T=h,_=v,E={};function x(e,t,n,r,i){for(var o in e)if(e.hasOwnProperty(o)){var a;try{y("function"==typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof e[o]),a=e[o](t,o,r,n,null,_)}catch(e){a=e}if(T(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in E)){E[a.message]=!0;var s=i?i():"";T(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}}var w=x,S=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";function i(e){var t=e&&(n&&e[n]||e[r]);if("function"==typeof t)return t}var a="<<anonymous>>",s={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:f(),arrayOf:m,element:g(),instanceOf:y,node:x(),objectOf:_,oneOf:T,oneOfType:E,shape:S,exact:A};function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function u(e){this.message=e,this.stack=""}function d(e){var n={},r=0;function i(i,o,s,c,d,p,f){if(c=c||a,p=p||s,f!==v)if(t)l(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var m=c+":"+s;!n[m]&&r<3&&(h(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,c),n[m]=!0,r++)}return null==o[s]?i?null===o[s]?new u("The "+d+" `"+p+"` is marked as required in `"+c+"`, but its value is `null`."):new u("The "+d+" `"+p+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(o,s,c,d,p)}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}function p(e){function t(t,n,r,i,o,a){var s=t[n];return I(s)!==e?new u("Invalid "+i+" `"+o+"` of type `"+O(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return d(t)}function f(){return d(o.thatReturnsNull)}function m(e){function t(t,n,r,i,o){if("function"!=typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new u("Invalid "+i+" `"+o+"` of type `"+I(a)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<a.length;s++){var l=e(a,s,r,i,o+"["+s+"]",v);if(l instanceof Error)return l}return null}return d(t)}function g(){function t(t,n,r,i,o){var a=t[n];return e(a)?null:new u("Invalid "+i+" `"+o+"` of type `"+I(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return d(t)}function y(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var s=e.name||a;return new u("Invalid "+i+" `"+o+"` of type `"+P(t[n])+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}return null}return d(t)}function T(e){if(!Array.isArray(e))return h(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull;function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(c(a,e[s]))return null;return new u("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return d(t)}function _(e){function t(t,n,r,i,o){if("function"!=typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],s=I(a);if("object"!==s)return new u("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var l in a)if(a.hasOwnProperty(l)){var c=e(a,l,r,i,o+"."+l,v);if(c instanceof Error)return c}return null}return d(t)}function E(e){if(!Array.isArray(e))return h(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return h(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",D(n),t),o.thatReturnsNull}function r(t,n,r,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,o,v))return null;return new u("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}return d(r)}function x(){function e(e,t,n,r,i){return k(e[t])?null:new u("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return d(e)}function S(e){function t(t,n,r,i,o){var a=t[n],s=I(a);if("object"!==s)return new u("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var c=e[l];if(c){var h=c(a,l,r,i,o+"."+l,v);if(h)return h}}return null}return d(t)}function A(e){function t(t,n,r,i,o){var a=t[n],s=I(a);if("object"!==s)return new u("Invalid "+i+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");var l=b({},t[n],e);for(var c in l){var h=e[c];if(!h)return new u("Invalid "+i+" `"+o+"` key `"+c+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=h(a,c,r,i,o+"."+c,v);if(d)return d}return null}return d(t)}function k(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(k);if(null===t||e(t))return!0;var n=i(t);if(!n)return!1;var r,o=n.call(t);if(n!==t.entries){for(;!(r=o.next()).done;)if(!k(r.value))return!1}else for(;!(r=o.next()).done;){var a=r.value;if(a&&!k(a[1]))return!1}return!0;default:return!1}}function C(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function I(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":C(t,e)?"symbol":t}function O(e){if(null==e)return""+e;var t=I(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function D(e){var t=O(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function P(e){return e.constructor&&e.constructor.name?e.constructor.name:a}return u.prototype=Error.prototype,s.checkPropTypes=w,s.PropTypes=s,s},A=n((function(e){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,n=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},r=!0;e.exports=S(n,r)})),k=n((function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===o)for(var a in i)t.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()}));function C(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function I(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function O(e){return"number"==typeof e&&!isNaN(e)}function D(e){return parseInt(e,10)}function P(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}var N=["Moz","Webkit","O","ms"];function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<N.length;n++)if(M(e,N[n])in t)return N[n];return""}function M(e,t){return t?""+t+L(e):e}function L(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}var B=R(),F=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},z=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},V=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Y="";function $(e,t){return Y||(Y=C(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return I(e[t])}))),!!I(e[Y])&&e[Y](t)}function X(e,t,n){var r=e;do{if($(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function W(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function q(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function K(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=D(n.borderTopWidth))+D(n.borderBottomWidth)}function Z(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=D(n.borderLeftWidth))+D(n.borderRightWidth)}function Q(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=D(n.paddingTop))-D(n.paddingBottom)}function J(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=D(n.paddingLeft))-D(n.paddingRight)}function ee(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function te(e,t){var n=re(e,t,"px");return j({},M("transform",B),n)}function ne(e,t){return re(e,t,"")}function re(e,t,n){var r="translate("+e.x+n+","+e.y+n+")";return t&&(r="translate("+("string"==typeof t.x?t.x:t.x+n)+", "+("string"==typeof t.y?t.y:t.y+n)+")"+r),r}function ie(e,t){return e.targetTouches&&C(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&C(e.changedTouches,(function(e){return t===e.identifier}))}function oe(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function ae(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&ce(e.body,"react-draggable-transparent-selection")}}function se(e){try{e&&e.body&&ue(e.body,"react-draggable-transparent-selection"),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}}function le(){return H({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function ce(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}function ue(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}function he(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:ve(r);var i=ye(e);if("string"==typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if(!((s="parent"===r?i.parentNode:o.querySelector(r))instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=a.getComputedStyle(i),c=a.getComputedStyle(s);r={left:-i.offsetLeft+D(c.paddingLeft)+D(l.marginLeft),top:-i.offsetTop+D(c.paddingTop)+D(l.marginTop),right:J(s)-Z(i)-i.offsetLeft+D(c.paddingRight)-D(l.marginRight),bottom:Q(s)-K(i)-i.offsetTop+D(c.paddingBottom)-D(l.marginBottom)}}return O(r.right)&&(t=Math.min(t,r.right)),O(r.bottom)&&(n=Math.min(n,r.bottom)),O(r.left)&&(t=Math.max(t,r.left)),O(r.top)&&(n=Math.max(n,r.top)),[t,n]}function de(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function pe(e){return"both"===e.props.axis||"x"===e.props.axis}function fe(e){return"both"===e.props.axis||"y"===e.props.axis}function me(e,t,n){var r="number"==typeof t?ie(e,t):null;if("number"==typeof t&&!r)return null;var i=ye(n);return ee(r||e,n.props.offsetParent||i.offsetParent||i.ownerDocument.body)}function ge(e,t,n){var r=e.state,i=!O(r.lastX),o=ye(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function be(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function ve(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function ye(t){var n=e.findDOMNode(t);if(!n)throw new Error("<DraggableCore>: Unmounted during event!");return n}function Te(){}var _e={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Ee=_e.mouse,xe=function(n){function r(){var t,n,i;F(this,r);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=z(this,(t=r.__proto__||Object.getPrototypeOf(r)).call.apply(t,[this].concat(a))),i.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},i.handleDragStart=function(t){if(i.props.onMouseDown(t),!i.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode(i);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(i.props.disabled||!(t.target instanceof r.defaultView.Node)||i.props.handle&&!X(t.target,i.props.handle,n)||i.props.cancel&&X(t.target,i.props.cancel,n))){var o=oe(t);i.setState({touchIdentifier:o});var a=me(t,o,i);if(null!=a){var s=a.x,l=a.y,c=ge(i,s,l);Te("calling",i.props.onStart),!1!==i.props.onStart(t,c)&&(i.props.enableUserSelectHack&&ae(r),i.setState({dragging:!0,lastX:s,lastY:l}),W(r,Ee.move,i.handleDrag),W(r,Ee.stop,i.handleDragStop))}}},i.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=me(e,i.state.touchIdentifier,i);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(i.props.grid)){var o=n-i.state.lastX,a=r-i.state.lastY,s=de(i.props.grid,o,a),l=V(s,2);if(o=l[0],a=l[1],!o&&!a)return;n=i.state.lastX+o,r=i.state.lastY+a}var c=ge(i,n,r);if(!1!==i.props.onDrag(e,c))i.setState({lastX:n,lastY:r});else try{i.handleDragStop(new MouseEvent("mouseup"))}catch(e){var u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.handleDragStop(u)}}},i.handleDragStop=function(t){if(i.state.dragging){var n=me(t,i.state.touchIdentifier,i);if(null!=n){var r=n.x,o=n.y,a=ge(i,r,o),s=e.findDOMNode(i);s&&i.props.enableUserSelectHack&&se(s.ownerDocument),i.setState({dragging:!1,lastX:NaN,lastY:NaN}),i.props.onStop(t,a),s&&(q(s.ownerDocument,Ee.move,i.handleDrag),q(s.ownerDocument,Ee.stop,i.handleDragStop))}}},i.onMouseDown=function(e){return Ee=_e.mouse,i.handleDragStart(e)},i.onMouseUp=function(e){return Ee=_e.mouse,i.handleDragStop(e)},i.onTouchStart=function(e){return Ee=_e.touch,i.handleDragStart(e)},i.onTouchEnd=function(e){return Ee=_e.touch,i.handleDragStop(e)},z(i,n)}return G(r,n),U(r,[{key:"componentWillUnmount",value:function(){var t=e.findDOMNode(this);if(t){var n=t.ownerDocument;q(n,_e.mouse.move,this.handleDrag),q(n,_e.touch.move,this.handleDrag),q(n,_e.mouse.stop,this.handleDragStop),q(n,_e.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&se(n)}}},{key:"render",value:function(){return t.cloneElement(t.Children.only(this.props.children),{style:le(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),r}(t.Component);xe.displayName="DraggableCore",xe.propTypes={allowAnyClick:A.bool,disabled:A.bool,enableUserSelectHack:A.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:A.arrayOf(A.number),scale:A.number,handle:A.string,cancel:A.string,onStart:A.func,onDrag:A.func,onStop:A.func,onMouseDown:A.func,className:P,style:P,transform:P},xe.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}};var we=function(n){function r(e){F(this,r);var t=z(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.onDragStart=function(e,n){if(!1===t.props.onStart(e,be(t,n)))return!1;t.setState({dragging:!0,dragged:!0})},t.onDrag=function(e,n){if(!t.state.dragging)return!1;var r=be(t,n),i={x:r.x,y:r.y};if(t.props.bounds){var o=i.x,a=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var s=he(t,i.x,i.y),l=V(s,2),c=l[0],u=l[1];i.x=c,i.y=u,i.slackX=t.state.slackX+(o-i.x),i.slackY=t.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)},t.onDragStop=function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,be(t,n)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)},t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return G(r,n),U(r,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&e.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,n={},r=null,i=!Boolean(this.props.position)||this.state.dragging,o=this.props.position||this.props.defaultPosition,a={x:pe(this)&&i?this.state.x:o.x,y:fe(this)&&i?this.state.y:o.y};this.state.isElementSVG?r=ne(a,this.props.positionOffset):n=te(a,this.props.positionOffset);var s=this.props,l=s.defaultClassName,c=s.defaultClassNameDragging,u=s.defaultClassNameDragged,h=t.Children.only(this.props.children),d=k(h.props.className||"",l,(j(e={},c,this.state.dragging),j(e,u,this.state.dragged),e));return t.createElement(xe,H({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(h,{className:d,style:H({},h.props.style,n),transform:r}))}}]),r}(t.Component);return we.displayName="Draggable",we.propTypes=H({},xe.propTypes,{axis:A.oneOf(["both","x","y","none"]),bounds:A.oneOfType([A.shape({left:A.number,right:A.number,top:A.number,bottom:A.number}),A.string,A.oneOf([!1])]),defaultClassName:A.string,defaultClassNameDragging:A.string,defaultClassNameDragged:A.string,defaultPosition:A.shape({x:A.number,y:A.number}),positionOffset:A.shape({x:A.oneOfType([A.number,A.string]),y:A.oneOfType([A.number,A.string])}),position:A.shape({x:A.number,y:A.number}),className:P,style:P,transform:P}),we.defaultProps=H({},xe.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}),we.default=we,we.DraggableCore=xe,we}(g.default,m.default)}(ul);var hl={exports:{}},dl={},pl={exports:{}},fl={};function ml(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ml(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function gl(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ml(e))&&(r&&(r+=" "),r+=t);return r}const bl=T(Object.freeze(Object.defineProperty({__proto__:null,clsx:gl,default:gl},Symbol.toStringTag,{value:"Module"})));var vl={},yl={};Object.defineProperty(yl,"__esModule",{value:!0}),yl.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},yl.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},yl.int=function(e){return parseInt(e,10)},yl.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},yl.isNum=function(e){return"number"==typeof e&&!isNaN(e)};var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.browserPrefixToKey=xl,Tl.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},Tl.default=void 0,Tl.getPrefix=El;var _l=["Moz","Webkit","O","ms"];function El(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";var r=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!r)return"";if(n in r)return"";for(var i=0;i<_l.length;i++)if(xl(n,_l[i])in r)return _l[i];return""}function xl(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var wl=El();function Sl(e){return(Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Tl.default=wl,Object.defineProperty(vl,"__esModule",{value:!0}),vl.addClassName=Ml,vl.addEvent=function(e,t,n,r){if(e){var i=Ol({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}},vl.addUserSelectStyles=function(e){if(e){var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Ml(e.body,"react-draggable-transparent-selection")}},vl.createCSSTransform=function(e,t){var n=Rl(e,t,"px");return Dl({},(0,kl.browserPrefixToKey)("transform",kl.default),n)},vl.createSVGTransform=function(e,t){return Rl(e,t,"")},vl.getTouch=function(e,t){return e.targetTouches&&(0,Al.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,Al.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},vl.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},vl.getTranslation=Rl,vl.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Al.int)(n.paddingTop),t-=(0,Al.int)(n.paddingBottom)},vl.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Al.int)(n.paddingLeft),t-=(0,Al.int)(n.paddingRight)},vl.matchesSelector=Nl,vl.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(Nl(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},vl.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}},vl.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Al.int)(n.borderTopWidth),t+=(0,Al.int)(n.borderBottomWidth)},vl.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Al.int)(n.borderLeftWidth),t+=(0,Al.int)(n.borderRightWidth)},vl.removeClassName=Ll,vl.removeEvent=function(e,t,n,r){if(e){var i=Ol({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}},vl.removeUserSelectStyles=function(e){if(e)try{if(e.body&&Ll(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var Al=yl,kl=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==Sl(e)&&"function"!=typeof e)return{default:e};var n=Cl(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(Tl);function Cl(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Cl=function(e){return e?n:t})(e)}function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach((function(t){Dl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pl="";function Nl(e,t){return Pl||(Pl=(0,Al.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,Al.isFunction)(e[t])}))),!!(0,Al.isFunction)(e[Pl])&&e[Pl](t)}function Rl(e,t,n){var r=e.x,i=e.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function Ml(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function Ll(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Bl={};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},Bl.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},Bl.createCoreData=function(e,t,n){var r=e.state,i=!(0,Fl.isNum)(r.lastX),o=jl(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}},Bl.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},Bl.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var i=jl(e);if("string"==typeof r){var o,a=i.ownerDocument,s=a.defaultView;if(!((o="parent"===r?i.parentNode:a.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=o,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,Fl.int)(u.paddingLeft)+(0,Fl.int)(c.marginLeft),top:-i.offsetTop+(0,Fl.int)(u.paddingTop)+(0,Fl.int)(c.marginTop),right:(0,Ul.innerWidth)(l)-(0,Ul.outerWidth)(i)-i.offsetLeft+(0,Fl.int)(u.paddingRight)-(0,Fl.int)(c.marginRight),bottom:(0,Ul.innerHeight)(l)-(0,Ul.outerHeight)(i)-i.offsetTop+(0,Fl.int)(u.paddingBottom)-(0,Fl.int)(c.marginBottom)}}return(0,Fl.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,Fl.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,Fl.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,Fl.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]},Bl.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,Ul.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=jl(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Ul.offsetXYFromParent)(r||e,o,n.props.scale)},Bl.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var Fl=yl,Ul=vl;function jl(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Hl={},Gl={};function zl(e){return(zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.default=function(){},Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.default=void 0;var Vl=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==zl(e)&&"function"!=typeof e)return{default:e};var n=Ql(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(m.default),Yl=Zl(S.exports),$l=Zl(g.default),Xl=vl,Wl=Bl,ql=yl,Kl=Zl(Gl);function Zl(e){return e&&e.__esModule?e:{default:e}}function Ql(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ql=function(e){return e?n:t})(e)}function Jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rc(e,t)}function rc(e,t){return(rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ic(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ac(e);if(t){var i=ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oc(e)}(this,n)}}function oc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lc={start:"touchstart",move:"touchmove",stop:"touchend"},cc={start:"mousedown",move:"mousemove",stop:"mouseup"},uc=cc,hc=function(e){nc(o,e);var t,n,r,i=ic(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sc(oc(e=i.call.apply(i,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),sc(oc(e),"mounted",!1),sc(oc(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,Xl.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,Xl.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,Xl.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var o=(0,Wl.getControlPosition)(t,i,oc(e));if(null!=o){var a=o.x,s=o.y,l=(0,Wl.createCoreData)(oc(e),a,s);(0,Kl.default)("DraggableCore: handleDragStart: %j",l),(0,Kl.default)("calling",e.props.onStart),!1!==e.props.onStart(t,l)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,Xl.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:a,lastY:s}),(0,Xl.addEvent)(r,uc.move,e.handleDrag),(0,Xl.addEvent)(r,uc.stop,e.handleDragStop))}}})),sc(oc(e),"handleDrag",(function(t){var n=(0,Wl.getControlPosition)(t,e.state.touchIdentifier,oc(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX,a=i-e.state.lastY,s=Jl((0,Wl.snapToGrid)(e.props.grid,o,a),2);if(o=s[0],a=s[1],!o&&!a)return;r=e.state.lastX+o,i=e.state.lastY+a}var l=(0,Wl.createCoreData)(oc(e),r,i);if((0,Kl.default)("DraggableCore: handleDrag: %j",l),!1!==e.props.onDrag(t,l)&&!1!==e.mounted)e.setState({lastX:r,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(c)}}})),sc(oc(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,Wl.getControlPosition)(t,e.state.touchIdentifier,oc(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var o=r-e.state.lastX||0,a=i-e.state.lastY||0,s=Jl((0,Wl.snapToGrid)(e.props.grid,o,a),2);o=s[0],a=s[1],r=e.state.lastX+o,i=e.state.lastY+a}var l=(0,Wl.createCoreData)(oc(e),r,i);if(!1===e.props.onStop(t,l)||!1===e.mounted)return!1;var c=e.findDOMNode();c&&e.props.enableUserSelectHack&&(0,Xl.removeUserSelectStyles)(c.ownerDocument),(0,Kl.default)("DraggableCore: handleDragStop: %j",l),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),c&&((0,Kl.default)("DraggableCore: Removing handlers"),(0,Xl.removeEvent)(c.ownerDocument,uc.move,e.handleDrag),(0,Xl.removeEvent)(c.ownerDocument,uc.stop,e.handleDragStop))}}})),sc(oc(e),"onMouseDown",(function(t){return uc=cc,e.handleDragStart(t)})),sc(oc(e),"onMouseUp",(function(t){return uc=cc,e.handleDragStop(t)})),sc(oc(e),"onTouchStart",(function(t){return uc=lc,e.handleDragStart(t)})),sc(oc(e),"onTouchEnd",(function(t){return uc=lc,e.handleDragStop(t)})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,Xl.addEvent)(e,lc.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,Xl.removeEvent)(t,cc.move,this.handleDrag),(0,Xl.removeEvent)(t,lc.move,this.handleDrag),(0,Xl.removeEvent)(t,cc.stop,this.handleDragStop),(0,Xl.removeEvent)(t,lc.stop,this.handleDragStop),(0,Xl.removeEvent)(e,lc.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Xl.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current:$l.default.findDOMNode(this)}},{key:"render",value:function(){return Vl.cloneElement(Vl.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&tc(t.prototype,n),r&&tc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Vl.Component);Hl.default=hc,sc(hc,"displayName","DraggableCore"),sc(hc,"propTypes",{allowAnyClick:Yl.default.bool,disabled:Yl.default.bool,enableUserSelectHack:Yl.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Yl.default.arrayOf(Yl.default.number),handle:Yl.default.string,cancel:Yl.default.string,nodeRef:Yl.default.object,onStart:Yl.default.func,onDrag:Yl.default.func,onStop:Yl.default.func,onMouseDown:Yl.default.func,scale:Yl.default.number,className:ql.dontSetMe,style:ql.dontSetMe,transform:ql.dontSetMe}),sc(hc,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var n=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==t(e)&&"function"!=typeof e)return{default:e};var r=p(n);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(m.default),r=d(S.exports),i=d(g.default),o=d(bl),a=vl,s=Bl,l=yl,c=d(Hl),u=d(Gl),h=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=C(e);if(n){var o=C(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,r)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){x(p,e);var t,r,l,d=A(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),I(k(t=d.call(this,e)),"onDragStart",(function(e,n){if((0,u.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,s.createDraggableData)(k(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),I(k(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",n);var r=(0,s.createDraggableData)(k(t),n),i={x:r.x,y:r.y};if(t.props.bounds){var o=i.x,a=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var l=T((0,s.getBoundPosition)(k(t),i.x,i.y),2),c=l[0],h=l[1];i.x=c,i.y=h,i.slackX=t.state.slackX+(o-i.x),i.slackY=t.state.slackY+(a-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)})),I(k(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,s.createDraggableData)(k(t),n)))return!1;(0,u.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,o=i.x,a=i.y;r.x=o,r.y=a}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:y({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=p,l=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:y({},n)})}}],(r=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:i.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props;t.axis,t.bounds;var r=t.children,i=t.defaultPosition,l=t.defaultClassName,u=t.defaultClassNameDragging,d=t.defaultClassNameDragged,p=t.position,m=t.positionOffset;t.scale;var g=b(t,h),v={},T=null,_=!Boolean(p)||this.state.dragging,E=p||i,x={x:(0,s.canDragX)(this)&&_?this.state.x:E.x,y:(0,s.canDragY)(this)&&_?this.state.y:E.y};this.state.isElementSVG?T=(0,a.createSVGTransform)(x,m):v=(0,a.createCSSTransform)(x,m);var w=(0,o.default)(r.props.className||"",l,(I(e={},u,this.state.dragging),I(e,d,this.state.dragged),e));return n.createElement(c.default,f({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:w,style:y(y({},r.props.style),v),transform:T}))}}])&&E(t.prototype,r),l&&E(t,l),Object.defineProperty(t,"prototype",{writable:!1}),p}(n.Component);e.default=O,I(O,"displayName","Draggable"),I(O,"propTypes",y(y({},c.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),I(O,"defaultProps",y(y({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(fl);var dc=fl.default,pc=fl.DraggableCore;pl.exports=dc,pl.exports.default=dc,pl.exports.DraggableCore=pc;var fc,mc={__esModule:!0,cloneElement:function(e,t){return t.style&&e.props.style&&(t.style=vc(vc({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),gc.default.cloneElement(e,t)}},gc=(fc=m.default)&&fc.__esModule?fc:{default:fc};function bc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bc(Object(n),!0).forEach((function(t){yc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tc={__esModule:!0,resizableProps:void 0},_c=function(e){return e&&e.__esModule?e:{default:e}}(S.exports);var Ec={axis:_c.default.oneOf(["both","x","y","none"]),className:_c.default.string,children:_c.default.element.isRequired,draggableOpts:_c.default.shape({allowAnyClick:_c.default.bool,cancel:_c.default.string,children:_c.default.node,disabled:_c.default.bool,enableUserSelectHack:_c.default.bool,offsetParent:_c.default.node,grid:_c.default.arrayOf(_c.default.number),handle:_c.default.string,nodeRef:_c.default.object,onStart:_c.default.func,onDrag:_c.default.func,onStop:_c.default.func,onMouseDown:_c.default.func,scale:_c.default.number}),height:_c.default.number.isRequired,handle:_c.default.oneOfType([_c.default.node,_c.default.func]),handleSize:_c.default.arrayOf(_c.default.number),lockAspectRatio:_c.default.bool,maxConstraints:_c.default.arrayOf(_c.default.number),minConstraints:_c.default.arrayOf(_c.default.number),onResizeStop:_c.default.func,onResizeStart:_c.default.func,onResize:_c.default.func,resizeHandles:_c.default.arrayOf(_c.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:_c.default.number,width:_c.default.number.isRequired};Tc.resizableProps=Ec,dl.__esModule=!0,dl.default=void 0;var xc=function(e){return e&&e.__esModule?e:{default:e}}(m.default),wc=pl.exports,Sc=mc,Ac=Tc;function kc(){return kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(this,arguments)}function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){Dc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Dc(Oc(t=e.call.apply(e,[this].concat(r))||this),"state",void 0),Dc(Oc(t),"lastHandleRect",null),Dc(Oc(t),"slack",null),t}var n,r;r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var i=t.prototype;return i.componentWillUnmount=function(){this.resetData()},i.lockAspectRatio=function(e,t,n){return[e=(t=e/n)*n,t]},i.resetData=function(){this.lastHandleRect=this.slack=null},i.runConstraints=function(e,t){var n=[this.props.minConstraints,this.props.maxConstraints],r=n[0],i=n[1];if(!r&&!i)return[e,t];if(this.props.lockAspectRatio)if(t===this.props.height){var o=this.props.width/this.props.height;e=(t=e/o)*o}else{var a=this.props.height/this.props.width;t=(e=t/a)*a}var s=e,l=t,c=this.slack||[0,0],u=c[0],h=c[1];return e+=u,t+=h,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),i&&(e=Math.min(i[0],e),t=Math.min(i[1],t)),this.slack=[u+(s-e),h+(l-t)],[e,t]},i.resizeHandler=function(e,t){var n=this;return function(r,i){var o=i.node,a=i.deltaX,s=i.deltaY;"onResizeStart"===e&&n.resetData();var l=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,c=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(l||c){var u=t[0],h=t[t.length-1],d=o.getBoundingClientRect();null!=n.lastHandleRect&&("w"===h&&(a+=d.left-n.lastHandleRect.left),"n"===u&&(s+=d.top-n.lastHandleRect.top)),n.lastHandleRect=d,"w"===h&&(a=-a),"n"===u&&(s=-s);var p=n.props.width+(l?a/n.props.transformScale:0),f=n.props.height+(c?s/n.props.transformScale:0),m=n.runConstraints(p,f);p=m[0],f=m[1];var g=p!==n.props.width||f!==n.props.height,b="function"==typeof n.props[e]?n.props[e]:null;b&&!("onResize"===e&&!g)&&("function"==typeof r.persist&&r.persist(),b(r,{node:o,size:{width:p,height:f},handle:t})),"onResizeStop"===e&&n.resetData()}}},i.renderResizeHandle=function(e){var t=this.props.handle;return t?"function"==typeof t?t(e):t:xc.default.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e})},i.render=function(){var e=this,t=this.props,n=t.children,r=t.className,i=t.draggableOpts;t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart;var o=t.resizeHandles;t.transformScale;var a=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"]);return(0,Sc.cloneElement)(n,Ic(Ic({},a),{},{className:(r?r+" ":"")+"react-resizable",children:[].concat(n.props.children,o.map((function(t){return xc.default.createElement(wc.DraggableCore,kc({},i,{key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t))})))}))},t}(xc.default.Component);dl.default=Pc,Dc(Pc,"propTypes",Ac.resizableProps),Dc(Pc,"defaultProps",{handleSize:[20,20],lockAspectRatio:!1,axis:"both",minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1});var Nc={__esModule:!0,default:void 0},Rc=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=Uc();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(m.default),Mc=Fc(S.exports),Lc=Fc(dl),Bc=Tc;function Fc(e){return e&&e.__esModule?e:{default:e}}function Uc(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return Uc=function(){return e},e}function jc(){return jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(this,arguments)}function Hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(n),!0).forEach((function(t){Vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Vc(zc(t=e.call.apply(e,[this].concat(r))||this),"state",{width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height}),Vc(zc(t),"onResize",(function(e,n){var r=n.size;t.props.onResize?(e.persist&&e.persist(),t.setState(r,(function(){return t.props.onResize&&t.props.onResize(e,n)}))):t.setState(r)})),t}return r=e,(n=t).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,t.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},t.prototype.render=function(){var e=this.props,t=e.handle,n=e.handleSize;e.onResize;var r=e.onResizeStart,i=e.onResizeStop,o=e.draggableOpts,a=e.minConstraints,s=e.maxConstraints,l=e.lockAspectRatio,c=e.axis;e.width,e.height;var u=e.resizeHandles,h=e.style,d=e.transformScale,p=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"]);return Rc.createElement(Lc.default,{axis:c,draggableOpts:o,handle:t,handleSize:n,height:this.state.height,lockAspectRatio:l,maxConstraints:s,minConstraints:a,onResizeStart:r,onResize:this.onResize,onResizeStop:i,resizeHandles:u,transformScale:d,width:this.state.width},Rc.createElement("div",jc({},p,{style:Gc(Gc({},h),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t;var n,r}(Rc.Component);Nc.default=Yc,Vc(Yc,"propTypes",Gc(Gc({},Bc.resizableProps),{},{children:Mc.default.element})),hl.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},hl.exports.Resizable=dl.default,hl.exports.ResizableBox=Nc.default,cl.__esModule=!0;var $c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc=Jc(m.default),Wc=Jc(S.exports),qc=ul.exports,Kc=hl.exports,Zc=Us,Qc=Jc(Fs.exports);function Jc(e){return e&&e.__esModule?e:{default:e}}function eu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var tu=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=eu(this,e.call.apply(e,[this].concat(o))),r.state={resizing:null,dragging:null,className:""},eu(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.calcColWidth=function(){var e=this.props,t=e.margin,n=e.containerPadding,r=e.containerWidth,i=e.cols;return(r-t[0]*(i-1)-2*n[0])/i},t.prototype.calcPosition=function(e,t,n,r,i){var o=this.props,a=o.margin,s=o.containerPadding,l=o.rowHeight,c=this.calcColWidth(),u={left:Math.round((c+a[0])*e+s[0]),top:Math.round((l+a[1])*t+s[1]),width:n===1/0?n:Math.round(c*n+Math.max(0,n-1)*a[0]),height:r===1/0?r:Math.round(l*r+Math.max(0,r-1)*a[1])};return i&&i.resizing&&(u.width=Math.round(i.resizing.width),u.height=Math.round(i.resizing.height)),i&&i.dragging&&(u.top=Math.round(i.dragging.top),u.left=Math.round(i.dragging.left)),u},t.prototype.calcXY=function(e,t){var n=this.props,r=n.margin,i=n.cols,o=n.rowHeight,a=n.w,s=n.h,l=n.maxRows,c=this.calcColWidth(),u=Math.round((t-r[0])/(c+r[0])),h=Math.round((e-r[1])/(o+r[1]));return{x:u=Math.max(Math.min(u,i-a),0),y:h=Math.max(Math.min(h,l-s),0)}},t.prototype.calcWH=function(e){var t=e.height,n=e.width,r=this.props,i=r.margin,o=r.maxRows,a=r.cols,s=r.rowHeight,l=r.x,c=r.y,u=this.calcColWidth(),h=Math.round((n+i[0])/(u+i[0])),d=Math.round((t+i[1])/(s+i[1]));return{w:h=Math.max(Math.min(h,a-l),0),h:d=Math.max(Math.min(d,o-c),0)}},t.prototype.createStyle=function(e){var t=this.props,n=t.usePercentages,r=t.containerWidth,i=void 0;return t.useCSSTransforms?i=(0,Zc.setTransform)(e):(i=(0,Zc.setTopLeft)(e),n&&(i.left=(0,Zc.perc)(e.left/r),i.width=(0,Zc.perc)(e.width/r))),i},t.prototype.mixinDraggable=function(e){return Xc.default.createElement(qc.DraggableCore,{onStart:this.onDragHandler("onDragStart"),onDrag:this.onDragHandler("onDrag"),onStop:this.onDragHandler("onDragStop"),handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:"")},e)},t.prototype.mixinResizable=function(e,t){var n=this.props,r=n.cols,i=n.x,o=n.minW,a=n.minH,s=n.maxW,l=n.maxH,c=this.calcPosition(0,0,r-i,0).width,u=this.calcPosition(0,0,o,a),h=this.calcPosition(0,0,s,l),d=[u.width,u.height],p=[Math.min(h.width,c),Math.min(h.height,1/0)];return Xc.default.createElement(Kc.Resizable,{width:t.width,height:t.height,minConstraints:d,maxConstraints:p,onResizeStop:this.onResizeHandler("onResizeStop"),onResizeStart:this.onResizeHandler("onResizeStart"),onResize:this.onResizeHandler("onResize")},e)},t.prototype.onDragHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.deltaX,a=r.deltaY,s=t.props[e];if(s){var l={top:0,left:0};switch(e){case"onDragStart":var c=i.offsetParent;if(!c)return;var u=c.getBoundingClientRect(),h=i.getBoundingClientRect();l.left=h.left-u.left+c.scrollLeft,l.top=h.top-u.top+c.scrollTop,t.setState({dragging:l});break;case"onDrag":if(!t.state.dragging)throw new Error("onDrag called before onDragStart.");l.left=t.state.dragging.left+o,l.top=t.state.dragging.top+a,t.setState({dragging:l});break;case"onDragStop":if(!t.state.dragging)throw new Error("onDragEnd called before onDragStart.");l.left=t.state.dragging.left,l.top=t.state.dragging.top,t.setState({dragging:null});break;default:throw new Error("onDragHandler called with unrecognized handlerName: "+e)}var d=t.calcXY(l.top,l.left),p=d.x,f=d.y;return s.call(t,t.props.i,p,f,{e:n,node:i,newPosition:l})}}},t.prototype.onResizeHandler=function(e){var t=this;return function(n,r){var i=r.node,o=r.size,a=t.props[e];if(a){var s=t.props,l=s.cols,c=s.x,u=s.i,h=s.maxW,d=s.minW,p=s.maxH,f=s.minH,m=t.calcWH(o),g=m.w,b=m.h;g=Math.min(g,l-c),g=Math.max(g,1),g=Math.max(Math.min(g,h),d),b=Math.max(Math.min(b,p),f),t.setState({resizing:"onResizeStop"===e?null:o}),a.call(t,u,g,b,{e:n,node:i,size:o})}}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.w,i=e.h,o=e.isDraggable,a=e.isResizable,s=e.useCSSTransforms,l=this.calcPosition(t,n,r,i,this.state),c=Xc.default.Children.only(this.props.children),u=Xc.default.cloneElement(c,{className:(0,Qc.default)("react-grid-item",c.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":o,"react-draggable-dragging":Boolean(this.state.dragging),cssTransforms:s}),style:$c({},this.props.style,c.props.style,this.createStyle(l))});return a&&(u=this.mixinResizable(u,l)),o&&(u=this.mixinDraggable(u)),u},t}(Xc.default.Component);tu.propTypes={children:Wc.default.element,cols:Wc.default.number.isRequired,containerWidth:Wc.default.number.isRequired,rowHeight:Wc.default.number.isRequired,margin:Wc.default.array.isRequired,maxRows:Wc.default.number.isRequired,containerPadding:Wc.default.array.isRequired,x:Wc.default.number.isRequired,y:Wc.default.number.isRequired,w:Wc.default.number.isRequired,h:Wc.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:Wc.default.string.isRequired,onDragStop:Wc.default.func,onDragStart:Wc.default.func,onDrag:Wc.default.func,onResizeStop:Wc.default.func,onResizeStart:Wc.default.func,onResize:Wc.default.func,isDraggable:Wc.default.bool.isRequired,isResizable:Wc.default.bool.isRequired,static:Wc.default.bool,useCSSTransforms:Wc.default.bool.isRequired,className:Wc.default.string,handle:Wc.default.string,cancel:Wc.default.string},tu.defaultProps={className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0},cl.default=tu,Ms.__esModule=!0;var nu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ru=cu(m.default),iu=cu(S.exports),ou=cu(Ls.exports),au=cu(Fs.exports),su=Us,lu=cu(cl);function cu(e){return e&&e.__esModule?e:{default:e}}var uu=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return hu.call(i),(0,su.autoBindHandlers)(i,["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)},t.prototype.componentWillReceiveProps=function(e){var t=void 0;if((0,ou.default)(e.layout,this.props.layout)&&e.compactType===this.props.compactType?(0,su.childrenEqual)(this.props.children,e.children)||(t=this.state.layout):t=e.layout,t){var n=(0,su.synchronizeLayoutWithChildren)(t,e.children,e.cols,this.compactType(e)),r=this.state.layout;this.setState({layout:n}),this.onLayoutMaybeChanged(n,r)}},t.prototype.containerHeight=function(){if(this.props.autoSize){var e=(0,su.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}},t.prototype.compactType=function(e){return e||(e=this.props),!1===e.verticalCompact?null:e.compactType},t.prototype.onDragStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,su.getLayoutItem)(a,e);if(s)return this.setState({oldDragItem:(0,su.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onDragStart(a,s,s,null,i,o)},t.prototype.onDrag=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,l=this.props.cols,c=(0,su.getLayoutItem)(s,e);if(c){var u={w:c.w,h:c.h,x:c.x,y:c.y,placeholder:!0,i:e};s=(0,su.moveElement)(s,c,t,n,!0,this.props.preventCollision,this.compactType(),l),this.props.onDrag(s,a,c,u,i,o),this.setState({layout:(0,su.compact)(s,this.compactType(),l),activeDrag:u})}},t.prototype.onDragStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.oldDragItem,s=this.state.layout,l=this.props,c=l.cols,u=l.preventCollision,h=(0,su.getLayoutItem)(s,e);if(h){s=(0,su.moveElement)(s,h,t,n,!0,u,this.compactType(),c),this.props.onDragStop(s,a,h,null,i,o);var d=(0,su.compact)(s,this.compactType(),c),p=this.state.oldLayout;this.setState({activeDrag:null,layout:d,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(d,p)}},t.prototype.onLayoutMaybeChanged=function(e,t){t||(t=this.state.layout),(0,ou.default)(t,e)||this.props.onLayoutChange(e)},t.prototype.onResizeStart=function(e,t,n,r){var i=r.e,o=r.node,a=this.state.layout,s=(0,su.getLayoutItem)(a,e);s&&(this.setState({oldResizeItem:(0,su.cloneLayoutItem)(s),oldLayout:this.state.layout}),this.props.onResizeStart(a,s,s,null,i,o))},t.prototype.onResize=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,s=a.layout,l=a.oldResizeItem,c=this.props,u=c.cols,h=c.preventCollision,d=(0,su.getLayoutItem)(s,e);if(d){var p=void 0;if(h){var f=(0,su.getAllCollisions)(s,nu({},d,{w:t,h:n})).filter((function(e){return e.i!==d.i}));if(p=f.length>0){var m=1/0,g=1/0;f.forEach((function(e){e.x>d.x&&(m=Math.min(m,e.x)),e.y>d.y&&(g=Math.min(g,e.y))})),Number.isFinite(m)&&(d.w=m-d.x),Number.isFinite(g)&&(d.h=g-d.y)}}p||(d.w=t,d.h=n);var b={w:d.w,h:d.h,x:d.x,y:d.y,static:!0,i:e};this.props.onResize(s,l,d,b,i,o),this.setState({layout:(0,su.compact)(s,this.compactType(),u),activeDrag:b})}},t.prototype.onResizeStop=function(e,t,n,r){var i=r.e,o=r.node,a=this.state,s=a.layout,l=a.oldResizeItem,c=this.props.cols,u=(0,su.getLayoutItem)(s,e);this.props.onResizeStop(s,l,u,null,i,o);var h=(0,su.compact)(s,this.compactType(),c),d=this.state.oldLayout;this.setState({activeDrag:null,layout:h,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(h,d)},t.prototype.placeholder=function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,r=t.cols,i=t.margin,o=t.containerPadding,a=t.rowHeight,s=t.maxRows,l=t.useCSSTransforms;return ru.default.createElement(lu.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:r,margin:i,containerPadding:o||i,maxRows:s,rowHeight:a,isDraggable:!1,isResizable:!1,useCSSTransforms:l},ru.default.createElement("div",null))},t.prototype.processGridItem=function(e){if(e&&e.key){var t=(0,su.getLayoutItem)(this.state.layout,String(e.key));if(!t)return null;var n=this.props,r=n.width,i=n.cols,o=n.margin,a=n.containerPadding,s=n.rowHeight,l=n.maxRows,c=n.isDraggable,u=n.isResizable,h=n.useCSSTransforms,d=n.draggableCancel,p=n.draggableHandle,f=this.state.mounted,m=Boolean(!t.static&&c&&(t.isDraggable||null==t.isDraggable)),g=Boolean(!t.static&&u&&(t.isResizable||null==t.isResizable));return ru.default.createElement(lu.default,{containerWidth:r,cols:i,margin:o,containerPadding:a||o,maxRows:l,rowHeight:s,cancel:d,handle:p,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:m,isResizable:g,useCSSTransforms:h&&f,usePercentages:!f,w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,minH:t.minH,minW:t.minW,maxH:t.maxH,maxW:t.maxW,static:t.static},e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.style,i=(0,au.default)("react-grid-layout",n),o=nu({height:this.containerHeight()},r);return ru.default.createElement("div",{className:i,style:o},ru.default.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),this.placeholder())},t}(ru.default.Component);uu.displayName="ReactGridLayout",uu.propTypes={className:iu.default.string,style:iu.default.object,width:iu.default.number,autoSize:iu.default.bool,cols:iu.default.number,draggableCancel:iu.default.string,draggableHandle:iu.default.string,verticalCompact:function(e){e.verticalCompact},compactType:iu.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&(0,su.validateLayout)(t,"layout")},margin:iu.default.arrayOf(iu.default.number),containerPadding:iu.default.arrayOf(iu.default.number),rowHeight:iu.default.number,maxRows:iu.default.number,isDraggable:iu.default.bool,isResizable:iu.default.bool,preventCollision:iu.default.bool,useCSSTransforms:iu.default.bool,onLayoutChange:iu.default.func,onDragStart:iu.default.func,onDrag:iu.default.func,onDragStop:iu.default.func,onResizeStart:iu.default.func,onResize:iu.default.func,onResizeStop:iu.default.func,children:function(e,t){var n=e[t],r={};ru.default.Children.forEach(n,(function(e){if(r[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');r[e.key]=!0}))}},uu.defaultProps={autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isDraggable:!0,isResizable:!0,useCSSTransforms:!0,verticalCompact:!0,compactType:"vertical",preventCollision:!1,onLayoutChange:su.noop,onDragStart:su.noop,onDrag:su.noop,onDragStop:su.noop,onResizeStart:su.noop,onResize:su.noop,onResizeStop:su.noop};var hu=function(){this.state={activeDrag:null,layout:(0,su.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,this.compactType()),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null}};Ms.default=uu;var du={},pu={__esModule:!0,getBreakpointFromWidth:function(e,t){for(var n=mu(e),r=n[0],i=1,o=n.length;i<o;i++){var a=n[i];t>e[a]&&(r=a)}return r},getColsFromBreakpoint:function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},findOrGenerateResponsiveLayout:function(e,t,n,r,i,o){if(e[n])return(0,fu.cloneLayout)(e[n]);for(var a=e[r],s=mu(t),l=s.slice(s.indexOf(n)),c=0,u=l.length;c<u;c++){var h=l[c];if(e[h]){a=e[h];break}}return a=(0,fu.cloneLayout)(a||[]),(0,fu.compact)((0,fu.correctBounds)(a,{cols:i}),o,i)}};pu.sortBreakpoints=mu;var fu=Us;function mu(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}du.__esModule=!0;var gu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bu=xu(m.default),vu=xu(S.exports),yu=xu(Ls.exports),Tu=Us,_u=pu,Eu=xu(Ms);function xu(e){return e&&e.__esModule?e:{default:e}}function wu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Su=function(e){return Object.prototype.toString.call(e)},Au=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=wu(this,e.call.apply(e,[this].concat(o))),r.state=r.generateInitialState(),r.onLayoutChange=function(e){var t;r.props.onLayoutChange(e,gu({},r.props.layouts,((t={})[r.state.breakpoint]=e,t)))},wu(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.generateInitialState=function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,i=e.cols,o=(0,_u.getBreakpointFromWidth)(n,t),a=(0,_u.getColsFromBreakpoint)(o,i),s=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,_u.findOrGenerateResponsiveLayout)(r,n,o,o,a,s),breakpoint:o,cols:a}},t.prototype.componentWillReceiveProps=function(e){if(e.width==this.props.width&&e.breakpoint===this.props.breakpoint&&(0,yu.default)(e.breakpoints,this.props.breakpoints)&&(0,yu.default)(e.cols,this.props.cols)){if(!(0,yu.default)(e.layouts,this.props.layouts)){var t=this.state,n=t.breakpoint,r=t.cols,i=(0,_u.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType);this.setState({layout:i})}}else this.onWidthChange(e)},t.prototype.onWidthChange=function(e){var t=e.breakpoints,n=e.cols,r=e.layouts,i=e.compactType,o=e.breakpoint||(0,_u.getBreakpointFromWidth)(e.breakpoints,e.width),a=this.state.breakpoint;if(a!==o||this.props.breakpoints!==t||this.props.cols!==n){a in r||(r[a]=(0,Tu.cloneLayout)(this.state.layout));var s=(0,_u.getColsFromBreakpoint)(o,n),l=(0,_u.findOrGenerateResponsiveLayout)(r,t,o,a,s,i);l=(0,Tu.synchronizeLayoutWithChildren)(l,e.children,s,i),r[o]=l,this.props.onLayoutChange(l,r),this.props.onBreakpointChange(o,s),this.props.onWidthChange(e.width,e.margin,s,e.containerPadding),this.setState({breakpoint:o,layout:l,cols:s})}},t.prototype.render=function(){var e=this.props;e.breakpoint,e.breakpoints,e.cols,e.layouts,e.onBreakpointChange,e.onLayoutChange,e.onWidthChange;var t=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["breakpoint","breakpoints","cols","layouts","onBreakpointChange","onLayoutChange","onWidthChange"]);return bu.default.createElement(Eu.default,gu({},t,{onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))},t}(bu.default.Component);Au.propTypes={breakpoint:vu.default.string,breakpoints:vu.default.object,cols:vu.default.object,layouts:function(e,t){if("[object Object]"!==Su(e[t]))throw new Error("Layout property must be an object. Received: "+Su(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Tu.validateLayout)(e.layouts[t],"layouts."+t)}))},width:vu.default.number.isRequired,onBreakpointChange:vu.default.func,onLayoutChange:vu.default.func,onWidthChange:vu.default.func},Au.defaultProps={breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},layouts:{},onBreakpointChange:Tu.noop,onLayoutChange:Tu.noop,onWidthChange:Tu.noop},du.default=Au;var ku={__esModule:!0},Cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};ku.default=function(e){var t,n;return n=t=function(t){function n(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=r=Nu(this,t.call.apply(t,[this].concat(o))),r.state={width:1280},r.mounted=!1,r.onWindowResize=function(){if(r.mounted){var e=Du.default.findDOMNode(r);e instanceof HTMLElement&&r.setState({width:e.offsetWidth})}},Nu(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()},n.prototype.componentWillUnmount=function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)},n.prototype.render=function(){var t=this.props,n=t.measureBeforeMount,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["measureBeforeMount"]);return n&&!this.mounted?Iu.default.createElement("div",{className:this.props.className,style:this.props.style}):Iu.default.createElement(e,Cu({},r,this.state))},n}(Iu.default.Component),t.defaultProps={measureBeforeMount:!1},t.propTypes={measureBeforeMount:Ou.default.bool},n};var Iu=Pu(m.default),Ou=Pu(S.exports),Du=Pu(g.default);function Pu(e){return e&&e.__esModule?e:{default:e}}function Nu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}!function(e){e.exports=Ms.default,e.exports.utils=Us,e.exports.Responsive=du.default,e.exports.Responsive.utils=pu,e.exports.WidthProvider=ku.default}(Rs);const Ru=Rs.exports;var Mu={exports:{}};!function(e){"undefined"!=typeof window&&window,e.exports=function(){if("undefined"==typeof window)return null;var e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||function(t){e.clearTimeout(t)};function r(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function i(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function o(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var a=function(e,s){var l=0;function c(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(r){for(e=0,t=n.length;e<t;e++)n[e].call(this,r)},this.remove=function(r){var i=[];for(e=0,t=n.length;e<t;e++)n[e]!==r&&i.push(n[e]);n=i},this.length=function(){return n.length}}function u(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new c,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var r={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},a={position:"absolute",left:"0px",top:"0px",transition:"0s"};o(e.resizeSensor,r);var s=document.createElement("div");s.className="resize-sensor-expand",o(s,r);var u=document.createElement("div");o(u,a),s.appendChild(u);var h=document.createElement("div");h.className="resize-sensor-shrink",o(h,r);var d=document.createElement("div");o(d,a),o(d,{width:"200%",height:"200%"}),h.appendChild(d),e.resizeSensor.appendChild(s),e.resizeSensor.appendChild(h),e.appendChild(e.resizeSensor);var p=window.getComputedStyle(e),f=p?p.getPropertyValue("position"):null;"absolute"!==f&&"relative"!==f&&"fixed"!==f&&"sticky"!==f&&(e.style.position="relative");var m=!1,g=0,b=i(e),v=0,y=0,T=!0;l=0;var _=function(){var t=e.offsetWidth,n=e.offsetHeight;u.style.width=t+10+"px",u.style.height=n+10+"px",s.scrollLeft=t+10,s.scrollTop=n+10,h.scrollLeft=t+10,h.scrollTop=n+10},E=function(){if(T){if(0===e.offsetWidth&&0===e.offsetHeight)return void(l||(l=t((function(){l=0,E()}))));T=!1}_()};e.resizeSensor.resetSensor=E;var x=function(){g=0,m&&(v=b.width,y=b.height,e.resizedAttached&&e.resizedAttached.call(b))},w=function(){b=i(e),(m=b.width!==v||b.height!==y)&&!g&&(g=t(x)),E()},S=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};S(s,"scroll",w),S(h,"scroll",w),l=t((function(){l=0,E()}))}}r(e,(function(e){u(e,s)})),this.detach=function(t){l||(n(l),l=0),a.detach(e,t)},this.reset=function(){e.resizeSensor.resetSensor()}};if(a.reset=function(e){r(e,(function(e){e.resizeSensor.resetSensor()}))},a.detach=function(e,t){r(e,(function(e){e&&(e.resizedAttached&&"function"==typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!=typeof MutationObserver){var s=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,r=0;r<n.length;r++)n[r].resizeSensor&&a.reset(n[r])}));document.addEventListener("DOMContentLoaded",(function(e){s.observe(document.body,{childList:!0,subtree:!0})}))}return a}()}(Mu);var Lu={exports:{}};!function(e){"undefined"!=typeof window&&window,e.exports=function(e){var t=function(){var t,n={},r=[];function i(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function o(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function a(e,t){var n=t.split(/\d/),r=n[n.length-1];switch(t=parseFloat(t),r){case"px":default:return t;case"em":return t*i(e);case"rem":return t*i();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return t*(0,Math["vmin"===r?"min":"max"])(o,a)}}function s(e,t){var r,i,s,l,c,u,h,d;this.element=e;var p=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in s=o(this.element),u={},n[t])n[t].hasOwnProperty(r)&&(i=n[t][r],l=a(this.element,i.value),c="width"===i.property?s.width:s.height,d=i.mode+"-"+i.property,h="","min"===i.mode&&c>=l&&(h+=i.value),"max"===i.mode&&c<=l&&(h+=i.value),u[d]||(u[d]=""),h&&-1===(" "+u[d]+" ").indexOf(" "+h+" ")&&(u[d]+=" "+h));for(var e in p)p.hasOwnProperty(e)&&(u[p[e]]?this.element.setAttribute(p[e],u[p[e]].substr(1)):this.element.removeAttribute(p[e]))}}function l(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new s(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,(function(){t.elementQueriesSetupInformation.call()})))}function c(e,i,o,a){if(void 0===n[e]){n[e]=[];var s=r.length;t.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",t.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+s+"px;}",r.push(e)}n[e].push({mode:i,property:o,value:a})}function u(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||"undefined"==typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function h(e){var t=u(e);for(var r in n)if(n.hasOwnProperty(r))for(var i=t(r,e),o=0,a=i.length;o<a;o++)l(i[o],r)}function d(t){var n=[],r=[],i=[],o=0,a=-1,s=[];for(var l in t.children)if(t.children.hasOwnProperty(l)&&t.children[l].tagName&&"img"===t.children[l].tagName.toLowerCase()){n.push(t.children[l]);var c=t.children[l].getAttribute("min-width")||t.children[l].getAttribute("data-min-width"),u=t.children[l].getAttribute("data-src")||t.children[l].getAttribute("url");i.push(u);var h={minWidth:c};r.push(h),c?t.children[l].style.display="none":(o=n.length-1,t.children[l].style.display="block")}function d(){var e,l=!1;for(e in n)n.hasOwnProperty(e)&&r[e].minWidth&&t.offsetWidth>r[e].minWidth&&(l=e);if(l||(l=o),a!==l)if(s[l])n[a].style.display="none",n[l].style.display="block",a=l;else{var c=new Image;c.onload=function(){n[l].src=i[l],n[a].style.display="none",n[l].style.display="block",s[l]=!0,a=l},c.src=i[l]}else n[l].src=i[l]}a=o,t.resizeSensorInstance=new e(t,d),d()}function p(){for(var e=u()("[data-responsive-image],[responsive-image]"),t=0,n=e.length;t<n;t++)d(e[t])}var f=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,m=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function g(e){var t,n,r,i;for(e=e.replace(/'/g,'"');null!==(t=f.exec(e));)for(n=t[1]+t[3],r=t[2];null!==(i=m.exec(r));)c(n,i[1],i[2],i[3])}function b(e){var t="";if(e)if("string"==typeof e)-1===(e=e.toLowerCase()).indexOf("min-width")&&-1===e.indexOf("max-width")||g(e);else for(var n=0,r=e.length;n<r;n++)1===e[n].type?-1!==(t=e[n].selectorText||e[n].cssText).indexOf("min-height")||-1!==t.indexOf("max-height")?g(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||g(t):4===e[n].type?b(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&b(e[n].styleSheet.cssRules)}var v=!1;this.init=function(){var n="animationstart";void 0!==document.documentElement.style.webkitAnimationName?n="webkitAnimationStart":void 0!==document.documentElement.style.MozAnimationName?n="mozanimationstart":void 0!==document.documentElement.style.OAnimationName&&(n="oanimationstart"),document.body.addEventListener(n,(function(t){var n=t.target,i=n&&window.getComputedStyle(n,null),o=i&&i.getPropertyValue("animation-name");if(o&&-1!==o.indexOf("element-queries")){n.elementQueriesSensor=new e(n,(function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()}));var a=window.getComputedStyle(n.resizeSensor,null).getPropertyValue("min-width");a=parseInt(a.replace("px","")),l(t.target,r[a])}})),v||((t=document.createElement("style")).type="text/css",t.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",t.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(t),v=!0);for(var i=0,o=document.styleSheets.length;i<o;i++)try{document.styleSheets[i].href&&0===document.styleSheets[i].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[i].href),b(document.styleSheets[i].cssRules||document.styleSheets[i].rules||document.styleSheets[i].cssText)}catch(e){}p()},this.findElementQueriesElements=function(e){h(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))}),10);else window.onload=e};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){n(t.init)},t}(Mu.exports)}(Lu);var Bu={ResizeSensor:Mu.exports,ElementQueries:Lu.exports};function Fu(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],r=0;r<100;r++)n.push(n[r]+t);return n}function Uu(){this.step="    ",this.shift=Fu(this.step)}function ju(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function Hu(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}Uu.prototype.xml=function(e,t){var n=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=n.length,i=!1,o=0,a="",s=0,l=t?Fu(t):this.shift;for(s=0;s<r;s++)n[s].search(/<!/)>-1?(a+=l[o]+n[s],i=!0,(n[s].search(/-->/)>-1||n[s].search(/\]>/)>-1||n[s].search(/!DOCTYPE/)>-1)&&(i=!1)):n[s].search(/-->/)>-1||n[s].search(/\]>/)>-1?(a+=n[s],i=!1):/^<\w/.exec(n[s-1])&&/^<\/\w/.exec(n[s])&&/^<[\w:\-\.\,]+/.exec(n[s-1])==/^<\/[\w:\-\.\,]+/.exec(n[s])[0].replace("/","")?(a+=n[s],i||o--):n[s].search(/<\w/)>-1&&-1==n[s].search(/<\//)&&-1==n[s].search(/\/>/)?a=a+=i?n[s]:l[o++]+n[s]:n[s].search(/<\w/)>-1&&n[s].search(/<\//)>-1?a=a+=i?n[s]:l[o]+n[s]:n[s].search(/<\//)>-1?a=a+=i?n[s]:l[--o]+n[s]:n[s].search(/\/>/)>-1?a=a+=i?n[s]:l[o]+n[s]:n[s].search(/<\?/)>-1||n[s].search(/xmlns\:/)>-1||n[s].search(/xmlns\=/)>-1?a+=l[o]+n[s]:a+=n[s];return"\n"==a[0]?a.slice(1):a},Uu.prototype.json=function(e,t){return t=t||this.step,"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},Uu.prototype.css=function(e,t){var n=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=n.length,i=0,o="",a=0,s=t?Fu(t):this.shift;for(a=0;a<r;a++)/\{/.exec(n[a])?o+=s[i++]+n[a]:/\}/.exec(n[a])?o+=s[--i]+n[a]:(/\*\\/.exec(n[a]),o+=s[i]+n[a]);return o.replace(/^\n{1,}/,"")},Uu.prototype.sql=function(e,t){var n=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),r=n.length,i=[],o=0,a=this.step,s=0,l="",c=0,u=t?Fu(t):this.shift;for(c=0;c<r;c++)i=c%2?i.concat(n[c]):i.concat(Hu(n[c],a));for(r=i.length,c=0;c<r;c++)s=ju(i[c],s),/\s{0,}\s{0,}SELECT\s{0,}/.exec(i[c])&&(i[c]=i[c].replace(/\,/g,",\n"+a+a)),/\s{0,}\s{0,}SET\s{0,}/.exec(i[c])&&(i[c]=i[c].replace(/\,/g,",\n"+a+a)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(i[c])?l+=u[++o]+i[c]:/\'/.exec(i[c])?(s<1&&o&&o--,l+=i[c]):(l+=u[o]+i[c],s<1&&o&&o--);return l.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},Uu.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},Uu.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},Uu.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},Uu.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")};var Gu=new Uu,zu={},Vu=Object.prototype.hasOwnProperty;function Yu(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function $u(e){try{return encodeURIComponent(e)}catch(e){return null}}zu.stringify=function(e,t){t=t||"";var n,r,i=[];for(r in"string"!=typeof t&&(t="?"),e)if(Vu.call(e,r)){if((n=e[r])||null!=n&&!isNaN(n)||(n=""),r=$u(r),n=$u(n),null===r||null===n)continue;i.push(r+"="+n)}return i.length?t+i.join("&"):""},zu.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=Yu(t[1]),o=Yu(t[2]);null===i||null===o||i in r||(r[i]=o)}return r};var Xu=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e},Wu=zu,qu=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Ku=/[\n\r\t]/g,Zu=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Qu=/:\d+$/,Ju=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,eh=/^[a-zA-Z]:/;function th(e){return(e||"").toString().replace(qu,"")}var nh=[["#","hash"],["?","query"],function(e,t){return oh(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],rh={hash:1,query:1};function ih(e){var t,n=("undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).location||{},r={},i=typeof(e=e||n);if("blob:"===e.protocol)r=new sh(unescape(e.pathname),{});else if("string"===i)for(t in r=new sh(e,{}),rh)delete r[t];else if("object"===i){for(t in e)t in rh||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=Zu.test(e.href))}return r}function oh(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function ah(e,t){e=(e=th(e)).replace(Ku,""),t=t||{};var n,r=Ju.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],a=!!r[3],s=0;return o?a?(n=r[2]+r[3]+r[4],s=r[2].length+r[3].length):(n=r[2]+r[4],s=r[2].length):a?(n=r[3]+r[4],s=r[3].length):n=r[4],"file:"===i?s>=2&&(n=n.slice(2)):oh(i)?n=r[4]:i?o&&(n=n.slice(2)):s>=2&&oh(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||oh(i),slashesCount:s,rest:n}}function sh(e,t,n){if(e=(e=th(e)).replace(Ku,""),!(this instanceof sh))return new sh(e,t,n);var r,i,o,a,s,l,c=nh.slice(),u=typeof t,h=this,d=0;for("object"!==u&&"string"!==u&&(n=t,t=null),n&&"function"!=typeof n&&(n=Wu.parse),r=!(i=ah(e||"",t=ih(t))).protocol&&!i.slashes,h.slashes=i.slashes||r&&t.slashes,h.protocol=i.protocol||t.protocol||"",e=i.rest,("file:"===i.protocol&&(2!==i.slashesCount||eh.test(e))||!i.slashes&&(i.protocol||i.slashesCount<2||!oh(h.protocol)))&&(c[3]=[/(.*)/,"pathname"]);d<c.length;d++)"function"!=typeof(a=c[d])?(o=a[0],l=a[1],o!=o?h[l]=e:"string"==typeof o?~(s="@"===o?e.lastIndexOf(o):e.indexOf(o))&&("number"==typeof a[2]?(h[l]=e.slice(0,s),e=e.slice(s+a[2])):(h[l]=e.slice(s),e=e.slice(0,s))):(s=o.exec(e))&&(h[l]=s[1],e=e.slice(0,s.index)),h[l]=h[l]||r&&a[3]&&t[l]||"",a[4]&&(h[l]=h[l].toLowerCase())):e=a(e,h);n&&(h.query=n(h.query)),r&&t.slashes&&"/"!==h.pathname.charAt(0)&&(""!==h.pathname||""!==t.pathname)&&(h.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(h.pathname,t.pathname)),"/"!==h.pathname.charAt(0)&&oh(h.protocol)&&(h.pathname="/"+h.pathname),Xu(h.port,h.protocol)||(h.host=h.hostname,h.port=""),h.username=h.password="",h.auth&&(~(s=h.auth.indexOf(":"))?(h.username=h.auth.slice(0,s),h.username=encodeURIComponent(decodeURIComponent(h.username)),h.password=h.auth.slice(s+1),h.password=encodeURIComponent(decodeURIComponent(h.password))):h.username=encodeURIComponent(decodeURIComponent(h.auth)),h.auth=h.password?h.username+":"+h.password:h.username),h.origin="file:"!==h.protocol&&oh(h.protocol)&&h.host?h.protocol+"//"+h.host:"null",h.href=h.toString()}sh.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||Wu.parse)(t)),r[e]=t;break;case"port":r[e]=t,Xu(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,Qu.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";r[e]=t.charAt(0)!==i?i+t:t}else r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var o=t.indexOf(":");~o?(r.username=t.slice(0,o),r.username=encodeURIComponent(decodeURIComponent(r.username)),r.password=t.slice(o+1),r.password=encodeURIComponent(decodeURIComponent(r.password))):r.username=encodeURIComponent(decodeURIComponent(t))}for(var a=0;a<nh.length;a++){var s=nh[a];s[4]&&(r[s[1]]=r[s[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&oh(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=Wu.stringify);var t,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var o=i+(n.protocol&&n.slashes||oh(n.protocol)?"//":"");return n.username?(o+=n.username,n.password&&(o+=":"+n.password),o+="@"):n.password?(o+=":"+n.password,o+="@"):"file:"!==n.protocol&&oh(n.protocol)&&!r&&"/"!==n.pathname&&(o+="@"),(":"===r[r.length-1]||Qu.test(n.hostname)&&!n.port)&&(r+=":"),o+=r+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},sh.extractProtocol=ah,sh.location=ih,sh.trimLeft=th,sh.qs=Wu;var lh=sh;const ch=(()=>{try{return new window.BroadcastChannel("pub-sub-es")}catch(e){return{postMessage:()=>{}}}})(),uh=(e,t)=>t?e.toLowerCase():e,hh=(e,{caseInsensitive:t}={})=>(n,r,i=1/0)=>{const o=uh(n,t);return e[o]||(e[o]=[],e.__times__[o]=[]),e[o].push(r),e.__times__[o].push(+i||1/0),{event:o,handler:r}},dh=(e,{caseInsensitive:t}={})=>(n,r)=>{"object"==typeof n&&(r=n.handler,n=n.event);const i=uh(n,t);if(!e[i])return;const o=e[i].indexOf(r);-1===o||o>=e[i].length||(e[i].splice(o,1),e.__times__[i].splice(o,1))},ph=(e,t)=>()=>{e.forEach((e=>e(t)))},fh=(e,{isGlobal:t,caseInsensitive:n,async:r}={})=>{const i=dh(e);return(o,a,s={})=>{const l=uh(o,n);if(!e[l])return;const c=[...e[l]];if(c.forEach(((t,n)=>{--e.__times__[l][n]<1&&i(l,t)})),r||s.async?setTimeout(ph(c,a),0):ph(c,a)(),t&&!s.isNoGlobalBroadcast)try{ch.postMessage({event:l,news:a})}catch(e){if(!(e instanceof DOMException))throw e;console.warn(`Could not broadcast '${l}' globally. Payload is not clonable.`)}}},mh=e=>()=>{Object.keys(e).filter((e=>"_"!==e[0])).forEach((t=>{e[t]=void 0,e.__times__[t]=void 0,delete e[t],delete e.__times__[t]}))},gh=({async:e=!1,caseInsensitive:t=!1,stack:n={__times__:{}}}={})=>(n.__times__||(n.__times__={}),{publish:fh(n,{async:e,caseInsensitive:t}),subscribe:hh(n,{caseInsensitive:t}),unsubscribe:dh(n,{caseInsensitive:t}),clear:mh(n),stack:n}),bh={__times__:{}},vh={publish:fh(bh,{isGlobal:!0}),subscribe:hh(bh),unsubscribe:dh(bh),stack:bh};ch.onmessage=({data:{event:e,news:t}})=>vh.publish(e,t,!0);const yh={"context-menu":"_context-menu_18ock_1","context-menu-dark":"_context-menu-dark_18ock_12","context-menu-icon":"_context-menu-icon_18ock_17","context-menu-item":"_context-menu-item_18ock_27","context-menu-hr":"_context-menu-hr_18ock_38","play-icon":"_play-icon_18ock_45","context-menu-span":"_context-menu-span_18ock_52","context-menu-thumbnail":"_context-menu-thumbnail_18ock_60","context-menu-thumbnail-inline":"_context-menu-thumbnail-inline_18ock_65"};function Th(e){return m.default.createElement("div",{"data-menu-item-for":"string"==typeof e.children?e.children:null,className:yh["context-menu-item"],onClick:t=>e.onClick(t),onMouseEnter:t=>e.onMouseEnter(t),onMouseLeave:t=>e.onMouseLeave(t),role:"button",tabIndex:0},m.default.createElement("span",{className:yh["context-menu-span"]},e.children))}Th.defaultProps={onMouseEnter:()=>{},onMouseLeave:()=>{}},Th.propTypes={children:S.exports.node.isRequired,onClick:S.exports.func.isRequired,onMouseEnter:S.exports.func,onMouseLeave:S.exports.func};var _h={value:()=>{}};function Eh(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new xh(r)}function xh(e){this._=e}function wh(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function Sh(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=_h,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function Ah(e){e.stopImmediatePropagation()}function kh(e){e.preventDefault(),e.stopImmediatePropagation()}function Ch(e){var t=e.document.documentElement,n=Be(e).on("dragstart.drag",kh,!0);"onselectstart"in t?n.on("selectstart.drag",kh,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ih(e,t){var n=e.document.documentElement,r=Be(e).on("dragstart.drag",null);t&&(r.on("click.drag",kh,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}xh.prototype=Eh.prototype={constructor:xh,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=Sh(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Sh(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=wh(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new xh(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const Oh=e=>()=>e;function Dh(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function Ph(e){return!e.ctrlKey&&!e.button}function Nh(){return this.parentNode}function Rh(e,t){return null==t?{x:e.x,y:e.y}:t}function Mh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lh(){var e,t,n,r,i=Ph,o=Nh,a=Rh,s=Mh,l={},c=Eh("start","drag","end"),u=0,h=0;function d(e){e.on("mousedown.drag",p).filter(s).on("touchstart.drag",g).on("touchmove.drag",b).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(a,s){if(!r&&i.call(this,a,s)){var l=y(this,o.call(this,a,s),a,s,"mouse");l&&(Be(a.view).on("mousemove.drag",f,!0).on("mouseup.drag",m,!0),Ch(a.view),Ah(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function f(r){if(kh(r),!n){var i=r.clientX-e,o=r.clientY-t;n=i*i+o*o>h}l.mouse("drag",r)}function m(e){Be(e.view).on("mousemove.drag mouseup.drag",null),Ih(e.view,n),kh(e),l.mouse("end",e)}function g(e,t){if(i.call(this,e,t)){var n,r,a=e.changedTouches,s=o.call(this,e,t),l=a.length;for(n=0;n<l;++n)(r=y(this,s,e,t,a[n].identifier,a[n]))&&(Ah(e),r("start",e,a[n]))}}function b(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(kh(e),n("drag",e,r[t]))}function v(e){var t,n,i=e.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<o;++t)(n=l[i[t].identifier])&&(Ah(e),n("end",e,i[t]))}function y(e,t,n,r,i,o){var s,h,p,f=c.copy(),m=Ge(o||n,t);if(null!=(p=a.call(e,new Dh("beforestart",{sourceEvent:n,target:d,identifier:i,active:u,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),r)))return s=p.x-m[0]||0,h=p.y-m[1]||0,function n(o,a,c){var g,b=m;switch(o){case"start":l[i]=n,g=u++;break;case"end":delete l[i],--u;case"drag":m=Ge(c||a,t),g=u}f.call(o,e,new Dh(o,{sourceEvent:a,subject:p,target:d,identifier:i,active:g,x:m[0]+s,y:m[1]+h,dx:m[0]-b[0],dy:m[1]-b[1],dispatch:f}),r)}}return d.filter=function(e){return arguments.length?(i="function"==typeof e?e:Oh(!!e),d):i},d.container=function(e){return arguments.length?(o="function"==typeof e?e:Oh(e),d):o},d.subject=function(e){return arguments.length?(a="function"==typeof e?e:Oh(e),d):a},d.touchable=function(e){return arguments.length?(s="function"==typeof e?e:Oh(!!e),d):s},d.on=function(){var e=c.on.apply(c,arguments);return e===c?d:e},d.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,d):Math.sqrt(h)},d}Dh.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const Bh=Object.freeze(Object.defineProperty({__proto__:null,drag:Lh,dragDisable:Ch,dragEnable:Ih},Symbol.toStringTag,{value:"Module"}));var Fh,Uh,jh=0,Hh=0,Gh=0,zh=1e3,Vh=0,Yh=0,$h=0,Xh="object"==typeof performance&&performance.now?performance:Date,Wh="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qh(){return Yh||(Wh(Kh),Yh=Xh.now()+$h)}function Kh(){Yh=0}function Zh(){this._call=this._time=this._next=null}function Qh(e,t,n){var r=new Zh;return r.restart(e,t,n),r}function Jh(){Yh=(Vh=Xh.now())+$h,jh=Hh=0;try{!function(){qh(),++jh;for(var e,t=Fh;t;)(e=Yh-t._time)>=0&&t._call.call(null,e),t=t._next;--jh}()}finally{jh=0,function(){for(var e,t,n=Fh,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Fh=t);Uh=e,td(r)}(),Yh=0}}function ed(){var e=Xh.now(),t=e-Vh;t>zh&&($h-=t,Vh=e)}function td(e){jh||(Hh&&(Hh=clearTimeout(Hh)),e-Yh>24?(e<1/0&&(Hh=setTimeout(Jh,e-Xh.now()-$h)),Gh&&(Gh=clearInterval(Gh))):(Gh||(Vh=Xh.now(),Gh=setInterval(ed,zh)),jh=1,Wh(Jh)))}function nd(e,t,n){var r=new Zh;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}Zh.prototype=Qh.prototype={constructor:Zh,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?qh():+n)+(null==t?0:+t),this._next||Uh===this||(Uh?Uh._next=this:Fh=this,Uh=this),this._call=e,this._time=n,td()},stop:function(){this._call&&(this._call=null,this._time=1/0,td())}};var rd=Eh("start","end","cancel","interrupt"),id=[],od=0,ad=1,sd=2,ld=3,cd=4,ud=5,hd=6;function dd(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=ad,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(o){var c,u,h,d;if(n.state!==ad)return l();for(c in i)if((d=i[c]).name===n.name){if(d.state===ld)return nd(a);d.state===cd?(d.state=hd,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[c]):+c<t&&(d.state=hd,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[c])}if(nd((function(){n.state===ld&&(n.state=cd,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=sd,n.on.call("start",e,e.__data__,n.index,n.group),n.state===sd){for(n.state=ld,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=ud,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);n.state===ud&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=hd,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=Qh(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:rd,tween:id,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:od})}function pd(e,t){var n=md(e,t);if(n.state>od)throw new Error("too late; already scheduled");return n}function fd(e,t){var n=md(e,t);if(n.state>ld)throw new Error("too late; already running");return n}function md(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function gd(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>sd&&n.state<ud,n.state=hd,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}function bd(e,t){var n,r;return function(){var i=fd(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function vd(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=fd(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function yd(e,t,n){var r=e._id;return e.each((function(){var e=fd(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return md(e,r).value[t]}}function Td(e,t){var n;return("number"==typeof t?_r:t instanceof xn?br:(n=xn(t))?(t=n,br):Sr)(e,t)}function _d(e){return function(){this.removeAttribute(e)}}function Ed(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xd(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function wd(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function Sd(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttribute(e)}}function Ad(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function kd(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Cd(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Id(e,t){return function(){pd(this,e).delay=+t.apply(this,arguments)}}function Od(e,t){return t=+t,function(){pd(this,e).delay=t}}function Dd(e,t){return function(){fd(this,e).duration=+t.apply(this,arguments)}}function Pd(e,t){return t=+t,function(){fd(this,e).duration=t}}var Nd=Le.prototype.constructor;function Rd(e){return function(){this.style.removeProperty(e)}}var Md=0;function Ld(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Bd(){return++Md}var Fd=Le.prototype;Ld.prototype={constructor:Ld,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=N(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=e.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,dd(h[d],t,n,d,h,md(s,n)));return new Ld(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=L(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=e.call(l,l.__data__,h,c),f=md(l,n),m=0,g=p.length;m<g;++m)(d=p[m])&&dd(d,t,n,m,p,f);o.push(p),a.push(l)}return new Ld(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=B(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new Ld(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=t[s],u=n[s],h=c.length,d=a[s]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;s<r;++s)a[s]=t[s];return new Ld(a,this._parents,this._name,this._id)},selection:function(){return new Nd(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Bd(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=md(a,t);dd(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ld(r,this._parents,e,n)},call:Fd.call,nodes:Fd.nodes,node:Fd.node,size:Fd.size,empty:Fd.empty,each:Fd.each,on:function(e,t){var n=this._id;return arguments.length<2?md(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?pd:fd;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=C(e),r="transform"===n?Rr:Td;return this.attrTween(e,"function"==typeof t?(n.local?Ad:Sd)(n,r,yd(this,"attr."+e,t)):null==t?(n.local?Ed:_d)(n):(n.local?wd:xd)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=C(e);return this.tween(n,(r.local?kd:Cd)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Nr:Td;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=oe(this,e),a=(this.style.removeProperty(e),oe(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,Rd(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=oe(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=oe(this,e)),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}(e,r,yd(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=fd(this,e),c=l.on,u=null==l.value[a]?o||(o=Rd(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=oe(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(yd(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=md(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?bd:vd)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Id:Od)(t,e)):md(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Dd:Pd)(t,e)):md(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){fd(this,e).ease=t}}(t,e)):md(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;fd(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=fd(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:Fd[Symbol.iterator]};var Ud={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function jd(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Le.prototype.interrupt=function(e){return this.each((function(){gd(this,e)}))},Le.prototype.transition=function(e){var t,n;e instanceof Ld?(t=e._id,e=e._name):(t=Bd(),(n=Ud).time=qh(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&dd(a,e,t,c,s,n||jd(a,t));return new Ld(r,this._parents,e,t)};const Hd=e=>()=>e;function Gd(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function zd(e){e.preventDefault(),e.stopImmediatePropagation()}var Vd={name:"drag"},Yd={name:"space"},$d={name:"handle"},Xd={name:"center"};const{abs:Wd,max:qd,min:Kd}=Math;function Zd(e){return[+e[0],+e[1]]}function Qd(e){return[Zd(e[0]),Zd(e[1])]}var Jd={name:"x",handles:["w","e"].map(sp),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},ep={name:"y",handles:["n","s"].map(sp),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},tp={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(sp),input:function(e){return null==e?null:Qd(e)},output:function(e){return e}},np={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},rp={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ip={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},op={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ap={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function sp(e){return{type:e}}function lp(e){return!e.ctrlKey&&!e.button}function cp(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function up(){return navigator.maxTouchPoints||"ontouchstart"in this}function hp(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function dp(){return mp(Jd)}function pp(){return mp(ep)}function fp(){return mp(tp)}function mp(e){var t,n=cp,r=lp,i=up,o=!0,a=Eh("start","brush","end"),s=6;function l(t){var n=t.property("__brush",m).selectAll(".overlay").data([sp("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",np.overlay).merge(n).each((function(){var e=hp(this).extent;Be(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([sp("selection")]).enter().append("rect").attr("class","selection").attr("cursor",np.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return np[e.type]})),t.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(i).on("touchstart.brush",d).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",f).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var e=Be(this),t=hp(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-s/2:t[0][0]-s/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-s/2:t[0][1]-s/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+s:s})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+s:s}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new h(e,t,n):r}function h(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function d(n){if((!t||n.touches)&&r.apply(this,arguments)){var i,a,s,l,h,d,p,f,m,g,b,v=this,y=n.target.__data__.type,T="selection"===(o&&n.metaKey?y="overlay":y)?Vd:o&&n.altKey?Xd:$d,_=e===ep?null:op[y],E=e===Jd?null:ap[y],x=hp(v),w=x.extent,S=x.selection,A=w[0][0],k=w[0][1],C=w[1][0],I=w[1][1],O=0,D=0,P=_&&E&&o&&n.shiftKey,N=Array.from(n.touches||[n],(e=>{const t=e.identifier;return(e=Ge(e,v)).point0=e.slice(),e.identifier=t,e}));if("overlay"===y){S&&(m=!0);const t=[N[0],N[1]||N[0]];x.selection=S=[[i=e===ep?A:Kd(t[0][0],t[1][0]),s=e===Jd?k:Kd(t[0][1],t[1][1])],[h=e===ep?C:qd(t[0][0],t[1][0]),p=e===Jd?I:qd(t[0][1],t[1][1])]],N.length>1&&U()}else i=S[0][0],s=S[0][1],h=S[1][0],p=S[1][1];a=i,l=s,d=h,f=p;var R=Be(v).attr("pointer-events","none"),M=R.selectAll(".overlay").attr("cursor",np[y]);gd(v);var L=u(v,arguments,!0).beforestart();if(n.touches)L.moved=F,L.ended=j;else{var B=Be(n.view).on("mousemove.brush",F,!0).on("mouseup.brush",j,!0);o&&B.on("keydown.brush",(function(e){switch(e.keyCode){case 16:P=_&&E;break;case 18:T===$d&&(_&&(h=d-O*_,i=a+O*_),E&&(p=f-D*E,s=l+D*E),T=Xd,U());break;case 32:T!==$d&&T!==Xd||(_<0?h=d-O:_>0&&(i=a-O),E<0?p=f-D:E>0&&(s=l-D),T=Yd,M.attr("cursor",np.selection),U());break;default:return}zd(e)}),!0).on("keyup.brush",(function(e){switch(e.keyCode){case 16:P&&(g=b=P=!1,U());break;case 18:T===Xd&&(_<0?h=d:_>0&&(i=a),E<0?p=f:E>0&&(s=l),T=$d,U());break;case 32:T===Yd&&(e.altKey?(_&&(h=d-O*_,i=a+O*_),E&&(p=f-D*E,s=l+D*E),T=Xd):(_<0?h=d:_>0&&(i=a),E<0?p=f:E>0&&(s=l),T=$d),M.attr("cursor",np[y]),U());break;default:return}zd(e)}),!0),Ch(n.view)}c.call(v),L.start(n,T.name)}function F(e){for(const t of e.changedTouches||[e])for(const e of N)e.identifier===t.identifier&&(e.cur=Ge(t,v));if(P&&!g&&!b&&1===N.length){const e=N[0];Wd(e.cur[0]-e[0])>Wd(e.cur[1]-e[1])?b=!0:g=!0}for(const e of N)e.cur&&(e[0]=e.cur[0],e[1]=e.cur[1]);m=!0,zd(e),U(e)}function U(e){const t=N[0],n=t.point0;var r;switch(O=t[0]-n[0],D=t[1]-n[1],T){case Yd:case Vd:_&&(O=qd(A-i,Kd(C-h,O)),a=i+O,d=h+O),E&&(D=qd(k-s,Kd(I-p,D)),l=s+D,f=p+D);break;case $d:N[1]?(_&&(a=qd(A,Kd(C,N[0][0])),d=qd(A,Kd(C,N[1][0])),_=1),E&&(l=qd(k,Kd(I,N[0][1])),f=qd(k,Kd(I,N[1][1])),E=1)):(_<0?(O=qd(A-i,Kd(C-i,O)),a=i+O,d=h):_>0&&(O=qd(A-h,Kd(C-h,O)),a=i,d=h+O),E<0?(D=qd(k-s,Kd(I-s,D)),l=s+D,f=p):E>0&&(D=qd(k-p,Kd(I-p,D)),l=s,f=p+D));break;case Xd:_&&(a=qd(A,Kd(C,i-O*_)),d=qd(A,Kd(C,h+O*_))),E&&(l=qd(k,Kd(I,s-D*E)),f=qd(k,Kd(I,p+D*E)))}d<a&&(_*=-1,r=i,i=h,h=r,r=a,a=d,d=r,y in rp&&M.attr("cursor",np[y=rp[y]])),f<l&&(E*=-1,r=s,s=p,p=r,r=l,l=f,f=r,y in ip&&M.attr("cursor",np[y=ip[y]])),x.selection&&(S=x.selection),g&&(a=S[0][0],d=S[1][0]),b&&(l=S[0][1],f=S[1][1]),S[0][0]===a&&S[0][1]===l&&S[1][0]===d&&S[1][1]===f||(x.selection=[[a,l],[d,f]],c.call(v),L.brush(e,T.name))}function j(e){if(function(e){e.stopImmediatePropagation()}(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else Ih(e.view,m),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);R.attr("pointer-events","all"),M.attr("cursor",np.overlay),x.selection&&(S=x.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(S)&&(x.selection=null,c.call(v)),L.end(e,T.name)}}function p(e){u(this,arguments).moved(e)}function f(e){u(this,arguments).ended(e)}function m(){var t=this.__brush||{selection:null};return t.extent=Qd(n.apply(this,arguments)),t.dim=e,t}return l.move=function(t,n){t.tween?t.on("start.brush",(function(e){u(this,arguments).beforestart().start(e)})).on("interrupt.brush end.brush",(function(e){u(this,arguments).end(e)})).tween("brush",(function(){var t=this,r=t.__brush,i=u(t,arguments),o=r.selection,a=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=Ar(o,a);function l(e){r.selection=1===e&&null===a?null:s(e),c.call(t),i.brush()}return null!==o&&null!==a?l:l(1)})):t.each((function(){var t=this,r=arguments,i=t.__brush,o=e.input("function"==typeof n?n.apply(t,r):n,i.extent),a=u(t,r).beforestart();gd(t),i.selection=null===o?null:o,c.call(t),a.start().brush().end()}))},l.clear=function(e){l.move(e,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0==--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var i=Be(this.that).datum();a.call(t,this.that,new Gd(t,{sourceEvent:n,target:l,selection:e.output(this.state.selection),mode:r,dispatch:a}),i)}},l.extent=function(e){return arguments.length?(n="function"==typeof e?e:Hd(Qd(e)),l):n},l.filter=function(e){return arguments.length?(r="function"==typeof e?e:Hd(!!e),l):r},l.touchable=function(e){return arguments.length?(i="function"==typeof e?e:Hd(!!e),l):i},l.handleSize=function(e){return arguments.length?(s=+e,l):s},l.keyModifiers=function(e){return arguments.length?(o=!!e,l):o},l.on=function(){var e=a.on.apply(a,arguments);return e===a?l:e},l}const gp=Object.freeze(Object.defineProperty({__proto__:null,brush:fp,brushX:dp,brushY:pp,brushSelection:function(e){var t=e.__brush;return t?t.dim.output(t.selection):null}},Symbol.toStringTag,{value:"Module"}));function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bp.apply(this,arguments)}function vp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yp(e,t){if(e){if("string"==typeof e)return vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vp(e,t):void 0}}function Tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||yp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _p(e){return(_p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ep(e){var t=function(e,t){if("object"!==_p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_p(t)?t:String(t)}function xp(e,t,n){return(t=Ep(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){xp(e,t,n[t])}))}return e}function Sp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ap(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ep(r.key),r)}}function kp(e,t,n){return t&&Ap(e.prototype,t),n&&Ap(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ip(e,t){if(t&&("object"===_p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cp(e)}function Op(e){return(Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dp(e,t){return(Dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dp(e,t)}var Np=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}};function Rp(e){return function(e){if(Array.isArray(e))return vp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mp=function(){function e(){Sp(this,e),xp(this,"refs",{})}return kp(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(Lp)}}]),e}();function Lp(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function Bp(e,t){return Object.keys(e).reduce((function(n,r){return-1===t.indexOf(r)&&(n[r]=e[r]),n}),{})}var Fp={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},Up=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function jp(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function Hp(e,t){e.style["".concat(Up,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function Gp(e,t){e.style["".concat(Up,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function zp(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function Vp(e,t,n){return Math.max(e,Math.min(n,t))}function Yp(e){return"px"===e.substr(-2)?parseFloat(e):0}function $p(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function Xp(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function Wp(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function qp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var r={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?r:qp(e.parentNode,t,r)}}function Kp(e){var t=e.lockOffset,n=e.width,r=e.height,i=t,o=t,a="px";if("string"==typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);Np(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),o=parseFloat(t),a=s[1]}return Np(isFinite(i)&&isFinite(o),"lockOffset value should be a finite. Given %s",t),"%"===a&&(i=i*n/100,o=o*r/100),{x:i,y:o}}function Zp(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:Zp(e.parentNode):null}var Qp=27,Jp=32,ef=37,tf=38,nf=39,rf=40,of={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function af(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return r=t=function(t){function r(){return Sp(this,r),Ip(this,Op(r).apply(this,arguments))}return Pp(r,t),kp(r,[{key:"componentDidMount",value:function(){l.findDOMNode(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return Np(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return n.createElement(e,bp({ref:t},this.props))}}]),r}(n.Component),xp(t,"displayName",$p("sortableHandle",e)),r}function sf(e){return null!=e.sortableHandle}var lf=function(){function e(t,n){Sp(this,e),this.container=t,this.onScrollCallback=n}return kp(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,r=e.minTranslate,i=e.maxTranslate,o=e.width,a=e.height,s={x:0,y:0},l={x:1,y:1},c=10,u=10,h=this.container,d=h.scrollTop,p=h.scrollLeft,f=h.scrollHeight,m=h.scrollWidth,g=0===d,b=f-d-h.clientHeight==0,v=0===p,y=m-p-h.clientWidth==0;n.y>=i.y-a/2&&!b?(s.y=1,l.y=u*Math.abs((i.y-a/2-n.y)/a)):n.x>=i.x-o/2&&!y?(s.x=1,l.x=c*Math.abs((i.x-o/2-n.x)/o)):n.y<=r.y+a/2&&!g?(s.y=-1,l.y=u*Math.abs((n.y-a/2-r.y)/a)):n.x<=r.x+o/2&&!v&&(s.x=-1,l.x=c*Math.abs((n.x-o/2-r.x)/o)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===s.x&&0===s.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:l.x*s.x,top:l.y*s.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}();var cf={axis:S.exports.oneOf(["x","y","xy"]),contentWindow:S.exports.any,disableAutoscroll:S.exports.bool,distance:S.exports.number,getContainer:S.exports.func,getHelperDimensions:S.exports.func,helperClass:S.exports.string,helperContainer:S.exports.oneOfType([S.exports.func,"undefined"==typeof HTMLElement?S.exports.any:S.exports.instanceOf(HTMLElement)]),hideSortableGhost:S.exports.bool,keyboardSortingTransitionDuration:S.exports.number,lockAxis:S.exports.string,lockOffset:S.exports.oneOfType([S.exports.number,S.exports.string,S.exports.arrayOf(S.exports.oneOfType([S.exports.number,S.exports.string]))]),lockToContainerEdges:S.exports.bool,onSortEnd:S.exports.func,onSortMove:S.exports.func,onSortOver:S.exports.func,onSortStart:S.exports.func,pressDelay:S.exports.number,pressThreshold:S.exports.number,keyCodes:S.exports.shape({lift:S.exports.arrayOf(S.exports.number),drop:S.exports.arrayOf(S.exports.number),cancel:S.exports.arrayOf(S.exports.number),up:S.exports.arrayOf(S.exports.number),down:S.exports.arrayOf(S.exports.number)}),shouldCancelStart:S.exports.func,transitionDuration:S.exports.number,updateBeforeSortStart:S.exports.func,useDragHandle:S.exports.bool,useWindowAsScrollContainer:S.exports.bool},uf={lift:[Jp],drop:[Jp],cancel:[Qp],up:[tf,ef],down:[rf,nf]},hf={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:uf,shouldCancelStart:function(e){return-1!==[of.Input,of.Textarea,of.Select,of.Option,of.Button].indexOf(e.target.tagName)||!!zp(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},df=Object.keys(cf);var pf={index:S.exports.number.isRequired,collection:S.exports.oneOfType([S.exports.number,S.exports.string]),disabled:S.exports.bool},ff=Object.keys(pf);function mf(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return r=t=function(t){function r(){return Sp(this,r),Ip(this,Op(r).apply(this,arguments))}return Pp(r,t),kp(r,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,i=l.findDOMNode(this);i.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return Np(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return n.createElement(e,bp({ref:t},Bp(this.props,ff)))}}]),r}(n.Component),xp(t,"displayName",$p("sortableElement",e)),xp(t,"contextTypes",{manager:S.exports.object.isRequired}),xp(t,"propTypes",pf),xp(t,"defaultProps",{collection:0}),r}const gf=Ye((e=>e.pos)).left,bf=(e,t)=>{if(!t||!t.cumPositions||!t.cumPositions.length)return null;let n=gf(t.cumPositions,e);const r=t.cumPositions[t.cumPositions.length-1].chr,i=t.chromLengths[r];n-=n>0&&1;let o=Math.floor(e-t.cumPositions[n].pos),a=0;return o<0&&(a=o-1,o=1),n===t.cumPositions.length-1&&o>i&&(a=o-i,o=i),[t.cumPositions[n].chr,o,a,n]},vf=(e,t)=>n=>n%e*t+Math.floor(n/e),yf=e=>e,Tf=(e,t,n=yf)=>e.map(((e,r)=>e+t[n(r)])),_f=(e,t)=>{if("http://www.w3.org/2000/svg"===e.namespaceURI){const n=e.getAttribute("class");return n&&!!n.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}return e.classList?e.classList.contains(t):!!e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))},Ef=(e,t,n)=>n.chrPositions[e].pos+t,xf=e=>{const t=new e.constructor(e.type,e);return t.sourceUid=e.sourceUid,t.forwarded=e.forwarded,t},wf=(e,t=!1)=>{const n=e.map(((t,n)=>n*(255/(e.length-1)))),r=fi().domain(n).range(e),i=Gt(t?255:254,-1,-1).map(r).map((e=>{const t=kn(e);return[t.r,t.g,t.b,255*t.opacity]}));return i.length<256&&i.push([255,255,255,0]),i},Sf="move",Af="select",kf=3e3,Cf="locationListenerPrefix",If="http://higlass.io/api/v1",Of=["top","left","right","bottom","center","whole","gallery"],Df=Symbol("Light theme"),Pf=Symbol("Dark theme"),Nf=Df,Rf={PIXI:b},Mf={"multitrack-header":"_multitrack-header_1yz7l_1","multitrack-header-focus":"_multitrack-header-focus_1yz7l_2","multitrack-header-squeazed":"_multitrack-header-squeazed_1yz7l_3","multitrack-header-dark":"_multitrack-header-dark_1yz7l_20","multitrack-header-id":"_multitrack-header-id_1yz7l_30","multitrack-header-left":"_multitrack-header-left_1yz7l_39","multitrack-header-grabber":"_multitrack-header-grabber_1yz7l_44","multitrack-header-grabber-squeazed":"_multitrack-header-grabber-squeazed_1yz7l_45","multitrack-header-search":"_multitrack-header-search_1yz7l_80","multitrack-header-nav-list":"_multitrack-header-nav-list_1yz7l_102","multitrack-header-icon":"_multitrack-header-icon_1yz7l_107","multitrack-header-icon-squeazed":"_multitrack-header-icon-squeazed_1yz7l_108","mouse-tool-selection":"_mouse-tool-selection_1yz7l_136"},Lf=[{id:"cog",paths:["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],viewBox:"0 0 512 512"},{id:"cross",paths:["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],viewBox:"0 0 512 512"},{id:"enlarge",paths:["M512 0h-208l80 80-96 96 48 48 96-96 80 80z","M512 512v-208l-80 80-96-96-48 48 96 96-80 80z","M0 512h208l-80-80 96-96-48-48-96 96-80-80z","M0 0v208l80-80 96 96 48-48-96-96 80-80z"],viewBox:"0 0 512 512"},{id:"minus",paths:["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],viewBox:"0 0 512 512"},{id:"move",paths:["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],viewBox:"0 0 512 512"},{id:"play",paths:["M96 64l320 192-320 192z"],viewBox:"0 0 512 512"},{id:"plus",paths:["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],viewBox:"0 0 512 512"},{id:"copy",paths:["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],viewBox:"0 0 712 712"},{id:"select",viewBox:"0 0 16 16",paths:["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]},{id:"check_square_o",viewBox:"0 0 1792 1792",paths:["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]},{id:"square_o",viewBox:"0 0 1792 1792",paths:["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]},{id:"file_o",viewBox:"0 0 1792 1792",paths:["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]},{id:"folder_o",viewBox:"0 0 1792 1792",paths:["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]},{id:"folder_open_o",viewBox:"0 0 1792 1792",paths:["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]},{id:"chevron_right",viewBox:"0 0 1792 1792",paths:["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]},{id:"chevron_down",viewBox:"0 0 1792 1792",paths:["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]}],Bf=new DOMParser,Ff=Bf.parseFromString('<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>',"text/xml").documentElement,Uf=Bf.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 20 20">\n  <rect x="0" y="3" width="4" height="14" fill="#637993"/>\n  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>\n  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>\n  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>\n  <rect x="14" y="3" width="2" height="14" fill="#000000"/>\n  <rect x="16" y="3" width="4" height="14" fill="#637993"/>\n</svg>\n',"text/xml").documentElement,jf=Bf.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>line</title>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>\n    </g>\n</svg>\n',"text/xml").documentElement,Hf=Bf.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-3"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-5"></use>\n        </mask>\n        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>\n        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">\n            <use xlink:href="#tiles2DIconStr-path-7"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,Gf=Bf.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>2d-heatmap</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>\n        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>\n        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>\n        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>\n        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>\n        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>\n        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>\n    </g>\n</svg>\n',"text/xml").documentElement,zf='\n<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>axis-1d</title>\n    <desc>Created with Sketch.</desc>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>\n        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>\n    </g>\n</svg>\n',Vf=Bf.parseFromString(zf,"text/xml").documentElement,Yf=Be(Bf.parseFromString(zf,"text/xml").documentElement).style("transform","rotate(90deg)").node(),$f=Bf.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>gene-annotations</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>\n        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-1"></use>\n        </mask>\n        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>\n        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">\n            <use xlink:href="#geneAnnotations-path-3"></use>\n        </mask>\n        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>\n        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">\n            <use xlink:href="#geneAnnotations-path-5"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>\n        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>\n    </g>\n</svg>\n',"text/xml").documentElement,Xf='\n<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>1d-tiles-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-1"></use>\n        </mask>\n        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>\n        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#tiles1DIconStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>\n    </g>\n</svg>\n',Wf=Bf.parseFromString(Xf,"text/xml").documentElement,qf=Be(Bf.parseFromString(Xf,"text/xml").documentElement).style("transform","rotate(90deg)").node(),Kf=Bf.parseFromString('\n<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>arrowhead-domains</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>\n        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        </mask>\n        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>\n        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">\n            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>\n        </mask>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>\n        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>\n    </g>\n</svg>\n',"text/xml").documentElement;function Zf({theStyle:e,onClick:t}){return m.default.createElement("svg",{className:Mf[e],viewBox:"0 0 12 13",onClick:t,xmlns:"http://www.w3.org/2000/svg"},m.default.createElement("g",{fill:"none",stroke:"#6c6c6c",strokeWidth:"2"},m.default.createElement("path",{d:"M11.29 11.71l-4-4"}),m.default.createElement("circle",{cx:"5",cy:"5",r:"4"})))}const Qf={type:"osm-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"OSM Tiles",thumbnail:Ff,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},Jf={type:"mapbox-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Mapbox Tiles",thumbnail:Ff,availableOptions:["style","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{style:"mapbox.streets",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},em=[Qf,{...Qf,type:"osm"},Jf,{...Jf,type:"mapbox"},{type:"left-axis",datatype:["axis"],local:!0,orientation:"1d-vertical",name:"Left Axis",thumbnail:Yf,availableOptions:["minWidth"],defaultOptions:{minWidth:100}},{type:"top-axis",datatype:["axis"],local:!0,orientation:"1d-horizontal",name:"Top Axis",thumbnail:Vf,defaultOptions:{}},{type:"horizontal-rule",datatype:["x-coord"],local:!0,orientation:"whole",name:"Horizontal Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"vertical-rule",datatype:["y-coord"],local:!0,orientation:"whole",name:"Vertical Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"cross-rule",datatype:["xy-coord"],local:!0,orientation:"whole",name:"Cross Rule",thumbnail:null,availableOptions:["color"],defaultOptions:{color:"black"}},{type:"simple-svg",datatype:[],local:!1,orientation:"2d",exportable:!0,availableOptions:["minWidth","minHeight"],defaultOptions:{minWidth:100,minHeight:100}},{type:"heatmap",datatype:["matrix"],local:!1,orientation:"2d",thumbnail:Gf,exportable:!0,availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","colorbarBackgroundColor","maxZoom","minWidth","minHeight","dataTransform","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling","showMousePosition","mousePositionColor","showTooltip","extent","zeroValueColor"],defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],colorbarBackgroundColor:"#ffffff",maxZoom:null,minWidth:100,minHeight:100,colorbarPosition:"topRight",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1,extent:"full",zeroValueColor:null},defaultOptionsByTheme:{[Pf]:{backgroundColor:"#000000",colorRange:["black","rgba(208,2,27,1.0)","rgba(245,166,35,1.0)","white"],colorbarBackgroundColor:"#000000",labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"}}},{type:"linear-heatmap",aliases:["horizontal-heatmap","vertical-heatmap"],datatype:["matrix"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:Gf,defaultOptions:{backgroundColor:"#eeeeee",labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],maxZoom:null,minWidth:100,minHeight:40,trackBorderWidth:0,trackBorderColor:"black"},availableOptions:["backgroundColor","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","colorRange","maxZoom","minWidth","minHeight","dataTransform","oneDHeatmapFlipped","colorbarPosition","trackBorderWidth","trackBorderColor","heatmapValueScaling"]},{type:"line",aliases:["horizontal-line","vertical-line"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:jf,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","lineStrokeWidth","lineStrokeColor","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode","minHeight"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelBackgroundColor:"white",labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",lineStrokeColor:"blue",lineStrokeWidth:1,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,minHeight:20,mousePositionColor:"#000000",showTooltip:!1},defaultOptionsByTheme:{[Pf]:{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff"}}},{type:"1d-heatmap",aliases:["horizontal-1d-heatmap","vertical-1d-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:Uf,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin","colorRange","valueScaling","trackBorderWidth","trackBorderColor","trackType","showMousePosition","showTooltip","mousePositionColor","aggregationMode"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",colorRange:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"],valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,showMousePosition:!1,mousePositionColor:"#000000",showTooltip:!1}},{type:"vector-heatmap",aliases:["horizontal-vector-heatmap","vertical-vector-heatmap"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,minHeight:1,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log"}},{type:"multivec",aliases:["horizontal-multivec","vertical-multivec"],datatype:["multivec"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:null,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","minHeight","valueScaling","labelTextOpacity","labelBackgroundOpacity","colorRange","trackBorderWidth","trackBorderColor","trackType","heatmapValueScaling","selectRows","selectRowsAggregationMode","selectRowsAggregationWithRelativeHeight","selectRowsAggregationMethod","colorbarBackgroundColor","colorbarPosition","zeroValueColor"],defaultOptions:{labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!0,labelShowAssembly:!0,labelColor:"black",labelTextOpacity:.4,minHeight:100,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",heatmapValueScaling:"log",selectRows:null,selectRowsAggregationMode:"mean",selectRowsAggregationWithRelativeHeight:!0,selectRowsAggregationMethod:"client",colorbarBackgroundColor:"#ffffff",colorbarPosition:"topRight",zeroValueColor:null},defaultOptionsByTheme:{[Pf]:{colorbarBackgroundColor:"#000000"}}},{type:"point",aliases:["horizontal-point","vertical-point"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","pointColor","pointSize","valueScaling","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",pointColor:"red",pointSize:3,valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4}},{type:"divergent-bar",aliases:["horizontal-divergent-bar","vertical-divergent-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColorTop","barFillColorBottom","valueScaling","trackBorderWidth","trackBorderColor","barOpacity"],defaultOptions:{labelColor:"black",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColorBottom:"red",barFillColorTop:"green",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"bar",aliases:["horizontal-bar","vertical-bar"],datatype:["vector"],local:!1,orientation:"1d-horizontal",rotatable:!0,availableOptions:["align","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelShowResolution","labelShowAssembly","labelColor","labelTextOpacity","labelBackgroundOpacity","axisLabelFormatting","axisPositionHorizontal","axisMargin","barFillColor","colorRange","colorRangeGradient","valueScaling","valueScaleMin","valueScaleMax","trackBorderWidth","trackBorderColor","barOpacity","showMousePosition","showTooltip","aggregationMode","zeroLineVisible","zeroLineColor","zeroLineOpacity"],defaultOptions:{align:"bottom",labelColor:"[glyph-color]",labelPosition:"topLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisLabelFormatting:"scientific",axisPositionHorizontal:"right",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:.4,barOpacity:1}},{type:"2d-tiles",datatype:["matrix"],local:!1,orientation:"2d",name:"2D Tile Outlines",thumbnail:Hf},{type:"1d-value-interval",aliases:["horizontal-1d-value-interval","vertical-1d-value-interval"],datatype:["bed-value"],local:!1,orientation:["1d-horizontal"],rotatable:!0,name:"1D Rectangles",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","axisPositionHorizontal","axisMargin"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,axisPositionHorizontal:"left",lineStrokeColor:"blue",valueScaling:"linear"}},{type:"stacked-interval",aliases:["top-stacked-interval","left-stacked-interval"],datatype:["stacked-interval"],local:!1,orientation:"1d-horizontal",rotatable:!0,thumbnail:"horizontal-stacked-interval.png",availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity"]},{type:"viewport-projection-vertical",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-vertical",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-horizontal",datatype:["1d-projection"],local:!0,hidden:!0,projection:!0,orientation:"1d-horizontal",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"viewport-projection-center",datatype:["2d-projection"],local:!0,hidden:!0,projection:!0,orientation:"2d",name:"Viewport Projection",thumbnail:"viewport-projection-center.png",availableOptions:["projectionFillColor","projectionStrokeColor","strokeWidth"],defaultOptions:{projectionFillColor:"#777",projectionStrokeColor:"#777",projectionFillOpacity:.3,projectionStrokeOpacity:.7,strokeWidth:1}},{type:"gene-annotations",aliases:["horizontal-gene-annotations","vertical-gene-annotations"],datatype:["gene-annotation"],local:!1,defaultHeight:90,defaultWidth:90,rotatable:!0,orientation:"1d-horizontal",name:"Gene Annotations",thumbnail:$f,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundColor","labelBackgroundOpacity","minHeight","plusStrandColor","minusStrandColor","trackBorderWidth","trackBorderColor","showMousePosition","mousePositionColor","fontSize","geneAnnotationHeight","geneLabelPosition","geneStrandSpacing"],defaultOptions:{fontSize:10,labelColor:"black",labelBackgroundColor:"#ffffff",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:24,plusStrandColor:"blue",minusStrandColor:"red",trackBorderWidth:0,trackBorderColor:"black",showMousePosition:!1,mousePositionColor:"#000000",geneAnnotationHeight:16,geneLabelPosition:"outside",geneStrandSpacing:4},defaultOptionsByTheme:{[Pf]:{labelColor:"#ffffff",labelBackgroundColor:"#000000",trackBorderColor:"#ffffff",mousePositionColor:"#ffffff",plusStrandColor:"#40a0ff"}}},{type:"arrowhead-domains",datatype:["arrowhead-domains"],local:!1,orientation:"2d",name:"Arrowhead Domains",thumbnail:Kf,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"linear-2d-rectangle-domains",aliases:["horizontal-2d-rectangle-domains","vertical-2d-rectangle-domains"],datatype:["2d-rectangle-domains"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"Horizontal 2D Rectangle Domains",thumbnail:Kf,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{labelColor:"black",labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"2d-rectangle-domains",datatype:["2d-rectangle-domains"],local:!1,orientation:"2d",name:"2D Rectangle Domains",thumbnail:Kf,availableOptions:["flipDiagonal","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainFillOpacity","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize"],defaultOptions:{flipDiagonal:"none",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainFillOpacity:.4,rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none"}},{type:"horizontal-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokePos","regions"],defaultOptions:{fill:"red",fillOpacity:.2,stroke:"red",strokeOpacity:0,strokeWidth:1,regions:[],strokePos:[]}},{type:"vertical-1d-annotations",datatype:["nothing"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Annotations",thumbnail:null,availableOptions:["fill","fillOpacity","stroke","strokeOpacity","regions"],defaultOptions:{fill:"red",fillOpacity:"0.2",stroke:"red",strokeOpacity:"0",regions:[]}},{type:"2d-annotations",datatype:["2d-annotations"],local:!1,orientation:"2d",name:"2D Annotations",thumbnail:Kf,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor","labelTextOpacity","labelBackgroundOpacity","trackBorderWidth","trackBorderColor","rectangleDomainFillColor","rectangleDomainStrokeColor","rectangleDomainOpacity","minSquareSize","isClickable","hoverColor","selectColor","exclude","trackBorderBgWidth","trackBorderBgColor","trackBorderBgAlpha"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black",rectangleDomainFillColor:"grey",rectangleDomainStrokeColor:"black",rectangleDomainOpacity:.6,minSquareSize:"none",isClickable:!1,hoverColor:"orange",selectColor:"fuchsia",exclude:[],trackBorderBgWidth:0,trackBorderBgColor:"black",trackBorderBgAlpha:.33}},{type:"square-markers",datatype:["bedpe"],local:!1,orientation:"2d",name:"Square Markers",thumbnail:Kf,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","labelColor"],defaultOptions:{labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,trackBorderWidth:0,trackBorderColor:"black"}},{type:"combined",datatype:"any",local:!0,orientation:"any"},{type:"horizontal-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-horizontal",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"vertical-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"1d-vertical",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor","showMousePosition"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey",showMousePosition:!1}},{type:"2d-chromosome-grid",datatype:["chromsizes"],local:!1,orientation:"2d",name:"Chromosome Grid",chromInfoPath:"//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",thumbnail:null,availableOptions:["lineStrokeWidth","lineStrokeColor"],defaultOptions:{lineStrokeWidth:1,lineStrokeColor:"grey"}},{type:"2d-chromosome-annotations",datatype:["chromsizes"],local:!0,orientation:"2d",name:"2D Chromosome Annotations",thumbnail:null,hidden:!0},{type:"2d-chromosome-labels",datatype:["chromsizes"],local:!0,orientation:"2d",name:"Pairwise Chromosome Labels",thumbnail:null},{type:"chromosome-labels",aliases:["horizontal-chromosome-labels","vertical-chromosome-labels"],datatype:["chromsizes"],orientation:"1d-horizontal",rotatable:!0,minHeight:35,defaultHeight:30,name:"Chromosome Axis",thumbnail:null,availableOptions:["color","stroke","fontSize","fontIsLeftAligned","showMousePosition","mousePositionColor","tickPositions","tickFormat","reverseOrientation"],defaultOptions:{color:"#808080",stroke:"#ffffff",fontSize:12,fontIsLeftAligned:!1,showMousePosition:!1,mousePositionColor:"#000000",reverseOrientation:!1},defaultOptionsByTheme:{[Pf]:{color:"#808080",stroke:"#000000",mousePositionColor:"#ffffff"}}},{type:"vertical-1d-tiles",datatype:["1d-tiles"],local:!1,orientation:"1d-vertical",name:"Vertical 1D Tile Outlines",thumbnail:qf},{type:"horizontal-1d-tiles",datatype:["vector","stacked-interval","gene-annotation"],local:!1,orientation:"1d-horizontal",name:"Horizontal 1D Tile Outlines",thumbnail:Wf},{type:"osm-2d-tile-ids",datatype:["map-tiles"],local:!1,orientation:"2d",name:"OSM Tile Outlines",thumbnail:Hf,availableOptions:["minPos","maxPos","maxZoom","labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{minPos:-180,maxPos:180,maxZoom:19,labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"raster-tiles",datatype:["map-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Raster Tiles",thumbnail:Ff,availableOptions:["labelPosition","labelLeftMargin","labelRightMargin","labelTopMargin","labelBottomMargin","name"],defaultOptions:{labelPosition:"bottomRight",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0}},{type:"image-tiles",datatype:["image-tiles"],local:!0,orientation:"2d",hidden:!0,name:"Image Tiles",thumbnail:null},{type:"bedlike",datatype:["bedlike"],aliases:["vertical-bedlike"],local:!1,orientation:"1d-horizontal",rotatable:!0,name:"BED-like track",thumbnail:null,availableOptions:["alternating","annotationHeight","annotationStyle","fillColor","fillOpacity","fontColor","fontSize","minusStrandColor","plusStrandColor","labelBottomMargin","labelColor","labelLeftMargin","labelPosition","labelRightMargin","labelTopMargin","labelTextOpacity","labelBackgroundOpacity","maxAnnotationHeight","minHeight","trackBorderWidth","trackBorderColor","valueColumn","colorEncoding","colorRange","colorEncodingRange","separatePlusMinusStrands","showTexts","axisPositionHorizontal","axisMargin"],defaultOptions:{alternating:!1,annotationStyle:"box",fillColor:"blue",fillOpacity:.3,fontSize:"10",axisPositionHorizontal:"right",labelColor:"black",labelPosition:"hidden",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelBottomMargin:0,minHeight:20,maxAnnotationHeight:null,trackBorderWidth:0,trackBorderColor:"black",valueColumn:null,colorEncoding:"itemRgb",showTexts:!1,colorRange:["#000000","#652537","#bf5458","#fba273","#ffffe0"],colorEncodingRange:!1,separatePlusMinusStrands:!0,annotationHeight:16}},{type:"empty",datatype:[],orientation:"1d-horizontal",name:"Empty track",thumbnail:null,availableOptions:[],defaultOptions:{}}],tm=e=>{const t={};return em.filter((t=>t.orientation===e||!("1d-vertical"!==e||"1d-horizontal"!==t.orientation||!t.rotatable))).forEach((e=>{let n=e.datatype;Array.isArray(e.datatype)||(n=[n]),n.forEach((n=>{n in t||(t[n]=[]),t[n].push(e)}))})),t.none=[],t},nm=[[0,0,0,255],[35,0,0,255],[52,0,0,255],[60,0,0,255],[63,1,0,255],[64,2,0,255],[68,5,0,255],[69,6,0,255],[72,8,0,255],[74,10,0,255],[77,12,0,255],[78,14,0,255],[81,16,0,255],[83,17,0,255],[85,19,0,255],[86,20,0,255],[89,22,0,255],[91,24,0,255],[92,25,0,255],[94,26,0,255],[95,28,0,255],[98,30,0,255],[100,31,0,255],[102,33,0,255],[103,34,0,255],[105,35,0,255],[106,36,0,255],[108,38,0,255],[109,39,0,255],[111,40,0,255],[112,42,0,255],[114,43,0,255],[115,44,0,255],[117,45,0,255],[119,47,0,255],[119,47,0,255],[120,48,0,255],[122,49,0,255],[123,51,0,255],[125,52,0,255],[125,52,0,255],[126,53,0,255],[128,54,0,255],[129,56,0,255],[129,56,0,255],[131,57,0,255],[132,58,0,255],[134,59,0,255],[134,59,0,255],[136,61,0,255],[137,62,0,255],[137,62,0,255],[139,63,0,255],[139,63,0,255],[140,65,0,255],[142,66,0,255],[142,66,0,255],[143,67,0,255],[143,67,0,255],[145,68,0,255],[145,68,0,255],[146,70,0,255],[146,70,0,255],[148,71,0,255],[148,71,0,255],[149,72,0,255],[149,72,0,255],[151,73,0,255],[151,73,0,255],[153,75,0,255],[153,75,0,255],[154,76,0,255],[154,76,0,255],[154,76,0,255],[156,77,0,255],[156,77,0,255],[157,79,0,255],[157,79,0,255],[159,80,0,255],[159,80,0,255],[159,80,0,255],[160,81,0,255],[160,81,0,255],[162,82,0,255],[162,82,0,255],[163,84,0,255],[163,84,0,255],[165,85,0,255],[165,85,0,255],[166,86,0,255],[166,86,0,255],[166,86,0,255],[168,87,0,255],[168,87,0,255],[170,89,0,255],[170,89,0,255],[171,90,0,255],[171,90,0,255],[173,91,0,255],[173,91,0,255],[174,93,0,255],[174,93,0,255],[176,94,0,255],[176,94,0,255],[177,95,0,255],[177,95,0,255],[179,96,0,255],[179,96,0,255],[180,98,0,255],[182,99,0,255],[182,99,0,255],[183,100,0,255],[183,100,0,255],[185,102,0,255],[185,102,0,255],[187,103,0,255],[187,103,0,255],[188,104,0,255],[188,104,0,255],[190,105,0,255],[191,107,0,255],[191,107,0,255],[193,108,0,255],[193,108,0,255],[194,109,0,255],[196,110,0,255],[196,110,0,255],[197,112,0,255],[197,112,0,255],[199,113,0,255],[200,114,0,255],[200,114,0,255],[202,116,0,255],[202,116,0,255],[204,117,0,255],[205,118,0,255],[205,118,0,255],[207,119,0,255],[208,121,0,255],[208,121,0,255],[210,122,0,255],[211,123,0,255],[211,123,0,255],[213,124,0,255],[214,126,0,255],[214,126,0,255],[216,127,0,255],[217,128,0,255],[217,128,0,255],[219,130,0,255],[221,131,0,255],[221,131,0,255],[222,132,0,255],[224,133,0,255],[224,133,0,255],[225,135,0,255],[227,136,0,255],[227,136,0,255],[228,137,0,255],[230,138,0,255],[230,138,0,255],[231,140,0,255],[233,141,0,255],[233,141,0,255],[234,142,0,255],[236,144,0,255],[236,144,0,255],[238,145,0,255],[239,146,0,255],[241,147,0,255],[241,147,0,255],[242,149,0,255],[244,150,0,255],[244,150,0,255],[245,151,0,255],[247,153,0,255],[247,153,0,255],[248,154,0,255],[250,155,0,255],[251,156,0,255],[251,156,0,255],[253,158,0,255],[255,159,0,255],[255,159,0,255],[255,160,0,255],[255,161,0,255],[255,163,0,255],[255,163,0,255],[255,164,0,255],[255,165,0,255],[255,167,0,255],[255,167,0,255],[255,168,0,255],[255,169,0,255],[255,169,0,255],[255,170,0,255],[255,172,0,255],[255,173,0,255],[255,173,0,255],[255,174,0,255],[255,175,0,255],[255,177,0,255],[255,178,0,255],[255,179,0,255],[255,181,0,255],[255,181,0,255],[255,182,0,255],[255,183,0,255],[255,184,0,255],[255,187,7,255],[255,188,10,255],[255,189,14,255],[255,191,18,255],[255,192,21,255],[255,193,25,255],[255,195,29,255],[255,197,36,255],[255,198,40,255],[255,200,43,255],[255,202,51,255],[255,204,54,255],[255,206,61,255],[255,207,65,255],[255,210,72,255],[255,211,76,255],[255,214,83,255],[255,216,91,255],[255,219,98,255],[255,221,105,255],[255,223,109,255],[255,225,116,255],[255,228,123,255],[255,232,134,255],[255,234,142,255],[255,237,149,255],[255,239,156,255],[255,240,160,255],[255,243,167,255],[255,246,174,255],[255,248,182,255],[255,249,185,255],[255,252,193,255],[255,253,196,255],[255,255,204,255],[255,255,207,255],[255,255,211,255],[255,255,218,255],[255,255,222,255],[255,255,225,255],[255,255,229,255],[255,255,233,255],[255,255,236,255],[255,255,240,255],[255,255,244,255],[255,255,247,255],[255,255,255,0]],rm=em.reduce(((e,t)=>{if(e[t.type]=t,t.aliases)for(const n of t.aliases)e[n]=t;return e}),{}),im=em.reduce(((e,t)=>{for(let n=0;n<t.datatype.length;n++){const r=t.datatype[n];return e[r]?e[r].add(t.orientation):e[r]=new Set,e}return{}}),{}),om={chromsizes:{center:"2d-chromosome-grid",top:"chromosome-labels",left:"chromosome-labels",bottom:"chromosome-labels",right:"chromosome-labels"},matrix:{center:"heatmap",top:"linear-heatmap",left:"linear-heatmap",right:"linear-heatmap",bottom:"linear-heatmap"},vector:{top:"bar",bottom:"bar",left:"bar",right:"bar"},"geo-json":{center:"geo-json"},"gene-annotation":{top:"gene-annotations",bottom:"gene-annotations",left:"gene-annotations",right:"gene-annotations"},bedlike:{top:"bedlike",bottom:"bedlike",left:"vertical-bedlike",right:"vertical-bedlike"}},am=(e,t)=>{const n=tm(t);let r=new Set(Object.values(n).flatMap((e=>e)));for(const t of e){const e=new Set(t);r=new Set([...r].filter((t=>t.datatype.filter((t=>e.has(t))).length>0)))}return[...r]},sm=Object.freeze(Object.defineProperty({__proto__:null,THEME_LIGHT:Df,THEME_DARK:Pf,THEME_DEFAULT:Nf,GLOBALS:Rf,DATATYPE_TO_TRACK_TYPE:tm,HEATED_OBJECT_MAP:nm,TRACKS_INFO:em,TRACKS_INFO_BY_TYPE:rm,POSITIONS_BY_DATATYPE:im,DEFAULT_TRACKS_FOR_DATATYPE:om,AVAILABLE_TRACK_TYPES:am,NUM_PRECOMP_SUBSETS_PER_1D_TTILE:8,NUM_PRECOMP_SUBSETS_PER_2D_TTILE:8,DEFAULT_VIEW_MARGIN:0,DEFAULT_VIEW_PADDING:5,DEFAULT_CONTAINER_PADDING_X:10,DEFAULT_CONTAINER_PADDING_Y:10,MAX_CLICK_DELAY:300,MOUSE_TOOL_MOVE:Sf,MOUSE_TOOL_SELECT:Af,TILE_FETCH_DEBOUNCE:100,ZOOM_DEBOUNCE:10,SHORT_DRAG_TIMEOUT:110,LONG_DRAG_TIMEOUT:kf,LOCATION_LISTENER_PREFIX:Cf,ZOOM_TRANSITION_DURATION:1e3,DEFAULT_SERVER:If,VIEW_HEADER_MED_WIDTH_SEARCH_BAR:400,VIEW_HEADER_MIN_WIDTH_SEARCH_BAR:300,TRACK_LOCATIONS:Of,MIN_HORIZONTAL_HEIGHT:20,MIN_VERTICAL_WIDTH:20},Symbol.toStringTag,{value:"Module"})),lm=e=>{const t=xn(e);return Rf.PIXI.utils.rgb2hex([t.r/255,t.g/255,t.b/255])},cm=e=>{if("transparent"===e)return[255,255,255,0];const t=xn(e);return[t.r,t.g,t.b,255]},um=(e,t,n)=>{const r=bf(e,n),i=bf(t,n);return[r[0],Math.round(r[1]),i[0],Math.round(i[1])]},hm=(e,t,n)=>{let r;return hm.cancel=()=>{clearTimeout(r),r=null},(...i)=>{const o=n&&!r;clearTimeout(r),r=setTimeout((()=>{r=null,n||e(...i)}),t),o&&e(...i)}},dm=e=>(e+16**6).toString(16).substr(-6),pm=e=>{const t={};return e.forEach((e=>{t[e[0]]=e[1]})),t},fm=e=>{const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push([n,e[n]]);return t};function mm(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(n);return t}function gm(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function bm(e,t){const n="string"==typeof t?new Blob([t],{type:"application/octet-stream"}):t;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,e);else{const t=window.document.createElement("a");t.href=window.URL.createObjectURL(n),t.download=e,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href)}}const vm=e=>(e.center=e.center||[],e.left=e.left||[],e.right=e.right||[],e.top=e.top||[],e.bottom=e.bottom||[],e.whole=e.whole||[],e.gallery=e.gallery||[],["top","bottom","gallery"].map((t=>e[t])).forEach((e=>e.forEach((e=>{const t=rm[e.type],n=t&&t.defaultOptions||{},r=e.options?{...n,...e.options}:n;void 0!==r.minHeight&&void 0===e.height&&(e.height=r.minHeight),void 0===e.height&&(e.height=t&&t.defaultHeight||20)})))),["left","right","gallery"].map((t=>e[t])).forEach((e=>e.forEach((e=>{const t=rm[e.type],n=t&&t.defaultOptions||{},r=e.options?{...n,...e.options}:n;void 0!==r.minWidth&&void 0===e.width&&(e.width=r.minWidth),void 0===e.width&&(e.width=t&&t.defaultWidth||20)})))),e),ym=e=>t=>Array.prototype.reduce.call(t,e),Tm=ym(((e,t)=>e.concat(t))),_m=(e,t)=>{t.dispatchEvent(xf(e))};const Em=(e,t,n)=>{if(0===n.length)return;if(1===n.length)return n[0];let r=n[0];const i=void 0!==om[e]?om[e][t]:void 0;return void 0!==i&&(r=n.find((e=>e.type===i))||r),r};var xm={},wm={};function Sm(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function Am(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function km(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Cm(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+km(-t,6):t>9999?"+"+km(t,6):km(t,4))+"-"+km(e.getUTCMonth()+1,2)+"-"+km(e.getUTCDate(),2)+(o?"T"+km(n,2)+":"+km(r,2)+":"+km(i,2)+"."+km(o,3)+"Z":i?"T"+km(n,2)+":"+km(r,2)+":"+km(i,2)+"Z":r||n?"T"+km(n,2)+":"+km(r,2)+"Z":"")}function Im(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return wm;if(c)return c=!1,xm;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==wm;){for(var h=[];r!==xm&&r!==wm;)h.push(r),r=u();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?Cm(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=Sm(e);return function(r,i){return t(n(r),i,e)}}(e,t):Sm(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=Am(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Am(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}var Om=Im(","),Dm=Om.parse,Pm=Om.parseRows,Nm=Om.format,Rm=Om.formatBody,Mm=Om.formatRows,Lm=Om.formatRow,Bm=Om.formatValue,Fm=Im("\t"),Um=Fm.parse,jm=Fm.parseRows,Hm=Fm.format,Gm=Fm.formatBody,zm=Fm.formatRows,Vm=Fm.formatRow,Ym=Fm.formatValue;const $m=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Xm=Object.freeze(Object.defineProperty({__proto__:null,dsvFormat:Im,csvParse:Dm,csvParseRows:Pm,csvFormat:Nm,csvFormatBody:Rm,csvFormatRows:Mm,csvFormatRow:Lm,csvFormatValue:Bm,tsvParse:Um,tsvParseRows:jm,tsvFormat:Hm,tsvFormatBody:Gm,tsvFormatRows:zm,tsvFormatRow:Vm,tsvFormatValue:Ym,autoType:function(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;$m&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e}},Symbol.toStringTag,{value:"Module"})),Wm={},qm=(e,t)=>Wm[e]?Promise.resolve(Wm[e]):t(e),Km=e=>fetch(e,{credentials:"same-origin"}).then((e=>e.text())).then((e=>(e=>0===e.length?null:Zg(jm(e)))(e))).catch((e=>{console.error("Could not retrieve or parse chrom info.",e)})),Zm={get:e=>{return qm(t=e,Km).then((e=>(Wm[t]=e,Wm[t])));var t}};let Qm=function(){function e(t){d(this,e),this.customEventHandlers={},this.registeredEls={},this.pubSub=t}return f(e,[{key:"getEventHandler",value:function(e){return this.customEventHandlers[e]?this.customEventHandlers[e]:t=>this.pubSub.publish(e,t)}},{key:"unregister",value:function(e,t){(this.registeredEls[e]||this.registeredEls[e]===t)&&(this.registeredEls[e].removeEventListener(e,this.registeredEls[e].__handler__),this.registeredEls[e]=void 0,delete this.registeredEls[e])}},{key:"register",value:function(e,t,n=!1){t&&this.registeredEls[e]!==t&&(this.registeredEls[e]&&this.unregister(this.registeredEls[e]),this.registeredEls[e]=t,this.registeredEls[e].__handler__=this.getEventHandler(e),this.registeredEls[e].addEventListener(e,this.registeredEls[e].__handler__,{capture:n,passive:!1}))}}]),e}();const Jm=e=>new Qm(e);let eg=!1;const tg={listen:()=>{if(eg)return;const[e,t]=wg(),n=[String.fromCharCode(..."102117110099116105111110040041123115101108102046099111110115111108101046108111103040039".match(/.{1,3}/g).map((e=>+e))).toLowerCase(),String.fromCharCode(..."072".match(/.{1,3}/g).map((e=>+e))),String.fromCharCode(..."105".match(/.{1,3}/g).map((e=>+e))).toLowerCase(),String.fromCharCode(..."071".match(/.{1,3}/g).map((e=>+e))),String.fromCharCode(..."108097115115".match(/.{1,3}/g).map((e=>+e))).toLowerCase(),String.fromCharCode(..."032118".match(/.{1,3}/g).map((e=>+e))).toLowerCase(),String.fromCharCode(...t.match(/.{1,3}/g).map((e=>+e))).toLowerCase(),String.fromCharCode(..."058032104116116112058047047104105103108097115115046105111039041125".match(/.{1,3}/g).map((e=>+e))).toLowerCase()].join(""),r=e=>e.charAt(0).toUpperCase()+e.slice(1),i=e=>e.slice(0,6)+e.charAt(6).toUpperCase()+e.slice(7,12)+e.slice(12).toUpperCase(),o=e[String.fromCharCode(..."085082076".match(/.{1,3}/g).map((e=>+e)))],a=e[r(String.fromCharCode(..."066076079066".match(/.{1,3}/g).map((e=>+e))).toLowerCase())],s=e[r(String.fromCharCode(..."087111114107101114".match(/.{1,3}/g).map((e=>+e))).toLowerCase())],l=i(String.fromCharCode(..."099114101097116101079098106101099116085082076".match(/.{1,3}/g).map((e=>+e))).toLowerCase()),c=i(String.fromCharCode(..."114101118111107101079098106101099116085082076".match(/.{1,3}/g).map((e=>+e))).toLowerCase()),u=o[l](new a([`(${n})()`],{type:"application/javascript"}));new s(u),o[c](u),eg=!0}};function ng(e,t,n,r,i,o,a=!1,s=!1,l=null,c=null,u=null){let h=null;"log"===n?h=xi().range([254,0]).domain(r):("linear"!==n&&console.warn("Unknown value scale type:",n," Defaulting to linear"),h=fi().range([254,0]).domain(r));const{selectedRows:d=null,selectedRowsAggregationMode:p=null,selectedRowsAggregationWithRelativeHeight:f=null,selectedRowsAggregationMethod:m=null}=u||{};let g,b=e;l&&d&&(b=xb(d,f)*l[1]);let v=0;const y=l?l[1]:Math.sqrt(e),T=new Uint8ClampedArray(4*b),_=(e,t)=>{v=255,a&&Math.floor(e/y)<e%y||s&&Math.floor(e/y)>e%y||Number.isNaN(+t)||(v=(e=>{const t=h(e);return Number.isNaN(t)?254:Math.max(0,Math.min(254,Math.floor(t)))})(t+i)),(v<0||v>255)&&console.warn("out of bounds rgbIdx:",v," (should be 0 <= rgbIdx <= 255)"),g=c&&!Number.isNaN(+t)&&0==+t?c:o[v],T[4*e]=g[0],T[4*e+1]=g[1],T[4*e+2]=g[2],T[4*e+3]=g[3]};let E;try{if(d)!function(e,t,n,r,i,o,a){let s,l,c,u,h,d,p;for(i&&(s=Eb(i),l=(n,r)=>s(r.map((r=>e[r*t[1]+n])))),h=0;h<t[1];h++)for(u=0,d=0;d<r.length;d++)if(c=s&&"server"===a?e[d*t[1]+h]:Array.isArray(r[d])&&s?l(h,r[d]):e[r[d]*t[1]+h],o&&Array.isArray(r[d]))for(p=0;p<r[d].length;p++)n(u*t[1]+h,c),u++;else n(u*t[1]+h,c),u++}(t,l,_,d,p,f,m);else for(let e=0;e<t.length;e++)E=t[e],_(e,E)}catch(e){return console.warn("Odd datapoint"),console.warn("valueScale.domain():",h.domain()),console.warn("valueScale.range():",h.range()),console.warn("value:",h(E+i)),console.warn("pseudocount:",i),console.warn("rgbIdx:",v,"d:",E,"ct:",h(E)),console.error("ERROR:",e),T}return T}function rg(e){let t,n,r,i=31744&e;const o=(32768&e)<<16;switch(i){case 0:if(t=1023&e,0===t)return o;for(t<<=1;!(1024&t);)t<<=1,i++;return n=112-i<<23,r=(1023&t)<<13,o+n+r;case 31744:return o+2139095040+((1023&e)<<13);default:return o+(114688+(32767&e)<<13)}}function ig(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return r.buffer}function og(e){const t=new Uint32Array(e.length);for(let n=0;n<e.length;n++)t[n]=rg(e[n]);return new Float32Array(t.buffer)}function ag(e,t,n){e||(e={});for(const r of n){r in e||(e[r]={});const n=r,i=n.split(".");if(e[n].server=t,e[n].tileId=n,e[n].zoomLevel=+i[1],e[n].tilePos=i.slice(2,i.length).map((e=>+e)).filter((e=>!Number.isNaN(e))),e[n].tilesetUid=i[0],"dense"in e[n]){const t=ig(e[n].dense);let r;r="float16"===e[n].dtype?og(new Uint16Array(t)):new Float32Array(t);const i=2===e[n].tilePos.length?new _b(r):new Tb(r);e[n].dense=r,e[n].denseDataExtrema=i,e[n].minNonZero=i.minNonZeroInTile,e[n].maxNonZero=i.maxNonZeroInTile}}return e}function sg(e,t,n,r,i,o){const a={"content-type":"application/json"};r&&(a.Authorization=r),fetch(e,{credentials:"same-origin",headers:a,...o&&Object.keys(o).length>0?{method:"POST",body:JSON.stringify(o)}:{}}).then((e=>e.json())).then((e=>{i(ag(e,t,n))})).catch((e=>console.warn("err:",e)))}const lg=Ns.nice();let cg=0,ug=null;const hg=e=>{ug=e};const dg=(e=>{let t,n=[],r={},i=0;const o=()=>{t=null,n=[],r={}},a=(t,...r)=>{e({sessionId:lg,requests:n},...r),o()},s=(e,...n)=>{clearTimeout(t),t=setTimeout((()=>{i>0&&(a(e,...n),i=0)}),100)};s.cancel=()=>{clearTimeout(t),o()},s.immediate=()=>{e({sessionId:lg,requests:n})};let l=!1;return(e,...t)=>{(e=>{const t=r[e.id];t&&n[t]?n[t].ids=n[t].ids.concat(e.ids):(r[e.id]=n.length,n.push(e))})(e),l?i++:(a(e,...t),s(e,...t),l=!0,i=0,setTimeout((()=>{l=!1}),100))}})((function(e,t){const n=e.requests,r=[],i={},o={};for(const e of n){i[e.server]||(i[e.server]={},o[e.server]=[]);for(const t of e.ids)if(i[e.server][t]=!0,e.options){const n=t.indexOf("."),r=t.substring(0,n),i=t.substring(n+1),a=o[e.server].find((e=>e.tilesetUid===r));a?a.tileIds.push(i):o[e.server].push({tilesetUid:r,tileIds:[i],options:e.options})}}const a=Object.keys(i);for(const e of a){const n=Object.keys(i[e]),a=o[e];for(let i=0;i<n.length;i+=15){const o=n.slice(i,i+Math.min(n.length-i,15)),s=o.map((e=>`d=${e}`)).join("&"),l=`${e}/tiles/?${s}&s=${lg}`,c=new Promise(((n,r)=>{t.publish("requestSent",l);const i={};i.outUrl=l,i.server=e,i.theseTileIds=o,i.authHeader=ug,sg(i.outUrl,i.server,i.theseTileIds,i.authHeader,n,a),t.publish("requestReceived",l)}));r.push(c)}}Promise.all(r).then((e=>{const t={};for(const n of e){const e=Object.keys(n);for(const r of e)t[`${n[r].server}/${r}`]=n[r]}for(const e of n){const n={},{server:r}=e;for(const i of e.ids)n[i]=t[`${r}/${i}`];e.done(n)}}))}));function pg(e,t,n,r){cg+=1,r.publish("requestSent",e);let i=null;if("text"===n)i=null;else{if("json"!==n)throw new Error(`fetch either "text" or "json", not "${n}"`);i="application/json"}const o={};return i&&(o["Content-Type"]=i),ug&&(o.Authorization=ug),fetch(e,{credentials:"same-origin",headers:o}).then((e=>{if(!e.ok)throw Error(e.statusText);return e[n]()})).then((e=>(t(void 0,e),e))).catch((n=>(console.error(`Could not fetch ${e}`,n),t(n,void 0),n))).finally((()=>{r.publish("requestReceived",e),cg-=1}))}async function fg(e,t,n){return e.indexOf("hg19")>=0&&await sb(1),pg(e,t,"json",n)}const mg={calculateResolution:(e,t)=>e.resolutions?e.resolutions.map((e=>+e)).sort(((e,t)=>t-e))[t]:e.max_width/(2**t*+e.bins_per_dimension),calculateTileAndPosInTile:function(e,t,n,r,i){let o=null;const a=e.bins_per_dimension||256;o=e.resolutions?e.resolutions[r]*a:t/2**r;const s=Math.floor((i-n)/o);return[s,Math.floor(a*(i-s*o)/o)]},calculateTiles:(e,t,n,r,i,o)=>{const a=Math.min(e,i),s=o/2**a;return Gt(Math.max(0,Math.floor((t.domain()[0]-n)/s)),Math.min(2**a,Math.ceil((t.domain()[1]-n-1e-7)/s)))},calculateTilesFromResolution:(e,t,n,r,i)=>{const o=e*(i||256);r||(r=Number.MAX_VALUE);let a=Gt(Math.max(0,Math.floor((t.domain()[0]-n)/o)),Math.ceil(Math.min(r,t.domain()[1]-n-1e-7)/o));return a.length>20&&(console.warn(`Too many visible tiles: ${a.length} truncating to 20`),a=a.slice(0,20)),a},calculateTileWidth:(e,t,n)=>e.resolutions?e.resolutions.map((e=>+e)).sort(((e,t)=>t-e))[t]*n:e.max_width/2**t,calculateZoomLevel:(e,t,n,r)=>{const i=e.range()[1]-e.range()[0],o=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),a=Math.max(0,Math.ceil(Math.log(i/384)/Math.LN2));let s=Math.round(Math.log(o)/Math.LN2)+a,l=0;return r&&(l=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),s+=l,s},calculateZoomLevelFromResolutions:(e,t)=>{const n=e.map((e=>+e)).sort(((e,t)=>t-e)),r=t.range()[1]-t.range()[0],i=n.map((e=>(t.domain()[1]-t.domain()[0])/e)).map((e=>e/r)),o=i.filter((e=>e<1));return 0===o.length?0:i.indexOf(o[o.length-1])},fetchTilesDebounced:dg,json:fg,text:function(e,t,n){return pg(e,t,"text",n)},tileDataToPixData:(e,t,n,r,i,o,a,s,l,c)=>{const{tileData:u}=e;if(u.dense){if(e.mirrored&&!e.isMirrored&&e.tileData.tilePos.length>0&&e.tileData.tilePos[0]===e.tileData.tilePos[1]){e.tileData.dense=e.tileData.dense.slice();const t=Math.floor(Math.sqrt(e.tileData.dense.length));for(let n=0;n<t;n++)for(let r=n+1;r<t;r++)e.tileData.dense[n*t+r]=e.tileData.dense[r*t+n];if(s)for(let n=0;n<t;n++)for(let r=0;r<n;r++)e.tileData.dense[n*t+r]=NaN;e.isMirrored=!0}o({pixData:ng(u.dense.length,u.dense,t,n,r,i,a,s,e.tileData.shape,l,c)})}else o(null)},trackInfo:(e,t,n,r,i)=>{const o=`${cb(e)}/tileset_info/?d=${t}&s=${lg}`;i.publish("requestSent",o),fg(o,((t,a)=>{i.publish("requestReceived",o),t?r?r(`Error retrieving tilesetInfo from: ${e}`):console.warn("Error retrieving: ",o):n(a)}),i)}},gg=Object.freeze(Object.defineProperty({__proto__:null,chromInfo:Zm,createDomEvent:Jm,ElementResizeListener:tg,tileProxy:mg,get requestsInFlight(){return cg},setTileProxyAuthHeader:hg,getTileProxyAuthHeader:()=>ug,get authHeader(){return ug},tileResponseToData:ag},Symbol.toStringTag,{value:"Module"})),bg=e=>(tg.listen(),[e.clientWidth,e.clientHeight]),vg=(e,t)=>{let n=null;const r=e=>(e.uid===t&&(n=e),"combined"===e.type.substr(0,8)&&e.contents.forEach(r),null);return Object.keys(e).map((t=>e[t])).filter((e=>e.filter)).reduce(((e,t)=>e.concat(t)),[]).forEach(r),n},yg=(e,t,n)=>{const r=t?e[t]:Object.values(e)[0];if(!r)return void(t?console.warn(`Could't find view with id "${t}"`):console.warn("No views available."));let i=r.trackRenderer.trackDefObjects[n];return i?i=i.trackObject:Object.values(r.trackRenderer.trackDefObjects).map((e=>e.trackObject)).filter((e=>e.childTracks)).forEach((e=>{e.createdTracks[n]&&(i=e.createdTracks[n])})),i},Tg=(e,t,n=!0,r=null)=>e.forEach((e=>{"combined"===e.type?n&&(Tg(e.contents,t,n,r),t(e,r)):t(e,r)})),_g=(e,t,n=!0)=>(Object.keys(e).forEach((r=>{Tg(e[r],t,n,r)})),[]),Eg=(e,t)=>{let n=null;return _g(e,((e,r)=>{e.uid===t&&(n=r)})),n},xg=e=>t=>Array.prototype.map.call(t,e),wg=()=>[window,xg((e=>e.charCodeAt(0)))("1.12.4").map((e=>e<=999?`00${e}`.slice(-3):e)).join("")],Sg=(e,t=1,n=100,r=0,i=0,o=0,a=100)=>{const s=document.createElement("canvas");s.width=t,s.height=n;const l=s.getContext("2d"),c=l.createLinearGradient(r,i,o,a);return e.forEach((e=>{c.addColorStop(e.from,e.color)})),l.fillStyle=c,l.fillRect(0,0,t,n),s},Ag=(e,t)=>{let n=e;for(;n&&n!==t&&"HTML"!==n.tagName;)n=n.parentNode;return n===t},kg=e=>parseInt(e.replace(/^#/,""),16),Cg=()=>{};let Ig=function(){function e(t){d(this,e),this.context=t;const{tracks:n,createTrackObject:r}=t;this.childTracks=n.map(r),this.createdTracks={},this.uid=Ns.nice(),this.childTracks.forEach(((e,t)=>{this.createdTracks[n[t].uid]=e}));for(let e=0;e<this.childTracks.length;e++)this.childTracks[e]||console.error("Empty child track in CombinedTrack:",this)}return f(e,[{key:"updateContents",value:function(e,t){const n=[],r=new Set;e.forEach((e=>{if(r.add(e.uid),e.uid in this.createdTracks)n.push(this.createdTracks[e.uid]);else{const r=t(e);r.setPosition(this.position),r.setDimensions(this.dimensions),n.push(r),r.zoomed(this._xScale,this._yScale),this.createdTracks[e.uid]=r}})),this.childTracks=n;const i=new Set(Object.keys(this.createdTracks));return[...new Set([...i].filter((e=>!r.has(e))))].forEach((e=>{this.createdTracks[e].remove(),delete this.createdTracks[e]})),this}},{key:"setPosition",value:function(e){this.position=e;for(let t=0;t<this.childTracks.length;t++)this.childTracks[t].setPosition(e)}},{key:"setDimensions",value:function(e){this.dimensions=e;for(let t=0;t<this.childTracks.length;t++)this.childTracks[t].setDimensions(e)}},{key:"zoomed",value:function(e,t,n,r,i,o,a){this._xScale=e,this._yScale=t;for(let s=0;s<this.childTracks.length;s++)this.childTracks[s].zoomed(e,t,n,r,i,o,a)}},{key:"clickOutside",value:function(){for(let e=0;e<this.childTracks.length;e++)this.childTracks[e].clickOutside()}},{key:"click",value:function(...e){for(let t=0;t<this.childTracks.length;t++)this.childTracks[t].click(...e)}},{key:"draw",value:function(){}},{key:"refScalesChanged",value:function(e,t){for(let n=0;n<this.childTracks.length;n++)this.childTracks[n].refScalesChanged(e,t)}},{key:"remove",value:function(){for(let e=0;e<this.childTracks.length;e++)this.childTracks[e].remove()}},{key:"exportSVG",value:function(){const e=document.createElement("g");for(const t of this.childTracks)t.exportSVG&&e.appendChild(t.exportSVG()[0]);return[e,e]}},{key:"rerender",value:function(e){}},{key:"minValue",value:function(e){if(0===arguments.length){const e=this.childTracks.filter((e=>e.minValue)).map((e=>e.minValue())).filter((e=>e));return Math.min(...e)}for(const t of this.childTracks)t.minValue&&t.minValue(e)}},{key:"maxValue",value:function(e){if(0===arguments.length){const e=this.childTracks.filter((e=>e.maxValue)).map((e=>e.maxValue())).filter((e=>e));return Math.max(...e)}for(const t of this.childTracks)t.maxValue&&t.maxValue(e)}},{key:"respondsToPosition",value:function(e,t){return e>=this.position[0]&&e<=this.dimensions[0]+this.position[0]&&t>=this.position[1]&&t<=this.dimensions[1]+this.position[1]}},{key:"stopHover",value:function(){for(const e of this.childTracks)e.stopHover&&e.stopHover()}},{key:"getMouseOverHtml",value:function(e,t){let n="";for(const r of this.childTracks)if(r.getMouseOverHtml){const i=r.getMouseOverHtml(e,t);i&&i.length&&(n+=i,n+="<br/>")}return n}}]),e}();const Og=(e,t)=>t===e||t instanceof Ig&&Object.keys(t.createdTracks).map((e=>t.createdTracks[e])).some((t=>Og(e,t))),Dg=(e,t,n,r,i,o,a=!1)=>a?e>=n&&e<=r||t>=i&&t<=o:e>=n&&e<=r&&t>=i&&t<=o,Pg=e=>xg((t=>e[t]))(Object.keys(e)),Ng=(e,t)=>e>t?e:t;function Rg(e){let t=Number.MIN_SAFE_INTEGER;for(let n=0;n<e.length;n++){const r=e[n];r<1e-7&&r>-1e-7||r>t&&(t=r)}return t}const Mg=(e,t)=>e<t?e:t;function Lg(e){let t=Number.MAX_SAFE_INTEGER;for(let n=0;n<e.length;n++){const r=e[n];r<1e-7&&r>-1e-7||r<t&&(t=r)}return t}const Bg=(e,t)=>{const n=+t;if(Number.isNaN(n)){const n=e.shape[0],r=e.shape[1],i=t.shape[0],o=t.shape[1];if(n!==i||r!==o)return void console.warn("Cannot assign source to target ndarray as the dimensions do not match",n,i,r,o);if(1===e.dimension)for(let n=0;n<e.shape[0];++n)e.set(n,t.get(n));else for(let n=0;n<e.shape[0];++n)for(let r=0;r<e.shape[1];++r)e.set(n,r,t.get(n,r))}else if(1===e.dimension)for(let t=0;t<e.shape[0];++t)e.set(t,n);else for(let t=0;t<e.shape[0];++t)for(let r=0;r<e.shape[1];++r)e.set(t,r,n)};function Fg(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var Ug=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t},jg=function(e){return null!=e&&(Fg(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Fg(e.slice(0,0))}(e)||!!e._isBuffer)},Hg="undefined"!=typeof Float64Array;function Gg(e,t){return e[0]-t[0]}function zg(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(Gg);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function Vg(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var r="generic"===e;if(-1===t){var i="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(i)()}if(0===t)return i="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",new Function("TrivialArray",i)(Yg[e][0]);i=["'use strict'"];var o=Ug(t),a=o.map((function(e){return"i"+e})),s="this.offset+"+o.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),l=o.map((function(e){return"b"+e})).join(","),c=o.map((function(e){return"c"+e})).join(",");i.push("function "+n+"(a,"+l+","+c+",d){this.data=a","this.shape=["+l+"]","this.stride=["+c+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+o.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),t<4?(i.push("function "+n+"_order(){"),2===t?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+n+"_set("+a.join(",")+",v){"),r?i.push("return this.data.set("+s+",v)}"):i.push("return this.data["+s+"]=v}"),i.push("proto.get=function "+n+"_get("+a.join(",")+"){"),r?i.push("return this.data.get("+s+")}"):i.push("return this.data["+s+"]}"),i.push("proto.index=function "+n+"_index(",a.join(),"){return "+s+"}"),i.push("proto.hi=function "+n+"_hi("+a.join(",")+"){return new "+n+"(this.data,"+o.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+o.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var u=o.map((function(e){return"a"+e+"=this.shape["+e+"]"})),h=o.map((function(e){return"c"+e+"=this.stride["+e+"]"}));i.push("proto.lo=function "+n+"_lo("+a.join(",")+"){var b=this.offset,d=0,"+u.join(",")+","+h.join(","));for(var d=0;d<t;++d)i.push("if(typeof i"+d+"==='number'&&i"+d+">=0){d=i"+d+"|0;b+=c"+d+"*d;a"+d+"-=d}");for(i.push("return new "+n+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"c"+e})).join(",")+",b)}"),i.push("proto.step=function "+n+"_step("+a.join(",")+"){var "+o.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+o.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),d=0;d<t;++d)i.push("if(typeof i"+d+"==='number'){d=i"+d+"|0;if(d<0){c+=b"+d+"*(a"+d+"-1);a"+d+"=ceil(-a"+d+"/d)}else{a"+d+"=ceil(a"+d+"/d)}b"+d+"*=d}");i.push("return new "+n+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"b"+e})).join(",")+",c)}");var p=new Array(t),f=new Array(t);for(d=0;d<t;++d)p[d]="a[i"+d+"]",f[d]="b[i"+d+"]";for(i.push("proto.transpose=function "+n+"_transpose("+a+"){"+a.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+p.join(",")+","+f.join(",")+",this.offset)}"),i.push("proto.pick=function "+n+"_pick("+a+"){var a=[],b=[],c=this.offset"),d=0;d<t;++d)i.push("if(typeof i"+d+"==='number'&&i"+d+">=0){c=(c+this.stride["+d+"]*i"+d+")|0}else{a.push(this.shape["+d+"]);b.push(this.stride["+d+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+o.map((function(e){return"shape["+e+"]"})).join(",")+","+o.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(Yg[e],zg)}var Yg={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};var $g=function(e,t,n,r){if(void 0===e)return(0,Yg.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var i=t.length;if(void 0===n){n=new Array(i);for(var o=i-1,a=1;o>=0;--o)n[o]=a,a*=t[o]}if(void 0===r)for(r=0,o=0;o<i;++o)n[o]<0&&(r-=(t[o]-1)*n[o]);for(var s=function(e){if(jg(e))return"buffer";if(Hg)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(e)?"array":"generic"}(e),l=Yg[s];l.length<=i+1;)l.push(Vg(s,l.length-1));return(0,l[i+1])(e,t,n,r)};const Xg=e=>{const t=e.shape.reduce(((e,t)=>e*t),1),n=new Array(t);if(1===e.dimension){let t=0;for(let r=0;r<e.shape[0];++r)n[t]=e.get(r),t++}else{let t=0;for(let r=0;r<e.shape[0];++r)for(let i=0;i<e.shape[1];++i)n[t]=e.get(r,i),t++}return n},Wg=e=>1===e.shape.length?e:$g(Xg(e)),qg=e=>{const t=e.split("."),n=t.slice(1).join("").length;return+t.join("")/10**n},Kg=(e,t)=>e||t;function Zg(e){const t=[],n={},r={};let i=0;for(let o=0;o<e.length;o++){const a=Number(e[o][1]);i+=a;const s={id:o,chr:e[o][0],pos:i-a};t.push(s),r[s.chr]=s,n[e[o][0]]=a}return{cumPositions:t,chrPositions:r,totalLength:i,chromLengths:n}}const Qg=e=>{const t=document.createElement("g"),n=document.createElement("text");return 0===e.anchor.x?n.setAttribute("text-anchor","start"):1===e.anchor.x?n.setAttribute("text-anchor","end"):n.setAttribute("text-anchor","middle"),n.setAttribute("font-family",e.style.fontFamily),n.setAttribute("font-size",e.style.fontSize),t.setAttribute("transform",`scale(${e.scale.x},1)`),n.setAttribute("fill",e.style.fill),n.innerHTML=e.text,t.appendChild(n),t.setAttribute("transform",`translate(${e.x},${e.y})scale(${e.scale.x},1)`),t},Jg=(e,t)=>{e.select(".selection").attr("fill",null).attr("fill-opacity",null).attr("stroke",null).classed(t,!0)},eb=e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t},tb=(e,t)=>[e.invert((e.range()[0]+e.range()[1])/2),t.invert((t.range()[0]+t.range()[1])/2),e.invert(1)-e.invert(0)],nb=(e,t,n)=>{if(null===n||!e||!t)return;const r=e.domain()[0],i=e.domain()[1],o=t.domain()[0],a=t.domain()[1];return[...um(r,i,n),...um(o,a,n)]},rb=(e,t=!1,n=!1)=>{const r=t?e.pMasked:e.pForeground||e.pMain,i=((e,t,n,r,i,o,a,s,l)=>{e.publish("app.animateOnMouseMove",!0);const c=n.mousePositionColor?kg(n.mousePositionColor):11184810,u=n.mousePositionAlpha||1,h=new Rf.PIXI.Graphics,d=()=>{h.clear()},p=(e,t,n)=>{if(n||d(),h.lineStyle(1,c,u),t){const t=s?i()[0]:0;h.moveTo(0,e),h.lineTo(o()[0]+t,e)}else{const t=s?i()[1]:0;h.moveTo(e,0),h.lineTo(e,o()[1]+t)}},f=e=>{if(e.noHoveredTracks)return d(),h;let t,n;e.isFromVerticalTrack?(t=e.dataY,n=e.dataY):(t=e.dataX,n=e.isFrom2dTrack?e.dataY:e.dataX);const o=s?i():[0,0],l=a()?r()[0](n)+o[1]:r()[0](t)+o[0];return p(l),s&&p(r()[1](n)+o[1],!0,!0),h};return t.push(e.subscribe("app.mouseMove",f)),t.push(e.subscribe("app.mouseLeave",d)),t.push(e.subscribe("blur",d)),l&&t.push(vh.subscribe("higlass.mouseMove",f)),h})(e.pubSub,e.pubSubs,e.options,(()=>[e.xScale(),e.yScale()]),e.getPosition.bind(e),e.getDimensions.bind(e),e.getProp("flipText"),t,n);return r.addChild(i),()=>{r.removeChild(i)}},ib=(e,t)=>e+t,ob=(e,t,n,r,i,o)=>{const a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",n),a.setAttribute("y1",t),a.setAttribute("y2",r),i&&a.setAttribute("stroke-width",i),o&&a.setAttribute("stroke",o),a},ab=(e,t,n)=>{let r,i=0;const o=(...t)=>{clearTimeout(r),r=setTimeout((()=>{i>0&&(e(...t),i=0)}),n)};o.cancel=()=>{clearTimeout(r),r=null},o.immediate=(...t)=>{e(...t)};let a=!1;return(n,...r)=>{a?i++:(e(...r),o(...r),a=!0,i=0,setTimeout((()=>{a=!1}),t))}},sb=e=>new Promise((t=>{setTimeout(t,e)})),lb=()=>{},cb=e=>(e||"").replace(/\/$/,""),ub=(e,t,n=0,r=1e-6)=>i=>{let o=255;return i>r&&(o=Math.max(0,Math.min(255,Math.floor(e(i+n))))),t[o]},hb=e=>{let t=[];for(let n=0;n<e.length;n++)e[n].contents?t=t.concat(e[n].contents):t.push(e[n]);return t};function db(e,t,n,r){this.interval=[e,t],this.max=-1/0,this.parentNode=null,this.left=n,this.right=r}function pb(){this.root=null}function fb(e,t,n){let r=new db(n[0],n[1]);if(r.max=n[1],r.parentNode=e,e[t]=r,e.max<n[1])for(;r;)r.max<n[1]&&(r.max=n[1]),r=r.parentNode}function mb(e,t){e.interval[0]>t[0]?e.left?mb(e.left,t):fb(e,"left",t):e.right?mb(e.right,t):fb(e,"right",t)}function gb(e,t){if(!t)return!1;if(t.interval[0]<=e&&t.interval[1]>=e)return!0;let n,r=!1;return["left","right"].forEach((i=>{n=t[i],n&&n.max>e&&(r=r||gb(e,n))})),r}function bb(e,t){if(!t)return!1;if(n=t.interval,r=e,n[0]===r[0]&&n[1]===r[1]||n[0]<r[0]&&n[1]>r[0]||n[0]<r[1]&&n[1]>r[1]||r[0]<n[0]&&r[1]>n[0]||r[0]<n[1]&&r[1]>n[1])return!0;var n,r;let i,o=!1;return["left","right"].forEach((n=>{i=t[n],i&&i.max>=e[0]&&(o=o||bb(e,i))})),o}function vb(e){return e?1+Math.max(vb(e.left),vb(e.right)):0}function yb(e){e.sort(((e,t)=>t.to-t.from-(e.to-e.from)));const t=[[]],n=[new pb];for(let r=0;r<e.length;r++){let i=!1;for(let o=0;o<t.length;o++){const a=n[o],s=[+e[r].from,+e[r].to];if(!a.intersects(s)){a.add(s),t[o].push(e[r]),i=!0;break}}if(!i){const i=new pb;i.add([e[r].from,e[r].to]),t.push([e[r]]),n.push(i)}}return t}pb.prototype.add=function(e){if(!this.root)return this.root=new db(e[0],e[1]),void(this.root.max=e[1]);mb(this.root,e)},pb.prototype.contains=function(e){return gb(e,this.root)},pb.prototype.intersects=function(e){return bb(e,this.root)},pb.prototype.height=function(){return vb(this.root)},pb.prototype.findMax=function(e){const t=[e];let n,r,i=-1/0;for(;t.length;)n=t.pop(),n.left&&t.push(n.left),n.right&&t.push(n.right),n.interval[1]>i&&(i=n.interval[1],r=n);return r},pb.prototype._removeHelper=function(e,t){if(t)if(t.interval[0]===e[0]&&t.interval[1]===e[1]){if(t.left&&t.right){let e=t.left;for(;e.left;)e=e.left;const n=e.interval;e.interval=t.interval,t.interval=n,this._removeHelper(e.interval,t)}else{let e="left";t.right&&(e="right");const n=t.parentNode;n?(n.left===t?n.left=t[e]:n.right=t[e],t[e]&&(t[e].parentNode=n)):(this.root=t[e],this.root&&(this.root.parentNode=null))}const e=t.parentNode;if(e){let n=this.findMax(e);const r=n.interval[1];for(;n;)n.max===t.interval[1]?(n.max=r,n=n.parentNode):n=!1}}else this._removeHelper(e,t.left),this._removeHelper(e,t.right)},pb.prototype.remove=function(e){return this._removeHelper(e,this.root)};let Tb=function(){function e(t){d(this,e),this.epsilon=1e-6,this.data=t,this.tileSize=this.data.length,this.paddedTileSize=2**Math.ceil(Math.log2(this.tileSize)),this.numSubsets=Math.min(8,this.paddedTileSize),this.subsetSize=this.paddedTileSize/this.numSubsets,this.subsetMinimums=this.computeSubsetNonZeroMinimums(),this.subsetMaximums=this.computeSubsetNonZeroMaximums(),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return f(e,[{key:"getMinNonZeroInSubset",value:function(e){const t=e[0],n=e[1];let r=Number.MAX_SAFE_INTEGER;if(0===t&&n===this.tileSize)return this.minNonZeroInTile;const i=Math.ceil(t/this.subsetSize),o=Math.floor((n-1)/this.subsetSize);return i>=o?this.minNonZero(this.data,t,n):(t<i*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,t,i*this.subsetSize))),r=Math.min(r,this.minNonZero(this.subsetMinimums,i,o)),n>o*this.subsetSize&&(r=Math.min(r,this.minNonZero(this.data,o*this.subsetSize,n))),r)}},{key:"getMaxNonZeroInSubset",value:function(e){const t=e[0],n=e[1];let r=Number.MIN_SAFE_INTEGER;if(0===t&&n===this.tileSize)return this.maxNonZeroInTile;const i=Math.ceil(t/this.subsetSize),o=Math.floor((n-1)/this.subsetSize);return i>=o?this.maxNonZero(this.data,t,n):(t<i*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,t,i*this.subsetSize))),r=Math.max(r,this.maxNonZero(this.subsetMaximums,i,o)),n>o*this.subsetSize&&(r=Math.max(r,this.maxNonZero(this.data,o*this.subsetSize,n))),r)}},{key:"computeSubsetNonZeroMinimums",value:function(){const e=[];for(let t=0;t<this.numSubsets;t++){let n=Number.MAX_SAFE_INTEGER;for(let e=0;e<this.subsetSize;e++){const r=this.data[t*this.subsetSize+e];void 0!==r&&(r<this.epsilon&&r>-this.epsilon||r<n&&(n=r))}e.push(n)}return e}},{key:"computeSubsetNonZeroMaximums",value:function(){const e=[];for(let t=0;t<this.numSubsets;t++){let n=Number.MIN_SAFE_INTEGER;for(let e=0;e<this.subsetSize;e++){const r=this.data[t*this.subsetSize+e];void 0!==r&&(r<this.epsilon&&r>-this.epsilon||r>n&&(n=r))}e.push(n)}return e}},{key:"getMinNonZeroInTile",value:function(){return Math.min(...this.subsetMinimums)}},{key:"getMaxNonZeroInTile",value:function(){return Math.max(...this.subsetMaximums)}},{key:"minNonZero",value:function(e,t,n){let r=Number.MAX_SAFE_INTEGER;for(let i=t;i<n;i++){const t=e[i];t<this.epsilon&&t>-this.epsilon||t<r&&(r=t)}return r}},{key:"maxNonZero",value:function(e,t,n){let r=Number.MIN_SAFE_INTEGER;for(let i=t;i<n;i++){const t=e[i];t<this.epsilon&&t>-this.epsilon||t>r&&(r=t)}return r}}]),e}(),_b=function(){function e(t){d(this,e),this.epsilon=1e-6,this.tileSize=Math.sqrt(t.length),Number.isSafeInteger(this.tileSize)||console.error("The DenseDataExtrema2D module only works for data of quadratic length."),this.numSubsets=Math.min(8,this.tileSize),this.subsetSize=this.tileSize/this.numSubsets;const n=$g(Array.from(t),[this.tileSize,this.tileSize]);this.subsetMinimums=this.computeSubsetNonZeroMinimums(n),this.subsetMaximums=this.computeSubsetNonZeroMaximums(n),this.minNonZeroInTile=this.getMinNonZeroInTile(),this.maxNonZeroInTile=this.getMaxNonZeroInTile()}return f(e,[{key:"getMinNonZeroInSubset",value:function(e){const t=e[0],n=e[1],r=e[2],i=e[3],o=Math.floor(n/this.subsetSize),a=Math.floor(t/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,o,a,l,s)}},{key:"getMaxNonZeroInSubset",value:function(e){const t=e[0],n=e[1],r=e[2],i=e[3],o=Math.floor(n/this.subsetSize),a=Math.floor(t/this.subsetSize),s=Math.ceil((i+1)/this.subsetSize)-o,l=Math.ceil((r+1)/this.subsetSize)-a;return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,o,a,l,s)}},{key:"computeSubsetNonZeroMinimums",value:function(e){let t=new Array(this.numSubsets**2);t=$g(t,[this.numSubsets,this.numSubsets]);for(let n=0;n<this.numSubsets;n++)for(let r=0;r<this.numSubsets;r++){const i=this.getMinNonZeroInNdarraySubset(e,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);t.set(n,r,i)}return t}},{key:"computeSubsetNonZeroMaximums",value:function(e){let t=new Array(this.numSubsets**2);t=$g(t,[this.numSubsets,this.numSubsets]);for(let n=0;n<this.numSubsets;n++)for(let r=0;r<this.numSubsets;r++){const i=this.getMaxNonZeroInNdarraySubset(e,n*this.subsetSize,r*this.subsetSize,this.subsetSize,this.subsetSize);t.set(n,r,i)}return t}},{key:"getMinNonZeroInNdarraySubset",value:function(e,t,n,r,i){let o=Number.MAX_SAFE_INTEGER;for(let a=0;a<r;a++)for(let r=0;r<i;r++){const i=e.get(t+r,n+a);i<this.epsilon&&i>-this.epsilon||i<o&&(o=i)}return o}},{key:"getMaxNonZeroInNdarraySubset",value:function(e,t,n,r,i){let o=Number.MIN_SAFE_INTEGER;for(let a=0;a<r;a++)for(let r=0;r<i;r++){const i=e.get(t+r,n+a);i<this.epsilon&&i>-this.epsilon||i>o&&(o=i)}return o}},{key:"mirrorPrecomputedExtrema",value:function(){for(let e=1;e<this.numSubsets;e++)for(let t=0;t<e;t++)this.subsetMinimums.set(t,e,this.subsetMinimums.get(e,t)),this.subsetMaximums.set(t,e,this.subsetMaximums.get(e,t))}},{key:"getMinNonZeroInTile",value:function(){return this.getMinNonZeroInNdarraySubset(this.subsetMinimums,0,0,this.numSubsets,this.numSubsets)}},{key:"getMaxNonZeroInTile",value:function(){return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums,0,0,this.numSubsets,this.numSubsets)}}]),e}();const Eb=e=>{let t;switch(e?e.toLowerCase():e){case"mean":t=Bt;break;case"sum":t=$t;break;case"variance":t=nt;break;case"deviation":t=rt;break;default:t=Bt,console.warn("Encountered an unsupported selectedRowsAggregationMode option.")}return t},xb=(e,t)=>e.reduce(((e,n)=>e+(Array.isArray(n)&&t?n.length:1)),0),wb=e=>{switch(e.type){case"heatmap":case"horizontal-1d-heatmap":case"horizontal-bar":case"horizontal-line":case"horizontal-point":case"vertical-1d-heatmap":case"vertical-bar":case"vertical-line":case"vertical-point":case"horizontal-1d-tiles":case"vertical-1d-tiles":case"2d-tiles":case"horizontal-gene-annotations":case"vertical-gene-annotations":case"horizontal-heatmap":case"vertical-heatmap":case"osm-tiles":case"mapbox-tiles":case"horizontal-multivec":return!0;case"combined":return e.contents.map((e=>wb(e))).reduce(Kg,!1);default:return!1}},Sb=(e,t,n)=>{let r=t,i=n;return n||(i=t,r=Object.values(e.state.views)[0].uid),e.tiledPlots[r].trackRenderer.getTrackObject(i)},Ab=(e,t)=>e.tiledPlots[t].trackRenderer;var kb,Cb,Ib={},Ob=Object.prototype.toString,Db=function(e){var t=Ob.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===Ob.call(e.callee)),n};var Pb=Array.prototype.slice,Nb=Db,Rb=Object.keys,Mb=Rb?function(e){return Rb(e)}:function(){if(Cb)return kb;var e;if(Cb=1,!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Db,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),a=i.call((function(){}),"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t=e.constructor;return t&&t.prototype===e},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!c["$"+e]&&t.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{l(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();e=function(e){var i=null!==e&&"object"==typeof e,c="[object Function]"===n.call(e),h=r(e),d=i&&"[object String]"===n.call(e),p=[];if(!i&&!c&&!h)throw new TypeError("Object.keys called on a non-object");var f=a&&c;if(d&&e.length>0&&!t.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(h&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var b in e)f&&"prototype"===b||!t.call(e,b)||p.push(String(b));if(o)for(var v=function(e){if("undefined"==typeof window||!u)return l(e);try{return l(e)}catch(e){return!1}}(e),y=0;y<s.length;++y)v&&"constructor"===s[y]||!t.call(e,s[y])||p.push(s[y]);return p}}return kb=e}(),Lb=Object.keys;Mb.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return Nb(e)?Lb(Pb.call(e)):Lb(e)})}else Object.keys=Mb;return Object.keys||Mb};var Bb,Fb=Mb,Ub=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},jb="undefined"!=typeof Symbol&&Symbol,Hb=Ub,Gb=function(){return"function"==typeof jb&&"function"==typeof Symbol&&"symbol"==typeof jb("foo")&&"symbol"==typeof Symbol("bar")&&Hb()},zb=Array.prototype.slice,Vb=Object.prototype.toString,Yb=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==Vb.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,r=zb.call(arguments,1),i=Math.max(0,t.length-r.length),o=[],a=0;a<i;a++)o.push("$"+a);if(n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var i=t.apply(this,r.concat(zb.call(arguments)));return Object(i)===i?i:this}return t.apply(e,r.concat(zb.call(arguments)))})),t.prototype){var s=function(){};s.prototype=t.prototype,n.prototype=new s,s.prototype=null}return n},$b=Function.prototype.bind||Yb,Xb=$b.call(Function.call,Object.prototype.hasOwnProperty),Wb=SyntaxError,qb=Function,Kb=TypeError,Zb=function(e){try{return qb('"use strict"; return ('+e+").constructor;")()}catch(e){}},Qb=Object.getOwnPropertyDescriptor;if(Qb)try{Qb({},"")}catch(e){Qb=null}var Jb=function(){throw new Kb},ev=Qb?function(){try{return Jb}catch(e){try{return Qb(arguments,"callee").get}catch(e){return Jb}}}():Jb,tv=Gb(),nv=Object.getPrototypeOf||function(e){return e.__proto__},rv={},iv="undefined"==typeof Uint8Array?Bb:nv(Uint8Array),ov={"%AggregateError%":"undefined"==typeof AggregateError?Bb:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Bb:ArrayBuffer,"%ArrayIteratorPrototype%":tv?nv([][Symbol.iterator]()):Bb,"%AsyncFromSyncIteratorPrototype%":Bb,"%AsyncFunction%":rv,"%AsyncGenerator%":rv,"%AsyncGeneratorFunction%":rv,"%AsyncIteratorPrototype%":rv,"%Atomics%":"undefined"==typeof Atomics?Bb:Atomics,"%BigInt%":"undefined"==typeof BigInt?Bb:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?Bb:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?Bb:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Bb:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?Bb:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Bb:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Bb:FinalizationRegistry,"%Function%":qb,"%GeneratorFunction%":rv,"%Int8Array%":"undefined"==typeof Int8Array?Bb:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Bb:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Bb:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":tv?nv(nv([][Symbol.iterator]())):Bb,"%JSON%":"object"==typeof JSON?JSON:Bb,"%Map%":"undefined"==typeof Map?Bb:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&tv?nv((new Map)[Symbol.iterator]()):Bb,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Bb:Promise,"%Proxy%":"undefined"==typeof Proxy?Bb:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?Bb:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Bb:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&tv?nv((new Set)[Symbol.iterator]()):Bb,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Bb:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":tv?nv(""[Symbol.iterator]()):Bb,"%Symbol%":tv?Symbol:Bb,"%SyntaxError%":Wb,"%ThrowTypeError%":ev,"%TypedArray%":iv,"%TypeError%":Kb,"%Uint8Array%":"undefined"==typeof Uint8Array?Bb:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Bb:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Bb:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Bb:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?Bb:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Bb:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Bb:WeakSet};try{null.error}catch(e){var av=nv(nv(e));ov["%Error.prototype%"]=av}var sv=function e(t){var n;if("%AsyncFunction%"===t)n=Zb("async function () {}");else if("%GeneratorFunction%"===t)n=Zb("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=Zb("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=nv(i.prototype))}return ov[t]=n,n},lv={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},cv=$b,uv=Xb,hv=cv.call(Function.call,Array.prototype.concat),dv=cv.call(Function.apply,Array.prototype.splice),pv=cv.call(Function.call,String.prototype.replace),fv=cv.call(Function.call,String.prototype.slice),mv=cv.call(Function.call,RegExp.prototype.exec),gv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,bv=/\\(\\)?/g,vv=function(e,t){var n,r=e;if(uv(lv,r)&&(r="%"+(n=lv[r])[0]+"%"),uv(ov,r)){var i=ov[r];if(i===rv&&(i=sv(r)),void 0===i&&!t)throw new Kb("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new Wb("intrinsic "+e+" does not exist!")},yv=function(e,t){if("string"!=typeof e||0===e.length)throw new Kb("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new Kb('"allowMissing" argument must be a boolean');if(null===mv(/^%?[^%]*%?$/,e))throw new Wb("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=fv(e,0,1),n=fv(e,-1);if("%"===t&&"%"!==n)throw new Wb("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new Wb("invalid intrinsic syntax, expected opening `%`");var r=[];return pv(e,gv,(function(e,t,n,i){r[r.length]=n?pv(i,bv,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=vv("%"+r+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(r=l[0],dv(n,hv([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var h=n[c],d=fv(h,0,1),p=fv(h,-1);if(('"'===d||"'"===d||"`"===d||'"'===p||"'"===p||"`"===p)&&d!==p)throw new Wb("property names with quotes must have matching quotes");if("constructor"!==h&&u||(s=!0),uv(ov,o="%"+(r+="."+h)+"%"))a=ov[o];else if(null!=a){if(!(h in a)){if(!t)throw new Kb("base intrinsic for "+e+" exists, but the property is not available.");return}if(Qb&&c+1>=n.length){var f=Qb(a,h);a=(u=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:a[h]}else u=uv(a,h),a=a[h];u&&!s&&(ov[o]=a)}}return a},Tv=yv("%Object.defineProperty%",!0),_v=function(){if(Tv)try{return Tv({},"a",{value:1}),!0}catch(e){return!1}return!1};_v.hasArrayLengthDefineBug=function(){if(!_v())return null;try{return 1!==Tv([],"length",{value:1}).length}catch(e){return!0}};var Ev=_v,xv=Fb,wv="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Sv=Object.prototype.toString,Av=Array.prototype.concat,kv=Object.defineProperty,Cv=Ev(),Iv=kv&&Cv,Ov=function(e,t,n,r){var i;(!(t in e)||"function"==typeof(i=r)&&"[object Function]"===Sv.call(i)&&r())&&(Iv?kv(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},Dv=function(e,t){var n=arguments.length>2?arguments[2]:{},r=xv(t);wv&&(r=Av.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)Ov(e,r[i],t[r[i]],n[r[i]])};Dv.supportsDescriptors=!!Iv;var Pv=Dv,Nv={exports:{}};!function(e){var t=$b,n=yv,r=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(i,r),a=n("%Object.getOwnPropertyDescriptor%",!0),s=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(e){var n=o(t,i,arguments);return a&&s&&a(n,"length").configurable&&s(n,"length",{value:1+l(0,e.length-(arguments.length-1))}),n};var c=function(){return o(t,r,arguments)};s?s(e.exports,"apply",{value:c}):e.exports.apply=c}(Nv);var Rv=yv,Mv=Nv.exports,Lv=Mv(Rv("String.prototype.indexOf")),Bv=function(e,t){var n=Rv(e,!!t);return"function"==typeof n&&Lv(e,".prototype.")>-1?Mv(n):n},Fv=Fb,Uv=Ub(),jv=Bv,Hv=Object,Gv=jv("Array.prototype.push"),zv=jv("Object.prototype.propertyIsEnumerable"),Vv=Uv?Object.getOwnPropertySymbols:null,Yv=function(e,t){if(null==e)throw new TypeError("target must be an object");var n=Hv(e);if(1===arguments.length)return n;for(var r=1;r<arguments.length;++r){var i=Hv(arguments[r]),o=Fv(i),a=Uv&&(Object.getOwnPropertySymbols||Vv);if(a)for(var s=a(i),l=0;l<s.length;++l){var c=s[l];zv(i,c)&&Gv(o,c)}for(var u=0;u<o.length;++u){var h=o[u];if(zv(i,h)){var d=i[h];n[h]=d}}}return n},$v=Yv,Xv=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?$v:Object.assign:$v},Wv=Pv,qv=Xv,Kv=Pv,Zv=Yv,Qv=Xv,Jv=function(){var e=qv();return Wv(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},ey=Nv.exports.apply(Qv()),ty=function(e,t){return ey(Object,arguments)};Kv(ty,{getPolyfill:Qv,implementation:Zv,shim:Jv});var ny,ry,iy,oy,ay=ty,sy=yv("%Math.abs%"),ly=function(e){return sy(e)};function cy(){if(oy)return iy;oy=1;var e=ry?ny:(ry=1,ny=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0});return iy=function(t){return"symbol"==typeof t?"Symbol":"bigint"==typeof t?"BigInt":e(t)}}var uy,hy,dy,py,fy,my,gy=cy(),by=Math.floor,vy=function(e){return"BigInt"===gy(e)?e:by(e)},yy=Number.isNaN||function(e){return e!=e},Ty=yy,_y=function(e){return("number"==typeof e||"bigint"==typeof e)&&!Ty(e)&&e!==1/0&&e!==-1/0};function Ey(){if(hy)return uy;hy=1;var e=ly,t=vy,n=cy(),r=yy,i=_y;return uy=function(o){if("Number"!==n(o)||r(o)||!i(o))return!1;var a=e(o);return t(a)===a}}const xy=T(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var wy="function"==typeof Map&&Map.prototype,Sy=Object.getOwnPropertyDescriptor&&wy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ay=wy&&Sy&&"function"==typeof Sy.get?Sy.get:null,ky=wy&&Map.prototype.forEach,Cy="function"==typeof Set&&Set.prototype,Iy=Object.getOwnPropertyDescriptor&&Cy?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Oy=Cy&&Iy&&"function"==typeof Iy.get?Iy.get:null,Dy=Cy&&Set.prototype.forEach,Py="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Ny="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,Ry="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,My=Boolean.prototype.valueOf,Ly=Object.prototype.toString,By=Function.prototype.toString,Fy=String.prototype.match,Uy=String.prototype.slice,jy=String.prototype.replace,Hy=String.prototype.toUpperCase,Gy=String.prototype.toLowerCase,zy=RegExp.prototype.test,Vy=Array.prototype.concat,Yy=Array.prototype.join,$y=Array.prototype.slice,Xy=Math.floor,Wy="function"==typeof BigInt?BigInt.prototype.valueOf:null,qy=Object.getOwnPropertySymbols,Ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Zy="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Qy="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,Jy=Object.prototype.propertyIsEnumerable,eT=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function tT(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||zy.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-Xy(-e):Xy(e);if(r!==e){var i=String(r),o=Uy.call(t,i.length+1);return jy.call(i,n,"$&_")+"."+jy.call(jy.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return jy.call(t,n,"$&_")}var nT=xy,rT=nT.custom,iT=uT(rT)?rT:null,oT=function e(t,n,r,i){var o=n||{};if(fT(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(fT(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!fT(o,"customInspect")||o.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(fT(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(fT(o,"numericSeparator")&&"boolean"!=typeof o.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var s=o.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return bT(t,o);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var l=String(t);return s?tT(t,l):l}if("bigint"==typeof t){var c=String(t)+"n";return s?tT(t,c):c}var u=void 0===o.depth?5:o.depth;if(void 0===r&&(r=0),r>=u&&u>0&&"object"==typeof t)return lT(t)?"[Array]":"[Object]";var h,d=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Yy.call(Array(e.indent+1)," ")}return{base:n,prev:Yy.call(Array(t+1),n)}}(o,r);if(void 0===i)i=[];else if(gT(i,t)>=0)return"[Circular]";function p(t,n,a){if(n&&(i=$y.call(i)).push(n),a){var s={depth:o.depth};return fT(o,"quoteStyle")&&(s.quoteStyle=o.quoteStyle),e(t,s,r+1,i)}return e(t,o,r+1,i)}if("function"==typeof t&&!cT(t)){var f=function(e){if(e.name)return e.name;var t=Fy.call(By.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),m=xT(t,p);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(m.length>0?" { "+Yy.call(m,", ")+" }":"")}if(uT(t)){var g=Zy?jy.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ky.call(t);return"object"!=typeof t||Zy?g:yT(g)}if((h=t)&&"object"==typeof h&&("undefined"!=typeof HTMLElement&&h instanceof HTMLElement||"string"==typeof h.nodeName&&"function"==typeof h.getAttribute)){for(var b="<"+Gy.call(String(t.nodeName)),v=t.attributes||[],y=0;y<v.length;y++)b+=" "+v[y].name+"="+aT(sT(v[y].value),"double",o);return b+=">",t.childNodes&&t.childNodes.length&&(b+="..."),b+"</"+Gy.call(String(t.nodeName))+">"}if(lT(t)){if(0===t.length)return"[]";var T=xT(t,p);return d&&!function(e){for(var t=0;t<e.length;t++)if(gT(e[t],"\n")>=0)return!1;return!0}(T)?"["+ET(T,d)+"]":"[ "+Yy.call(T,", ")+" ]"}if(function(e){return!("[object Error]"!==mT(e)||Qy&&"object"==typeof e&&Qy in e)}(t)){var _=xT(t,p);return"cause"in Error.prototype||!("cause"in t)||Jy.call(t,"cause")?0===_.length?"["+String(t)+"]":"{ ["+String(t)+"] "+Yy.call(_,", ")+" }":"{ ["+String(t)+"] "+Yy.call(Vy.call("[cause]: "+p(t.cause),_),", ")+" }"}if("object"==typeof t&&a){if(iT&&"function"==typeof t[iT]&&nT)return nT(t,{depth:u-r});if("symbol"!==a&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!Ay||!e||"object"!=typeof e)return!1;try{Ay.call(e);try{Oy.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var E=[];return ky&&ky.call(t,(function(e,n){E.push(p(n,t,!0)+" => "+p(e,t))})),_T("Map",Ay.call(t),E,d)}if(function(e){if(!Oy||!e||"object"!=typeof e)return!1;try{Oy.call(e);try{Ay.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var x=[];return Dy&&Dy.call(t,(function(e){x.push(p(e,t))})),_T("Set",Oy.call(t),x,d)}if(function(e){if(!Py||!e||"object"!=typeof e)return!1;try{Py.call(e,Py);try{Ny.call(e,Ny)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return TT("WeakMap");if(function(e){if(!Ny||!e||"object"!=typeof e)return!1;try{Ny.call(e,Ny);try{Py.call(e,Py)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return TT("WeakSet");if(function(e){if(!Ry||!e||"object"!=typeof e)return!1;try{return Ry.call(e),!0}catch(e){}return!1}(t))return TT("WeakRef");if(function(e){return!("[object Number]"!==mT(e)||Qy&&"object"==typeof e&&Qy in e)}(t))return yT(p(Number(t)));if(function(e){if(!e||"object"!=typeof e||!Wy)return!1;try{return Wy.call(e),!0}catch(e){}return!1}(t))return yT(p(Wy.call(t)));if(function(e){return!("[object Boolean]"!==mT(e)||Qy&&"object"==typeof e&&Qy in e)}(t))return yT(My.call(t));if(function(e){return!("[object String]"!==mT(e)||Qy&&"object"==typeof e&&Qy in e)}(t))return yT(p(String(t)));if(!function(e){return!("[object Date]"!==mT(e)||Qy&&"object"==typeof e&&Qy in e)}(t)&&!cT(t)){var w=xT(t,p),S=eT?eT(t)===Object.prototype:t instanceof Object||t.constructor===Object,A=t instanceof Object?"":"null prototype",k=!S&&Qy&&Object(t)===t&&Qy in t?Uy.call(mT(t),8,-1):A?"Object":"",C=(S||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(k||A?"["+Yy.call(Vy.call([],k||[],A||[]),": ")+"] ":"");return 0===w.length?C+"{}":d?C+"{"+ET(w,d)+"}":C+"{ "+Yy.call(w,", ")+" }"}return String(t)};function aT(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function sT(e){return jy.call(String(e),/"/g,"&quot;")}function lT(e){return!("[object Array]"!==mT(e)||Qy&&"object"==typeof e&&Qy in e)}function cT(e){return!("[object RegExp]"!==mT(e)||Qy&&"object"==typeof e&&Qy in e)}function uT(e){if(Zy)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!Ky)return!1;try{return Ky.call(e),!0}catch(e){}return!1}var hT,dT,pT=Object.prototype.hasOwnProperty||function(e){return e in this};function fT(e,t){return pT.call(e,t)}function mT(e){return Ly.call(e)}function gT(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function bT(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return bT(Uy.call(e,0,t.maxStringLength),t)+r}return aT(jy.call(jy.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,vT),"single",t)}function vT(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+Hy.call(t.toString(16))}function yT(e){return"Object("+e+")"}function TT(e){return e+" { ? }"}function _T(e,t,n,r){return e+" ("+t+") {"+(r?ET(n,r):Yy.call(n,", "))+"}"}function ET(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+Yy.call(e,","+n)+"\n"+t.prev}function xT(e,t){var n=lT(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=fT(e,i)?t(e[i],e):""}var o,a="function"==typeof qy?qy(e):[];if(Zy){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)fT(e,l)&&(n&&String(Number(l))===l&&l<e.length||Zy&&o["$"+l]instanceof Symbol||(zy.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof qy)for(var c=0;c<a.length;c++)Jy.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}function wT(){return dT?hT:(dT=1,hT=function(e){return"string"==typeof e||"symbol"==typeof e})}var ST,AT,kT,CT=yv("%TypeError%"),IT=oT,OT=wT(),DT=cy(),PT=function(e,t){if("Object"!==DT(e))throw new CT("Assertion failed: Type(O) is not Object");if(!OT(t))throw new CT("Assertion failed: IsPropertyKey(P) is not true, got "+IT(t));return e[t]},NT={exports:{}};function RT(){if(AT)return ST;AT=1;var e=yv("%Array%"),t=!e.isArray&&Bv("Object.prototype.toString");return ST=e.isArray||function(e){return"[object Array]"===t(e)}}function MT(){return kT||(kT=1,function(e){e.exports=RT()}(NT)),NT.exports}var LT,BT,FT,UT,jT,HT,GT,zT,VT,YT,$T,XT,WT,qT,KT,ZT,QT,JT,e_,t_={exports:{}},n_={exports:{}};function r_(){if(jT)return UT;jT=1;var e=Ev,t=yv,n=e()&&t("%Object.defineProperty%",!0),r=e.hasArrayLengthDefineBug(),i=r&&RT(),o=Bv("Object.prototype.propertyIsEnumerable");return UT=function(e,t,a,s,l,c){if(!n){if(!e(c))return!1;if(!c["[[Configurable]]"]||!c["[[Writable]]"])return!1;if(l in s&&o(s,l)!==!!c["[[Enumerable]]"])return!1;var u=c["[[Value]]"];return s[l]=u,t(s[l],u)}return r&&"length"===l&&"[[Value]]"in c&&i(s)&&s.length!==c["[[Value]]"]?(s.length=c["[[Value]]"],s.length===c["[[Value]]"]):(n(s,l,a(c)),!0)}}function i_(){if(GT)return HT;GT=1;var e=Xb;return HT=function(t){return e(t,"[[StartIndex]]")&&e(t,"[[EndIndex]]")&&t["[[StartIndex]]"]>=0&&t["[[EndIndex]]"]>=t["[[StartIndex]]"]&&String(parseInt(t["[[StartIndex]]"],10))===String(t["[[StartIndex]]"])&&String(parseInt(t["[[EndIndex]]"],10))===String(t["[[EndIndex]]"])}}function o_(){if(VT)return zT;VT=1;var e=yv,t=e("%TypeError%"),n=e("%SyntaxError%"),r=Xb,i={"Property Descriptor":function(e){var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in e)if(r(e,i)&&!n[i])return!1;var o=r(e,"[[Value]]"),a=r(e,"[[Get]]")||r(e,"[[Set]]");if(o&&a)throw new t("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":i_(),"Iterator Record":function(e){return r(e,"[[Iterator]]")&&r(e,"[[NextMethod]]")&&r(e,"[[Done]]")},"PromiseCapability Record":function(e){return e&&r(e,"[[Resolve]]")&&"function"==typeof e["[[Resolve]]"]&&r(e,"[[Reject]]")&&"function"==typeof e["[[Reject]]"]&&r(e,"[[Promise]]")&&e["[[Promise]]"]&&"function"==typeof e["[[Promise]]"].then},"AsyncGeneratorRequest Record":function(e){return e&&r(e,"[[Completion]]")&&r(e,"[[Capability]]")&&i["PromiseCapability Record"](e["[[Capability]]"])}};return zT=function(e,r,o,a){var s=i[r];if("function"!=typeof s)throw new n("unknown record type: "+r);if("Object"!==e(a)||!s(a))throw new t(o+" must be a "+r)}}function a_(){if(WT)return XT;WT=1;var e=o_(),t=$T?YT:($T=1,YT=function(e){if(void 0===e)return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}),n=cy();return XT=function(r){return void 0!==r&&e(n,"Property Descriptor","Desc",r),t(r)}}function s_(){if(QT)return ZT;QT=1;var e=Xb,t=o_(),n=cy();return ZT=function(r){return void 0!==r&&(t(n,"Property Descriptor","Desc",r),!(!e(r,"[[Value]]")&&!e(r,"[[Writable]]")))}}function l_(){if(e_)return JT;e_=1;var e=yy;return JT=function(t,n){return t===n?0!==t||1/t==1/n:e(t)&&e(n)}}var c_,u_,h_=function(e){return!!e},d_={exports:{}},p_=Function.prototype.toString,f_="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof f_&&"function"==typeof Object.defineProperty)try{c_=Object.defineProperty({},"length",{get:function(){throw u_}}),u_={},f_((function(){throw 42}),null,c_)}catch(e){e!==u_&&(f_=null)}else f_=null;var m_=/^\s*class\b/,g_=function(e){try{var t=p_.call(e);return m_.test(t)}catch(e){return!1}},b_=function(e){try{return!g_(e)&&(p_.call(e),!0)}catch(e){return!1}},v_=Object.prototype.toString,y_="function"==typeof Symbol&&!!Symbol.toStringTag,T_=!(0 in[,]),__=function(){return!1};if("object"==typeof document){var E_=document.all;v_.call(E_)===v_.call(document.all)&&(__=function(e){if((T_||!e)&&(void 0===e||"object"==typeof e))try{var t=v_.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}var x_,w_,S_,A_,k_,C_=f_?function(e){if(__(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{f_(e,null,c_)}catch(e){if(e!==u_)return!1}return!g_(e)&&b_(e)}:function(e){if(__(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(y_)return b_(e);if(g_(e))return!1;var t=v_.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&b_(e)};function I_(){if(w_)return x_;w_=1;var e=Xb,t=yv("%TypeError%"),n=cy(),r=h_,i=d_.exports;return x_=function(o){if("Object"!==n(o))throw new t("ToPropertyDescriptor requires an object");var a={};if(e(o,"enumerable")&&(a["[[Enumerable]]"]=r(o.enumerable)),e(o,"configurable")&&(a["[[Configurable]]"]=r(o.configurable)),e(o,"value")&&(a["[[Value]]"]=o.value),e(o,"writable")&&(a["[[Writable]]"]=r(o.writable)),e(o,"get")){var s=o.get;if(void 0!==s&&!i(s))throw new t("getter must be a function");a["[[Get]]"]=s}if(e(o,"set")){var l=o.set;if(void 0!==l&&!i(l))throw new t("setter must be a function");a["[[Set]]"]=l}if((e(a,"[[Get]]")||e(a,"[[Set]]"))&&(e(a,"[[Value]]")||e(a,"[[Writable]]")))throw new t("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return a}}function O_(){if(A_)return S_;A_=1;var e=yv("%TypeError%"),t=function(){if(FT)return BT;FT=1;var e=Xb,t=yv("%TypeError%");return BT=function(n,r){if("Object"!==n.Type(r))return!1;var i={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var o in r)if(e(r,o)&&!i[o])return!1;if(n.IsDataDescriptor(r)&&n.IsAccessorDescriptor(r))throw new t("Property Descriptors may not be both accessor and data descriptors");return!0}}(),n=r_(),r=a_(),i=function(){if(KT)return qT;KT=1;var e=Xb,t=o_(),n=cy();return qT=function(r){return void 0!==r&&(t(n,"Property Descriptor","Desc",r),!(!e(r,"[[Get]]")&&!e(r,"[[Set]]")))}}(),o=s_(),a=wT(),s=l_(),l=I_(),c=cy();return S_=function(u,h,d){if("Object"!==c(u))throw new e("Assertion failed: Type(O) is not Object");if(!a(h))throw new e("Assertion failed: IsPropertyKey(P) is not true");var p=t({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:i},d)?d:l(d);if(!t({Type:c,IsDataDescriptor:o,IsAccessorDescriptor:i},p))throw new e("Assertion failed: Desc is not a valid Property Descriptor");return n(o,s,r,u,h,p)}}!function(e){e.exports=C_}(d_);var D_,P_,N_,R_,M_=yv,L_=M_("%Symbol.species%",!0),B_=M_("%TypeError%"),F_=function(){if(my)return fy;my=1;var e=yv,t=e("%Array.prototype%"),n=e("%RangeError%"),r=e("%SyntaxError%"),i=e("%TypeError%"),o=Ey(),a=Math.pow(2,32)-1,s=function(){if(py)return dy;py=1;var e={foo:{}},t=Object;return dy=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof t)}}()(),l=e("%Object.setPrototypeOf%",!0)||(s?function(e,t){return e.__proto__=t,e}:null);return fy=function(e){if(!o(e)||e<0)throw new i("Assertion failed: `length` must be an integer Number >= 0");if(e>a)throw new n("length is greater than (2**32 - 1)");var s=arguments.length>1?arguments[1]:t,c=[];if(s!==t){if(!l)throw new r("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");l(c,s)}return 0!==e&&(c.length=e),c},fy}(),U_=PT,j_=MT(),H_=function(){if(k_)return t_.exports;k_=1;var e=(LT||(LT=1,function(e){e.exports=yv}(n_)),n_.exports)("%Reflect.construct%",!0),t=O_();try{t({},"",{"[[Get]]":function(){}})}catch(e){t=null}if(t&&e){var n={},r={};t(r,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),t_.exports=function(t){try{e(t,r)}catch(e){return e===n}}}else t_.exports=function(e){return"function"==typeof e&&!!e.prototype};return t_.exports}(),G_=Ey(),z_=cy(),V_=function(e,t){if(!G_(t)||t<0)throw new B_("Assertion failed: length must be an integer >= 0");if(!j_(e))return F_(t);var n=U_(e,"constructor");if(L_&&"Object"===z_(n)&&null===(n=U_(n,L_))&&(n=void 0),void 0===n)return F_(t);if(!H_(n))throw new B_("C must be a constructor");return new n(t)},Y_=yv,$_=Y_("%Math%"),X_=Y_("%Number%").MAX_SAFE_INTEGER||$_.pow(2,53)-1;function W_(){if(P_)return D_;P_=1;var e=yv,t=Bv,n=e("%TypeError%"),r=MT(),i=e("%Reflect.apply%",!0)||t("%Function.prototype.apply%");return D_=function(e,t){var o=arguments.length>2?arguments[2]:[];if(!r(o))throw new n("Assertion failed: optional `argumentsList`, if provided, must be a List");return i(e,t,o)},D_}var q_,K_,Z_,Q_,J_=Ub,eE=function(){return J_()&&!!Symbol.toStringTag},tE=Bv,nE=eE();if(nE){q_=tE("Object.prototype.hasOwnProperty"),K_=tE("RegExp.prototype.exec"),Z_={};var rE=function(){throw Z_};Q_={toString:rE,valueOf:rE},"symbol"==typeof Symbol.toPrimitive&&(Q_[Symbol.toPrimitive]=rE)}var iE,oE,aE,sE,lE,cE,uE,hE,dE,pE,fE,mE,gE,bE,vE,yE,TE,_E,EE=tE("Object.prototype.toString"),xE=Object.getOwnPropertyDescriptor,wE=nE?function(e){if(!e||"object"!=typeof e)return!1;var t=xE(e,"lastIndex");if(!t||!q_(t,"value"))return!1;try{K_(e,Q_)}catch(e){return e===Z_}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===EE(e)};function SE(){if(sE)return aE;sE=1;var e=yv,t=function(){if(R_)return N_;R_=1;var e=yv("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch(t){e=null}return N_=e}(),n=e("%TypeError%"),r=Bv("Object.prototype.propertyIsEnumerable"),i=Xb,o=MT(),a=wT(),s=function(){if(oE)return iE;oE=1;var e=yv("%Symbol.match%",!0),t=wE,n=h_;return iE=function(r){if(!r||"object"!=typeof r)return!1;if(e){var i=r[e];if(void 0!==i)return n(i)}return t(r)}}(),l=I_(),c=cy();return aE=function(e,u){if("Object"!==c(e))throw new n("Assertion failed: O must be an Object");if(!a(u))throw new n("Assertion failed: P must be a Property Key");if(i(e,u)){if(!t){var h=o(e)&&"length"===u,d=s(e)&&"lastIndex"===u;return{"[[Configurable]]":!(h||d),"[[Enumerable]]":r(e,u),"[[Value]]":e[u],"[[Writable]]":!0}}return l(t(e,u))}}}function AE(){return cE?lE:(cE=1,lE=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e})}function kE(){if(pE)return dE;pE=1;var e=yv("%TypeError%"),t=r_(),n=a_(),r=SE(),i=s_(),o=function(){if(hE)return uE;hE=1;var e=yv,t=e("%Object.preventExtensions%",!0),n=e("%Object.isExtensible%",!0),r=AE();return uE=t?function(e){return!r(e)&&n(e)}:function(e){return!r(e)}}(),a=wT(),s=l_(),l=cy();return dE=function(c,u,h){if("Object"!==l(c))throw new e("Assertion failed: Type(O) is not Object");if(!a(u))throw new e("Assertion failed: IsPropertyKey(P) is not true");var d=r(c,u),p=!d||o(c);return!(d&&!d["[[Configurable]]"]||!p)&&t(i,s,n,c,u,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":h,"[[Writable]]":!0})}}function CE(){if(mE)return fE;mE=1;var e=yv("%TypeError%"),t=kE(),n=wT(),r=cy();return fE=function(i,o,a){if("Object"!==r(i))throw new e("Assertion failed: Type(O) is not Object");if(!n(o))throw new e("Assertion failed: IsPropertyKey(P) is not true");var s=t(i,o,a);if(!s)throw new e("unable to create data property");return s}}function IE(){if(bE)return gE;bE=1;var e=yv("%TypeError%"),t=wT(),n=cy();return gE=function(r,i){if("Object"!==n(r))throw new e("Assertion failed: `O` must be an Object");if(!t(i))throw new e("Assertion failed: `P` must be a Property Key");return i in r}}function OE(){if(_E)return TE;_E=1;var e=Date.prototype.getDay,t=Object.prototype.toString,n=eE();return TE=function(r){return"object"==typeof r&&null!==r&&(n?function(t){try{return e.call(t),!0}catch(e){return!1}}(r):"[object Date]"===t.call(r))}}var DE,PE,NE,RE,ME,LE,BE,FE,UE,jE={exports:{}};function HE(){if(DE)return jE.exports;DE=1;var e=Object.prototype.toString;if(Gb()){var t=Symbol.prototype.toString,n=/^Symbol\(.*\)$/;jE.exports=function(r){if("symbol"==typeof r)return!0;if("[object Symbol]"!==e.call(r))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&n.test(t.call(e))}(r)}catch(e){return!1}}}else jE.exports=function(e){return!1};return jE.exports}function GE(){if(NE)return PE;NE=1;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,t=yE?vE:(yE=1,vE=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}),n=C_,r=OE(),i=HE();return PE=function(o){if(t(o))return o;var a,s="default";if(arguments.length>1&&(arguments[1]===String?s="string":arguments[1]===Number&&(s="number")),e&&(Symbol.toPrimitive?a=function(e,t){var r=e[t];if(null!=r){if(!n(r))throw new TypeError(r+" returned for property "+t+" of object "+e+" is not a function");return r}}(o,Symbol.toPrimitive):i(o)&&(a=Symbol.prototype.valueOf)),void 0!==a){var l=a.call(o,s);if(t(l))return l;throw new TypeError("unable to convert exotic object to primitive")}return"default"===s&&(r(o)||i(o))&&(s="string"),function(e,r){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof r||"number"!==r&&"string"!==r)throw new TypeError('hint must be "string" or "number"');var i,o,a,s="string"===r?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(i=e[s[a]],n(i)&&(o=i.call(e),t(o)))return o;throw new TypeError("No default value")}(o,"default"===s?"number":s)},PE}var zE,VE,YE=yv,$E=YE("%TypeError%"),XE=YE("%Number%"),WE=AE(),qE=function(){if(ME)return RE;ME=1;var e=GE();return RE=function(t){return arguments.length>1?e(t,arguments[1]):e(t)},RE}(),KE=function(){if(UE)return FE;UE=1;var e=yv,t=e("%Number%"),n=e("%RegExp%"),r=e("%TypeError%"),i=e("%parseInt%"),o=Bv,a=function(){if(BE)return LE;BE=1;var e=yv,t=wE,n=Bv("RegExp.prototype.exec"),r=e("%TypeError%");return LE=function(e){if(!t(e))throw new r("`regex` must be a RegExp");return function(t){return null!==n(e,t)}}}(),s=o("String.prototype.slice"),l=a(/^0b[01]+$/i),c=a(/^0o[0-7]+$/i),u=a(/^[-+]0x[0-9a-f]+$/i),h=a(new n("["+["","​","￾"].join("")+"]","g")),d=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),p=new RegExp("(^["+d+"]+)|(["+d+"]+$)","g"),f=o("String.prototype.replace"),m=cy();return FE=function e(n){if("String"!==m(n))throw new r("Assertion failed: `argument` is not a String");if(l(n))return t(i(s(n,2),2));if(c(n))return t(i(s(n,2),8));if(h(n)||u(n))return NaN;var o=f(n,p,"");return o!==n?e(o):t(n)}}(),ZE=ly,QE=vy,JE=yy,ex=_y,tx=function(e){var t=function(e){var t=WE(e)?e:qE(e,XE);if("symbol"==typeof t)throw new $E("Cannot convert a Symbol value to a number");if("bigint"==typeof t)throw new $E("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof t?KE(t):XE(t)}(e);if(JE(t)||0===t)return 0;if(!ex(t))return t;var n=QE(ZE(t));return 0===n?0:function(e){return e>=0?1:-1}(t)*n},nx=X_,rx=tx,ix=function(e){var t=rx(e);return t<=0?0:t>nx?nx:t};function ox(){if(VE)return zE;VE=1;var e=yv("%TypeError%"),t=PT,n=ix,r=cy();return zE=function(i){if("Object"!==r(i))throw new e("Assertion failed: `obj` must be an Object");return n(t(i,"length"))}}var ax=yv,sx=ax("%String%"),lx=ax("%TypeError%"),cx=function(e){if("symbol"==typeof e)throw new lx("Cannot convert a Symbol value to a string");return sx(e)},ux=yv("%TypeError%"),hx=X_,dx=W_(),px=CE(),fx=PT,mx=IE(),gx=MT(),bx=ox(),vx=cx,yx={exports:{}},Tx=yv("%TypeError%"),_x=function(e,t){if(null==e)throw new Tx(t||"Cannot call method on "+e);return e};!function(e){e.exports=_x}(yx);var Ex,xx,wx,Sx,Ax=yv("%Object%"),kx=yx.exports,Cx=function(e){return kx(e),Ax(e)},Ix=V_,Ox=function e(t,n,r,i,o){var a;arguments.length>5&&(a=arguments[5]);for(var s=i,l=0;l<r;){var c=vx(l);if(!0===mx(n,c)){var u=fx(n,c);if(void 0!==a){if(arguments.length<=6)throw new ux("Assertion failed: thisArg is required when mapperFunction is provided");u=dx(a,arguments[6],[u,l,n])}var h=!1;if(o>0&&(h=gx(u)),h)s=e(t,u,bx(u),s,o-1);else{if(s>=hx)throw new ux("index too large");px(t,vx(s),u),s+=1}}l+=1}return s},Dx=PT,Px=tx,Nx=ix,Rx=Cx,Mx=function(){var e=Rx(this),t=Nx(Dx(e,"length")),n=1;arguments.length>0&&void 0!==arguments[0]&&(n=Px(arguments[0]));var r=Ix(e,0);return Ox(r,e,t,0,n),r},Lx=Mx,Bx=function(){return Array.prototype.flat||Lx};var Fx=Pv,Ux=Nv.exports,jx=Mx,Hx=Bx,Gx=Hx(),zx=function(){if(Sx)return wx;Sx=1;var e=Pv,t=function(){if(xx)return Ex;xx=1;var e=Xb,t="function"==typeof Symbol&&"symbol"==typeof Symbol.unscopables,n=t&&Array.prototype[Symbol.unscopables],r=TypeError;return Ex=function(i){if("string"!=typeof i||!i)throw new r("method must be a non-empty string");if(!e(Array.prototype,i))throw new r("method must be on Array.prototype");t&&(n[i]=!0)}}(),n=Bx;return wx=function(){var r=n();return e(Array.prototype,{flat:r},{flat:function(){return Array.prototype.flat!==r}}),t("flat"),r}}(),Vx=Ux(Gx);Fx(Vx,{getPolyfill:Hx,implementation:jx,shim:zx});var Yx=Vx,$x={},Xx={exports:{}},Wx=function(e){return e!=e},qx=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!Wx(e)||!Wx(t))},Kx=qx,Zx=function(){return"function"==typeof Object.is?Object.is:Kx},Qx=Zx,Jx=Pv,ew=Pv,tw=qx,nw=Zx,rw=function(){var e=Qx();return Jx(Object,{is:e},{is:function(){return Object.is!==e}}),e},iw=(0,Nv.exports)(nw(),Object);ew(iw,{getPolyfill:nw,implementation:tw,shim:rw});var ow=iw;!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e,t))return!0;if(!e||!t||"object"!==o(e)||"object"!==o(t))return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;i.sort(),a.sort();for(var s=0;s<i.length;s+=1)if(!(0,r.default)(t,i[s])||!(0,n.default)(e[i[s]],t[i[s]]))return!1;return!0};var n=i(ow),r=i(Xb);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default}(Xx,Xx.exports);var aw=yx.exports,sw=Bv,lw=sw("Object.prototype.propertyIsEnumerable"),cw=sw("Array.prototype.push"),uw=function(e){var t=aw(e),n=[];for(var r in t)lw(t,r)&&cw(n,[r,t[r]]);return n},hw=uw,dw=function(){return"function"==typeof Object.entries?Object.entries:hw},pw=dw,fw=Pv,mw=Pv,gw=uw,bw=dw,vw=function(){var e=pw();return fw(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e},yw=(0,Nv.exports)(bw(),Object);mw(yw,{getPolyfill:bw,implementation:gw,shim:vw});var Tw=yw,_w={exports:{}};!function(e){e.exports=C_}(_w);var Ew=function(){return"string"==typeof function(){}.name},xw=Object.getOwnPropertyDescriptor;if(xw)try{xw([],"length")}catch(e){xw=null}Ew.functionsHaveConfigurableNames=function(){if(!Ew()||!xw)return!1;var e=xw((function(){}),"name");return!!e&&!!e.configurable};var ww=Function.prototype.bind;Ew.boundFunctionsHaveNames=function(){return Ew()&&"function"==typeof ww&&""!==function(){}.bind().name};var Sw=Ew,Aw=_w.exports,kw=Sw(),Cw=Bv,Iw=Cw("Function.prototype.toString"),Ow=Cw("String.prototype.match"),Dw=/^class /,Pw=/\s*function\s+([^(\s]*)\s*/,Nw=Function.prototype,Rw=function(){if(!function(e){if(Aw(e))return!1;if("function"!=typeof e)return!1;try{return!!Ow(Iw(e),Dw)}catch(e){}return!1}(this)&&!Aw(this))throw new TypeError("Function.prototype.name sham getter called on non-function");if(kw)return this.name;if(this===Nw)return"";var e=Iw(this),t=Ow(e,Pw);return t&&t[1]},Mw=Rw,Lw=function(){return Mw},Bw=Pv.supportsDescriptors,Fw=Sw(),Uw=Lw,jw=Object.defineProperty,Hw=TypeError,Gw=Pv,zw=Rw,Vw=Lw,Yw=function(){var e=Uw();if(Fw)return e;if(!Bw)throw new Hw("Shimming Function.prototype.name support requires ES5 property descriptor support.");var t=Function.prototype;return jw(t,"name",{configurable:!0,enumerable:!1,get:function(){var n=e.call(this);return this!==t&&jw(this,"name",{configurable:!0,enumerable:!1,value:n,writable:!1}),n}}),e},$w=(0,Nv.exports)(zw);Gw($w,{getPolyfill:Vw,implementation:zw,shim:Yw});var Xw=$w,Ww=yx.exports,qw=cx,Kw=Bv("String.prototype.replace"),Zw=/^\s$/.test("᠎"),Qw=Zw?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Jw=Zw?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,eS=function(){var e=qw(Ww(this));return Kw(Kw(e,Qw,""),Jw,"")},tS=eS,nS="᠎",rS=function(){return String.prototype.trim&&"​"==="​".trim()&&nS.trim()===nS&&"_᠎"==="_᠎".trim()&&"᠎_"==="᠎_".trim()?String.prototype.trim:tS},iS=Pv,oS=rS,aS=Pv,sS=yx.exports,lS=eS,cS=rS,uS=function(){var e=oS();return iS(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e},hS=(0,Nv.exports)(cS()),dS=function(e){return sS(e),hS(e)};aS(dS,{getPolyfill:cS,implementation:lS,shim:uS});var pS=dS,fS={},mS={};Object.defineProperty(mS,"__esModule",{value:!0});var gS={},bS={},vS=v&&v.__assign||function(){return vS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vS.apply(this,arguments)};Object.defineProperty(bS,"__esModule",{value:!0}),bS.flatten=void 0;bS.default={xml:!1,decodeEntities:!0};var yS={_useHtmlParser2:!0,xmlMode:!0};bS.flatten=function(e){return(null==e?void 0:e.xml)?"boolean"==typeof e.xml?yS:vS(vS({},yS),e.xml):null!=e?e:void 0};var TS={},_S={},ES={},xS={},wS={};!function(e){var t,n;Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0,(n=t=e.ElementType||(e.ElementType={})).Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype",e.isTag=function(e){return e.type===t.Tag||e.type===t.Script||e.type===t.Style},e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype}(wS);var SS,AS={},kS=v&&v.__extends||(SS=function(e,t){return(SS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}SS(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),CS=v&&v.__assign||function(){return CS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},CS.apply(this,arguments)};Object.defineProperty(AS,"__esModule",{value:!0}),AS.cloneNode=AS.hasChildren=AS.isDocument=AS.isDirective=AS.isComment=AS.isText=AS.isCDATA=AS.isTag=AS.Element=AS.Document=AS.CDATA=AS.NodeWithChildren=AS.ProcessingInstruction=AS.Comment=AS.Text=AS.DataNode=AS.Node=void 0;var IS=wS,OS=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),YS(this,e)},e}();AS.Node=OS;var DS=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return kS(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(OS);AS.DataNode=DS;var PS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=IS.ElementType.Text,t}return kS(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(DS);AS.Text=PS;var NS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=IS.ElementType.Comment,t}return kS(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(DS);AS.Comment=NS;var RS=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=IS.ElementType.Directive,r}return kS(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(DS);AS.ProcessingInstruction=RS;var MS=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return kS(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(OS);AS.NodeWithChildren=MS;var LS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=IS.ElementType.CDATA,t}return kS(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(MS);AS.CDATA=LS;var BS=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=IS.ElementType.Root,t}return kS(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(MS);AS.Document=BS;var FS=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?IS.ElementType.Script:"style"===t?IS.ElementType.Style:IS.ElementType.Tag);var o=e.call(this,r)||this;return o.name=t,o.attribs=n,o.type=i,o}return kS(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(MS);function US(e){return(0,IS.isTag)(e)}function jS(e){return e.type===IS.ElementType.CDATA}function HS(e){return e.type===IS.ElementType.Text}function GS(e){return e.type===IS.ElementType.Comment}function zS(e){return e.type===IS.ElementType.Directive}function VS(e){return e.type===IS.ElementType.Root}function YS(e,t){var n;if(void 0===t&&(t=!1),HS(e))n=new PS(e.data);else if(GS(e))n=new NS(e.data);else if(US(e)){var r=t?$S(e.children):[],i=new FS(e.name,CS({},e.attribs),r);r.forEach((function(e){return e.parent=i})),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=CS({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=CS({},e["x-attribsPrefix"])),n=i}else if(jS(e)){r=t?$S(e.children):[];var o=new LS(r);r.forEach((function(e){return e.parent=o})),n=o}else if(VS(e)){r=t?$S(e.children):[];var a=new BS(r);r.forEach((function(e){return e.parent=a})),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else{if(!zS(e))throw new Error("Not implemented yet: ".concat(e.type));var s=new RS(e.name,e.data);null!=e["x-name"]&&(s["x-name"]=e["x-name"],s["x-publicId"]=e["x-publicId"],s["x-systemId"]=e["x-systemId"]),n=s}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function $S(e){for(var t=e.map((function(e){return YS(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}AS.Element=FS,AS.isTag=US,AS.isCDATA=jS,AS.isText=HS,AS.isComment=GS,AS.isDirective=zS,AS.isDocument=VS,AS.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},AS.cloneNode=YS,function(e){var t=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=v&&v.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=wS,i=AS;n(AS,e);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},a=function(){function e(e,t,n){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=o),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:o,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?r.ElementType.Tag:void 0,o=new i.Element(e,t,void 0,n);this.addNode(o),this.tagStack.push(o)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===r.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new i.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment)this.lastNode.data+=e;else{var t=new i.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new i.Text(""),t=new i.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new i.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();e.DomHandler=a,e.default=a}(xS);var XS={},WS={},qS={},KS={};Object.defineProperty(KS,"__esModule",{value:!0}),KS.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map((function(e){return e.charCodeAt(0)})));var ZS={};Object.defineProperty(ZS,"__esModule",{value:!0}),ZS.default=new Uint16Array("Ȁaglq\tɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map((function(e){return e.charCodeAt(0)})));var QS={};(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.replaceCodePoint=e.fromCodePoint=void 0;var n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function r(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=n.get(e))&&void 0!==t?t:e}e.fromCodePoint=null!==(t=String.fromCodePoint)&&void 0!==t?t:function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)},e.replaceCodePoint=r,e.default=function(t){return(0,e.fromCodePoint)(r(t))}})(QS),function(e){var t=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXML=e.decodeHTMLStrict=e.decodeHTML=e.determineBranch=e.BinTrieFlags=e.fromCodePoint=e.replaceCodePoint=e.decodeCodePoint=e.xmlDecodeTree=e.htmlDecodeTree=void 0;var n=t(KS);e.htmlDecodeTree=n.default;var r=t(ZS);e.xmlDecodeTree=r.default;var i=t(QS);e.decodeCodePoint=i.default;var o,a,s,l,c=QS;function u(e){return function(t,n){for(var r="",a=0,l=0;(l=t.indexOf("&",l))>=0;)if(r+=t.slice(a,l),a=l,l+=1,t.charCodeAt(l)!==o.NUM){for(var c=0,u=1,d=0,p=e[d];l<t.length&&!((d=h(e,p,d+1,t.charCodeAt(l)))<0);l++,u++){var f=(p=e[d])&s.VALUE_LENGTH;if(f){var m;if(n&&t.charCodeAt(l)!==o.SEMI||(c=d,u=0),0==(m=(f>>14)-1))break;d+=m}}0!==c&&(r+=1==(m=(e[c]&s.VALUE_LENGTH)>>14)?String.fromCharCode(e[c]&~s.VALUE_LENGTH):2===m?String.fromCharCode(e[c+1]):String.fromCharCode(e[c+1],e[c+2]),a=l-u+1)}else{var g=l+1,b=10,v=t.charCodeAt(g);(v|o.To_LOWER_BIT)===o.LOWER_X&&(b=16,l+=1,g+=1);do{v=t.charCodeAt(++l)}while(v>=o.ZERO&&v<=o.NINE||16===b&&(v|o.To_LOWER_BIT)>=o.LOWER_A&&(v|o.To_LOWER_BIT)<=o.LOWER_F);if(g!==l){var y=t.substring(g,l),T=parseInt(y,b);if(t.charCodeAt(l)===o.SEMI)l+=1;else if(n)continue;r+=(0,i.default)(T),a=l}}return r+t.slice(a)}}function h(e,t,n,r){var i=(t&s.BRANCH_LENGTH)>>7,o=t&s.JUMP_TABLE;if(0===i)return 0!==o&&r===o?n:-1;if(o){var a=r-o;return a<0||a>=i?-1:e[n+a]-1}for(var l=n,c=l+i-1;l<=c;){var u=l+c>>>1,h=e[u];if(h<r)l=u+1;else{if(!(h>r))return e[u+i];c=u-1}}return-1}Object.defineProperty(e,"replaceCodePoint",{enumerable:!0,get:function(){return c.replaceCodePoint}}),Object.defineProperty(e,"fromCodePoint",{enumerable:!0,get:function(){return c.fromCodePoint}}),(a=o||(o={}))[a.NUM=35]="NUM",a[a.SEMI=59]="SEMI",a[a.ZERO=48]="ZERO",a[a.NINE=57]="NINE",a[a.LOWER_A=97]="LOWER_A",a[a.LOWER_F=102]="LOWER_F",a[a.LOWER_X=120]="LOWER_X",a[a.To_LOWER_BIT=32]="To_LOWER_BIT",(l=s=e.BinTrieFlags||(e.BinTrieFlags={}))[l.VALUE_LENGTH=49152]="VALUE_LENGTH",l[l.BRANCH_LENGTH=16256]="BRANCH_LENGTH",l[l.JUMP_TABLE=127]="JUMP_TABLE",e.determineBranch=h;var d=u(n.default),p=u(r.default);e.decodeHTML=function(e){return d(e,!1)},e.decodeHTMLStrict=function(e){return d(e,!0)},e.decodeXML=function(e){return p(e,!0)}}(qS);var JS={},eA={};function tA(e){for(var t=1;t<e.length;t++)e[t][0]+=e[t-1][0]+1;return e}Object.defineProperty(eA,"__esModule",{value:!0}),eA.default=new Map(tA([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(tA([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(tA([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(tA([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var nA={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.getCodePoint=e.xmlReplacer=void 0,e.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function n(n){for(var r,i="",o=0;null!==(r=e.xmlReplacer.exec(n));){var a=r.index,s=n.charCodeAt(a),l=t.get(s);void 0!==l?(i+=n.substring(o,a)+l,o=a+1):(i+="".concat(n.substring(o,a),"&#x").concat((0,e.getCodePoint)(n,a).toString(16),";"),o=e.xmlReplacer.lastIndex+=Number(55296==(64512&s)))}return i+n.substr(o)}function r(e,t){return function(n){for(var r,i=0,o="";r=e.exec(n);)i!==r.index&&(o+=n.substring(i,r.index)),o+=t.get(r[0].charCodeAt(0)),i=r.index+1;return o+n.substring(i)}}e.getCodePoint=null!=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t)},e.encodeXML=n,e.escape=n,e.escapeUTF8=r(/[&<>'"]/g,t),e.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),e.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(nA);var rA=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(JS,"__esModule",{value:!0}),JS.encodeNonAsciiHTML=JS.encodeHTML=void 0;var iA=rA(eA),oA=nA,aA=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function sA(e,t){for(var n,r="",i=0;null!==(n=e.exec(t));){var o=n.index;r+=t.substring(i,o);var a=t.charCodeAt(o),s=iA.default.get(a);if("object"==typeof s){if(o+1<t.length){var l=t.charCodeAt(o+1),c="number"==typeof s.n?s.n===l?s.o:void 0:s.n.get(l);if(void 0!==c){r+=c,i=e.lastIndex+=1;continue}}s=s.v}if(void 0!==s)r+=s,i=o+1;else{var u=(0,oA.getCodePoint)(t,o);r+="&#x".concat(u.toString(16),";"),i=e.lastIndex+=Number(u!==a)}}return r+t.substr(i)}JS.encodeHTML=function(e){return sA(aA,e)},JS.encodeNonAsciiHTML=function(e){return sA(oA.xmlReplacer,e)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.encodeNonAsciiHTML=e.encodeHTML=e.escapeText=e.escapeAttribute=e.escapeUTF8=e.escape=e.encodeXML=e.encode=e.decodeStrict=e.decode=e.EncodingMode=e.DecodingMode=e.EntityLevel=void 0;var t,n,r,i,o,a,s=qS,l=JS,c=nA;(n=t=e.EntityLevel||(e.EntityLevel={}))[n.XML=0]="XML",n[n.HTML=1]="HTML",(i=r=e.DecodingMode||(e.DecodingMode={}))[i.Legacy=0]="Legacy",i[i.Strict=1]="Strict",(a=o=e.EncodingMode||(e.EncodingMode={}))[a.UTF8=0]="UTF8",a[a.ASCII=1]="ASCII",a[a.Extensive=2]="Extensive",a[a.Attribute=3]="Attribute",a[a.Text=4]="Text",e.decode=function(e,n){void 0===n&&(n=t.XML);var i="number"==typeof n?{level:n}:n;return i.level===t.HTML?i.mode===r.Strict?(0,s.decodeHTMLStrict)(e):(0,s.decodeHTML)(e):(0,s.decodeXML)(e)},e.decodeStrict=function(e,n){void 0===n&&(n=t.XML);var i="number"==typeof n?{level:n}:n;return i.level===t.HTML?i.mode===r.Legacy?(0,s.decodeHTML)(e):(0,s.decodeHTMLStrict)(e):(0,s.decodeXML)(e)},e.encode=function(e,n){void 0===n&&(n=t.XML);var r="number"==typeof n?{level:n}:n;return r.mode===o.UTF8?(0,c.escapeUTF8)(e):r.mode===o.Attribute?(0,c.escapeAttribute)(e):r.mode===o.Text?(0,c.escapeText)(e):r.level===t.HTML?r.mode===o.ASCII?(0,l.encodeNonAsciiHTML)(e):(0,l.encodeHTML)(e):(0,c.encodeXML)(e)};var u=nA;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return u.encodeXML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return u.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return u.escapeUTF8}}),Object.defineProperty(e,"escapeAttribute",{enumerable:!0,get:function(){return u.escapeAttribute}}),Object.defineProperty(e,"escapeText",{enumerable:!0,get:function(){return u.escapeText}});var h=JS;Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return h.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return h.encodeNonAsciiHTML}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return h.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return h.encodeHTML}});var d=qS;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return d.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return d.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return d.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return d.decodeXML}})}(WS);var lA={};Object.defineProperty(lA,"__esModule",{value:!0}),lA.attributeNames=lA.elementNames=void 0,lA.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((function(e){return[e.toLowerCase(),e]}))),lA.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((function(e){return[e.toLowerCase(),e]})));var cA=v&&v.__assign||function(){return cA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cA.apply(this,arguments)},uA=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),hA=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dA=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&uA(t,e,n);return hA(t,e),t};Object.defineProperty(XS,"__esModule",{value:!0}),XS.render=void 0;var pA=dA(wS),fA=WS,mA=lA,gA=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function bA(e){return e.replace(/"/g,"&quot;")}var vA=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function yA(e,t){void 0===t&&(t={});for(var n=("length"in e?e:[e]),r="",i=0;i<n.length;i++)r+=TA(n[i],t);return r}function TA(e,t){switch(e.type){case pA.Root:return yA(e.children,t);case pA.Doctype:case pA.Directive:return"<".concat(e.data,">");case pA.Comment:return function(e){return"\x3c!--".concat(e.data,"--\x3e")}(e);case pA.CDATA:return function(e){return"<![CDATA[".concat(e.children[0].data,"]]>")}(e);case pA.Script:case pA.Style:case pA.Tag:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=mA.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&_A.has(e.parent.name)&&(t=cA(cA({},t),{xmlMode:!1}))),!t.xmlMode&&EA.has(e.name)&&(t=cA(cA({},t),{xmlMode:"foreign"}));var r="<".concat(e.name),i=function(e,t){var n;if(e){var r=!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)?bA:t.xmlMode||"utf8"!==t.encodeEntities?fA.encodeXML:fA.escapeAttribute;return Object.keys(e).map((function(n){var i,o,a=null!==(i=e[n])&&void 0!==i?i:"";return"foreign"===t.xmlMode&&(n=null!==(o=mA.attributeNames.get(n))&&void 0!==o?o:n),t.emptyAttrs||t.xmlMode||""!==a?"".concat(n,'="').concat(r(a),'"'):n})).join(" ")}}(e.attribs,t);return i&&(r+=" ".concat(i)),0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&vA.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=yA(e.children,t)),!t.xmlMode&&vA.has(e.name)||(r+="</".concat(e.name,">"))),r}(e,t);case pA.Text:return function(e,t){var n,r=e.data||"";return!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)||!t.xmlMode&&e.parent&&gA.has(e.parent.name)||(r=t.xmlMode||"utf8"!==t.encodeEntities?(0,fA.encodeXML)(r):(0,fA.escapeText)(r)),r}(e,t)}}XS.render=yA,XS.default=yA;var _A=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),EA=new Set(["svg","math"]);var xA=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ES,"__esModule",{value:!0}),ES.innerText=ES.textContent=ES.getText=ES.getInnerHTML=ES.getOuterHTML=void 0;var wA=xS,SA=xA(XS),AA=wS;function kA(e,t){return(0,SA.default)(e,t)}ES.getOuterHTML=kA,ES.getInnerHTML=function(e,t){return(0,wA.hasChildren)(e)?e.children.map((function(e){return kA(e,t)})).join(""):""},ES.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,wA.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,wA.isCDATA)(t)?e(t.children):(0,wA.isText)(t)?t.data:""},ES.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,wA.hasChildren)(t)&&!(0,wA.isComment)(t)?e(t.children):(0,wA.isText)(t)?t.data:""},ES.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,wA.hasChildren)(t)&&(t.type===AA.ElementType.Tag||(0,wA.isCDATA)(t))?e(t.children):(0,wA.isText)(t)?t.data:""};var CA={};Object.defineProperty(CA,"__esModule",{value:!0}),CA.prevElementSibling=CA.nextElementSibling=CA.getName=CA.hasAttrib=CA.getAttributeValue=CA.getSiblings=CA.getParent=CA.getChildren=void 0;var IA=xS;function OA(e){return(0,IA.hasChildren)(e)?e.children:[]}function DA(e){return e.parent||null}CA.getChildren=OA,CA.getParent=DA,CA.getSiblings=function(e){var t=DA(e);if(null!=t)return OA(t);for(var n=[e],r=e.prev,i=e.next;null!=r;)n.unshift(r),r=r.prev;for(;null!=i;)n.push(i),i=i.next;return n},CA.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},CA.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},CA.getName=function(e){return e.name},CA.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,IA.isTag)(t);)t=t.next;return t},CA.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,IA.isTag)(t);)t=t.prev;return t};var PA={};function NA(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Object.defineProperty(PA,"__esModule",{value:!0}),PA.prepend=PA.prependChild=PA.append=PA.appendChild=PA.replaceElement=PA.removeElement=void 0,PA.removeElement=NA,PA.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var o=i.children;o[o.lastIndexOf(e)]=t,e.parent=null}},PA.appendChild=function(e,t){if(NA(t),t.next=null,t.parent=e,e.children.push(t)>1){var n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null},PA.append=function(e,t){NA(t);var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var i=n.children;i.splice(i.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},PA.prependChild=function(e,t){if(NA(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var n=e.children[1];n.prev=t,t.next=n}else t.next=null},PA.prepend=function(e,t){NA(t);var n=e.parent;if(n){var r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t};var RA={};Object.defineProperty(RA,"__esModule",{value:!0}),RA.findAll=RA.existsOne=RA.findOne=RA.findOneChild=RA.find=RA.filter=void 0;var MA=xS;function LA(e,t,n,r){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o];if(e(s)&&(i.push(s),--r<=0))break;if(n&&(0,MA.hasChildren)(s)&&s.children.length>0){var l=LA(e,s.children,n,r);if(i.push.apply(i,l),(r-=l.length)<=0)break}}return i}RA.filter=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),Array.isArray(t)||(t=[t]),LA(e,t,n,r)},RA.find=LA,RA.findOneChild=function(e,t){return t.find(e)},RA.findOne=function e(t,n,r){void 0===r&&(r=!0);for(var i=null,o=0;o<n.length&&!i;o++){var a=n[o];(0,MA.isTag)(a)&&(t(a)?i=a:r&&a.children.length>0&&(i=e(t,a.children,!0)))}return i},RA.existsOne=function e(t,n){return n.some((function(n){return(0,MA.isTag)(n)&&(t(n)||n.children.length>0&&e(t,n.children))}))},RA.findAll=function(e,t){for(var n,r,i=[],o=t.filter(MA.isTag);r=o.shift();){var a=null===(n=r.children)||void 0===n?void 0:n.filter(MA.isTag);a&&a.length>0&&o.unshift.apply(o,a),e(r)&&i.push(r)}return i};var BA={};Object.defineProperty(BA,"__esModule",{value:!0}),BA.getElementsByTagType=BA.getElementsByTagName=BA.getElementById=BA.getElements=BA.testElement=void 0;var FA=xS,UA=RA,jA={tag_name:function(e){return"function"==typeof e?function(t){return(0,FA.isTag)(t)&&e(t.name)}:"*"===e?FA.isTag:function(t){return(0,FA.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,FA.isText)(t)&&e(t.data)}:function(t){return(0,FA.isText)(t)&&t.data===e}}};function HA(e,t){return"function"==typeof t?function(n){return(0,FA.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,FA.isTag)(n)&&n.attribs[e]===t}}function GA(e,t){return function(n){return e(n)||t(n)}}function zA(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(jA,t)?jA[t](n):HA(t,n)}));return 0===t.length?null:t.reduce(GA)}BA.testElement=function(e,t){var n=zA(e);return!n||n(t)},BA.getElements=function(e,t,n,r){void 0===r&&(r=1/0);var i=zA(e);return i?(0,UA.filter)(i,t,n,r):[]},BA.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,UA.findOne)(HA("id",e),t,n)},BA.getElementsByTagName=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,UA.filter)(jA.tag_name(e),t,n,r)},BA.getElementsByTagType=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,UA.filter)(jA.tag_type(e),t,n,r)};var VA={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueSort=e.compareDocumentPosition=e.DocumentPosition=e.removeSubsets=void 0;var t,n,r=xS;function i(e,n){var i=[],o=[];if(e===n)return 0;for(var a=(0,r.hasChildren)(e)?e:e.parent;a;)i.unshift(a),a=a.parent;for(a=(0,r.hasChildren)(n)?n:n.parent;a;)o.unshift(a),a=a.parent;for(var s=Math.min(i.length,o.length),l=0;l<s&&i[l]===o[l];)l++;if(0===l)return t.DISCONNECTED;var c=i[l-1],u=c.children,h=i[l],d=o[l];return u.indexOf(h)>u.indexOf(d)?c===n?t.FOLLOWING|t.CONTAINED_BY:t.FOLLOWING:c===e?t.PRECEDING|t.CONTAINS:t.PRECEDING}e.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e},(n=t=e.DocumentPosition||(e.DocumentPosition={}))[n.DISCONNECTED=1]="DISCONNECTED",n[n.PRECEDING=2]="PRECEDING",n[n.FOLLOWING=4]="FOLLOWING",n[n.CONTAINS=8]="CONTAINS",n[n.CONTAINED_BY=16]="CONTAINED_BY",e.compareDocumentPosition=i,e.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,n){var r=i(e,n);return r&t.PRECEDING?-1:r&t.FOLLOWING?1:0})),e}}(VA);var YA={};Object.defineProperty(YA,"__esModule",{value:!0}),YA.getFeed=void 0;var $A=ES,XA=BA;YA.getFeed=function(e){var t=ZA(ek,e);return t?"feed"===t.name?function(e){var t,n=e.children,r={type:"atom",items:(0,XA.getElementsByTagName)("entry",n).map((function(e){var t,n=e.children,r={media:KA(n)};JA(r,"id","id",n),JA(r,"title","title",n);var i=null===(t=ZA("link",n))||void 0===t?void 0:t.attribs.href;i&&(r.link=i);var o=QA("summary",n)||QA("content",n);o&&(r.description=o);var a=QA("updated",n);return a&&(r.pubDate=new Date(a)),r}))};JA(r,"id","id",n),JA(r,"title","title",n);var i=null===(t=ZA("link",n))||void 0===t?void 0:t.attribs.href;i&&(r.link=i),JA(r,"description","subtitle",n);var o=QA("updated",n);return o&&(r.updated=new Date(o)),JA(r,"author","email",n,!0),r}(t):function(e){var t,n,r=null!==(n=null===(t=ZA("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],i={type:e.name.substr(0,3),id:"",items:(0,XA.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,n={media:KA(t)};JA(n,"id","guid",t),JA(n,"title","title",t),JA(n,"link","link",t),JA(n,"description","description",t);var r=QA("pubDate",t);return r&&(n.pubDate=new Date(r)),n}))};JA(i,"title","title",r),JA(i,"link","link",r),JA(i,"description","description",r);var o=QA("lastBuildDate",r);return o&&(i.updated=new Date(o)),JA(i,"author","managingEditor",r,!0),i}(t):null};var WA=["url","type","lang"],qA=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function KA(e){return(0,XA.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},r=0,i=WA;r<i.length;r++)t[s=i[r]]&&(n[s]=t[s]);for(var o=0,a=qA;o<a.length;o++){var s;t[s=a[o]]&&(n[s]=parseInt(t[s],10))}return t.expression&&(n.expression=t.expression),n}))}function ZA(e,t){return(0,XA.getElementsByTagName)(e,t,!0,1)[0]}function QA(e,t,n){return void 0===n&&(n=!1),(0,$A.textContent)((0,XA.getElementsByTagName)(e,t,n,1)).trim()}function JA(e,t,n,r,i){void 0===i&&(i=!1);var o=QA(n,r,i);o&&(e[t]=o)}function ek(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}!function(e){var t=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=v&&v.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.hasChildren=e.isDocument=e.isComment=e.isText=e.isCDATA=e.isTag=void 0,n(ES,e),n(CA,e),n(PA,e),n(RA,e),n(BA,e),n(VA,e),n(YA,e);var r=xS;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(e,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(e,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(e,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(e,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(e,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})}(_S);var tk=v&&v.__assign||function(){return tk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tk.apply(this,arguments)},nk=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),rk=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ik=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&nk(t,e,n);return rk(t,e),t};Object.defineProperty(TS,"__esModule",{value:!0}),TS.merge=TS.contains=TS.root=TS.parseHTML=TS.text=TS.xml=TS.html=void 0;var ok=_S,ak=ik(bS);function sk(e,t,n){return e?e(null!=t?t:e._root.children,null,void 0,n).toString():""}function lk(e){if(Array.isArray(e))return!0;if("object"!=typeof e||!Object.prototype.hasOwnProperty.call(e,"length")||"number"!=typeof e.length||e.length<0)return!1;for(var t=0;t<e.length;t++)if(!(t in e))return!1;return!0}TS.html=function(e,t){return sk(this,function(e,t){return!t&&"object"==typeof e&&null!=e&&!("length"in e)&&!("type"in e)}(e)?void(t=e):e,tk(tk(tk({},ak.default),null==this?void 0:this._options),(0,ak.flatten)(null!=t?t:{})))},TS.xml=function(e){return sk(this,e,tk(tk({},this._options),{xmlMode:!0}))},TS.text=function(e){for(var t=e||(this?this.root():[]),n="",r=0;r<t.length;r++)n+=(0,ok.textContent)(t[r]);return n},TS.parseHTML=function(e,t,n){if(void 0===n&&(n="boolean"==typeof t&&t),!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t);var r=this.load(e,ak.default,!1);return n||r("script").remove(),r.root()[0].children.slice()},TS.root=function(){return this(this._root)},TS.contains=function(e,t){if(t===e)return!1;for(var n=t;n&&n!==n.parent;)if((n=n.parent)===e)return!0;return!1},TS.merge=function(e,t){if(lk(e)&&lk(t)){for(var n=e.length,r=+t.length,i=0;i<r;i++)e[n++]=t[i];return e.length=n,e}};var ck={},uk={},hk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHtml=e.cloneDom=e.domEach=e.cssCase=e.camelCase=e.isCheerio=e.isTag=void 0;var t,n,r=xS,i=xS;Object.defineProperty(e,"isTag",{enumerable:!0,get:function(){return i.isTag}}),e.isCheerio=function(e){return null!=e.cheerio},e.camelCase=function(e){return e.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}))},e.cssCase=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},e.domEach=function(e,t){for(var n=e.length,r=0;r<n;r++)t(e[r],r);return e},e.cloneDom=function(e){var t="length"in e?Array.prototype.map.call(e,(function(e){return(0,r.cloneNode)(e,!0)})):[(0,r.cloneNode)(e,!0)],n=new r.Document(t);return t.forEach((function(e){e.parent=n})),t},(n=t||(t={}))[n.LowerA=97]="LowerA",n[n.LowerZ=122]="LowerZ",n[n.UpperA=65]="UpperA",n[n.UpperZ=90]="UpperZ",n[n.Exclamation=33]="Exclamation",e.isHtml=function(e){var n=e.indexOf("<");if(n<0||n>e.length-3)return!1;var r=e.charCodeAt(n+1);return(r>=t.LowerA&&r<=t.LowerZ||r>=t.UpperA&&r<=t.UpperZ||r===t.Exclamation)&&e.includes(">",n+2)}})(hk),Object.defineProperty(uk,"__esModule",{value:!0}),uk.toggleClass=uk.removeClass=uk.addClass=uk.hasClass=uk.removeAttr=uk.val=uk.data=uk.prop=uk.attr=void 0;var dk=TS,pk=hk,fk=_S,mk=Object.prototype.hasOwnProperty,gk=/\s+/,bk="data-",vk={null:null,true:!0,false:!1},yk=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Tk=/^{[^]*}$|^\[[^]*]$/;function _k(e,t,n){var r;if(e&&(0,pk.isTag)(e))return null!==(r=e.attribs)&&void 0!==r||(e.attribs={}),t?mk.call(e.attribs,t)?!n&&yk.test(t)?t:e.attribs[t]:"option"===e.name&&"value"===t?(0,dk.text)(e.children):"input"!==e.name||"radio"!==e.attribs.type&&"checkbox"!==e.attribs.type||"value"!==t?void 0:"on":e.attribs}function Ek(e,t,n){null===n?kk(e,t):e.attribs[t]="".concat(n)}function xk(e,t,n){return t in e?e[t]:!n&&yk.test(t)?void 0!==_k(e,t,!1):_k(e,t,n)}function wk(e,t,n,r){t in e?e[t]=n:Ek(e,t,!r&&yk.test(t)?n?"":null:"".concat(n))}function Sk(e,t,n){var r,i=e;null!==(r=i.data)&&void 0!==r||(i.data={}),"object"==typeof t?Object.assign(i.data,t):"string"==typeof t&&void 0!==n&&(i.data[t]=n)}function Ak(e,t){var n,r,i;null==t?r=(n=Object.keys(e.attribs).filter((function(e){return e.startsWith(bk)}))).map((function(e){return(0,pk.camelCase)(e.slice(bk.length))})):(n=[bk+(0,pk.cssCase)(t)],r=[t]);for(var o=0;o<n.length;++o){var a=n[o],s=r[o];if(mk.call(e.attribs,a)&&!mk.call(e.data,s)){if(i=e.attribs[a],mk.call(vk,i))i=vk[i];else if(i===String(Number(i)))i=Number(i);else if(Tk.test(i))try{i=JSON.parse(i)}catch(e){}e.data[s]=i}}return null==t?e.data:i}function kk(e,t){e.attribs&&mk.call(e.attribs,t)&&delete e.attribs[t]}function Ck(e){return e?e.trim().split(gk):[]}uk.attr=function(e,t){if("object"==typeof e||void 0!==t){if("function"==typeof t){if("string"!=typeof e)throw new Error("Bad combination of arguments.");return(0,pk.domEach)(this,(function(n,r){(0,pk.isTag)(n)&&Ek(n,e,t.call(n,r,n.attribs[e]))}))}return(0,pk.domEach)(this,(function(n){(0,pk.isTag)(n)&&("object"==typeof e?Object.keys(e).forEach((function(t){var r=e[t];Ek(n,t,r)})):Ek(n,e,t))}))}return arguments.length>1?this:_k(this[0],e,this.options.xmlMode)},uk.prop=function(e,t){var n,r=this;if("string"==typeof e&&void 0===t){var i=this[0];if(!i||!(0,pk.isTag)(i))return;switch(e){case"style":var o=this.css(),a=Object.keys(o);return a.forEach((function(e,t){o[t]=e})),o.length=a.length,o;case"tagName":case"nodeName":return i.name.toUpperCase();case"href":case"src":var s=null===(n=i.attribs)||void 0===n?void 0:n[e];return"undefined"==typeof URL||("href"!==e||"a"!==i.tagName&&"link"!==i.name)&&("src"!==e||"img"!==i.tagName&&"iframe"!==i.tagName&&"audio"!==i.tagName&&"video"!==i.tagName&&"source"!==i.tagName)||void 0===s||!this.options.baseURI?s:new URL(s,this.options.baseURI).href;case"innerText":return(0,fk.innerText)(i);case"textContent":return(0,fk.textContent)(i);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return xk(i,e,this.options.xmlMode)}}if("object"==typeof e||void 0!==t){if("function"==typeof t){if("object"==typeof e)throw new Error("Bad combination of arguments.");return(0,pk.domEach)(this,(function(n,i){(0,pk.isTag)(n)&&wk(n,e,t.call(n,i,xk(n,e,r.options.xmlMode)),r.options.xmlMode)}))}return(0,pk.domEach)(this,(function(n){(0,pk.isTag)(n)&&("object"==typeof e?Object.keys(e).forEach((function(t){var i=e[t];wk(n,t,i,r.options.xmlMode)})):wk(n,e,t,r.options.xmlMode))}))}},uk.data=function(e,t){var n,r=this[0];if(r&&(0,pk.isTag)(r)){var i=r;return null!==(n=i.data)&&void 0!==n||(i.data={}),e?"object"==typeof e||void 0!==t?((0,pk.domEach)(this,(function(n){(0,pk.isTag)(n)&&("object"==typeof e?Sk(n,e):Sk(n,e,t))})),this):mk.call(i.data,e)?i.data[e]:Ak(i,e):Ak(i)}},uk.val=function(e){var t=0===arguments.length,n=this[0];if(!n||!(0,pk.isTag)(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":var r=this.find("option:selected");if(!t){if(null==this.attr("multiple")&&"object"==typeof e)return this;this.find("option").removeAttr("selected");for(var i="object"!=typeof e?[e]:e,o=0;o<i.length;o++)this.find('option[value="'.concat(i[o],'"]')).attr("selected","");return this}return this.attr("multiple")?r.toArray().map((function(e){return(0,dk.text)(e.children)})):r.attr("value");case"input":case"option":return t?this.attr("value"):this.attr("value",e)}},uk.removeAttr=function(e){for(var t=Ck(e),n=function(e){(0,pk.domEach)(r,(function(n){(0,pk.isTag)(n)&&kk(n,t[e])}))},r=this,i=0;i<t.length;i++)n(i);return this},uk.hasClass=function(e){return this.toArray().some((function(t){var n=(0,pk.isTag)(t)&&t.attribs.class,r=-1;if(n&&e.length)for(;(r=n.indexOf(e,r+1))>-1;){var i=r+e.length;if((0===r||gk.test(n[r-1]))&&(i===n.length||gk.test(n[i])))return!0}return!1}))},uk.addClass=function e(t){if("function"==typeof t)return(0,pk.domEach)(this,(function(n,r){if((0,pk.isTag)(n)){var i=n.attribs.class||"";e.call([n],t.call(n,r,i))}}));if(!t||"string"!=typeof t)return this;for(var n=t.split(gk),r=this.length,i=0;i<r;i++){var o=this[i];if((0,pk.isTag)(o)){var a=_k(o,"class",!1);if(a){for(var s=" ".concat(a," "),l=0;l<n.length;l++){var c="".concat(n[l]," ");s.includes(" ".concat(c))||(s+=c)}Ek(o,"class",s.trim())}else Ek(o,"class",n.join(" ").trim())}}return this},uk.removeClass=function e(t){if("function"==typeof t)return(0,pk.domEach)(this,(function(n,r){(0,pk.isTag)(n)&&e.call([n],t.call(n,r,n.attribs.class||""))}));var n=Ck(t),r=n.length,i=0===arguments.length;return(0,pk.domEach)(this,(function(e){if((0,pk.isTag)(e))if(i)e.attribs.class="";else{for(var t=Ck(e.attribs.class),o=!1,a=0;a<r;a++){var s=t.indexOf(n[a]);s>=0&&(t.splice(s,1),o=!0,a--)}o&&(e.attribs.class=t.join(" "))}}))},uk.toggleClass=function e(t,n){if("function"==typeof t)return(0,pk.domEach)(this,(function(r,i){(0,pk.isTag)(r)&&e.call([r],t.call(r,i,r.attribs.class||"",n),n)}));if(!t||"string"!=typeof t)return this;for(var r=t.split(gk),i=r.length,o="boolean"==typeof n?n?1:-1:0,a=this.length,s=0;s<a;s++){var l=this[s];if((0,pk.isTag)(l)){for(var c=Ck(l.attribs.class),u=0;u<i;u++){var h=c.indexOf(r[u]);o>=0&&h<0?c.push(r[u]):o<=0&&h>=0&&c.splice(h,1)}l.attribs.class=c.join(" ")}}return this};var Ik,Ok,Dk={},Pk={};(Ok=Ik||(Ik={})).Attribute="attribute",Ok.Pseudo="pseudo",Ok.PseudoElement="pseudo-element",Ok.Tag="tag",Ok.Universal="universal",Ok.Adjacent="adjacent",Ok.Child="child",Ok.Descendant="descendant",Ok.Parent="parent",Ok.Sibling="sibling",Ok.ColumnCombinator="column-combinator";var Nk,Rk;(Rk=Nk||(Nk={})).Any="any",Rk.Element="element",Rk.End="end",Rk.Equals="equals",Rk.Exists="exists",Rk.Hyphen="hyphen",Rk.Not="not",Rk.Start="start";const Mk=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,Lk=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,Bk=new Map([[126,Nk.Element],[94,Nk.Start],[36,Nk.End],[42,Nk.Any],[33,Nk.Not],[124,Nk.Hyphen]]),Fk=new Set(["has","not","matches","is","where","host","host-context"]);function Uk(e){switch(e.type){case Ik.Adjacent:case Ik.Child:case Ik.Descendant:case Ik.Parent:case Ik.Sibling:case Ik.ColumnCombinator:return!0;default:return!1}}const jk=new Set(["contains","icontains"]);function Hk(e,t,n){const r=parseInt(t,16)-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function Gk(e){return e.replace(Lk,Hk)}function zk(e){return 39===e||34===e}function Vk(e){return 32===e||9===e||10===e||12===e||13===e}function Yk(e,t,n){let r=[];function i(e){const r=t.slice(n+e).match(Mk);if(!r)throw new Error(`Expected name, found ${t.slice(n)}`);const[i]=r;return n+=e+i.length,Gk(i)}function o(e){for(n+=e;n<t.length&&Vk(t.charCodeAt(n));)n++}function a(){const e=n+=1;let r=1;for(;r>0&&n<t.length;n++)40!==t.charCodeAt(n)||s(n)?41!==t.charCodeAt(n)||s(n)||r--:r++;if(r)throw new Error("Parenthesis not matched");return Gk(t.slice(e,n-1))}function s(e){let n=0;for(;92===t.charCodeAt(--e);)n++;return!(1&~n)}function l(){if(r.length>0&&Uk(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function c(e){r.length>0&&r[r.length-1].type===Ik.Descendant?r[r.length-1].type=e:(l(),r.push({type:e}))}function u(e,t){r.push({type:Ik.Attribute,name:e,action:t,value:i(1),namespace:null,ignoreCase:"quirks"})}function h(){if(r.length&&r[r.length-1].type===Ik.Descendant&&r.pop(),0===r.length)throw new Error("Empty sub-selector");e.push(r)}if(o(0),t.length===n)return n;e:for(;n<t.length;){const e=t.charCodeAt(n);switch(e){case 32:case 9:case 10:case 12:case 13:0!==r.length&&r[0].type===Ik.Descendant||(l(),r.push({type:Ik.Descendant})),o(1);break;case 62:c(Ik.Child),o(1);break;case 60:c(Ik.Parent),o(1);break;case 126:c(Ik.Sibling),o(1);break;case 43:c(Ik.Adjacent),o(1);break;case 46:u("class",Nk.Element);break;case 35:u("id",Nk.Equals);break;case 91:{let e;o(1);let a=null;124===t.charCodeAt(n)?e=i(1):t.startsWith("*|",n)?(a="*",e=i(2)):(e=i(0),124===t.charCodeAt(n)&&61!==t.charCodeAt(n+1)&&(a=e,e=i(1))),o(0);let l=Nk.Exists;const c=Bk.get(t.charCodeAt(n));if(c){if(l=c,61!==t.charCodeAt(n+1))throw new Error("Expected `=`");o(2)}else 61===t.charCodeAt(n)&&(l=Nk.Equals,o(1));let u="",h=null;if("exists"!==l){if(zk(t.charCodeAt(n))){const e=t.charCodeAt(n);let r=n+1;for(;r<t.length&&(t.charCodeAt(r)!==e||s(r));)r+=1;if(t.charCodeAt(r)!==e)throw new Error("Attribute value didn't end");u=Gk(t.slice(n+1,r)),n=r+1}else{const e=n;for(;n<t.length&&(!Vk(t.charCodeAt(n))&&93!==t.charCodeAt(n)||s(n));)n+=1;u=Gk(t.slice(e,n))}o(0);const e=32|t.charCodeAt(n);115===e?(h=!1,o(1)):105===e&&(h=!0,o(1))}if(93!==t.charCodeAt(n))throw new Error("Attribute selector didn't terminate");n+=1;const d={type:Ik.Attribute,name:e,action:l,value:u,namespace:a,ignoreCase:h};r.push(d);break}case 58:{if(58===t.charCodeAt(n+1)){r.push({type:Ik.PseudoElement,name:i(2).toLowerCase(),data:40===t.charCodeAt(n)?a():null});continue}const e=i(1).toLowerCase();let o=null;if(40===t.charCodeAt(n))if(Fk.has(e)){if(zk(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${e} cannot be quoted`);if(o=[],n=Yk(o,t,n+1),41!==t.charCodeAt(n))throw new Error(`Missing closing parenthesis in :${e} (${t})`);n+=1}else{if(o=a(),jk.has(e)){const e=o.charCodeAt(0);e===o.charCodeAt(o.length-1)&&zk(e)&&(o=o.slice(1,-1))}o=Gk(o)}r.push({type:Ik.Pseudo,name:e,data:o});break}case 44:h(),r=[],o(1);break;default:{if(t.startsWith("/*",n)){const e=t.indexOf("*/",n+2);if(e<0)throw new Error("Comment was not terminated");n=e+2,0===r.length&&o(0);break}let a,s=null;if(42===e)n+=1,a="*";else if(124===e){if(a="",124===t.charCodeAt(n+1)){c(Ik.ColumnCombinator),o(2);break}}else{if(!Mk.test(t.slice(n)))break e;a=i(0)}124===t.charCodeAt(n)&&124!==t.charCodeAt(n+1)&&(s=a,42===t.charCodeAt(n+1)?(a="*",n+=2):a=i(1)),r.push("*"===a?{type:Ik.Universal,namespace:s}:{type:Ik.Tag,name:a,namespace:s})}}}return h(),n}const $k=["\\",'"'],Xk=[...$k,"(",")"],Wk=new Set($k.map((e=>e.charCodeAt(0)))),qk=new Set(Xk.map((e=>e.charCodeAt(0)))),Kk=new Set([...Xk,"~","^","$","*","+","!","|",":","[","]"," ","."].map((e=>e.charCodeAt(0))));function Zk(e){return e.map((e=>e.map(Qk).join(""))).join(", ")}function Qk(e,t,n){switch(e.type){case Ik.Child:return 0===t?"> ":" > ";case Ik.Parent:return 0===t?"< ":" < ";case Ik.Sibling:return 0===t?"~ ":" ~ ";case Ik.Adjacent:return 0===t?"+ ":" + ";case Ik.Descendant:return" ";case Ik.ColumnCombinator:return 0===t?"|| ":" || ";case Ik.Universal:return"*"===e.namespace&&t+1<n.length&&"name"in n[t+1]?"":`${eC(e.namespace)}*`;case Ik.Tag:return Jk(e);case Ik.PseudoElement:return`::${tC(e.name,Kk)}${null===e.data?"":`(${tC(e.data,qk)})`}`;case Ik.Pseudo:return`:${tC(e.name,Kk)}${null===e.data?"":`(${"string"==typeof e.data?tC(e.data,qk):Zk(e.data)})`}`;case Ik.Attribute:{if("id"===e.name&&e.action===Nk.Equals&&"quirks"===e.ignoreCase&&!e.namespace)return`#${tC(e.value,Kk)}`;if("class"===e.name&&e.action===Nk.Element&&"quirks"===e.ignoreCase&&!e.namespace)return`.${tC(e.value,Kk)}`;const t=Jk(e);return e.action===Nk.Exists?`[${t}]`:`[${t}${function(e){switch(e){case Nk.Equals:return"";case Nk.Element:return"~";case Nk.Start:return"^";case Nk.End:return"$";case Nk.Any:return"*";case Nk.Not:return"!";case Nk.Hyphen:return"|";case Nk.Exists:throw new Error("Shouldn't be here")}}(e.action)}="${tC(e.value,Wk)}"${null===e.ignoreCase?"":e.ignoreCase?" i":" s"}]`}}}function Jk(e){return`${eC(e.namespace)}${tC(e.name,Kk)}`}function eC(e){return null!==e?`${"*"===e?"*":tC(e,Kk)}|`:""}function tC(e,t){let n=0,r="";for(let i=0;i<e.length;i++)t.has(e.charCodeAt(i))&&(r+=`${e.slice(n,i)}\\${e.charAt(i)}`,n=i+1);return r.length>0?r+e.slice(n):e}const nC=T(Object.freeze(Object.defineProperty({__proto__:null,isTraversal:Uk,parse:function(e){const t=[],n=Yk(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t},stringify:Zk,get SelectorType(){return Ik},IgnoreCaseMode:{Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1},get AttributeAction(){return Nk}},Symbol.toStringTag,{value:"Module"})));var rC={},iC={trueFunc:function(){return!0},falseFunc:function(){return!1}},oC={},aC={};Object.defineProperty(aC,"__esModule",{value:!0}),aC.isTraversal=void 0;var sC=nC,lC=new Map([[sC.SelectorType.Universal,50],[sC.SelectorType.Tag,30],[sC.SelectorType.Attribute,1],[sC.SelectorType.Pseudo,0]]);aC.isTraversal=function(e){return!lC.has(e.type)};var cC=new Map([[sC.AttributeAction.Exists,10],[sC.AttributeAction.Equals,8],[sC.AttributeAction.Not,7],[sC.AttributeAction.Start,6],[sC.AttributeAction.End,6],[sC.AttributeAction.Any,5]]);function uC(e){var t,n,r=null!==(t=lC.get(e.type))&&void 0!==t?t:-1;return e.type===sC.SelectorType.Attribute?(r=null!==(n=cC.get(e.action))&&void 0!==n?n:4,e.action===sC.AttributeAction.Equals&&"id"===e.name&&(r=9),e.ignoreCase&&(r>>=1)):e.type===sC.SelectorType.Pseudo&&(e.data?"has"===e.name||"contains"===e.name?r=0:Array.isArray(e.data)?(r=Math.min.apply(Math,e.data.map((function(e){return Math.min.apply(Math,e.map(uC))}))))<0&&(r=0):r=2:r=3),r}aC.default=function(e){for(var t=e.map(uC),n=1;n<e.length;n++){var r=t[n];if(!(r<0))for(var i=n-1;i>=0&&r<t[i];i--){var o=e[i+1];e[i+1]=e[i],e[i]=o,t[i+1]=t[i],t[i]=r}}};var hC={},dC={},pC=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dC,"__esModule",{value:!0}),dC.attributeRules=void 0;var fC=pC(iC),mC=/[-[\]{}()*+?.,\\^$|#\s]/g;function gC(e){return e.replace(mC,"\\$&")}var bC=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function vC(e,t){return"boolean"==typeof e.ignoreCase?e.ignoreCase:"quirks"===e.ignoreCase?!!t.quirksMode:!t.xmlMode&&bC.has(e.name)}dC.attributeRules={equals:function(e,t,n){var r=n.adapter,i=t.name,o=t.value;return vC(t,n)?(o=o.toLowerCase(),function(t){var n=r.getAttributeValue(t,i);return null!=n&&n.length===o.length&&n.toLowerCase()===o&&e(t)}):function(t){return r.getAttributeValue(t,i)===o&&e(t)}},hyphen:function(e,t,n){var r=n.adapter,i=t.name,o=t.value,a=o.length;return vC(t,n)?(o=o.toLowerCase(),function(t){var n=r.getAttributeValue(t,i);return null!=n&&(n.length===a||"-"===n.charAt(a))&&n.substr(0,a).toLowerCase()===o&&e(t)}):function(t){var n=r.getAttributeValue(t,i);return null!=n&&(n.length===a||"-"===n.charAt(a))&&n.substr(0,a)===o&&e(t)}},element:function(e,t,n){var r=n.adapter,i=t.name,o=t.value;if(/\s/.test(o))return fC.default.falseFunc;var a=new RegExp("(?:^|\\s)".concat(gC(o),"(?:$|\\s)"),vC(t,n)?"i":"");return function(t){var n=r.getAttributeValue(t,i);return null!=n&&n.length>=o.length&&a.test(n)&&e(t)}},exists:function(e,t,n){var r=t.name,i=n.adapter;return function(t){return i.hasAttrib(t,r)&&e(t)}},start:function(e,t,n){var r=n.adapter,i=t.name,o=t.value,a=o.length;return 0===a?fC.default.falseFunc:vC(t,n)?(o=o.toLowerCase(),function(t){var n=r.getAttributeValue(t,i);return null!=n&&n.length>=a&&n.substr(0,a).toLowerCase()===o&&e(t)}):function(t){var n;return!!(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.startsWith(o))&&e(t)}},end:function(e,t,n){var r=n.adapter,i=t.name,o=t.value,a=-o.length;return 0===a?fC.default.falseFunc:vC(t,n)?(o=o.toLowerCase(),function(t){var n;return(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.substr(a).toLowerCase())===o&&e(t)}):function(t){var n;return!!(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.endsWith(o))&&e(t)}},any:function(e,t,n){var r=n.adapter,i=t.name,o=t.value;if(""===o)return fC.default.falseFunc;if(vC(t,n)){var a=new RegExp(gC(o),"i");return function(t){var n=r.getAttributeValue(t,i);return null!=n&&n.length>=o.length&&a.test(n)&&e(t)}}return function(t){var n;return!!(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.includes(o))&&e(t)}},not:function(e,t,n){var r=n.adapter,i=t.name,o=t.value;return""===o?function(t){return!!r.getAttributeValue(t,i)&&e(t)}:vC(t,n)?(o=o.toLowerCase(),function(t){var n=r.getAttributeValue(t,i);return(null==n||n.length!==o.length||n.toLowerCase()!==o)&&e(t)}):function(t){return r.getAttributeValue(t,i)!==o&&e(t)}}};var yC={},TC={},_C={},EC={};Object.defineProperty(EC,"__esModule",{value:!0}),EC.parse=void 0;var xC=new Set([9,10,12,13,32]),wC="0".charCodeAt(0),SC="9".charCodeAt(0);EC.parse=function(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];var t=0,n=0,r=o(),i=a();if(t<e.length&&"n"===e.charAt(t)&&(t++,n=r*(null!=i?i:1),s(),t<e.length?(r=o(),s(),i=a()):r=i=0),null===i||t<e.length)throw new Error("n-th rule couldn't be parsed ('".concat(e,"')"));return[n,r*i];function o(){return"-"===e.charAt(t)?(t++,-1):("+"===e.charAt(t)&&t++,1)}function a(){for(var n=t,r=0;t<e.length&&e.charCodeAt(t)>=wC&&e.charCodeAt(t)<=SC;)r=10*r+(e.charCodeAt(t)-wC),t++;return t===n?null:r}function s(){for(;t<e.length&&xC.has(e.charCodeAt(t));)t++}};var AC={},kC=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(AC,"__esModule",{value:!0}),AC.generate=AC.compile=void 0;var CC=kC(iC);AC.compile=function(e){var t=e[0],n=e[1]-1;if(n<0&&t<=0)return CC.default.falseFunc;if(-1===t)return function(e){return e<=n};if(0===t)return function(e){return e===n};if(1===t)return n<0?CC.default.trueFunc:function(e){return e>=n};var r=Math.abs(t),i=(n%r+r)%r;return t>1?function(e){return e>=n&&e%r===i}:function(e){return e<=n&&e%r===i}},AC.generate=function(e){var t=e[0],n=e[1]-1,r=0;if(t<0){var i=-t,o=(n%i+i)%i;return function(){var e=o+i*r++;return e>n?null:e}}return 0===t?n<0?function(){return null}:function(){return 0==r++?n:null}:(n<0&&(n+=t*Math.ceil(-n/t)),function(){return t*r+++n})},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sequence=e.generate=e.compile=e.parse=void 0;var t=EC;Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}});var n=AC;Object.defineProperty(e,"compile",{enumerable:!0,get:function(){return n.compile}}),Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return n.generate}}),e.default=function(e){return(0,n.compile)((0,t.parse)(e))},e.sequence=function(e){return(0,n.generate)((0,t.parse)(e))}}(_C),function(e){var t=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.filters=void 0;var n=t(_C),r=t(iC);function i(e,t){return function(n){var r=t.getParent(n);return null!=r&&t.isTag(r)&&e(n)}}function o(e){return function(t,n,i){var o=i.adapter[e];return"function"!=typeof o?r.default.falseFunc:function(e){return o(e)&&t(e)}}}e.filters={contains:function(e,t,n){var r=n.adapter;return function(n){return e(n)&&r.getText(n).includes(t)}},icontains:function(e,t,n){var r=n.adapter,i=t.toLowerCase();return function(t){return e(t)&&r.getText(t).toLowerCase().includes(i)}},"nth-child":function(e,t,o){var a=o.adapter,s=o.equals,l=(0,n.default)(t);return l===r.default.falseFunc?r.default.falseFunc:l===r.default.trueFunc?i(e,a):function(t){for(var n=a.getSiblings(t),r=0,i=0;i<n.length&&!s(t,n[i]);i++)a.isTag(n[i])&&r++;return l(r)&&e(t)}},"nth-last-child":function(e,t,o){var a=o.adapter,s=o.equals,l=(0,n.default)(t);return l===r.default.falseFunc?r.default.falseFunc:l===r.default.trueFunc?i(e,a):function(t){for(var n=a.getSiblings(t),r=0,i=n.length-1;i>=0&&!s(t,n[i]);i--)a.isTag(n[i])&&r++;return l(r)&&e(t)}},"nth-of-type":function(e,t,o){var a=o.adapter,s=o.equals,l=(0,n.default)(t);return l===r.default.falseFunc?r.default.falseFunc:l===r.default.trueFunc?i(e,a):function(t){for(var n=a.getSiblings(t),r=0,i=0;i<n.length;i++){var o=n[i];if(s(t,o))break;a.isTag(o)&&a.getName(o)===a.getName(t)&&r++}return l(r)&&e(t)}},"nth-last-of-type":function(e,t,o){var a=o.adapter,s=o.equals,l=(0,n.default)(t);return l===r.default.falseFunc?r.default.falseFunc:l===r.default.trueFunc?i(e,a):function(t){for(var n=a.getSiblings(t),r=0,i=n.length-1;i>=0;i--){var o=n[i];if(s(t,o))break;a.isTag(o)&&a.getName(o)===a.getName(t)&&r++}return l(r)&&e(t)}},root:function(e,t,n){var r=n.adapter;return function(t){var n=r.getParent(t);return(null==n||!r.isTag(n))&&e(t)}},scope:function(t,n,r,i){var o=r.equals;return i&&0!==i.length?1===i.length?function(e){return o(i[0],e)&&t(e)}:function(e){return i.includes(e)&&t(e)}:e.filters.root(t,n,r)},hover:o("isHovered"),visited:o("isVisited"),active:o("isActive")}}(TC);var IC={};Object.defineProperty(IC,"__esModule",{value:!0}),IC.verifyPseudoArgs=IC.pseudos=void 0,IC.pseudos={empty:function(e,t){var n=t.adapter;return!n.getChildren(e).some((function(e){return n.isTag(e)||""!==n.getText(e)}))},"first-child":function(e,t){var n=t.adapter,r=t.equals;if(n.prevElementSibling)return null==n.prevElementSibling(e);var i=n.getSiblings(e).find((function(e){return n.isTag(e)}));return null!=i&&r(e,i)},"last-child":function(e,t){for(var n=t.adapter,r=t.equals,i=n.getSiblings(e),o=i.length-1;o>=0;o--){if(r(e,i[o]))return!0;if(n.isTag(i[o]))break}return!1},"first-of-type":function(e,t){for(var n=t.adapter,r=t.equals,i=n.getSiblings(e),o=n.getName(e),a=0;a<i.length;a++){var s=i[a];if(r(e,s))return!0;if(n.isTag(s)&&n.getName(s)===o)break}return!1},"last-of-type":function(e,t){for(var n=t.adapter,r=t.equals,i=n.getSiblings(e),o=n.getName(e),a=i.length-1;a>=0;a--){var s=i[a];if(r(e,s))return!0;if(n.isTag(s)&&n.getName(s)===o)break}return!1},"only-of-type":function(e,t){var n=t.adapter,r=t.equals,i=n.getName(e);return n.getSiblings(e).every((function(t){return r(e,t)||!n.isTag(t)||n.getName(t)!==i}))},"only-child":function(e,t){var n=t.adapter,r=t.equals;return n.getSiblings(e).every((function(t){return r(e,t)||!n.isTag(t)}))}},IC.verifyPseudoArgs=function(e,t,n,r){if(null===n){if(e.length>r)throw new Error("Pseudo-class :".concat(t," requires an argument"))}else if(e.length===r)throw new Error("Pseudo-class :".concat(t," doesn't have any arguments"))};var OC={};Object.defineProperty(OC,"__esModule",{value:!0}),OC.aliases=void 0,OC.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"};var DC={};(function(e){var t=v&&v.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},n=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.subselects=e.getNextSiblings=e.ensureIsTag=e.PLACEHOLDER_ELEMENT=void 0;var r=n(iC),i=aC;function o(e,t){return e===r.default.falseFunc?r.default.falseFunc:function(n){return t.isTag(n)&&e(n)}}function a(e,t){var n=t.getSiblings(e);if(n.length<=1)return[];var r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function s(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}e.PLACEHOLDER_ELEMENT={},e.ensureIsTag=o,e.getNextSiblings=a;var l=function(e,t,n,i,o){var a=o(t,s(n),i);return a===r.default.trueFunc?e:a===r.default.falseFunc?r.default.falseFunc:function(t){return a(t)&&e(t)}};e.subselects={is:l,matches:l,where:l,not:function(e,t,n,i,o){var a=o(t,s(n),i);return a===r.default.falseFunc?e:a===r.default.trueFunc?r.default.falseFunc:function(t){return!a(t)&&e(t)}},has:function(n,l,c,u,h){var d=c.adapter,p=s(c);p.relativeSelector=!0;var f=l.some((function(e){return e.some(i.isTraversal)}))?[e.PLACEHOLDER_ELEMENT]:void 0,m=h(l,p,f);if(m===r.default.falseFunc)return r.default.falseFunc;var g=o(m,d);if(f&&m!==r.default.trueFunc){var b=m.shouldTestNextSiblings,v=void 0!==b&&b;return function(e){if(!n(e))return!1;f[0]=e;var r=d.getChildren(e),i=v?t(t([],r,!0),a(e,d),!0):r;return d.existsOne(g,i)}}return function(e){return n(e)&&d.existsOne(g,d.getChildren(e))}}}})(DC),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compilePseudoSelector=e.aliases=e.pseudos=e.filters=void 0;var t=nC,n=TC;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return n.filters}});var r=IC;Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return r.pseudos}});var i=OC;Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return i.aliases}});var o=DC;e.compilePseudoSelector=function(e,a,s,l,c){var u,h=a.name,d=a.data;if(Array.isArray(d)){if(!(h in o.subselects))throw new Error("Unknown pseudo-class :".concat(h,"(").concat(d,")"));return o.subselects[h](e,d,s,l,c)}var p=null===(u=s.pseudos)||void 0===u?void 0:u[h],f="string"==typeof p?p:i.aliases[h];if("string"==typeof f){if(null!=d)throw new Error("Pseudo ".concat(h," doesn't have any arguments"));var m=(0,t.parse)(f);return o.subselects.is(e,m,s,l,c)}if("function"==typeof p)return(0,r.verifyPseudoArgs)(p,h,d,1),function(t){return p(t,d)&&e(t)};if(h in n.filters)return n.filters[h](e,d,s,l);if(h in r.pseudos){var g=r.pseudos[h];return(0,r.verifyPseudoArgs)(g,h,d,2),function(t){return g(t,s,d)&&e(t)}}throw new Error("Unknown pseudo-class :".concat(h))}}(yC),Object.defineProperty(hC,"__esModule",{value:!0}),hC.compileGeneralSelector=void 0;var PC=dC,NC=yC,RC=nC;function MC(e,t){var n=t.getParent(e);return n&&t.isTag(n)?n:null}hC.compileGeneralSelector=function(e,t,n,r,i){var o=n.adapter,a=n.equals;switch(t.type){case RC.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case RC.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case RC.SelectorType.Attribute:if(null!=t.namespace)throw new Error("Namespaced attributes are not yet supported by css-select");return n.xmlMode&&!n.lowerCaseAttributeNames||(t.name=t.name.toLowerCase()),PC.attributeRules[t.action](e,t,n);case RC.SelectorType.Pseudo:return(0,NC.compilePseudoSelector)(e,t,n,r,i);case RC.SelectorType.Tag:if(null!=t.namespace)throw new Error("Namespaced tag names are not yet supported by css-select");var s=t.name;return n.xmlMode&&!n.lowerCaseTags||(s=s.toLowerCase()),function(t){return o.getName(t)===s&&e(t)};case RC.SelectorType.Descendant:if(!1===n.cacheResults||"undefined"==typeof WeakSet)return function(t){for(var n=t;n=MC(n,o);)if(e(n))return!0;return!1};var l=new WeakSet;return function(t){for(var n=t;n=MC(n,o);)if(!l.has(n)){if(o.isTag(n)&&e(n))return!0;l.add(n)}return!1};case"_flexibleDescendant":return function(t){var n=t;do{if(e(n))return!0}while(n=MC(n,o));return!1};case RC.SelectorType.Parent:return function(t){return o.getChildren(t).some((function(t){return o.isTag(t)&&e(t)}))};case RC.SelectorType.Child:return function(t){var n=o.getParent(t);return null!=n&&o.isTag(n)&&e(n)};case RC.SelectorType.Sibling:return function(t){for(var n=o.getSiblings(t),r=0;r<n.length;r++){var i=n[r];if(a(t,i))break;if(o.isTag(i)&&e(i))return!0}return!1};case RC.SelectorType.Adjacent:return o.prevElementSibling?function(t){var n=o.prevElementSibling(t);return null!=n&&e(n)}:function(t){for(var n,r=o.getSiblings(t),i=0;i<r.length;i++){var s=r[i];if(a(t,s))break;o.isTag(s)&&(n=s)}return!!n&&e(n)};case RC.SelectorType.Universal:if(null!=t.namespace&&"*"!==t.namespace)throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}};var LC=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),BC=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),FC=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&LC(t,e,n);return BC(t,e),t},UC=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oC,"__esModule",{value:!0}),oC.compileToken=oC.compileUnsafe=oC.compile=void 0;var jC=nC,HC=UC(iC),GC=FC(aC),zC=hC,VC=DC;function YC(e,t,n){return KC("string"==typeof e?(0,jC.parse)(e):e,t,n)}function $C(e){return e.type===jC.SelectorType.Pseudo&&("scope"===e.name||Array.isArray(e.data)&&e.data.some((function(e){return e.some($C)})))}oC.compile=function(e,t,n){var r=YC(e,t,n);return(0,VC.ensureIsTag)(r,t.adapter)},oC.compileUnsafe=YC;var XC={type:jC.SelectorType.Descendant},WC={type:"_flexibleDescendant"},qC={type:jC.SelectorType.Pseudo,name:"scope",data:null};function KC(e,t,n){var r;e.forEach(GC.default),n=null!==(r=t.context)&&void 0!==r?r:n;var i=Array.isArray(n),o=n&&(Array.isArray(n)?n:[n]);if(!1!==t.relativeSelector)!function(e,t,n){for(var r=t.adapter,i=!!(null==n?void 0:n.every((function(e){var t=r.isTag(e)&&r.getParent(e);return e===VC.PLACEHOLDER_ELEMENT||t&&r.isTag(t)}))),o=0,a=e;o<a.length;o++){var s=a[o];if(s.length>0&&(0,GC.isTraversal)(s[0])&&s[0].type!==jC.SelectorType.Descendant);else{if(!i||s.some($C))continue;s.unshift(XC)}s.unshift(qC)}}(e,t,o);else if(e.some((function(e){return e.length>0&&(0,GC.isTraversal)(e[0])})))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");var a=!1,s=e.map((function(e){if(e.length>=2){var n=e[0],r=e[1];n.type!==jC.SelectorType.Pseudo||"scope"!==n.name||(i&&r.type===jC.SelectorType.Descendant?e[1]=WC:r.type!==jC.SelectorType.Adjacent&&r.type!==jC.SelectorType.Sibling||(a=!0))}return function(e,t,n){var r;return e.reduce((function(e,r){return e===HC.default.falseFunc?HC.default.falseFunc:(0,zC.compileGeneralSelector)(e,r,t,n,KC)}),null!==(r=t.rootFunc)&&void 0!==r?r:HC.default.trueFunc)}(e,t,o)})).reduce(ZC,HC.default.falseFunc);return s.shouldTestNextSiblings=a,s}function ZC(e,t){return t===HC.default.falseFunc||e===HC.default.trueFunc?e:e===HC.default.falseFunc||t===HC.default.trueFunc?t:function(n){return e(n)||t(n)}}oC.compileToken=KC,function(e){var t=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.aliases=e.pseudos=e.filters=e.is=e.selectOne=e.selectAll=e.prepareContext=e._compileToken=e._compileUnsafe=e.compile=void 0;var o=r(_S),a=i(iC),s=oC,l=DC,c=function(e,t){return e===t},u={adapter:o,equals:c};function h(e){var t,n,r,i,a=null!=e?e:u;return null!==(t=a.adapter)&&void 0!==t||(a.adapter=o),null!==(n=a.equals)&&void 0!==n||(a.equals=null!==(i=null===(r=a.adapter)||void 0===r?void 0:r.equals)&&void 0!==i?i:c),a}function d(e){return function(t,n,r){var i=h(n);return e(t,i,r)}}function p(e){return function(t,n,r){var i=h(r);"function"!=typeof t&&(t=(0,s.compileUnsafe)(t,i,n));var o=f(n,i.adapter,t.shouldTestNextSiblings);return e(t,o,i)}}function f(e,t,n){return void 0===n&&(n=!1),n&&(e=function(e,t){for(var n=Array.isArray(e)?e.slice(0):[e],r=n.length,i=0;i<r;i++){var o=(0,l.getNextSiblings)(n[i],t);n.push.apply(n,o)}return n}(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}e.compile=d(s.compile),e._compileUnsafe=d(s.compileUnsafe),e._compileToken=d(s.compileToken),e.prepareContext=f,e.selectAll=p((function(e,t,n){return e!==a.default.falseFunc&&t&&0!==t.length?n.adapter.findAll(e,t):[]})),e.selectOne=p((function(e,t,n){return e!==a.default.falseFunc&&t&&0!==t.length?n.adapter.findOne(e,t):null})),e.is=function(e,t,n){var r=h(n);return("function"==typeof t?t:(0,s.compile)(t,r))(e)},e.default=e.selectAll;var m=yC;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return m.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return m.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return m.aliases}})}(rC);var QC={},JC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getLimit=e.isFilter=e.filterNames=void 0,e.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]),e.isFilter=function t(n){return"pseudo"===n.type&&(!!e.filterNames.has(n.name)||!("not"!==n.name||!Array.isArray(n.data))&&n.data.some((function(e){return e.some(t)})))},e.getLimit=function(e,t,n){var r=null!=t?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}})(JC),Object.defineProperty(QC,"__esModule",{value:!0}),QC.groupSelectors=QC.getDocumentRoot=void 0;var eI=JC;QC.getDocumentRoot=function(e){for(;e.parent;)e=e.parent;return e},QC.groupSelectors=function(e){for(var t=[],n=[],r=0,i=e;r<i.length;r++){var o=i[r];o.some(eI.isFilter)?t.push(o):n.push(o)}return[n,t]},function(e){var t=v&&v.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},n=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return r(t,e),t},o=v&&v.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(e,"__esModule",{value:!0}),e.select=e.filter=e.some=e.is=e.aliases=e.pseudos=e.filters=void 0;var a=nC,s=rC,l=i(_S),c=i(iC),u=QC,h=JC,d=rC;Object.defineProperty(e,"filters",{enumerable:!0,get:function(){return d.filters}}),Object.defineProperty(e,"pseudos",{enumerable:!0,get:function(){return d.pseudos}}),Object.defineProperty(e,"aliases",{enumerable:!0,get:function(){return d.aliases}});var p={type:a.SelectorType.Universal,namespace:null},f={type:a.SelectorType.Pseudo,name:"scope",data:null};function m(e,t,n){if(void 0===n&&(n={}),"function"==typeof t)return e.some(t);var r=(0,u.groupSelectors)((0,a.parse)(t)),i=r[0],o=r[1];return i.length>0&&e.some((0,s._compileToken)(i,n))||o.some((function(t){return b(t,e,n).length>0}))}function g(e,t,n){if(0===t.length)return[];var r,i=(0,u.groupSelectors)(e),o=i[0],a=i[1];if(o.length){var s=E(t,o,n);if(0===a.length)return s;s.length&&(r=new Set(s))}for(var c=0;c<a.length&&(null==r?void 0:r.size)!==t.length;c++){var h=a[c];if(0===(r?t.filter((function(e){return l.isTag(e)&&!r.has(e)})):t).length)break;if((s=b(h,t,n)).length)if(r)s.forEach((function(e){return r.add(e)}));else{if(c===a.length-1)return s;r=new Set(s)}}return void 0!==r?r.size===t.length?t:t.filter((function(e){return r.has(e)})):[]}function b(e,n,r){var i;if(e.some(a.isTraversal)){var o=null!==(i=r.root)&&void 0!==i?i:(0,u.getDocumentRoot)(n[0]),s=t(t({},r),{context:n,relativeSelector:!1});return e.push(f),y(o,e,s,!0,n.length)}return y(n,e,r,!1,n.length)}function y(e,n,r,i,o){var u=n.findIndex(h.isFilter),d=n.slice(0,u),f=n[u],m=n.length-1===u?o:1/0,b=(0,h.getLimit)(f.name,f.data,m);if(0===b)return[];var v=(0!==d.length||Array.isArray(e)?0===d.length?(Array.isArray(e)?e:[e]).filter(l.isTag):i||d.some(a.isTraversal)?T(e,[d],r,b):E(e,[d],r):l.getChildren(e).filter(l.isTag)).slice(0,b),_=function(e,t,n,r){var i="string"==typeof n?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(i)&&Math.abs(i)<t.length?[i<0?t[t.length+i]:t[i]]:[];case"gt":return isFinite(i)?t.slice(i+1):[];case"even":return t.filter((function(e,t){return t%2==0}));case"odd":return t.filter((function(e,t){return t%2==1}));case"not":var o=new Set(g(n,t,r));return t.filter((function(e){return!o.has(e)}))}}(f.name,v,f.data,r);if(0===_.length||n.length===u+1)return _;var x=n.slice(u+1),w=x.some(a.isTraversal);if(w){if((0,a.isTraversal)(x[0])){var S=x[0].type;S!==a.SelectorType.Sibling&&S!==a.SelectorType.Adjacent||(_=(0,s.prepareContext)(_,l,!0)),x.unshift(p)}r=t(t({},r),{relativeSelector:!1,rootFunc:function(e){return _.includes(e)}})}else r.rootFunc&&r.rootFunc!==c.trueFunc&&(r=t(t({},r),{rootFunc:c.trueFunc}));return x.some(h.isFilter)?y(_,x,r,!1,o):w?T(_,[x],r,o):E(_,[x],r)}function T(e,t,n,r){return _(e,(0,s._compileToken)(t,n,e),r)}function _(e,t,n){void 0===n&&(n=1/0);var r=(0,s.prepareContext)(e,l,t.shouldTestNextSiblings);return l.find((function(e){return l.isTag(e)&&t(e)}),r,!0,n)}function E(e,t,n){var r=(Array.isArray(e)?e:[e]).filter(l.isTag);if(0===r.length)return r;var i=(0,s._compileToken)(t,n);return i===c.trueFunc?r:r.filter(i)}e.is=function(e,t,n){return void 0===n&&(n={}),m([e],t,n)},e.some=m,e.filter=function(e,t,n){return void 0===n&&(n={}),g((0,a.parse)(e),t,n)},e.select=function(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=1/0),"function"==typeof e)return _(t,e);var i=(0,u.groupSelectors)((0,a.parse)(e)),s=i[0],c=i[1].map((function(e){return y(t,e,n,!0,r)}));return s.length&&c.push(T(t,s,n,r)),0===c.length?[]:1===c.length?c[0]:l.uniqueSort(c.reduce((function(e,t){return o(o([],e,!0),t,!0)})))}}(Pk);var tI=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),nI=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rI=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&tI(t,e,n);return nI(t,e),t},iI=v&&v.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(Dk,"__esModule",{value:!0}),Dk.addBack=Dk.add=Dk.end=Dk.slice=Dk.index=Dk.toArray=Dk.get=Dk.eq=Dk.last=Dk.first=Dk.has=Dk.not=Dk.is=Dk.filterArray=Dk.filter=Dk.map=Dk.each=Dk.contents=Dk.children=Dk.siblings=Dk.prevUntil=Dk.prevAll=Dk.prev=Dk.nextUntil=Dk.nextAll=Dk.next=Dk.closest=Dk.parentsUntil=Dk.parents=Dk.parent=Dk.find=void 0;var oI=xS,aI=rI(Pk),sI=hk,lI=TS,cI=_S,uI=/^\s*[~+]/;function hI(e){return function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(r){var i,o=e(t,this);return r&&(o=bI(o,r,this.options.xmlMode,null===(i=this._root)||void 0===i?void 0:i[0])),this._make(this.length>1&&o.length>1?n.reduce((function(e,t){return t(e)}),o):o)}}}Dk.find=function(e){var t;if(!e)return this._make([]);var n=this.toArray();if("string"!=typeof e){var r=(0,sI.isCheerio)(e)?e.toArray():[e];return this._make(r.filter((function(e){return n.some((function(t){return(0,lI.contains)(t,e)}))})))}var i=uI.test(e)?n:this.children().toArray(),o={context:n,root:null===(t=this._root)||void 0===t?void 0:t[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(aI.select(e,i,o))};var dI=hI((function(e,t){for(var n,r=[],i=0;i<t.length;i++){var o=e(t[i]);r.push(o)}return(n=new Array).concat.apply(n,r)})),pI=hI((function(e,t){for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);null!==i&&n.push(i)}return n}));function fI(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=null,i=hI((function(e,t){var n=[];return(0,sI.domEach)(t,(function(t){for(var i;(i=e(t))&&!(null==r?void 0:r(i,n.length));t=i)n.push(i)})),n})).apply(void 0,iI([e],t,!1));return function(e,t){var n=this;r="string"==typeof e?function(t){return aI.is(t,e,n.options)}:e?gI(e):null;var o=i.call(this,t);return r=null,o}}function mI(e){return Array.from(new Set(e))}function gI(e){return"function"==typeof e?function(t,n){return e.call(t,n,t)}:(0,sI.isCheerio)(e)?function(t){return Array.prototype.includes.call(e,t)}:function(t){return e===t}}function bI(e,t,n,r){return"string"==typeof t?aI.filter(t,e,{xmlMode:n,root:r}):e.filter(gI(t))}Dk.parent=pI((function(e){var t=e.parent;return t&&!(0,oI.isDocument)(t)?t:null}),mI),Dk.parents=dI((function(e){for(var t=[];e.parent&&!(0,oI.isDocument)(e.parent);)t.push(e.parent),e=e.parent;return t}),cI.uniqueSort,(function(e){return e.reverse()})),Dk.parentsUntil=fI((function(e){var t=e.parent;return t&&!(0,oI.isDocument)(t)?t:null}),cI.uniqueSort,(function(e){return e.reverse()})),Dk.closest=function(e){var t,n=[];if(!e)return this._make(n);var r={xmlMode:this.options.xmlMode,root:null===(t=this._root)||void 0===t?void 0:t[0]},i="string"==typeof e?function(t){return aI.is(t,e,r)}:gI(e);return(0,sI.domEach)(this,(function(e){for(;e&&(0,sI.isTag)(e);){if(i(e,0)){n.includes(e)||n.push(e);break}e=e.parent}})),this._make(n)},Dk.next=pI((function(e){return(0,cI.nextElementSibling)(e)})),Dk.nextAll=dI((function(e){for(var t=[];e.next;)e=e.next,(0,sI.isTag)(e)&&t.push(e);return t}),mI),Dk.nextUntil=fI((function(e){return(0,cI.nextElementSibling)(e)}),mI),Dk.prev=pI((function(e){return(0,cI.prevElementSibling)(e)})),Dk.prevAll=dI((function(e){for(var t=[];e.prev;)e=e.prev,(0,sI.isTag)(e)&&t.push(e);return t}),mI),Dk.prevUntil=fI((function(e){return(0,cI.prevElementSibling)(e)}),mI),Dk.siblings=dI((function(e){return(0,cI.getSiblings)(e).filter((function(t){return(0,sI.isTag)(t)&&t!==e}))}),cI.uniqueSort),Dk.children=dI((function(e){return(0,cI.getChildren)(e).filter(sI.isTag)}),mI),Dk.contents=function(){var e=this.toArray().reduce((function(e,t){return(0,oI.hasChildren)(t)?e.concat(t.children):e}),[]);return this._make(e)},Dk.each=function(e){for(var t=0,n=this.length;t<n&&!1!==e.call(this[t],t,this[t]);)++t;return this},Dk.map=function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n],i=e.call(r,n,r);null!=i&&(t=t.concat(i))}return this._make(t)},Dk.filter=function(e){var t;return this._make(bI(this.toArray(),e,this.options.xmlMode,null===(t=this._root)||void 0===t?void 0:t[0]))},Dk.filterArray=bI,Dk.is=function(e){var t=this.toArray();return"string"==typeof e?aI.some(t.filter(sI.isTag),e,this.options):!!e&&t.some(gI(e))},Dk.not=function(e){var t=this.toArray();if("string"==typeof e){var n=new Set(aI.filter(e,t,this.options));t=t.filter((function(e){return!n.has(e)}))}else{var r=gI(e);t=t.filter((function(e,t){return!r(e,t)}))}return this._make(t)},Dk.has=function(e){var t=this;return this.filter("string"==typeof e?":has(".concat(e,")"):function(n,r){return t._make(r).find(e).length>0})},Dk.first=function(){return this.length>1?this._make(this[0]):this},Dk.last=function(){return this.length>0?this._make(this[this.length-1]):this},Dk.eq=function(e){var t;return 0==(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this._make(null!==(t=this[e])&&void 0!==t?t:[]))},Dk.get=function(e){return null==e?this.toArray():this[e<0?this.length+e:e]},Dk.toArray=function(){return Array.prototype.slice.call(this)},Dk.index=function(e){var t,n;return null==e?(t=this.parent().children(),n=this[0]):"string"==typeof e?(t=this._make(e),n=this[0]):(t=this,n=(0,sI.isCheerio)(e)?e[0]:e),Array.prototype.indexOf.call(t,n)},Dk.slice=function(e,t){return this._make(Array.prototype.slice.call(this,e,t))},Dk.end=function(){var e;return null!==(e=this.prevObject)&&void 0!==e?e:this._make([])},Dk.add=function(e,t){var n=this._make(e,t),r=(0,cI.uniqueSort)(iI(iI([],this.get(),!0),n.get(),!0));return this._make(r)},Dk.addBack=function(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this};var vI={},yI={};Object.defineProperty(yI,"__esModule",{value:!0}),yI.update=yI.getParse=void 0;var TI=_S,_I=xS;function EI(e,t){var n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(var r=0;r<n.length;r++){var i=n[r];i.parent&&i.parent.children!==n&&(0,TI.removeElement)(i),t?(i.prev=n[r-1]||null,i.next=n[r+1]||null):i.prev=i.next=null,i.parent=t}return t}yI.getParse=function(e){return function(t,n,r,i){if("undefined"!=typeof Buffer&&Buffer.isBuffer(t)&&(t=t.toString()),"string"==typeof t)return e(t,n,r,i);var o=t;if(!Array.isArray(o)&&(0,_I.isDocument)(o))return o;var a=new _I.Document([]);return EI(o,a),a}},yI.update=EI;var xI=v&&v.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(vI,"__esModule",{value:!0}),vI.clone=vI.text=vI.toString=vI.html=vI.empty=vI.replaceWith=vI.remove=vI.insertBefore=vI.before=vI.insertAfter=vI.after=vI.wrapAll=vI.unwrap=vI.wrapInner=vI.wrap=vI.prepend=vI.append=vI.prependTo=vI.appendTo=vI._makeDomArray=void 0;var wI=xS,SI=yI,AI=TS,kI=hk,CI=_S;function II(e){return function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=this.length-1;return(0,kI.domEach)(this,(function(r,o){if((0,wI.hasChildren)(r)){var a="function"==typeof n[0]?n[0].call(r,o,t._render(r.children)):n,s=t._makeDomArray(a,o<i);e(s,r.children,r)}}))}}function OI(e,t,n,r,i){for(var o,a,s=xI([t,n],r,!0),l=0===t?null:e[t-1],c=t+n>=e.length?null:e[t+n],u=0;u<r.length;++u){var h=r[u],d=h.parent;if(d){var p=d.children.indexOf(h);p>-1&&(d.children.splice(p,1),i===d&&t>p&&s[0]--)}h.parent=i,h.prev&&(h.prev.next=null!==(o=h.next)&&void 0!==o?o:null),h.next&&(h.next.prev=null!==(a=h.prev)&&void 0!==a?a:null),h.prev=0===u?l:r[u-1],h.next=u===r.length-1?c:r[u+1]}return l&&(l.next=r[0]),c&&(c.prev=r[r.length-1]),e.splice.apply(e,s)}function DI(e){return function(t){for(var n=this.length-1,r=this.parents().last(),i=0;i<this.length;i++){var o=this[i],a="function"==typeof t?t.call(o,i,o):"string"!=typeof t||(0,kI.isHtml)(t)?t:r.find(t).clone(),s=this._makeDomArray(a,i<n)[0];if(s&&(0,wI.hasChildren)(s)){for(var l=s,c=0;c<l.children.length;){var u=l.children[c];(0,kI.isTag)(u)?(l=u,c=0):c++}e(o,l,[s])}}return this}}vI._makeDomArray=function(e,t){var n=this;return null==e?[]:(0,kI.isCheerio)(e)?t?(0,kI.cloneDom)(e.get()):e.get():Array.isArray(e)?e.reduce((function(e,r){return e.concat(n._makeDomArray(r,t))}),[]):"string"==typeof e?this._parse(e,this.options,!1,null).children:t?(0,kI.cloneDom)([e]):[e]},vI.appendTo=function(e){return((0,kI.isCheerio)(e)?e:this._make(e)).append(this),this},vI.prependTo=function(e){return((0,kI.isCheerio)(e)?e:this._make(e)).prepend(this),this},vI.append=II((function(e,t,n){OI(t,t.length,0,e,n)})),vI.prepend=II((function(e,t,n){OI(t,0,0,e,n)})),vI.wrap=DI((function(e,t,n){var r=e.parent;if(r){var i=r.children,o=i.indexOf(e);(0,SI.update)([e],t),OI(i,o,0,n,r)}})),vI.wrapInner=DI((function(e,t,n){(0,wI.hasChildren)(e)&&((0,SI.update)(e.children,t),(0,SI.update)(n,e))})),vI.unwrap=function(e){var t=this;return this.parent(e).not("body").each((function(e,n){t._make(n).replaceWith(n.children)})),this},vI.wrapAll=function(e){var t=this[0];if(t){for(var n=this._make("function"==typeof e?e.call(t,0,t):e).insertBefore(t),r=void 0,i=0;i<n.length;i++)"tag"===n[i].type&&(r=n[i]);for(var o=0;r&&o<r.children.length;){var a=r.children[o];"tag"===a.type?(r=a,o=0):o++}r&&this._make(r).append(this)}return this},vI.after=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.length-1;return(0,kI.domEach)(this,(function(n,i){var o=n.parent;if((0,wI.hasChildren)(n)&&o){var a=o.children,s=a.indexOf(n);if(!(s<0)){var l="function"==typeof t[0]?t[0].call(n,i,e._render(n.children)):t;OI(a,s+1,0,e._makeDomArray(l,i<r),o)}}}))},vI.insertAfter=function(e){var t=this;"string"==typeof e&&(e=this._make(e)),this.remove();var n=[];return this._makeDomArray(e).forEach((function(e){var r=t.clone().toArray(),i=e.parent;if(i){var o=i.children,a=o.indexOf(e);a<0||(OI(o,a+1,0,r,i),n.push.apply(n,r))}})),this._make(n)},vI.before=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.length-1;return(0,kI.domEach)(this,(function(n,i){var o=n.parent;if((0,wI.hasChildren)(n)&&o){var a=o.children,s=a.indexOf(n);if(!(s<0)){var l="function"==typeof t[0]?t[0].call(n,i,e._render(n.children)):t;OI(a,s,0,e._makeDomArray(l,i<r),o)}}}))},vI.insertBefore=function(e){var t=this,n=this._make(e);this.remove();var r=[];return(0,kI.domEach)(n,(function(e){var n=t.clone().toArray(),i=e.parent;if(i){var o=i.children,a=o.indexOf(e);a<0||(OI(o,a,0,n,i),r.push.apply(r,n))}})),this._make(r)},vI.remove=function(e){var t=e?this.filter(e):this;return(0,kI.domEach)(t,(function(e){(0,CI.removeElement)(e),e.prev=e.next=e.parent=null})),this},vI.replaceWith=function(e){var t=this;return(0,kI.domEach)(this,(function(n,r){var i=n.parent;if(i){var o=i.children,a="function"==typeof e?e.call(n,r,n):e,s=t._makeDomArray(a);(0,SI.update)(s,null);var l=o.indexOf(n);OI(o,l,1,s,i),s.includes(n)||(n.parent=n.prev=n.next=null)}}))},vI.empty=function(){return(0,kI.domEach)(this,(function(e){(0,wI.hasChildren)(e)&&(e.children.forEach((function(e){e.next=e.prev=e.parent=null})),e.children.length=0)}))},vI.html=function(e){var t=this;if(void 0===e){var n=this[0];return n&&(0,wI.hasChildren)(n)?this._render(n.children):null}return(0,kI.domEach)(this,(function(n){if((0,wI.hasChildren)(n)){n.children.forEach((function(e){e.next=e.prev=e.parent=null}));var r=(0,kI.isCheerio)(e)?e.toArray():t._parse("".concat(e),t.options,!1,n).children;(0,SI.update)(r,n)}}))},vI.toString=function(){return this._render(this)},vI.text=function(e){var t=this;return void 0===e?(0,AI.text)(this):(0,kI.domEach)(this,"function"==typeof e?function(n,r){return t._make(n).text(e.call(n,r,(0,AI.text)([n])))}:function(t){if((0,wI.hasChildren)(t)){t.children.forEach((function(e){e.next=e.prev=e.parent=null}));var n=new wI.Text("".concat(e));(0,SI.update)(n,t)}})},vI.clone=function(){return this._make((0,kI.cloneDom)(this.get()))};var PI={};Object.defineProperty(PI,"__esModule",{value:!0}),PI.css=void 0;var NI=hk;function RI(e,t,n,r){if("string"==typeof t){var i=MI(e),o="function"==typeof n?n.call(e,r,i[t]):n;""===o?delete i[t]:null!=o&&(i[t]=o),e.attribs.style=function(e){return Object.keys(e).reduce((function(t,n){return"".concat(t).concat(t?" ":"").concat(n,": ").concat(e[n],";")}),"")}(i)}else"object"==typeof t&&Object.keys(t).forEach((function(n,r){RI(e,n,t[n],r)}))}function MI(e,t){if(e&&(0,NI.isTag)(e)){var n=function(e){if(!(e=(e||"").trim()))return{};for(var t,n={},r=0,i=e.split(";");r<i.length;r++){var o=i[r],a=o.indexOf(":");if(a<1||a===o.length-1){var s=o.trimEnd();s.length>0&&void 0!==t&&(n[t]+=";".concat(s))}else n[t=o.slice(0,a).trim()]=o.slice(a+1).trim()}return n}(e.attribs.style);if("string"==typeof t)return n[t];if(Array.isArray(t)){var r={};return t.forEach((function(e){null!=n[e]&&(r[e]=n[e])})),r}return n}}PI.css=function(e,t){return null!=e&&null!=t||"object"==typeof e&&!Array.isArray(e)?(0,NI.domEach)(this,(function(n,r){(0,NI.isTag)(n)&&RI(n,e,t,r)})):0!==this.length?MI(this[0],e):void 0};var LI={};Object.defineProperty(LI,"__esModule",{value:!0}),LI.serializeArray=LI.serialize=void 0;var BI=hk,FI="input,select,textarea,keygen",UI=/%20/g,jI=/\r?\n/g;LI.serialize=function(){return this.serializeArray().map((function(e){return"".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(e.value))})).join("&").replace(UI,"+")},LI.serializeArray=function(){var e=this;return this.map((function(t,n){var r=e._make(n);return(0,BI.isTag)(n)&&"form"===n.name?r.find(FI).toArray():r.filter(FI).toArray()})).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((function(t,n){var r,i=e._make(n),o=i.attr("name"),a=null!==(r=i.val())&&void 0!==r?r:"";return Array.isArray(a)?a.map((function(e){return{name:o,value:e.replace(jI,"\r\n")}})):{name:o,value:a.replace(jI,"\r\n")}})).toArray()};var HI=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),GI=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zI=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&HI(t,e,n);return GI(t,e),t};Object.defineProperty(ck,"__esModule",{value:!0}),ck.Cheerio=void 0;var VI=zI(uk),YI=zI(Dk),$I=zI(vI),XI=zI(PI),WI=zI(LI),qI=function(e,t,n){if(this.length=0,this.options=n,this._root=t,e){for(var r=0;r<e.length;r++)this[r]=e[r];this.length=e.length}};ck.Cheerio=qI,qI.prototype.cheerio="[cheerio object]",qI.prototype.splice=Array.prototype.splice,qI.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(qI.prototype,VI,YI,$I,XI,WI);var KI=v&&v.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZI=v&&v.__assign||function(){return ZI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ZI.apply(this,arguments)},QI=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),JI=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eO=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&QI(t,e,n);return JI(t,e),t};Object.defineProperty(gS,"__esModule",{value:!0}),gS.getLoad=void 0;var tO=eO(bS),nO=eO(TS),rO=ck,iO=hk;gS.getLoad=function(e,t){return function n(r,i,o){if(void 0===o&&(o=!0),null==r)throw new Error("cheerio.load() expects a string");var a=ZI(ZI({},tO.default),(0,tO.flatten)(i)),s=e(r,a,o,null),l=function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return KI(r,n),r.prototype._make=function(e,t){var n=c(e,t);return n.prevObject=this,n},r.prototype._parse=function(t,n,r,i){return e(t,n,r,i)},r.prototype._render=function(e){return t(e,this.options)},r}(rO.Cheerio);function c(t,n,r,i){if(void 0===r&&(r=s),t&&(0,iO.isCheerio)(t))return t;var o=ZI(ZI({},a),(0,tO.flatten)(i)),c="string"==typeof r?[e(r,o,!1,null)]:"length"in r?r:[r],u=(0,iO.isCheerio)(c)?c:new l(c,null,o);if(u._root=u,!t)return new l(void 0,u,o);var h="string"==typeof t&&(0,iO.isHtml)(t)?e(t,o,!1,null).children:function(e){return!!e.name||"root"===e.type||"text"===e.type||"comment"===e.type}(t)?[t]:Array.isArray(t)?t:void 0,d=new l(h,u,o);if(h)return d;if("string"!=typeof t)throw new Error("Unexpected type of selector");var p=t,f=n?"string"==typeof n?(0,iO.isHtml)(n)?new l([e(n,o,!1,null)],u,o):(p="".concat(n," ").concat(p),u):(0,iO.isCheerio)(n)?n:new l(Array.isArray(n)?n:[n],u,o):u;return f?f.find(p):d}return Object.assign(c,nO,{load:n,_root:s,_options:a,fn:l.prototype,prototype:l.prototype}),c}};var oO={},aO={},sO={},lO={},cO={},uO={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUndefinedCodePoint=e.isControlCodePoint=e.getSurrogatePairCodePoint=e.isSurrogatePair=e.isSurrogate=e.SEQUENCES=e.CODE_POINTS=e.REPLACEMENT_CHARACTER=void 0;const t=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);var n;e.REPLACEMENT_CHARACTER="�",(n=e.CODE_POINTS||(e.CODE_POINTS={}))[n.EOF=-1]="EOF",n[n.NULL=0]="NULL",n[n.TABULATION=9]="TABULATION",n[n.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",n[n.LINE_FEED=10]="LINE_FEED",n[n.FORM_FEED=12]="FORM_FEED",n[n.SPACE=32]="SPACE",n[n.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",n[n.QUOTATION_MARK=34]="QUOTATION_MARK",n[n.NUMBER_SIGN=35]="NUMBER_SIGN",n[n.AMPERSAND=38]="AMPERSAND",n[n.APOSTROPHE=39]="APOSTROPHE",n[n.HYPHEN_MINUS=45]="HYPHEN_MINUS",n[n.SOLIDUS=47]="SOLIDUS",n[n.DIGIT_0=48]="DIGIT_0",n[n.DIGIT_9=57]="DIGIT_9",n[n.SEMICOLON=59]="SEMICOLON",n[n.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",n[n.EQUALS_SIGN=61]="EQUALS_SIGN",n[n.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",n[n.QUESTION_MARK=63]="QUESTION_MARK",n[n.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",n[n.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",n[n.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",n[n.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",n[n.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",n[n.GRAVE_ACCENT=96]="GRAVE_ACCENT",n[n.LATIN_SMALL_A=97]="LATIN_SMALL_A",n[n.LATIN_SMALL_F=102]="LATIN_SMALL_F",n[n.LATIN_SMALL_X=120]="LATIN_SMALL_X",n[n.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",n[n.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER",e.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"},e.isSurrogate=function(e){return e>=55296&&e<=57343},e.isSurrogatePair=function(e){return e>=56320&&e<=57343},e.getSurrogatePairCodePoint=function(e,t){return 1024*(e-55296)+9216+t},e.isControlCodePoint=function(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159},e.isUndefinedCodePoint=function(e){return e>=64976&&e<=65007||t.has(e)}}(uO);var hO,dO,pO={};hO=pO,Object.defineProperty(hO,"__esModule",{value:!0}),hO.ERR=void 0,(dO=hO.ERR||(hO.ERR={})).controlCharacterInInputStream="control-character-in-input-stream",dO.noncharacterInInputStream="noncharacter-in-input-stream",dO.surrogateInInputStream="surrogate-in-input-stream",dO.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",dO.endTagWithAttributes="end-tag-with-attributes",dO.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",dO.unexpectedSolidusInTag="unexpected-solidus-in-tag",dO.unexpectedNullCharacter="unexpected-null-character",dO.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",dO.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",dO.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",dO.missingEndTagName="missing-end-tag-name",dO.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",dO.unknownNamedCharacterReference="unknown-named-character-reference",dO.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",dO.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",dO.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",dO.eofBeforeTagName="eof-before-tag-name",dO.eofInTag="eof-in-tag",dO.missingAttributeValue="missing-attribute-value",dO.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",dO.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",dO.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",dO.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",dO.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",dO.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",dO.missingDoctypePublicIdentifier="missing-doctype-public-identifier",dO.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",dO.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",dO.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",dO.cdataInHtmlContent="cdata-in-html-content",dO.incorrectlyOpenedComment="incorrectly-opened-comment",dO.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",dO.eofInDoctype="eof-in-doctype",dO.nestedComment="nested-comment",dO.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",dO.eofInComment="eof-in-comment",dO.incorrectlyClosedComment="incorrectly-closed-comment",dO.eofInCdata="eof-in-cdata",dO.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",dO.nullCharacterReference="null-character-reference",dO.surrogateCharacterReference="surrogate-character-reference",dO.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",dO.controlCharacterReference="control-character-reference",dO.noncharacterCharacterReference="noncharacter-character-reference",dO.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",dO.missingDoctypeName="missing-doctype-name",dO.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",dO.duplicateAttribute="duplicate-attribute",dO.nonConformingDoctype="non-conforming-doctype",dO.missingDoctype="missing-doctype",dO.misplacedDoctype="misplaced-doctype",dO.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",dO.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",dO.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",dO.openElementsLeftAfterEof="open-elements-left-after-eof",dO.abandonedHeadElementChild="abandoned-head-element-child",dO.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",dO.nestedNoscriptInHead="nested-noscript-in-head",dO.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text",Object.defineProperty(cO,"__esModule",{value:!0}),cO.Preprocessor=void 0;const fO=uO,mO=pO;let gO=function(){function e(t){d(this,e),this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}return f(e,[{key:"col",get:function(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}},{key:"offset",get:function(){return this.droppedBufferSize+this.pos}},{key:"getError",value:function(e){const{line:t,col:n,offset:r}=this;return{code:e,startLine:t,endLine:t,startCol:n,endCol:n,startOffset:r,endOffset:r}}},{key:"_err",value:function(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}},{key:"_addGap",value:function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}},{key:"_processSurrogate",value:function(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if((0,fO.isSurrogatePair)(t))return this.pos++,this._addGap(),(0,fO.getSurrogatePairCodePoint)(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,fO.CODE_POINTS.EOF;return this._err(mO.ERR.surrogateInInputStream),e}},{key:"willDropParsedChunk",value:function(){return this.pos>this.bufferWaterline}},{key:"dropParsedChunk",value:function(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}},{key:"write",value:function(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}},{key:"insertHtmlAtCurrentPos",value:function(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}},{key:"startsWith",value:function(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++)if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return!1;return!0}},{key:"peek",value:function(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,fO.CODE_POINTS.EOF;const n=this.html.charCodeAt(t);return n===fO.CODE_POINTS.CARRIAGE_RETURN?fO.CODE_POINTS.LINE_FEED:n}},{key:"advance",value:function(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,fO.CODE_POINTS.EOF;let e=this.html.charCodeAt(this.pos);return e===fO.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,fO.CODE_POINTS.LINE_FEED):e===fO.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,fO.isSurrogate)(e)&&(e=this._processSurrogate(e)),null===this.handler.onParseError||e>31&&e<127||e===fO.CODE_POINTS.LINE_FEED||e===fO.CODE_POINTS.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}},{key:"_checkForProblematicCharacters",value:function(e){(0,fO.isControlCodePoint)(e)?this._err(mO.ERR.controlCharacterInInputStream):(0,fO.isUndefinedCodePoint)(e)&&this._err(mO.ERR.noncharacterInInputStream)}},{key:"retreat",value:function(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}]),e}();cO.Preprocessor=gO;var bO={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenAttr=e.TokenType=void 0,(t=e.TokenType||(e.TokenType={}))[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION",e.getTokenAttr=function(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}}(bO);var vO={};(function(e){var t,n,r,i,o,a,s,l;Object.defineProperty(e,"__esModule",{value:!0}),e.hasUnescapedText=e.isNumberedHeader=e.SPECIAL_ELEMENTS=e.getTagID=e.TAG_ID=e.TAG_NAMES=e.DOCUMENT_MODE=e.ATTRS=e.NS=void 0,(n=t=e.NS||(e.NS={})).HTML="http://www.w3.org/1999/xhtml",n.MATHML="http://www.w3.org/1998/Math/MathML",n.SVG="http://www.w3.org/2000/svg",n.XLINK="http://www.w3.org/1999/xlink",n.XML="http://www.w3.org/XML/1998/namespace",n.XMLNS="http://www.w3.org/2000/xmlns/",(r=e.ATTRS||(e.ATTRS={})).TYPE="type",r.ACTION="action",r.ENCODING="encoding",r.PROMPT="prompt",r.NAME="name",r.COLOR="color",r.FACE="face",r.SIZE="size",(i=e.DOCUMENT_MODE||(e.DOCUMENT_MODE={})).NO_QUIRKS="no-quirks",i.QUIRKS="quirks",i.LIMITED_QUIRKS="limited-quirks",(a=o=e.TAG_NAMES||(e.TAG_NAMES={})).A="a",a.ADDRESS="address",a.ANNOTATION_XML="annotation-xml",a.APPLET="applet",a.AREA="area",a.ARTICLE="article",a.ASIDE="aside",a.B="b",a.BASE="base",a.BASEFONT="basefont",a.BGSOUND="bgsound",a.BIG="big",a.BLOCKQUOTE="blockquote",a.BODY="body",a.BR="br",a.BUTTON="button",a.CAPTION="caption",a.CENTER="center",a.CODE="code",a.COL="col",a.COLGROUP="colgroup",a.DD="dd",a.DESC="desc",a.DETAILS="details",a.DIALOG="dialog",a.DIR="dir",a.DIV="div",a.DL="dl",a.DT="dt",a.EM="em",a.EMBED="embed",a.FIELDSET="fieldset",a.FIGCAPTION="figcaption",a.FIGURE="figure",a.FONT="font",a.FOOTER="footer",a.FOREIGN_OBJECT="foreignObject",a.FORM="form",a.FRAME="frame",a.FRAMESET="frameset",a.H1="h1",a.H2="h2",a.H3="h3",a.H4="h4",a.H5="h5",a.H6="h6",a.HEAD="head",a.HEADER="header",a.HGROUP="hgroup",a.HR="hr",a.HTML="html",a.I="i",a.IMG="img",a.IMAGE="image",a.INPUT="input",a.IFRAME="iframe",a.KEYGEN="keygen",a.LABEL="label",a.LI="li",a.LINK="link",a.LISTING="listing",a.MAIN="main",a.MALIGNMARK="malignmark",a.MARQUEE="marquee",a.MATH="math",a.MENU="menu",a.META="meta",a.MGLYPH="mglyph",a.MI="mi",a.MO="mo",a.MN="mn",a.MS="ms",a.MTEXT="mtext",a.NAV="nav",a.NOBR="nobr",a.NOFRAMES="noframes",a.NOEMBED="noembed",a.NOSCRIPT="noscript",a.OBJECT="object",a.OL="ol",a.OPTGROUP="optgroup",a.OPTION="option",a.P="p",a.PARAM="param",a.PLAINTEXT="plaintext",a.PRE="pre",a.RB="rb",a.RP="rp",a.RT="rt",a.RTC="rtc",a.RUBY="ruby",a.S="s",a.SCRIPT="script",a.SECTION="section",a.SELECT="select",a.SOURCE="source",a.SMALL="small",a.SPAN="span",a.STRIKE="strike",a.STRONG="strong",a.STYLE="style",a.SUB="sub",a.SUMMARY="summary",a.SUP="sup",a.TABLE="table",a.TBODY="tbody",a.TEMPLATE="template",a.TEXTAREA="textarea",a.TFOOT="tfoot",a.TD="td",a.TH="th",a.THEAD="thead",a.TITLE="title",a.TR="tr",a.TRACK="track",a.TT="tt",a.U="u",a.UL="ul",a.SVG="svg",a.VAR="var",a.WBR="wbr",a.XMP="xmp",(l=s=e.TAG_ID||(e.TAG_ID={}))[l.UNKNOWN=0]="UNKNOWN",l[l.A=1]="A",l[l.ADDRESS=2]="ADDRESS",l[l.ANNOTATION_XML=3]="ANNOTATION_XML",l[l.APPLET=4]="APPLET",l[l.AREA=5]="AREA",l[l.ARTICLE=6]="ARTICLE",l[l.ASIDE=7]="ASIDE",l[l.B=8]="B",l[l.BASE=9]="BASE",l[l.BASEFONT=10]="BASEFONT",l[l.BGSOUND=11]="BGSOUND",l[l.BIG=12]="BIG",l[l.BLOCKQUOTE=13]="BLOCKQUOTE",l[l.BODY=14]="BODY",l[l.BR=15]="BR",l[l.BUTTON=16]="BUTTON",l[l.CAPTION=17]="CAPTION",l[l.CENTER=18]="CENTER",l[l.CODE=19]="CODE",l[l.COL=20]="COL",l[l.COLGROUP=21]="COLGROUP",l[l.DD=22]="DD",l[l.DESC=23]="DESC",l[l.DETAILS=24]="DETAILS",l[l.DIALOG=25]="DIALOG",l[l.DIR=26]="DIR",l[l.DIV=27]="DIV",l[l.DL=28]="DL",l[l.DT=29]="DT",l[l.EM=30]="EM",l[l.EMBED=31]="EMBED",l[l.FIELDSET=32]="FIELDSET",l[l.FIGCAPTION=33]="FIGCAPTION",l[l.FIGURE=34]="FIGURE",l[l.FONT=35]="FONT",l[l.FOOTER=36]="FOOTER",l[l.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",l[l.FORM=38]="FORM",l[l.FRAME=39]="FRAME",l[l.FRAMESET=40]="FRAMESET",l[l.H1=41]="H1",l[l.H2=42]="H2",l[l.H3=43]="H3",l[l.H4=44]="H4",l[l.H5=45]="H5",l[l.H6=46]="H6",l[l.HEAD=47]="HEAD",l[l.HEADER=48]="HEADER",l[l.HGROUP=49]="HGROUP",l[l.HR=50]="HR",l[l.HTML=51]="HTML",l[l.I=52]="I",l[l.IMG=53]="IMG",l[l.IMAGE=54]="IMAGE",l[l.INPUT=55]="INPUT",l[l.IFRAME=56]="IFRAME",l[l.KEYGEN=57]="KEYGEN",l[l.LABEL=58]="LABEL",l[l.LI=59]="LI",l[l.LINK=60]="LINK",l[l.LISTING=61]="LISTING",l[l.MAIN=62]="MAIN",l[l.MALIGNMARK=63]="MALIGNMARK",l[l.MARQUEE=64]="MARQUEE",l[l.MATH=65]="MATH",l[l.MENU=66]="MENU",l[l.META=67]="META",l[l.MGLYPH=68]="MGLYPH",l[l.MI=69]="MI",l[l.MO=70]="MO",l[l.MN=71]="MN",l[l.MS=72]="MS",l[l.MTEXT=73]="MTEXT",l[l.NAV=74]="NAV",l[l.NOBR=75]="NOBR",l[l.NOFRAMES=76]="NOFRAMES",l[l.NOEMBED=77]="NOEMBED",l[l.NOSCRIPT=78]="NOSCRIPT",l[l.OBJECT=79]="OBJECT",l[l.OL=80]="OL",l[l.OPTGROUP=81]="OPTGROUP",l[l.OPTION=82]="OPTION",l[l.P=83]="P",l[l.PARAM=84]="PARAM",l[l.PLAINTEXT=85]="PLAINTEXT",l[l.PRE=86]="PRE",l[l.RB=87]="RB",l[l.RP=88]="RP",l[l.RT=89]="RT",l[l.RTC=90]="RTC",l[l.RUBY=91]="RUBY",l[l.S=92]="S",l[l.SCRIPT=93]="SCRIPT",l[l.SECTION=94]="SECTION",l[l.SELECT=95]="SELECT",l[l.SOURCE=96]="SOURCE",l[l.SMALL=97]="SMALL",l[l.SPAN=98]="SPAN",l[l.STRIKE=99]="STRIKE",l[l.STRONG=100]="STRONG",l[l.STYLE=101]="STYLE",l[l.SUB=102]="SUB",l[l.SUMMARY=103]="SUMMARY",l[l.SUP=104]="SUP",l[l.TABLE=105]="TABLE",l[l.TBODY=106]="TBODY",l[l.TEMPLATE=107]="TEMPLATE",l[l.TEXTAREA=108]="TEXTAREA",l[l.TFOOT=109]="TFOOT",l[l.TD=110]="TD",l[l.TH=111]="TH",l[l.THEAD=112]="THEAD",l[l.TITLE=113]="TITLE",l[l.TR=114]="TR",l[l.TRACK=115]="TRACK",l[l.TT=116]="TT",l[l.U=117]="U",l[l.UL=118]="UL",l[l.SVG=119]="SVG",l[l.VAR=120]="VAR",l[l.WBR=121]="WBR",l[l.XMP=122]="XMP";const c=new Map([[o.A,s.A],[o.ADDRESS,s.ADDRESS],[o.ANNOTATION_XML,s.ANNOTATION_XML],[o.APPLET,s.APPLET],[o.AREA,s.AREA],[o.ARTICLE,s.ARTICLE],[o.ASIDE,s.ASIDE],[o.B,s.B],[o.BASE,s.BASE],[o.BASEFONT,s.BASEFONT],[o.BGSOUND,s.BGSOUND],[o.BIG,s.BIG],[o.BLOCKQUOTE,s.BLOCKQUOTE],[o.BODY,s.BODY],[o.BR,s.BR],[o.BUTTON,s.BUTTON],[o.CAPTION,s.CAPTION],[o.CENTER,s.CENTER],[o.CODE,s.CODE],[o.COL,s.COL],[o.COLGROUP,s.COLGROUP],[o.DD,s.DD],[o.DESC,s.DESC],[o.DETAILS,s.DETAILS],[o.DIALOG,s.DIALOG],[o.DIR,s.DIR],[o.DIV,s.DIV],[o.DL,s.DL],[o.DT,s.DT],[o.EM,s.EM],[o.EMBED,s.EMBED],[o.FIELDSET,s.FIELDSET],[o.FIGCAPTION,s.FIGCAPTION],[o.FIGURE,s.FIGURE],[o.FONT,s.FONT],[o.FOOTER,s.FOOTER],[o.FOREIGN_OBJECT,s.FOREIGN_OBJECT],[o.FORM,s.FORM],[o.FRAME,s.FRAME],[o.FRAMESET,s.FRAMESET],[o.H1,s.H1],[o.H2,s.H2],[o.H3,s.H3],[o.H4,s.H4],[o.H5,s.H5],[o.H6,s.H6],[o.HEAD,s.HEAD],[o.HEADER,s.HEADER],[o.HGROUP,s.HGROUP],[o.HR,s.HR],[o.HTML,s.HTML],[o.I,s.I],[o.IMG,s.IMG],[o.IMAGE,s.IMAGE],[o.INPUT,s.INPUT],[o.IFRAME,s.IFRAME],[o.KEYGEN,s.KEYGEN],[o.LABEL,s.LABEL],[o.LI,s.LI],[o.LINK,s.LINK],[o.LISTING,s.LISTING],[o.MAIN,s.MAIN],[o.MALIGNMARK,s.MALIGNMARK],[o.MARQUEE,s.MARQUEE],[o.MATH,s.MATH],[o.MENU,s.MENU],[o.META,s.META],[o.MGLYPH,s.MGLYPH],[o.MI,s.MI],[o.MO,s.MO],[o.MN,s.MN],[o.MS,s.MS],[o.MTEXT,s.MTEXT],[o.NAV,s.NAV],[o.NOBR,s.NOBR],[o.NOFRAMES,s.NOFRAMES],[o.NOEMBED,s.NOEMBED],[o.NOSCRIPT,s.NOSCRIPT],[o.OBJECT,s.OBJECT],[o.OL,s.OL],[o.OPTGROUP,s.OPTGROUP],[o.OPTION,s.OPTION],[o.P,s.P],[o.PARAM,s.PARAM],[o.PLAINTEXT,s.PLAINTEXT],[o.PRE,s.PRE],[o.RB,s.RB],[o.RP,s.RP],[o.RT,s.RT],[o.RTC,s.RTC],[o.RUBY,s.RUBY],[o.S,s.S],[o.SCRIPT,s.SCRIPT],[o.SECTION,s.SECTION],[o.SELECT,s.SELECT],[o.SOURCE,s.SOURCE],[o.SMALL,s.SMALL],[o.SPAN,s.SPAN],[o.STRIKE,s.STRIKE],[o.STRONG,s.STRONG],[o.STYLE,s.STYLE],[o.SUB,s.SUB],[o.SUMMARY,s.SUMMARY],[o.SUP,s.SUP],[o.TABLE,s.TABLE],[o.TBODY,s.TBODY],[o.TEMPLATE,s.TEMPLATE],[o.TEXTAREA,s.TEXTAREA],[o.TFOOT,s.TFOOT],[o.TD,s.TD],[o.TH,s.TH],[o.THEAD,s.THEAD],[o.TITLE,s.TITLE],[o.TR,s.TR],[o.TRACK,s.TRACK],[o.TT,s.TT],[o.U,s.U],[o.UL,s.UL],[o.SVG,s.SVG],[o.VAR,s.VAR],[o.WBR,s.WBR],[o.XMP,s.XMP]]);e.getTagID=function(e){var t;return null!==(t=c.get(e))&&void 0!==t?t:s.UNKNOWN};const u=s;e.SPECIAL_ELEMENTS={[t.HTML]:new Set([u.ADDRESS,u.APPLET,u.AREA,u.ARTICLE,u.ASIDE,u.BASE,u.BASEFONT,u.BGSOUND,u.BLOCKQUOTE,u.BODY,u.BR,u.BUTTON,u.CAPTION,u.CENTER,u.COL,u.COLGROUP,u.DD,u.DETAILS,u.DIR,u.DIV,u.DL,u.DT,u.EMBED,u.FIELDSET,u.FIGCAPTION,u.FIGURE,u.FOOTER,u.FORM,u.FRAME,u.FRAMESET,u.H1,u.H2,u.H3,u.H4,u.H5,u.H6,u.HEAD,u.HEADER,u.HGROUP,u.HR,u.HTML,u.IFRAME,u.IMG,u.INPUT,u.LI,u.LINK,u.LISTING,u.MAIN,u.MARQUEE,u.MENU,u.META,u.NAV,u.NOEMBED,u.NOFRAMES,u.NOSCRIPT,u.OBJECT,u.OL,u.P,u.PARAM,u.PLAINTEXT,u.PRE,u.SCRIPT,u.SECTION,u.SELECT,u.SOURCE,u.STYLE,u.SUMMARY,u.TABLE,u.TBODY,u.TD,u.TEMPLATE,u.TEXTAREA,u.TFOOT,u.TH,u.THEAD,u.TITLE,u.TR,u.TRACK,u.UL,u.WBR,u.XMP]),[t.MATHML]:new Set([u.MI,u.MO,u.MN,u.MS,u.MTEXT,u.ANNOTATION_XML]),[t.SVG]:new Set([u.TITLE,u.FOREIGN_OBJECT,u.DESC]),[t.XLINK]:new Set,[t.XML]:new Set,[t.XMLNS]:new Set},e.isNumberedHeader=function(e){return e===u.H1||e===u.H2||e===u.H3||e===u.H4||e===u.H5||e===u.H6};const h=new Set([o.STYLE,o.SCRIPT,o.XMP,o.IFRAME,o.NOEMBED,o.NOFRAMES,o.PLAINTEXT]);e.hasUnescapedText=function(e,t){return h.has(e)||t&&e===o.NOSCRIPT}})(vO),Object.defineProperty(lO,"__esModule",{value:!0}),lO.Tokenizer=lO.TokenizerMode=void 0;const yO=cO,TO=uO,_O=bO,EO=qS,xO=pO,wO=vO,SO=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var AO,kO;function CO(e){return e>=TO.CODE_POINTS.DIGIT_0&&e<=TO.CODE_POINTS.DIGIT_9}function IO(e){return e>=TO.CODE_POINTS.LATIN_CAPITAL_A&&e<=TO.CODE_POINTS.LATIN_CAPITAL_Z}function OO(e){return function(e){return e>=TO.CODE_POINTS.LATIN_SMALL_A&&e<=TO.CODE_POINTS.LATIN_SMALL_Z}(e)||IO(e)}function DO(e){return OO(e)||CO(e)}function PO(e){return e>=TO.CODE_POINTS.LATIN_CAPITAL_A&&e<=TO.CODE_POINTS.LATIN_CAPITAL_F}function NO(e){return e>=TO.CODE_POINTS.LATIN_SMALL_A&&e<=TO.CODE_POINTS.LATIN_SMALL_F}function RO(e){return e+32}function MO(e){return e===TO.CODE_POINTS.SPACE||e===TO.CODE_POINTS.LINE_FEED||e===TO.CODE_POINTS.TABULATION||e===TO.CODE_POINTS.FORM_FEED}function LO(e){return MO(e)||e===TO.CODE_POINTS.SOLIDUS||e===TO.CODE_POINTS.GREATER_THAN_SIGN}(kO=AO||(AO={}))[kO.DATA=0]="DATA",kO[kO.RCDATA=1]="RCDATA",kO[kO.RAWTEXT=2]="RAWTEXT",kO[kO.SCRIPT_DATA=3]="SCRIPT_DATA",kO[kO.PLAINTEXT=4]="PLAINTEXT",kO[kO.TAG_OPEN=5]="TAG_OPEN",kO[kO.END_TAG_OPEN=6]="END_TAG_OPEN",kO[kO.TAG_NAME=7]="TAG_NAME",kO[kO.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",kO[kO.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",kO[kO.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",kO[kO.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",kO[kO.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",kO[kO.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",kO[kO.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",kO[kO.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",kO[kO.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",kO[kO.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",kO[kO.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",kO[kO.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",kO[kO.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",kO[kO.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",kO[kO.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",kO[kO.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",kO[kO.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",kO[kO.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",kO[kO.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",kO[kO.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",kO[kO.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",kO[kO.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",kO[kO.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",kO[kO.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",kO[kO.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",kO[kO.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",kO[kO.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",kO[kO.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",kO[kO.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",kO[kO.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",kO[kO.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",kO[kO.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",kO[kO.BOGUS_COMMENT=40]="BOGUS_COMMENT",kO[kO.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",kO[kO.COMMENT_START=42]="COMMENT_START",kO[kO.COMMENT_START_DASH=43]="COMMENT_START_DASH",kO[kO.COMMENT=44]="COMMENT",kO[kO.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",kO[kO.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",kO[kO.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",kO[kO.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",kO[kO.COMMENT_END_DASH=49]="COMMENT_END_DASH",kO[kO.COMMENT_END=50]="COMMENT_END",kO[kO.COMMENT_END_BANG=51]="COMMENT_END_BANG",kO[kO.DOCTYPE=52]="DOCTYPE",kO[kO.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",kO[kO.DOCTYPE_NAME=54]="DOCTYPE_NAME",kO[kO.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",kO[kO.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",kO[kO.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",kO[kO.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",kO[kO.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",kO[kO.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",kO[kO.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",kO[kO.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",kO[kO.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",kO[kO.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",kO[kO.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",kO[kO.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",kO[kO.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",kO[kO.CDATA_SECTION=68]="CDATA_SECTION",kO[kO.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",kO[kO.CDATA_SECTION_END=70]="CDATA_SECTION_END",kO[kO.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",kO[kO.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",kO[kO.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",kO[kO.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",kO[kO.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",kO[kO.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",kO[kO.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",kO[kO.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END",lO.TokenizerMode={DATA:AO.DATA,RCDATA:AO.RCDATA,RAWTEXT:AO.RAWTEXT,SCRIPT_DATA:AO.SCRIPT_DATA,PLAINTEXT:AO.PLAINTEXT,CDATA_SECTION:AO.CDATA_SECTION};let BO=function(){function e(t,n){d(this,e),this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=AO.DATA,this.returnState=AO.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new yO.Preprocessor(n),this.currentLocation=this.getCurrentLocation(-1)}return f(e,[{key:"_err",value:function(e){var t,n;null===(n=(t=this.handler).onParseError)||void 0===n||n.call(t,this.preprocessor.getError(e))}},{key:"getCurrentLocation",value:function(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}},{key:"_runParsingLoop",value:function(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e())}},{key:"write",value:function(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==n||n()}},{key:"insertHtmlAtCurrentPos",value:function(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}},{key:"_ensureHibernation",value:function(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}},{key:"_consume",value:function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}},{key:"_unconsume",value:function(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}},{key:"_reconsumeInState",value:function(e,t){this.state=e,this._callState(t)}},{key:"_advanceBy",value:function(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}},{key:"_consumeSequenceIfMatch",value:function(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}},{key:"_createStartTagToken",value:function(){this.currentToken={type:_O.TokenType.START_TAG,tagName:"",tagID:wO.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}},{key:"_createEndTagToken",value:function(){this.currentToken={type:_O.TokenType.END_TAG,tagName:"",tagID:wO.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}},{key:"_createCommentToken",value:function(e){this.currentToken={type:_O.TokenType.COMMENT,data:"",location:this.getCurrentLocation(e)}}},{key:"_createDoctypeToken",value:function(e){this.currentToken={type:_O.TokenType.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}},{key:"_createCharacterToken",value:function(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}},{key:"_createAttr",value:function(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}},{key:"_leaveAttrName",value:function(){var e,t;const n=this.currentToken;null===(0,_O.getTokenAttr)(n,this.currentAttr.name)?(n.attrs.push(this.currentAttr),n.location&&this.currentLocation&&((null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(xO.ERR.duplicateAttribute)}},{key:"_leaveAttrValue",value:function(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}},{key:"prepareToken",value:function(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}},{key:"emitCurrentTagToken",value:function(){const e=this.currentToken;this.prepareToken(e),e.tagID=(0,wO.getTagID)(e.tagName),e.type===_O.TokenType.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(xO.ERR.endTagWithAttributes),e.selfClosing&&this._err(xO.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentComment",value:function(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentDoctype",value:function(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}},{key:"_emitCurrentCharacterToken",value:function(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case _O.TokenType.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case _O.TokenType.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case _O.TokenType.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}},{key:"_emitEOFToken",value:function(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:_O.TokenType.EOF,location:e}),this.active=!1}},{key:"_appendCharToCurrentCharacterToken",value:function(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}},{key:"_emitCodePoint",value:function(e){const t=MO(e)?_O.TokenType.WHITESPACE_CHARACTER:e===TO.CODE_POINTS.NULL?_O.TokenType.NULL_CHARACTER:_O.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}},{key:"_emitChars",value:function(e){this._appendCharToCurrentCharacterToken(_O.TokenType.CHARACTER,e)}},{key:"_matchNamedCharacterReference",value:function(e){let t=null,n=0,r=!1;for(let o=0,a=EO.htmlDecodeTree[0];o>=0&&(o=(0,EO.determineBranch)(EO.htmlDecodeTree,a,o+1,e),!(o<0));e=this._consume()){n+=1,a=EO.htmlDecodeTree[o];const s=a&EO.BinTrieFlags.VALUE_LENGTH;if(s){const a=(s>>14)-1;if(e!==TO.CODE_POINTS.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((i=this.preprocessor.peek(1))===TO.CODE_POINTS.EQUALS_SIGN||DO(i))?(t=[TO.CODE_POINTS.AMPERSAND],o+=a):(t=0===a?[EO.htmlDecodeTree[o]&~EO.BinTrieFlags.VALUE_LENGTH]:1===a?[EO.htmlDecodeTree[++o]]:[EO.htmlDecodeTree[++o],EO.htmlDecodeTree[++o]],n=0,r=e!==TO.CODE_POINTS.SEMICOLON),0===a){this._consume();break}}}var i;return this._unconsume(n),r&&!this.preprocessor.endOfChunkHit&&this._err(xO.ERR.missingSemicolonAfterCharacterReference),this._unconsume(1),t}},{key:"_isCharacterReferenceInAttribute",value:function(){return this.returnState===AO.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===AO.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===AO.ATTRIBUTE_VALUE_UNQUOTED}},{key:"_flushCodePointConsumedAsCharacterReference",value:function(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}},{key:"_callState",value:function(e){switch(this.state){case AO.DATA:this._stateData(e);break;case AO.RCDATA:this._stateRcdata(e);break;case AO.RAWTEXT:this._stateRawtext(e);break;case AO.SCRIPT_DATA:this._stateScriptData(e);break;case AO.PLAINTEXT:this._statePlaintext(e);break;case AO.TAG_OPEN:this._stateTagOpen(e);break;case AO.END_TAG_OPEN:this._stateEndTagOpen(e);break;case AO.TAG_NAME:this._stateTagName(e);break;case AO.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case AO.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case AO.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case AO.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case AO.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case AO.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case AO.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case AO.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case AO.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case AO.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case AO.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case AO.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case AO.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case AO.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case AO.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case AO.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case AO.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case AO.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case AO.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case AO.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case AO.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case AO.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case AO.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case AO.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case AO.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case AO.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case AO.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case AO.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case AO.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case AO.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case AO.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case AO.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case AO.BOGUS_COMMENT:this._stateBogusComment(e);break;case AO.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case AO.COMMENT_START:this._stateCommentStart(e);break;case AO.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case AO.COMMENT:this._stateComment(e);break;case AO.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case AO.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case AO.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case AO.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case AO.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case AO.COMMENT_END:this._stateCommentEnd(e);break;case AO.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case AO.DOCTYPE:this._stateDoctype(e);break;case AO.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case AO.DOCTYPE_NAME:this._stateDoctypeName(e);break;case AO.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case AO.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case AO.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case AO.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case AO.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case AO.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case AO.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case AO.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case AO.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case AO.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case AO.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case AO.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case AO.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case AO.CDATA_SECTION:this._stateCdataSection(e);break;case AO.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case AO.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case AO.CHARACTER_REFERENCE:this._stateCharacterReference(e);break;case AO.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(e);break;case AO.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;case AO.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(e);break;case AO.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(e);break;case AO.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(e);break;case AO.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(e);break;case AO.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(e);break;default:throw new Error("Unknown state")}}},{key:"_stateData",value:function(e){switch(e){case TO.CODE_POINTS.LESS_THAN_SIGN:this.state=AO.TAG_OPEN;break;case TO.CODE_POINTS.AMPERSAND:this.returnState=AO.DATA,this.state=AO.CHARACTER_REFERENCE;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this._emitCodePoint(e);break;case TO.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateRcdata",value:function(e){switch(e){case TO.CODE_POINTS.AMPERSAND:this.returnState=AO.RCDATA,this.state=AO.CHARACTER_REFERENCE;break;case TO.CODE_POINTS.LESS_THAN_SIGN:this.state=AO.RCDATA_LESS_THAN_SIGN;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this._emitChars(TO.REPLACEMENT_CHARACTER);break;case TO.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateRawtext",value:function(e){switch(e){case TO.CODE_POINTS.LESS_THAN_SIGN:this.state=AO.RAWTEXT_LESS_THAN_SIGN;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this._emitChars(TO.REPLACEMENT_CHARACTER);break;case TO.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateScriptData",value:function(e){switch(e){case TO.CODE_POINTS.LESS_THAN_SIGN:this.state=AO.SCRIPT_DATA_LESS_THAN_SIGN;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this._emitChars(TO.REPLACEMENT_CHARACTER);break;case TO.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_statePlaintext",value:function(e){switch(e){case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this._emitChars(TO.REPLACEMENT_CHARACTER);break;case TO.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateTagOpen",value:function(e){if(OO(e))this._createStartTagToken(),this.state=AO.TAG_NAME,this._stateTagName(e);else switch(e){case TO.CODE_POINTS.EXCLAMATION_MARK:this.state=AO.MARKUP_DECLARATION_OPEN;break;case TO.CODE_POINTS.SOLIDUS:this.state=AO.END_TAG_OPEN;break;case TO.CODE_POINTS.QUESTION_MARK:this._err(xO.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=AO.BOGUS_COMMENT,this._stateBogusComment(e);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(xO.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=AO.DATA,this._stateData(e)}}},{key:"_stateEndTagOpen",value:function(e){if(OO(e))this._createEndTagToken(),this.state=AO.TAG_NAME,this._stateTagName(e);else switch(e){case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.missingEndTagName),this.state=AO.DATA;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(xO.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=AO.BOGUS_COMMENT,this._stateBogusComment(e)}}},{key:"_stateTagName",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:this.state=AO.BEFORE_ATTRIBUTE_NAME;break;case TO.CODE_POINTS.SOLIDUS:this.state=AO.SELF_CLOSING_START_TAG;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.DATA,this.emitCurrentTagToken();break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),t.tagName+=TO.REPLACEMENT_CHARACTER;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(IO(e)?RO(e):e)}}},{key:"_stateRcdataLessThanSign",value:function(e){e===TO.CODE_POINTS.SOLIDUS?this.state=AO.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=AO.RCDATA,this._stateRcdata(e))}},{key:"_stateRcdataEndTagOpen",value:function(e){OO(e)?(this.state=AO.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=AO.RCDATA,this._stateRcdata(e))}},{key:"handleSpecialEndTag",value:function(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=AO.BEFORE_ATTRIBUTE_NAME,!1;case TO.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=AO.SELF_CLOSING_START_TAG,!1;case TO.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=AO.DATA,!1;default:return!this._ensureHibernation()}}},{key:"_stateRcdataEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=AO.RCDATA,this._stateRcdata(e))}},{key:"_stateRawtextLessThanSign",value:function(e){e===TO.CODE_POINTS.SOLIDUS?this.state=AO.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=AO.RAWTEXT,this._stateRawtext(e))}},{key:"_stateRawtextEndTagOpen",value:function(e){OO(e)?(this.state=AO.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=AO.RAWTEXT,this._stateRawtext(e))}},{key:"_stateRawtextEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=AO.RAWTEXT,this._stateRawtext(e))}},{key:"_stateScriptDataLessThanSign",value:function(e){switch(e){case TO.CODE_POINTS.SOLIDUS:this.state=AO.SCRIPT_DATA_END_TAG_OPEN;break;case TO.CODE_POINTS.EXCLAMATION_MARK:this.state=AO.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=AO.SCRIPT_DATA,this._stateScriptData(e)}}},{key:"_stateScriptDataEndTagOpen",value:function(e){OO(e)?(this.state=AO.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=AO.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=AO.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEscapeStart",value:function(e){e===TO.CODE_POINTS.HYPHEN_MINUS?(this.state=AO.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=AO.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEscapeStartDash",value:function(e){e===TO.CODE_POINTS.HYPHEN_MINUS?(this.state=AO.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=AO.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEscaped",value:function(e){switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:this.state=AO.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case TO.CODE_POINTS.LESS_THAN_SIGN:this.state=AO.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this._emitChars(TO.REPLACEMENT_CHARACTER);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateScriptDataEscapedDash",value:function(e){switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:this.state=AO.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case TO.CODE_POINTS.LESS_THAN_SIGN:this.state=AO.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this.state=AO.SCRIPT_DATA_ESCAPED,this._emitChars(TO.REPLACEMENT_CHARACTER);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=AO.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataEscapedDashDash",value:function(e){switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case TO.CODE_POINTS.LESS_THAN_SIGN:this.state=AO.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.SCRIPT_DATA,this._emitChars(">");break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this.state=AO.SCRIPT_DATA_ESCAPED,this._emitChars(TO.REPLACEMENT_CHARACTER);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=AO.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataEscapedLessThanSign",value:function(e){e===TO.CODE_POINTS.SOLIDUS?this.state=AO.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:OO(e)?(this._emitChars("<"),this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=AO.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataEscapedEndTagOpen",value:function(e){OO(e)?(this.state=AO.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=AO.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataEscapedEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=AO.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataDoubleEscapeStart",value:function(e){if(this.preprocessor.startsWith(TO.SEQUENCES.SCRIPT,!1)&&LO(this.preprocessor.peek(TO.SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let e=0;e<TO.SEQUENCES.SCRIPT.length;e++)this._emitCodePoint(this._consume());this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=AO.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataDoubleEscaped",value:function(e){switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case TO.CODE_POINTS.LESS_THAN_SIGN:this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this._emitChars(TO.REPLACEMENT_CHARACTER);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateScriptDataDoubleEscapedDash",value:function(e){switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case TO.CODE_POINTS.LESS_THAN_SIGN:this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(TO.REPLACEMENT_CHARACTER);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataDoubleEscapedDashDash",value:function(e){switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case TO.CODE_POINTS.LESS_THAN_SIGN:this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.SCRIPT_DATA,this._emitChars(">");break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(TO.REPLACEMENT_CHARACTER);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataDoubleEscapedLessThanSign",value:function(e){e===TO.CODE_POINTS.SOLIDUS?(this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}},{key:"_stateScriptDataDoubleEscapeEnd",value:function(e){if(this.preprocessor.startsWith(TO.SEQUENCES.SCRIPT,!1)&&LO(this.preprocessor.peek(TO.SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let e=0;e<TO.SEQUENCES.SCRIPT.length;e++)this._emitCodePoint(this._consume());this.state=AO.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=AO.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}},{key:"_stateBeforeAttributeName",value:function(e){switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:break;case TO.CODE_POINTS.SOLIDUS:case TO.CODE_POINTS.GREATER_THAN_SIGN:case TO.CODE_POINTS.EOF:this.state=AO.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case TO.CODE_POINTS.EQUALS_SIGN:this._err(xO.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=AO.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=AO.ATTRIBUTE_NAME,this._stateAttributeName(e)}}},{key:"_stateAttributeName",value:function(e){switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:case TO.CODE_POINTS.SOLIDUS:case TO.CODE_POINTS.GREATER_THAN_SIGN:case TO.CODE_POINTS.EOF:this._leaveAttrName(),this.state=AO.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case TO.CODE_POINTS.EQUALS_SIGN:this._leaveAttrName(),this.state=AO.BEFORE_ATTRIBUTE_VALUE;break;case TO.CODE_POINTS.QUOTATION_MARK:case TO.CODE_POINTS.APOSTROPHE:case TO.CODE_POINTS.LESS_THAN_SIGN:this._err(xO.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this.currentAttr.name+=TO.REPLACEMENT_CHARACTER;break;default:this.currentAttr.name+=String.fromCodePoint(IO(e)?RO(e):e)}}},{key:"_stateAfterAttributeName",value:function(e){switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:break;case TO.CODE_POINTS.SOLIDUS:this.state=AO.SELF_CLOSING_START_TAG;break;case TO.CODE_POINTS.EQUALS_SIGN:this.state=AO.BEFORE_ATTRIBUTE_VALUE;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.DATA,this.emitCurrentTagToken();break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=AO.ATTRIBUTE_NAME,this._stateAttributeName(e)}}},{key:"_stateBeforeAttributeValue",value:function(e){switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:break;case TO.CODE_POINTS.QUOTATION_MARK:this.state=AO.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case TO.CODE_POINTS.APOSTROPHE:this.state=AO.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.missingAttributeValue),this.state=AO.DATA,this.emitCurrentTagToken();break;default:this.state=AO.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}},{key:"_stateAttributeValueDoubleQuoted",value:function(e){switch(e){case TO.CODE_POINTS.QUOTATION_MARK:this.state=AO.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case TO.CODE_POINTS.AMPERSAND:this.returnState=AO.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=AO.CHARACTER_REFERENCE;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this.currentAttr.value+=TO.REPLACEMENT_CHARACTER;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}},{key:"_stateAttributeValueSingleQuoted",value:function(e){switch(e){case TO.CODE_POINTS.APOSTROPHE:this.state=AO.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case TO.CODE_POINTS.AMPERSAND:this.returnState=AO.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=AO.CHARACTER_REFERENCE;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this.currentAttr.value+=TO.REPLACEMENT_CHARACTER;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}},{key:"_stateAttributeValueUnquoted",value:function(e){switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=AO.BEFORE_ATTRIBUTE_NAME;break;case TO.CODE_POINTS.AMPERSAND:this.returnState=AO.ATTRIBUTE_VALUE_UNQUOTED,this.state=AO.CHARACTER_REFERENCE;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=AO.DATA,this.emitCurrentTagToken();break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this.currentAttr.value+=TO.REPLACEMENT_CHARACTER;break;case TO.CODE_POINTS.QUOTATION_MARK:case TO.CODE_POINTS.APOSTROPHE:case TO.CODE_POINTS.LESS_THAN_SIGN:case TO.CODE_POINTS.EQUALS_SIGN:case TO.CODE_POINTS.GRAVE_ACCENT:this._err(xO.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}},{key:"_stateAfterAttributeValueQuoted",value:function(e){switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=AO.BEFORE_ATTRIBUTE_NAME;break;case TO.CODE_POINTS.SOLIDUS:this._leaveAttrValue(),this.state=AO.SELF_CLOSING_START_TAG;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=AO.DATA,this.emitCurrentTagToken();break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInTag),this._emitEOFToken();break;default:this._err(xO.ERR.missingWhitespaceBetweenAttributes),this.state=AO.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}},{key:"_stateSelfClosingStartTag",value:function(e){switch(e){case TO.CODE_POINTS.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=AO.DATA,this.emitCurrentTagToken();break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInTag),this._emitEOFToken();break;default:this._err(xO.ERR.unexpectedSolidusInTag),this.state=AO.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}},{key:"_stateBogusComment",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.DATA,this.emitCurrentComment(t);break;case TO.CODE_POINTS.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),t.data+=TO.REPLACEMENT_CHARACTER;break;default:t.data+=String.fromCodePoint(e)}}},{key:"_stateMarkupDeclarationOpen",value:function(e){this._consumeSequenceIfMatch(TO.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(TO.SEQUENCES.DASH_DASH.length+1),this.state=AO.COMMENT_START):this._consumeSequenceIfMatch(TO.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(TO.SEQUENCES.DOCTYPE.length+1),this.state=AO.DOCTYPE):this._consumeSequenceIfMatch(TO.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=AO.CDATA_SECTION:(this._err(xO.ERR.cdataInHtmlContent),this._createCommentToken(TO.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=AO.BOGUS_COMMENT):this._ensureHibernation()||(this._err(xO.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=AO.BOGUS_COMMENT,this._stateBogusComment(e))}},{key:"_stateCommentStart",value:function(e){switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:this.state=AO.COMMENT_START_DASH;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:{this._err(xO.ERR.abruptClosingOfEmptyComment),this.state=AO.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=AO.COMMENT,this._stateComment(e)}}},{key:"_stateCommentStartDash",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:this.state=AO.COMMENT_END;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.abruptClosingOfEmptyComment),this.state=AO.DATA,this.emitCurrentComment(t);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=AO.COMMENT,this._stateComment(e)}}},{key:"_stateComment",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:this.state=AO.COMMENT_END_DASH;break;case TO.CODE_POINTS.LESS_THAN_SIGN:t.data+="<",this.state=AO.COMMENT_LESS_THAN_SIGN;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),t.data+=TO.REPLACEMENT_CHARACTER;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}},{key:"_stateCommentLessThanSign",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.EXCLAMATION_MARK:t.data+="!",this.state=AO.COMMENT_LESS_THAN_SIGN_BANG;break;case TO.CODE_POINTS.LESS_THAN_SIGN:t.data+="<";break;default:this.state=AO.COMMENT,this._stateComment(e)}}},{key:"_stateCommentLessThanSignBang",value:function(e){e===TO.CODE_POINTS.HYPHEN_MINUS?this.state=AO.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=AO.COMMENT,this._stateComment(e))}},{key:"_stateCommentLessThanSignBangDash",value:function(e){e===TO.CODE_POINTS.HYPHEN_MINUS?this.state=AO.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=AO.COMMENT_END_DASH,this._stateCommentEndDash(e))}},{key:"_stateCommentLessThanSignBangDashDash",value:function(e){e!==TO.CODE_POINTS.GREATER_THAN_SIGN&&e!==TO.CODE_POINTS.EOF&&this._err(xO.ERR.nestedComment),this.state=AO.COMMENT_END,this._stateCommentEnd(e)}},{key:"_stateCommentEndDash",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:this.state=AO.COMMENT_END;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=AO.COMMENT,this._stateComment(e)}}},{key:"_stateCommentEnd",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.DATA,this.emitCurrentComment(t);break;case TO.CODE_POINTS.EXCLAMATION_MARK:this.state=AO.COMMENT_END_BANG;break;case TO.CODE_POINTS.HYPHEN_MINUS:t.data+="-";break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=AO.COMMENT,this._stateComment(e)}}},{key:"_stateCommentEndBang",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.HYPHEN_MINUS:t.data+="--!",this.state=AO.COMMENT_END_DASH;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.incorrectlyClosedComment),this.state=AO.DATA,this.emitCurrentComment(t);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=AO.COMMENT,this._stateComment(e)}}},{key:"_stateDoctype",value:function(e){switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:this.state=AO.BEFORE_DOCTYPE_NAME;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case TO.CODE_POINTS.EOF:{this._err(xO.ERR.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(xO.ERR.missingWhitespaceBeforeDoctypeName),this.state=AO.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}},{key:"_stateBeforeDoctypeName",value:function(e){if(IO(e))this._createDoctypeToken(String.fromCharCode(RO(e))),this.state=AO.DOCTYPE_NAME;else switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),this._createDoctypeToken(TO.REPLACEMENT_CHARACTER),this.state=AO.DOCTYPE_NAME;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:{this._err(xO.ERR.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=AO.DATA;break}case TO.CODE_POINTS.EOF:{this._err(xO.ERR.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=AO.DOCTYPE_NAME}}},{key:"_stateDoctypeName",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:this.state=AO.AFTER_DOCTYPE_NAME;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.DATA,this.emitCurrentDoctype(t);break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),t.name+=TO.REPLACEMENT_CHARACTER;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(IO(e)?RO(e):e)}}},{key:"_stateAfterDoctypeName",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.DATA,this.emitCurrentDoctype(t);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(TO.SEQUENCES.PUBLIC,!1)?this.state=AO.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(TO.SEQUENCES.SYSTEM,!1)?this.state=AO.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(xO.ERR.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=AO.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}},{key:"_stateAfterDoctypePublicKeyword",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:this.state=AO.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case TO.CODE_POINTS.QUOTATION_MARK:this._err(xO.ERR.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=AO.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case TO.CODE_POINTS.APOSTROPHE:this._err(xO.ERR.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=AO.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=AO.DATA,this.emitCurrentDoctype(t);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(xO.ERR.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=AO.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBeforeDoctypePublicIdentifier",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:break;case TO.CODE_POINTS.QUOTATION_MARK:t.publicId="",this.state=AO.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case TO.CODE_POINTS.APOSTROPHE:t.publicId="",this.state=AO.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=AO.DATA,this.emitCurrentDoctype(t);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(xO.ERR.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=AO.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateDoctypePublicIdentifierDoubleQuoted",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.QUOTATION_MARK:this.state=AO.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),t.publicId+=TO.REPLACEMENT_CHARACTER;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=AO.DATA;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}},{key:"_stateDoctypePublicIdentifierSingleQuoted",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.APOSTROPHE:this.state=AO.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),t.publicId+=TO.REPLACEMENT_CHARACTER;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=AO.DATA;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}},{key:"_stateAfterDoctypePublicIdentifier",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:this.state=AO.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.DATA,this.emitCurrentDoctype(t);break;case TO.CODE_POINTS.QUOTATION_MARK:this._err(xO.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=AO.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case TO.CODE_POINTS.APOSTROPHE:this._err(xO.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=AO.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(xO.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=AO.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBetweenDoctypePublicAndSystemIdentifiers",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=AO.DATA;break;case TO.CODE_POINTS.QUOTATION_MARK:t.systemId="",this.state=AO.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case TO.CODE_POINTS.APOSTROPHE:t.systemId="",this.state=AO.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(xO.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=AO.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateAfterDoctypeSystemKeyword",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:this.state=AO.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case TO.CODE_POINTS.QUOTATION_MARK:this._err(xO.ERR.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=AO.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case TO.CODE_POINTS.APOSTROPHE:this._err(xO.ERR.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=AO.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=AO.DATA,this.emitCurrentDoctype(t);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(xO.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=AO.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBeforeDoctypeSystemIdentifier",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:break;case TO.CODE_POINTS.QUOTATION_MARK:t.systemId="",this.state=AO.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case TO.CODE_POINTS.APOSTROPHE:t.systemId="",this.state=AO.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=AO.DATA,this.emitCurrentDoctype(t);break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(xO.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=AO.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateDoctypeSystemIdentifierDoubleQuoted",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.QUOTATION_MARK:this.state=AO.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),t.systemId+=TO.REPLACEMENT_CHARACTER;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=AO.DATA;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}},{key:"_stateDoctypeSystemIdentifierSingleQuoted",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.APOSTROPHE:this.state=AO.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter),t.systemId+=TO.REPLACEMENT_CHARACTER;break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this._err(xO.ERR.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=AO.DATA;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}},{key:"_stateAfterDoctypeSystemIdentifier",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.SPACE:case TO.CODE_POINTS.LINE_FEED:case TO.CODE_POINTS.TABULATION:case TO.CODE_POINTS.FORM_FEED:break;case TO.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=AO.DATA;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(xO.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=AO.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBogusDoctype",value:function(e){const t=this.currentToken;switch(e){case TO.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=AO.DATA;break;case TO.CODE_POINTS.NULL:this._err(xO.ERR.unexpectedNullCharacter);break;case TO.CODE_POINTS.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}},{key:"_stateCdataSection",value:function(e){switch(e){case TO.CODE_POINTS.RIGHT_SQUARE_BRACKET:this.state=AO.CDATA_SECTION_BRACKET;break;case TO.CODE_POINTS.EOF:this._err(xO.ERR.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateCdataSectionBracket",value:function(e){e===TO.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=AO.CDATA_SECTION_END:(this._emitChars("]"),this.state=AO.CDATA_SECTION,this._stateCdataSection(e))}},{key:"_stateCdataSectionEnd",value:function(e){switch(e){case TO.CODE_POINTS.GREATER_THAN_SIGN:this.state=AO.DATA;break;case TO.CODE_POINTS.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=AO.CDATA_SECTION,this._stateCdataSection(e)}}},{key:"_stateCharacterReference",value:function(e){e===TO.CODE_POINTS.NUMBER_SIGN?this.state=AO.NUMERIC_CHARACTER_REFERENCE:DO(e)?(this.state=AO.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(TO.CODE_POINTS.AMPERSAND),this._reconsumeInState(this.returnState,e))}},{key:"_stateNamedCharacterReference",value:function(e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation());else if(t){for(let e=0;e<t.length;e++)this._flushCodePointConsumedAsCharacterReference(t[e]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(TO.CODE_POINTS.AMPERSAND),this.state=AO.AMBIGUOUS_AMPERSAND}},{key:"_stateAmbiguousAmpersand",value:function(e){DO(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===TO.CODE_POINTS.SEMICOLON&&this._err(xO.ERR.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}},{key:"_stateNumericCharacterReference",value:function(e){this.charRefCode=0,e===TO.CODE_POINTS.LATIN_SMALL_X||e===TO.CODE_POINTS.LATIN_CAPITAL_X?this.state=AO.HEXADEMICAL_CHARACTER_REFERENCE_START:CO(e)?(this.state=AO.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(xO.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(TO.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(TO.CODE_POINTS.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}},{key:"_stateHexademicalCharacterReferenceStart",value:function(e){!function(e){return CO(e)||PO(e)||NO(e)}(e)?(this._err(xO.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(TO.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(TO.CODE_POINTS.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState):(this.state=AO.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e))}},{key:"_stateHexademicalCharacterReference",value:function(e){PO(e)?this.charRefCode=16*this.charRefCode+e-55:NO(e)?this.charRefCode=16*this.charRefCode+e-87:CO(e)?this.charRefCode=16*this.charRefCode+e-48:e===TO.CODE_POINTS.SEMICOLON?this.state=AO.NUMERIC_CHARACTER_REFERENCE_END:(this._err(xO.ERR.missingSemicolonAfterCharacterReference),this.state=AO.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}},{key:"_stateDecimalCharacterReference",value:function(e){CO(e)?this.charRefCode=10*this.charRefCode+e-48:e===TO.CODE_POINTS.SEMICOLON?this.state=AO.NUMERIC_CHARACTER_REFERENCE_END:(this._err(xO.ERR.missingSemicolonAfterCharacterReference),this.state=AO.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}},{key:"_stateNumericCharacterReferenceEnd",value:function(e){if(this.charRefCode===TO.CODE_POINTS.NULL)this._err(xO.ERR.nullCharacterReference),this.charRefCode=TO.CODE_POINTS.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(xO.ERR.characterReferenceOutsideUnicodeRange),this.charRefCode=TO.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,TO.isSurrogate)(this.charRefCode))this._err(xO.ERR.surrogateCharacterReference),this.charRefCode=TO.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,TO.isUndefinedCodePoint)(this.charRefCode))this._err(xO.ERR.noncharacterCharacterReference);else if((0,TO.isControlCodePoint)(this.charRefCode)||this.charRefCode===TO.CODE_POINTS.CARRIAGE_RETURN){this._err(xO.ERR.controlCharacterReference);const e=SO.get(this.charRefCode);void 0!==e&&(this.charRefCode=e)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}}]),e}();lO.Tokenizer=BO;var FO={};Object.defineProperty(FO,"__esModule",{value:!0}),FO.OpenElementStack=void 0;const UO=vO,jO=new Set([UO.TAG_ID.DD,UO.TAG_ID.DT,UO.TAG_ID.LI,UO.TAG_ID.OPTGROUP,UO.TAG_ID.OPTION,UO.TAG_ID.P,UO.TAG_ID.RB,UO.TAG_ID.RP,UO.TAG_ID.RT,UO.TAG_ID.RTC]),HO=new Set([...jO,UO.TAG_ID.CAPTION,UO.TAG_ID.COLGROUP,UO.TAG_ID.TBODY,UO.TAG_ID.TD,UO.TAG_ID.TFOOT,UO.TAG_ID.TH,UO.TAG_ID.THEAD,UO.TAG_ID.TR]),GO=new Map([[UO.TAG_ID.APPLET,UO.NS.HTML],[UO.TAG_ID.CAPTION,UO.NS.HTML],[UO.TAG_ID.HTML,UO.NS.HTML],[UO.TAG_ID.MARQUEE,UO.NS.HTML],[UO.TAG_ID.OBJECT,UO.NS.HTML],[UO.TAG_ID.TABLE,UO.NS.HTML],[UO.TAG_ID.TD,UO.NS.HTML],[UO.TAG_ID.TEMPLATE,UO.NS.HTML],[UO.TAG_ID.TH,UO.NS.HTML],[UO.TAG_ID.ANNOTATION_XML,UO.NS.MATHML],[UO.TAG_ID.MI,UO.NS.MATHML],[UO.TAG_ID.MN,UO.NS.MATHML],[UO.TAG_ID.MO,UO.NS.MATHML],[UO.TAG_ID.MS,UO.NS.MATHML],[UO.TAG_ID.MTEXT,UO.NS.MATHML],[UO.TAG_ID.DESC,UO.NS.SVG],[UO.TAG_ID.FOREIGN_OBJECT,UO.NS.SVG],[UO.TAG_ID.TITLE,UO.NS.SVG]]),zO=[UO.TAG_ID.H1,UO.TAG_ID.H2,UO.TAG_ID.H3,UO.TAG_ID.H4,UO.TAG_ID.H5,UO.TAG_ID.H6],VO=[UO.TAG_ID.TR,UO.TAG_ID.TEMPLATE,UO.TAG_ID.HTML],YO=[UO.TAG_ID.TBODY,UO.TAG_ID.TFOOT,UO.TAG_ID.THEAD,UO.TAG_ID.TEMPLATE,UO.TAG_ID.HTML],$O=[UO.TAG_ID.TABLE,UO.TAG_ID.TEMPLATE,UO.TAG_ID.HTML],XO=[UO.TAG_ID.TD,UO.TAG_ID.TH];let WO=function(){function e(t,n,r){d(this,e),this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=UO.TAG_ID.UNKNOWN,this.current=t}return f(e,[{key:"currentTmplContentOrNode",get:function(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}},{key:"_indexOf",value:function(e){return this.items.lastIndexOf(e,this.stackTop)}},{key:"_isInTemplate",value:function(){return this.currentTagId===UO.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===UO.NS.HTML}},{key:"_updateCurrentElement",value:function(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}},{key:"push",value:function(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}},{key:"pop",value:function(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}},{key:"replace",value:function(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}},{key:"insertAfter",value:function(e,t,n){const r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,n),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}},{key:"popUntilTagNamePopped",value:function(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==UO.NS.HTML);this.shortenToLength(t<0?0:t)}},{key:"shortenToLength",value:function(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}},{key:"popUntilElementPopped",value:function(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}},{key:"popUntilPopped",value:function(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n<0?0:n)}},{key:"popUntilNumberedHeaderPopped",value:function(){this.popUntilPopped(zO,UO.NS.HTML)}},{key:"popUntilTableCellPopped",value:function(){this.popUntilPopped(XO,UO.NS.HTML)}},{key:"popAllUpToHtmlElement",value:function(){this.tmplCount=0,this.shortenToLength(1)}},{key:"_indexOfTagNames",value:function(e,t){for(let n=this.stackTop;n>=0;n--)if(e.includes(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}},{key:"clearBackTo",value:function(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}},{key:"clearBackToTableContext",value:function(){this.clearBackTo($O,UO.NS.HTML)}},{key:"clearBackToTableBodyContext",value:function(){this.clearBackTo(YO,UO.NS.HTML)}},{key:"clearBackToTableRowContext",value:function(){this.clearBackTo(VO,UO.NS.HTML)}},{key:"remove",value:function(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}},{key:"tryPeekProperlyNestedBodyElement",value:function(){return this.stackTop>=1&&this.tagIDs[1]===UO.TAG_ID.BODY?this.items[1]:null}},{key:"contains",value:function(e){return this._indexOf(e)>-1}},{key:"getCommonAncestor",value:function(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}},{key:"isRootHtmlElementCurrent",value:function(){return 0===this.stackTop&&this.tagIDs[0]===UO.TAG_ID.HTML}},{key:"hasInScope",value:function(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===UO.NS.HTML)return!0;if(GO.get(n)===r)return!1}return!0}},{key:"hasNumberedHeaderInScope",value:function(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e],n=this.treeAdapter.getNamespaceURI(this.items[e]);if((0,UO.isNumberedHeader)(t)&&n===UO.NS.HTML)return!0;if(GO.get(t)===n)return!1}return!0}},{key:"hasInListItemScope",value:function(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===UO.NS.HTML)return!0;if((n===UO.TAG_ID.UL||n===UO.TAG_ID.OL)&&r===UO.NS.HTML||GO.get(n)===r)return!1}return!0}},{key:"hasInButtonScope",value:function(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===UO.NS.HTML)return!0;if(n===UO.TAG_ID.BUTTON&&r===UO.NS.HTML||GO.get(n)===r)return!1}return!0}},{key:"hasInTableScope",value:function(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===UO.NS.HTML){if(n===e)return!0;if(n===UO.TAG_ID.TABLE||n===UO.TAG_ID.TEMPLATE||n===UO.TAG_ID.HTML)return!1}}return!0}},{key:"hasTableBodyContextInTableScope",value:function(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===UO.NS.HTML){if(t===UO.TAG_ID.TBODY||t===UO.TAG_ID.THEAD||t===UO.TAG_ID.TFOOT)return!0;if(t===UO.TAG_ID.TABLE||t===UO.TAG_ID.HTML)return!1}}return!0}},{key:"hasInSelectScope",value:function(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===UO.NS.HTML){if(n===e)return!0;if(n!==UO.TAG_ID.OPTION&&n!==UO.TAG_ID.OPTGROUP)return!1}}return!0}},{key:"generateImpliedEndTags",value:function(){for(;jO.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsThoroughly",value:function(){for(;HO.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsWithExclusion",value:function(e){for(;this.currentTagId!==e&&HO.has(this.currentTagId);)this.pop()}}]),e}();FO.OpenElementStack=WO;var qO={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingElementList=e.EntryType=void 0;var t,n;(n=t=e.EntryType||(e.EntryType={}))[n.Marker=0]="Marker",n[n.Element=1]="Element";const r={type:t.Marker};let i=function(){function e(t){d(this,e),this.treeAdapter=t,this.entries=[],this.bookmark=null}return f(e,[{key:"_getNoahArkConditionCandidates",value:function(e,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){const n=this.entries[e];if(n.type===t.Marker)break;const{element:s}=n;if(this.treeAdapter.getTagName(s)===o&&this.treeAdapter.getNamespaceURI(s)===a){const t=this.treeAdapter.getAttrList(s);t.length===i&&r.push({idx:e,attrs:t})}}return r}},{key:"_ensureNoahArkCondition",value:function(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;const r=new Map(t.map((e=>[e.name,e.value])));let i=0;for(let e=0;e<n.length;e++){const t=n[e];t.attrs.every((e=>r.get(e.name)===e.value))&&(i+=1,i>=3&&this.entries.splice(t.idx,1))}}},{key:"insertMarker",value:function(){this.entries.unshift(r)}},{key:"pushElement",value:function(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:t.Element,element:e,token:n})}},{key:"insertElementAfterBookmark",value:function(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:t.Element,element:e,token:n})}},{key:"removeEntry",value:function(e){const t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}},{key:"clearToLastMarker",value:function(){const e=this.entries.indexOf(r);e>=0?this.entries.splice(0,e+1):this.entries.length=0}},{key:"getElementEntryInScopeWithTagName",value:function(e){const n=this.entries.find((n=>n.type===t.Marker||this.treeAdapter.getTagName(n.element)===e));return n&&n.type===t.Element?n:null}},{key:"getElementEntry",value:function(e){return this.entries.find((n=>n.type===t.Element&&n.element===e))}}]),e}();e.FormattingElementList=i}(qO);var KO={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTreeAdapter=void 0;const t=vO;function n(e){return{nodeName:"#text",value:e,parentNode:null}}e.defaultTreeAdapter={createDocument:()=>({nodeName:"#document",mode:t.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(t,n,r,i){const o=t.childNodes.find((e=>"#documentType"===e.nodeName));if(o)o.name=n,o.publicId=r,o.systemId=i;else{const o={nodeName:"#documentType",name:n,publicId:r,systemId:i,parentNode:null};e.defaultTreeAdapter.appendChild(t,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(t,r){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(e.defaultTreeAdapter.isTextNode(n))return void(n.value+=r)}e.defaultTreeAdapter.appendChild(t,n(r))},insertTextBefore(t,r,i){const o=t.childNodes[t.childNodes.indexOf(i)-1];o&&e.defaultTreeAdapter.isTextNode(o)?o.value+=r:e.defaultTreeAdapter.insertBefore(t,n(r),i)},adoptAttributes(e,t){const n=new Set(e.attrs.map((e=>e.name)));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation=Object.assign(Object.assign({},e.sourceCodeLocation),t)}}}(KO);var ZO={};Object.defineProperty(ZO,"__esModule",{value:!0}),ZO.getDocumentMode=ZO.isConforming=void 0;const QO=vO,JO="html",eD=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],tD=[...eD,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],nD=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),rD=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],iD=[...rD,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function oD(e,t){return t.some((t=>e.startsWith(t)))}ZO.isConforming=function(e){return e.name===JO&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)},ZO.getDocumentMode=function(e){if(e.name!==JO)return QO.DOCUMENT_MODE.QUIRKS;const{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return QO.DOCUMENT_MODE.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),nD.has(n))return QO.DOCUMENT_MODE.QUIRKS;let e=null===t?tD:eD;if(oD(n,e))return QO.DOCUMENT_MODE.QUIRKS;if(e=null===t?rD:iD,oD(n,e))return QO.DOCUMENT_MODE.LIMITED_QUIRKS}return QO.DOCUMENT_MODE.NO_QUIRKS};var aD={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIntegrationPoint=e.adjustTokenSVGTagName=e.adjustTokenXMLAttrs=e.adjustTokenSVGAttrs=e.adjustTokenMathMLAttrs=e.causesExit=e.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0;const t=vO,n={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},r=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),i=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:t.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:t.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:t.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:t.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:t.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:t.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:t.NS.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:t.NS.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:t.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:t.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:t.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:t.NS.XMLNS}]]);e.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e])));const o=new Set([t.TAG_ID.B,t.TAG_ID.BIG,t.TAG_ID.BLOCKQUOTE,t.TAG_ID.BODY,t.TAG_ID.BR,t.TAG_ID.CENTER,t.TAG_ID.CODE,t.TAG_ID.DD,t.TAG_ID.DIV,t.TAG_ID.DL,t.TAG_ID.DT,t.TAG_ID.EM,t.TAG_ID.EMBED,t.TAG_ID.H1,t.TAG_ID.H2,t.TAG_ID.H3,t.TAG_ID.H4,t.TAG_ID.H5,t.TAG_ID.H6,t.TAG_ID.HEAD,t.TAG_ID.HR,t.TAG_ID.I,t.TAG_ID.IMG,t.TAG_ID.LI,t.TAG_ID.LISTING,t.TAG_ID.MENU,t.TAG_ID.META,t.TAG_ID.NOBR,t.TAG_ID.OL,t.TAG_ID.P,t.TAG_ID.PRE,t.TAG_ID.RUBY,t.TAG_ID.S,t.TAG_ID.SMALL,t.TAG_ID.SPAN,t.TAG_ID.STRONG,t.TAG_ID.STRIKE,t.TAG_ID.SUB,t.TAG_ID.SUP,t.TAG_ID.TABLE,t.TAG_ID.TT,t.TAG_ID.U,t.TAG_ID.UL,t.TAG_ID.VAR]);e.causesExit=function(e){const n=e.tagID;return n===t.TAG_ID.FONT&&e.attrs.some((({name:e})=>e===t.ATTRS.COLOR||e===t.ATTRS.SIZE||e===t.ATTRS.FACE))||o.has(n)},e.adjustTokenMathMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}},e.adjustTokenSVGAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const n=r.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}},e.adjustTokenXMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const n=i.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}},e.adjustTokenSVGTagName=function(n){const r=e.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(n.tagName);null!=r&&(n.tagName=r,n.tagID=(0,t.getTagID)(n.tagName))},e.isIntegrationPoint=function(e,r,i,o){return(!o||o===t.NS.HTML)&&function(e,r,i){if(r===t.NS.MATHML&&e===t.TAG_ID.ANNOTATION_XML)for(let e=0;e<i.length;e++)if(i[e].name===t.ATTRS.ENCODING){const t=i[e].value.toLowerCase();return t===n.TEXT_HTML||t===n.APPLICATION_XML}return r===t.NS.SVG&&(e===t.TAG_ID.FOREIGN_OBJECT||e===t.TAG_ID.DESC||e===t.TAG_ID.TITLE)}(e,r,i)||(!o||o===t.NS.MATHML)&&function(e,n){return n===t.NS.MATHML&&(e===t.TAG_ID.MI||e===t.TAG_ID.MO||e===t.TAG_ID.MN||e===t.TAG_ID.MS||e===t.TAG_ID.MTEXT)}(e,r)}})(aD),Object.defineProperty(sO,"__esModule",{value:!0}),sO.Parser=void 0;const sD=lO,lD=FO,cD=qO,uD=KO,hD=ZO,dD=aD,pD=pO,fD=uO,mD=vO,gD=bO,bD="hidden",vD=8,yD=3;var TD,_D;(_D=TD||(TD={}))[_D.INITIAL=0]="INITIAL",_D[_D.BEFORE_HTML=1]="BEFORE_HTML",_D[_D.BEFORE_HEAD=2]="BEFORE_HEAD",_D[_D.IN_HEAD=3]="IN_HEAD",_D[_D.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",_D[_D.AFTER_HEAD=5]="AFTER_HEAD",_D[_D.IN_BODY=6]="IN_BODY",_D[_D.TEXT=7]="TEXT",_D[_D.IN_TABLE=8]="IN_TABLE",_D[_D.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",_D[_D.IN_CAPTION=10]="IN_CAPTION",_D[_D.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",_D[_D.IN_TABLE_BODY=12]="IN_TABLE_BODY",_D[_D.IN_ROW=13]="IN_ROW",_D[_D.IN_CELL=14]="IN_CELL",_D[_D.IN_SELECT=15]="IN_SELECT",_D[_D.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",_D[_D.IN_TEMPLATE=17]="IN_TEMPLATE",_D[_D.AFTER_BODY=18]="AFTER_BODY",_D[_D.IN_FRAMESET=19]="IN_FRAMESET",_D[_D.AFTER_FRAMESET=20]="AFTER_FRAMESET",_D[_D.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",_D[_D.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";const ED={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},xD=new Set([mD.TAG_ID.TABLE,mD.TAG_ID.TBODY,mD.TAG_ID.TFOOT,mD.TAG_ID.THEAD,mD.TAG_ID.TR]),wD={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:uD.defaultTreeAdapter,onParseError:null};let SD=function(){function e(t,n,r=null,i=null){d(this,e),this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=TD.INITIAL,this.originalInsertionMode=TD.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},wD),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=n?n:this.treeAdapter.createDocument(),this.tokenizer=new sD.Tokenizer(this.options,this),this.activeFormattingElements=new cD.FormattingElementList(this.treeAdapter),this.fragmentContextID=r?(0,mD.getTagID)(this.treeAdapter.getTagName(r)):mD.TAG_ID.UNKNOWN,this._setContextModes(null!=r?r:this.document,this.fragmentContextID),this.openElements=new lD.OpenElementStack(this.document,this.treeAdapter,this)}return f(e,[{key:"getFragment",value:function(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}},{key:"_err",value:function(e,t,n){var r;if(!this.onParseError)return;const i=null!==(r=e.location)&&void 0!==r?r:ED,o={code:t,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(o)}},{key:"onItemPush",value:function(e,t,n){var r,i;null===(i=(r=this.treeAdapter).onItemPush)||void 0===i||i.call(r,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}},{key:"onItemPop",value:function(e,t){var n,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(r=(n=this.treeAdapter).onItemPop)||void 0===r||r.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}},{key:"_setContextModes",value:function(e,t){const n=e===this.document||this.treeAdapter.getNamespaceURI(e)===mD.NS.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e)}},{key:"_switchToTextParsing",value:function(e,t){this._insertElement(e,mD.NS.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=TD.TEXT}},{key:"switchToPlaintextParsing",value:function(){this.insertionMode=TD.TEXT,this.originalInsertionMode=TD.IN_BODY,this.tokenizer.state=sD.TokenizerMode.PLAINTEXT}},{key:"_getAdjustedCurrentElement",value:function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}},{key:"_findFormInFragmentContext",value:function(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===mD.TAG_NAMES.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}},{key:"_initTokenizerForFragmentParsing",value:function(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===mD.NS.HTML)switch(this.fragmentContextID){case mD.TAG_ID.TITLE:case mD.TAG_ID.TEXTAREA:this.tokenizer.state=sD.TokenizerMode.RCDATA;break;case mD.TAG_ID.STYLE:case mD.TAG_ID.XMP:case mD.TAG_ID.IFRAME:case mD.TAG_ID.NOEMBED:case mD.TAG_ID.NOFRAMES:case mD.TAG_ID.NOSCRIPT:this.tokenizer.state=sD.TokenizerMode.RAWTEXT;break;case mD.TAG_ID.SCRIPT:this.tokenizer.state=sD.TokenizerMode.SCRIPT_DATA;break;case mD.TAG_ID.PLAINTEXT:this.tokenizer.state=sD.TokenizerMode.PLAINTEXT}}},{key:"_setDocumentType",value:function(e){const t=e.name||"",n=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,r),e.location){const t=this.treeAdapter.getChildNodes(this.document).find((e=>this.treeAdapter.isDocumentTypeNode(e)));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}},{key:"_attachElementToTree",value:function(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&Object.assign(Object.assign({},t),{startTag:t});this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e)}}},{key:"_appendElement",value:function(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}},{key:"_insertElement",value:function(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}},{key:"_insertFakeElement",value:function(e,t){const n=this.treeAdapter.createElement(e,mD.NS.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}},{key:"_insertTemplate",value:function(e){const t=this.treeAdapter.createElement(e.tagName,mD.NS.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}},{key:"_insertFakeRootElement",value:function(){const e=this.treeAdapter.createElement(mD.TAG_NAMES.HTML,mD.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,mD.TAG_ID.HTML)}},{key:"_appendCommentNode",value:function(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}},{key:"_insertCharacters",value:function(e){let t,n;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:n}=this._findFosterParentingLocation()),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const r=this.treeAdapter.getChildNodes(t),i=n?r.lastIndexOf(n):r.length,o=r[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:t,endCol:n,endOffset:r}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:t,endCol:n,endOffset:r})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}},{key:"_adoptNodes",value:function(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}},{key:"_setEndLocation",value:function(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,r=this.treeAdapter.getTagName(e),i=t.type===gD.TokenType.END_TAG&&r===t.tagName?{endTag:Object.assign({},n),endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}},{key:"shouldProcessStartTagTokenInForeignContent",value:function(e){if(!this.currentNotInHTML)return!1;let t,n;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):({current:t,currentTagId:n}=this.openElements),(e.tagID!==mD.TAG_ID.SVG||this.treeAdapter.getTagName(t)!==mD.TAG_NAMES.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==mD.NS.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===mD.TAG_ID.MGLYPH||e.tagID===mD.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(n,t,mD.NS.HTML))}},{key:"_processToken",value:function(e){switch(e.type){case gD.TokenType.CHARACTER:this.onCharacter(e);break;case gD.TokenType.NULL_CHARACTER:this.onNullCharacter(e);break;case gD.TokenType.COMMENT:this.onComment(e);break;case gD.TokenType.DOCTYPE:this.onDoctype(e);break;case gD.TokenType.START_TAG:this._processStartTag(e);break;case gD.TokenType.END_TAG:this.onEndTag(e);break;case gD.TokenType.EOF:this.onEof(e);break;case gD.TokenType.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}},{key:"_isIntegrationPoint",value:function(e,t,n){const r=this.treeAdapter.getNamespaceURI(t),i=this.treeAdapter.getAttrList(t);return dD.isIntegrationPoint(e,r,i,n)}},{key:"_reconstructActiveFormattingElements",value:function(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex((e=>e.type===cD.EntryType.Marker||this.openElements.contains(e.element)));for(let n=t<0?e-1:t-1;n>=0;n--){const e=this.activeFormattingElements.entries[n];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}},{key:"_closeTableCell",value:function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=TD.IN_ROW}},{key:"_closePElement",value:function(){this.openElements.generateImpliedEndTagsWithExclusion(mD.TAG_ID.P),this.openElements.popUntilTagNamePopped(mD.TAG_ID.P)}},{key:"_resetInsertionMode",value:function(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case mD.TAG_ID.TR:return void(this.insertionMode=TD.IN_ROW);case mD.TAG_ID.TBODY:case mD.TAG_ID.THEAD:case mD.TAG_ID.TFOOT:return void(this.insertionMode=TD.IN_TABLE_BODY);case mD.TAG_ID.CAPTION:return void(this.insertionMode=TD.IN_CAPTION);case mD.TAG_ID.COLGROUP:return void(this.insertionMode=TD.IN_COLUMN_GROUP);case mD.TAG_ID.TABLE:return void(this.insertionMode=TD.IN_TABLE);case mD.TAG_ID.BODY:return void(this.insertionMode=TD.IN_BODY);case mD.TAG_ID.FRAMESET:return void(this.insertionMode=TD.IN_FRAMESET);case mD.TAG_ID.SELECT:return void this._resetInsertionModeForSelect(e);case mD.TAG_ID.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case mD.TAG_ID.HTML:return void(this.insertionMode=this.headElement?TD.AFTER_HEAD:TD.BEFORE_HEAD);case mD.TAG_ID.TD:case mD.TAG_ID.TH:if(e>0)return void(this.insertionMode=TD.IN_CELL);break;case mD.TAG_ID.HEAD:if(e>0)return void(this.insertionMode=TD.IN_HEAD)}this.insertionMode=TD.IN_BODY}},{key:"_resetInsertionModeForSelect",value:function(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===mD.TAG_ID.TEMPLATE)break;if(e===mD.TAG_ID.TABLE)return void(this.insertionMode=TD.IN_SELECT_IN_TABLE)}this.insertionMode=TD.IN_SELECT}},{key:"_isElementCausesFosterParenting",value:function(e){return xD.has(e)}},{key:"_shouldFosterParentOnInsertion",value:function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}},{key:"_findFosterParentingLocation",value:function(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case mD.TAG_ID.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===mD.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case mD.TAG_ID.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}},{key:"_fosterParentElement",value:function(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}},{key:"_isSpecialElement",value:function(e,t){const n=this.treeAdapter.getNamespaceURI(e);return mD.SPECIAL_ELEMENTS[n].has(t)}},{key:"onCharacter",value:function(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case TD.INITIAL:MD(this,e);break;case TD.BEFORE_HTML:LD(this,e);break;case TD.BEFORE_HEAD:BD(this,e);break;case TD.IN_HEAD:jD(this,e);break;case TD.IN_HEAD_NO_SCRIPT:HD(this,e);break;case TD.AFTER_HEAD:GD(this,e);break;case TD.IN_BODY:case TD.IN_CAPTION:case TD.IN_CELL:case TD.IN_TEMPLATE:YD(this,e);break;case TD.TEXT:case TD.IN_SELECT:case TD.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case TD.IN_TABLE:case TD.IN_TABLE_BODY:case TD.IN_ROW:eP(this,e);break;case TD.IN_TABLE_TEXT:oP(this,e);break;case TD.IN_COLUMN_GROUP:cP(this,e);break;case TD.AFTER_BODY:vP(this,e);break;case TD.AFTER_AFTER_BODY:yP(this,e)}}},{key:"onNullCharacter",value:function(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=fD.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case TD.INITIAL:MD(this,e);break;case TD.BEFORE_HTML:LD(this,e);break;case TD.BEFORE_HEAD:BD(this,e);break;case TD.IN_HEAD:jD(this,e);break;case TD.IN_HEAD_NO_SCRIPT:HD(this,e);break;case TD.AFTER_HEAD:GD(this,e);break;case TD.TEXT:this._insertCharacters(e);break;case TD.IN_TABLE:case TD.IN_TABLE_BODY:case TD.IN_ROW:eP(this,e);break;case TD.IN_COLUMN_GROUP:cP(this,e);break;case TD.AFTER_BODY:vP(this,e);break;case TD.AFTER_AFTER_BODY:yP(this,e)}}},{key:"onComment",value:function(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)ND(this,e);else switch(this.insertionMode){case TD.INITIAL:case TD.BEFORE_HTML:case TD.BEFORE_HEAD:case TD.IN_HEAD:case TD.IN_HEAD_NO_SCRIPT:case TD.AFTER_HEAD:case TD.IN_BODY:case TD.IN_TABLE:case TD.IN_CAPTION:case TD.IN_COLUMN_GROUP:case TD.IN_TABLE_BODY:case TD.IN_ROW:case TD.IN_CELL:case TD.IN_SELECT:case TD.IN_SELECT_IN_TABLE:case TD.IN_TEMPLATE:case TD.IN_FRAMESET:case TD.AFTER_FRAMESET:ND(this,e);break;case TD.IN_TABLE_TEXT:aP(this,e);break;case TD.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case TD.AFTER_AFTER_BODY:case TD.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}},{key:"onDoctype",value:function(e){switch(this.skipNextNewLine=!1,this.insertionMode){case TD.INITIAL:!function(e,t){e._setDocumentType(t);const n=t.forceQuirks?mD.DOCUMENT_MODE.QUIRKS:hD.getDocumentMode(t);hD.isConforming(t)||e._err(t,pD.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=TD.BEFORE_HTML}(this,e);break;case TD.BEFORE_HEAD:case TD.IN_HEAD:case TD.IN_HEAD_NO_SCRIPT:case TD.AFTER_HEAD:this._err(e,pD.ERR.misplacedDoctype);break;case TD.IN_TABLE_TEXT:aP(this,e)}}},{key:"onStartTag",value:function(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,pD.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}},{key:"_processStartTag",value:function(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(dD.causesExit(t))TP(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===mD.NS.MATHML?dD.adjustTokenMathMLAttrs(t):r===mD.NS.SVG&&(dD.adjustTokenSVGTagName(t),dD.adjustTokenSVGAttrs(t)),dD.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}},{key:"_startTagOutsideForeignContent",value:function(e){switch(this.insertionMode){case TD.INITIAL:MD(this,e);break;case TD.BEFORE_HTML:!function(e,t){t.tagID===mD.TAG_ID.HTML?(e._insertElement(t,mD.NS.HTML),e.insertionMode=TD.BEFORE_HEAD):LD(e,t)}(this,e);break;case TD.BEFORE_HEAD:!function(e,t){switch(t.tagID){case mD.TAG_ID.HTML:KD(e,t);break;case mD.TAG_ID.HEAD:e._insertElement(t,mD.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=TD.IN_HEAD;break;default:BD(e,t)}}(this,e);break;case TD.IN_HEAD:FD(this,e);break;case TD.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case mD.TAG_ID.HTML:KD(e,t);break;case mD.TAG_ID.BASEFONT:case mD.TAG_ID.BGSOUND:case mD.TAG_ID.HEAD:case mD.TAG_ID.LINK:case mD.TAG_ID.META:case mD.TAG_ID.NOFRAMES:case mD.TAG_ID.STYLE:FD(e,t);break;case mD.TAG_ID.NOSCRIPT:e._err(t,pD.ERR.nestedNoscriptInHead);break;default:HD(e,t)}}(this,e);break;case TD.AFTER_HEAD:!function(e,t){switch(t.tagID){case mD.TAG_ID.HTML:KD(e,t);break;case mD.TAG_ID.BODY:e._insertElement(t,mD.NS.HTML),e.framesetOk=!1,e.insertionMode=TD.IN_BODY;break;case mD.TAG_ID.FRAMESET:e._insertElement(t,mD.NS.HTML),e.insertionMode=TD.IN_FRAMESET;break;case mD.TAG_ID.BASE:case mD.TAG_ID.BASEFONT:case mD.TAG_ID.BGSOUND:case mD.TAG_ID.LINK:case mD.TAG_ID.META:case mD.TAG_ID.NOFRAMES:case mD.TAG_ID.SCRIPT:case mD.TAG_ID.STYLE:case mD.TAG_ID.TEMPLATE:case mD.TAG_ID.TITLE:e._err(t,pD.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,mD.TAG_ID.HEAD),FD(e,t),e.openElements.remove(e.headElement);break;case mD.TAG_ID.HEAD:e._err(t,pD.ERR.misplacedStartTagForHeadElement);break;default:GD(e,t)}}(this,e);break;case TD.IN_BODY:KD(this,e);break;case TD.IN_TABLE:tP(this,e);break;case TD.IN_TABLE_TEXT:aP(this,e);break;case TD.IN_CAPTION:!function(e,t){const n=t.tagID;sP.has(n)?e.openElements.hasInTableScope(mD.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(mD.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=TD.IN_TABLE,tP(e,t)):KD(e,t)}(this,e);break;case TD.IN_COLUMN_GROUP:lP(this,e);break;case TD.IN_TABLE_BODY:uP(this,e);break;case TD.IN_ROW:dP(this,e);break;case TD.IN_CELL:!function(e,t){const n=t.tagID;sP.has(n)?(e.openElements.hasInTableScope(mD.TAG_ID.TD)||e.openElements.hasInTableScope(mD.TAG_ID.TH))&&(e._closeTableCell(),dP(e,t)):KD(e,t)}(this,e);break;case TD.IN_SELECT:fP(this,e);break;case TD.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===mD.TAG_ID.CAPTION||n===mD.TAG_ID.TABLE||n===mD.TAG_ID.TBODY||n===mD.TAG_ID.TFOOT||n===mD.TAG_ID.THEAD||n===mD.TAG_ID.TR||n===mD.TAG_ID.TD||n===mD.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(mD.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):fP(e,t)}(this,e);break;case TD.IN_TEMPLATE:!function(e,t){switch(t.tagID){case mD.TAG_ID.BASE:case mD.TAG_ID.BASEFONT:case mD.TAG_ID.BGSOUND:case mD.TAG_ID.LINK:case mD.TAG_ID.META:case mD.TAG_ID.NOFRAMES:case mD.TAG_ID.SCRIPT:case mD.TAG_ID.STYLE:case mD.TAG_ID.TEMPLATE:case mD.TAG_ID.TITLE:FD(e,t);break;case mD.TAG_ID.CAPTION:case mD.TAG_ID.COLGROUP:case mD.TAG_ID.TBODY:case mD.TAG_ID.TFOOT:case mD.TAG_ID.THEAD:e.tmplInsertionModeStack[0]=TD.IN_TABLE,e.insertionMode=TD.IN_TABLE,tP(e,t);break;case mD.TAG_ID.COL:e.tmplInsertionModeStack[0]=TD.IN_COLUMN_GROUP,e.insertionMode=TD.IN_COLUMN_GROUP,lP(e,t);break;case mD.TAG_ID.TR:e.tmplInsertionModeStack[0]=TD.IN_TABLE_BODY,e.insertionMode=TD.IN_TABLE_BODY,uP(e,t);break;case mD.TAG_ID.TD:case mD.TAG_ID.TH:e.tmplInsertionModeStack[0]=TD.IN_ROW,e.insertionMode=TD.IN_ROW,dP(e,t);break;default:e.tmplInsertionModeStack[0]=TD.IN_BODY,e.insertionMode=TD.IN_BODY,KD(e,t)}}(this,e);break;case TD.AFTER_BODY:!function(e,t){t.tagID===mD.TAG_ID.HTML?KD(e,t):vP(e,t)}(this,e);break;case TD.IN_FRAMESET:!function(e,t){switch(t.tagID){case mD.TAG_ID.HTML:KD(e,t);break;case mD.TAG_ID.FRAMESET:e._insertElement(t,mD.NS.HTML);break;case mD.TAG_ID.FRAME:e._appendElement(t,mD.NS.HTML),t.ackSelfClosing=!0;break;case mD.TAG_ID.NOFRAMES:FD(e,t)}}(this,e);break;case TD.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case mD.TAG_ID.HTML:KD(e,t);break;case mD.TAG_ID.NOFRAMES:FD(e,t)}}(this,e);break;case TD.AFTER_AFTER_BODY:!function(e,t){t.tagID===mD.TAG_ID.HTML?KD(e,t):yP(e,t)}(this,e);break;case TD.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case mD.TAG_ID.HTML:KD(e,t);break;case mD.TAG_ID.NOFRAMES:FD(e,t)}}(this,e)}}},{key:"onEndTag",value:function(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===mD.TAG_ID.P||t.tagID===mD.TAG_ID.BR)return TP(e),void e._endTagOutsideForeignContent(t);for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===mD.NS.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}},{key:"_endTagOutsideForeignContent",value:function(e){switch(this.insertionMode){case TD.INITIAL:MD(this,e);break;case TD.BEFORE_HTML:!function(e,t){const n=t.tagID;n!==mD.TAG_ID.HTML&&n!==mD.TAG_ID.HEAD&&n!==mD.TAG_ID.BODY&&n!==mD.TAG_ID.BR||LD(e,t)}(this,e);break;case TD.BEFORE_HEAD:!function(e,t){const n=t.tagID;n===mD.TAG_ID.HEAD||n===mD.TAG_ID.BODY||n===mD.TAG_ID.HTML||n===mD.TAG_ID.BR?BD(e,t):e._err(t,pD.ERR.endTagWithoutMatchingOpenElement)}(this,e);break;case TD.IN_HEAD:!function(e,t){switch(t.tagID){case mD.TAG_ID.HEAD:e.openElements.pop(),e.insertionMode=TD.AFTER_HEAD;break;case mD.TAG_ID.BODY:case mD.TAG_ID.BR:case mD.TAG_ID.HTML:jD(e,t);break;case mD.TAG_ID.TEMPLATE:UD(e,t);break;default:e._err(t,pD.ERR.endTagWithoutMatchingOpenElement)}}(this,e);break;case TD.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case mD.TAG_ID.NOSCRIPT:e.openElements.pop(),e.insertionMode=TD.IN_HEAD;break;case mD.TAG_ID.BR:HD(e,t);break;default:e._err(t,pD.ERR.endTagWithoutMatchingOpenElement)}}(this,e);break;case TD.AFTER_HEAD:!function(e,t){switch(t.tagID){case mD.TAG_ID.BODY:case mD.TAG_ID.HTML:case mD.TAG_ID.BR:GD(e,t);break;case mD.TAG_ID.TEMPLATE:UD(e,t);break;default:e._err(t,pD.ERR.endTagWithoutMatchingOpenElement)}}(this,e);break;case TD.IN_BODY:QD(this,e);break;case TD.TEXT:!function(e,t){var n;t.tagID===mD.TAG_ID.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case TD.IN_TABLE:nP(this,e);break;case TD.IN_TABLE_TEXT:aP(this,e);break;case TD.IN_CAPTION:!function(e,t){const n=t.tagID;switch(n){case mD.TAG_ID.CAPTION:case mD.TAG_ID.TABLE:e.openElements.hasInTableScope(mD.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(mD.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=TD.IN_TABLE,n===mD.TAG_ID.TABLE&&nP(e,t));break;case mD.TAG_ID.BODY:case mD.TAG_ID.COL:case mD.TAG_ID.COLGROUP:case mD.TAG_ID.HTML:case mD.TAG_ID.TBODY:case mD.TAG_ID.TD:case mD.TAG_ID.TFOOT:case mD.TAG_ID.TH:case mD.TAG_ID.THEAD:case mD.TAG_ID.TR:break;default:QD(e,t)}}(this,e);break;case TD.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case mD.TAG_ID.COLGROUP:e.openElements.currentTagId===mD.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=TD.IN_TABLE);break;case mD.TAG_ID.TEMPLATE:UD(e,t);break;case mD.TAG_ID.COL:break;default:cP(e,t)}}(this,e);break;case TD.IN_TABLE_BODY:hP(this,e);break;case TD.IN_ROW:pP(this,e);break;case TD.IN_CELL:!function(e,t){const n=t.tagID;switch(n){case mD.TAG_ID.TD:case mD.TAG_ID.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=TD.IN_ROW);break;case mD.TAG_ID.TABLE:case mD.TAG_ID.TBODY:case mD.TAG_ID.TFOOT:case mD.TAG_ID.THEAD:case mD.TAG_ID.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),pP(e,t));break;case mD.TAG_ID.BODY:case mD.TAG_ID.CAPTION:case mD.TAG_ID.COL:case mD.TAG_ID.COLGROUP:case mD.TAG_ID.HTML:break;default:QD(e,t)}}(this,e);break;case TD.IN_SELECT:mP(this,e);break;case TD.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===mD.TAG_ID.CAPTION||n===mD.TAG_ID.TABLE||n===mD.TAG_ID.TBODY||n===mD.TAG_ID.TFOOT||n===mD.TAG_ID.THEAD||n===mD.TAG_ID.TR||n===mD.TAG_ID.TD||n===mD.TAG_ID.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(mD.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):mP(e,t)}(this,e);break;case TD.IN_TEMPLATE:!function(e,t){t.tagID===mD.TAG_ID.TEMPLATE&&UD(e,t)}(this,e);break;case TD.AFTER_BODY:bP(this,e);break;case TD.IN_FRAMESET:!function(e,t){t.tagID!==mD.TAG_ID.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===mD.TAG_ID.FRAMESET||(e.insertionMode=TD.AFTER_FRAMESET))}(this,e);break;case TD.AFTER_FRAMESET:!function(e,t){t.tagID===mD.TAG_ID.HTML&&(e.insertionMode=TD.AFTER_AFTER_FRAMESET)}(this,e);break;case TD.AFTER_AFTER_BODY:yP(this,e)}}},{key:"onEof",value:function(e){switch(this.insertionMode){case TD.INITIAL:MD(this,e);break;case TD.BEFORE_HTML:LD(this,e);break;case TD.BEFORE_HEAD:BD(this,e);break;case TD.IN_HEAD:jD(this,e);break;case TD.IN_HEAD_NO_SCRIPT:HD(this,e);break;case TD.AFTER_HEAD:GD(this,e);break;case TD.IN_BODY:case TD.IN_TABLE:case TD.IN_CAPTION:case TD.IN_COLUMN_GROUP:case TD.IN_TABLE_BODY:case TD.IN_ROW:case TD.IN_CELL:case TD.IN_SELECT:case TD.IN_SELECT_IN_TABLE:JD(this,e);break;case TD.TEXT:!function(e,t){e._err(t,pD.ERR.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case TD.IN_TABLE_TEXT:aP(this,e);break;case TD.IN_TEMPLATE:gP(this,e);break;case TD.AFTER_BODY:case TD.IN_FRAMESET:case TD.AFTER_FRAMESET:case TD.AFTER_AFTER_BODY:case TD.AFTER_AFTER_FRAMESET:RD(this,e)}}},{key:"onWhitespaceCharacter",value:function(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===fD.CODE_POINTS.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case TD.IN_HEAD:case TD.IN_HEAD_NO_SCRIPT:case TD.AFTER_HEAD:case TD.TEXT:case TD.IN_COLUMN_GROUP:case TD.IN_SELECT:case TD.IN_SELECT_IN_TABLE:case TD.IN_FRAMESET:case TD.AFTER_FRAMESET:this._insertCharacters(e);break;case TD.IN_BODY:case TD.IN_CAPTION:case TD.IN_CELL:case TD.IN_TEMPLATE:case TD.AFTER_BODY:case TD.AFTER_AFTER_BODY:case TD.AFTER_AFTER_FRAMESET:VD(this,e);break;case TD.IN_TABLE:case TD.IN_TABLE_BODY:case TD.IN_ROW:eP(this,e);break;case TD.IN_TABLE_TEXT:iP(this,e)}}}],[{key:"parse",value:function(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}},{key:"getFragmentParser",value:function(e,t){const n=Object.assign(Object.assign({},wD),t);null!=e||(e=n.treeAdapter.createElement(mD.TAG_NAMES.TEMPLATE,mD.NS.HTML,[]));const r=n.treeAdapter.createElement("documentmock",mD.NS.HTML,[]),i=new this(n,r,e);return i.fragmentContextID===mD.TAG_ID.TEMPLATE&&i.tmplInsertionModeStack.unshift(TD.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}}]),e}();function AD(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):ZD(e,t),n}function kD(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function CD(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);const n=e.activeFormattingElements.getElementEntry(a),s=n&&o>=yD;!n||s?(s&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(a)):(a=ID(e,n),r===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function ID(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function OD(e,t,n){const r=e.treeAdapter.getTagName(t),i=(0,mD.getTagID)(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const r=e.treeAdapter.getNamespaceURI(t);i===mD.TAG_ID.TEMPLATE&&r===mD.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function DD(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function PD(e,t){for(let n=0;n<vD;n++){const n=AD(e,t);if(!n)break;const r=kD(e,n);if(!r)break;e.activeFormattingElements.bookmark=n;const i=CD(e,r,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),o&&OD(e,o,i),DD(e,r,n)}}function ND(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function RD(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(n);if(r&&!r.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const n=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(n);r&&!r.endTag&&e._setEndLocation(n,t)}}}}function MD(e,t){e._err(t,pD.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,mD.DOCUMENT_MODE.QUIRKS),e.insertionMode=TD.BEFORE_HTML,e._processToken(t)}function LD(e,t){e._insertFakeRootElement(),e.insertionMode=TD.BEFORE_HEAD,e._processToken(t)}function BD(e,t){e._insertFakeElement(mD.TAG_NAMES.HEAD,mD.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=TD.IN_HEAD,e._processToken(t)}function FD(e,t){switch(t.tagID){case mD.TAG_ID.HTML:KD(e,t);break;case mD.TAG_ID.BASE:case mD.TAG_ID.BASEFONT:case mD.TAG_ID.BGSOUND:case mD.TAG_ID.LINK:case mD.TAG_ID.META:e._appendElement(t,mD.NS.HTML),t.ackSelfClosing=!0;break;case mD.TAG_ID.TITLE:e._switchToTextParsing(t,sD.TokenizerMode.RCDATA);break;case mD.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,sD.TokenizerMode.RAWTEXT):(e._insertElement(t,mD.NS.HTML),e.insertionMode=TD.IN_HEAD_NO_SCRIPT);break;case mD.TAG_ID.NOFRAMES:case mD.TAG_ID.STYLE:e._switchToTextParsing(t,sD.TokenizerMode.RAWTEXT);break;case mD.TAG_ID.SCRIPT:e._switchToTextParsing(t,sD.TokenizerMode.SCRIPT_DATA);break;case mD.TAG_ID.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=TD.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(TD.IN_TEMPLATE);break;case mD.TAG_ID.HEAD:e._err(t,pD.ERR.misplacedStartTagForHeadElement);break;default:jD(e,t)}}function UD(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==mD.TAG_ID.TEMPLATE&&e._err(t,pD.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(mD.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,pD.ERR.endTagWithoutMatchingOpenElement)}function jD(e,t){e.openElements.pop(),e.insertionMode=TD.AFTER_HEAD,e._processToken(t)}function HD(e,t){const n=t.type===gD.TokenType.EOF?pD.ERR.openElementsLeftAfterEof:pD.ERR.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=TD.IN_HEAD,e._processToken(t)}function GD(e,t){e._insertFakeElement(mD.TAG_NAMES.BODY,mD.TAG_ID.BODY),e.insertionMode=TD.IN_BODY,zD(e,t)}function zD(e,t){switch(t.type){case gD.TokenType.CHARACTER:YD(e,t);break;case gD.TokenType.WHITESPACE_CHARACTER:VD(e,t);break;case gD.TokenType.COMMENT:ND(e,t);break;case gD.TokenType.START_TAG:KD(e,t);break;case gD.TokenType.END_TAG:QD(e,t);break;case gD.TokenType.EOF:JD(e,t)}}function VD(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function YD(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function $D(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,mD.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function XD(e){const t=(0,gD.getTokenAttr)(e,mD.ATTRS.TYPE);return null!=t&&t.toLowerCase()===bD}function WD(e,t){e._switchToTextParsing(t,sD.TokenizerMode.RAWTEXT)}function qD(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,mD.NS.HTML)}function KD(e,t){switch(t.tagID){case mD.TAG_ID.I:case mD.TAG_ID.S:case mD.TAG_ID.B:case mD.TAG_ID.U:case mD.TAG_ID.EM:case mD.TAG_ID.TT:case mD.TAG_ID.BIG:case mD.TAG_ID.CODE:case mD.TAG_ID.FONT:case mD.TAG_ID.SMALL:case mD.TAG_ID.STRIKE:case mD.TAG_ID.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,mD.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case mD.TAG_ID.A:!function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(mD.TAG_NAMES.A);n&&(PD(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,mD.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case mD.TAG_ID.H1:case mD.TAG_ID.H2:case mD.TAG_ID.H3:case mD.TAG_ID.H4:case mD.TAG_ID.H5:case mD.TAG_ID.H6:!function(e,t){e.openElements.hasInButtonScope(mD.TAG_ID.P)&&e._closePElement(),(0,mD.isNumberedHeader)(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,mD.NS.HTML)}(e,t);break;case mD.TAG_ID.P:case mD.TAG_ID.DL:case mD.TAG_ID.OL:case mD.TAG_ID.UL:case mD.TAG_ID.DIV:case mD.TAG_ID.DIR:case mD.TAG_ID.NAV:case mD.TAG_ID.MAIN:case mD.TAG_ID.MENU:case mD.TAG_ID.ASIDE:case mD.TAG_ID.CENTER:case mD.TAG_ID.FIGURE:case mD.TAG_ID.FOOTER:case mD.TAG_ID.HEADER:case mD.TAG_ID.HGROUP:case mD.TAG_ID.DIALOG:case mD.TAG_ID.DETAILS:case mD.TAG_ID.ADDRESS:case mD.TAG_ID.ARTICLE:case mD.TAG_ID.SECTION:case mD.TAG_ID.SUMMARY:case mD.TAG_ID.FIELDSET:case mD.TAG_ID.BLOCKQUOTE:case mD.TAG_ID.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(mD.TAG_ID.P)&&e._closePElement(),e._insertElement(t,mD.NS.HTML)}(e,t);break;case mD.TAG_ID.LI:case mD.TAG_ID.DD:case mD.TAG_ID.DT:!function(e,t){e.framesetOk=!1;const n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){const r=e.openElements.tagIDs[t];if(n===mD.TAG_ID.LI&&r===mD.TAG_ID.LI||(n===mD.TAG_ID.DD||n===mD.TAG_ID.DT)&&(r===mD.TAG_ID.DD||r===mD.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r);break}if(r!==mD.TAG_ID.ADDRESS&&r!==mD.TAG_ID.DIV&&r!==mD.TAG_ID.P&&e._isSpecialElement(e.openElements.items[t],r))break}e.openElements.hasInButtonScope(mD.TAG_ID.P)&&e._closePElement(),e._insertElement(t,mD.NS.HTML)}(e,t);break;case mD.TAG_ID.BR:case mD.TAG_ID.IMG:case mD.TAG_ID.WBR:case mD.TAG_ID.AREA:case mD.TAG_ID.EMBED:case mD.TAG_ID.KEYGEN:$D(e,t);break;case mD.TAG_ID.HR:!function(e,t){e.openElements.hasInButtonScope(mD.TAG_ID.P)&&e._closePElement(),e._appendElement(t,mD.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case mD.TAG_ID.RB:case mD.TAG_ID.RTC:!function(e,t){e.openElements.hasInScope(mD.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,mD.NS.HTML)}(e,t);break;case mD.TAG_ID.RT:case mD.TAG_ID.RP:!function(e,t){e.openElements.hasInScope(mD.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(mD.TAG_ID.RTC),e._insertElement(t,mD.NS.HTML)}(e,t);break;case mD.TAG_ID.PRE:case mD.TAG_ID.LISTING:!function(e,t){e.openElements.hasInButtonScope(mD.TAG_ID.P)&&e._closePElement(),e._insertElement(t,mD.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case mD.TAG_ID.XMP:!function(e,t){e.openElements.hasInButtonScope(mD.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,sD.TokenizerMode.RAWTEXT)}(e,t);break;case mD.TAG_ID.SVG:!function(e,t){e._reconstructActiveFormattingElements(),dD.adjustTokenSVGAttrs(t),dD.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,mD.NS.SVG):e._insertElement(t,mD.NS.SVG),t.ackSelfClosing=!0}(e,t);break;case mD.TAG_ID.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case mD.TAG_ID.BASE:case mD.TAG_ID.LINK:case mD.TAG_ID.META:case mD.TAG_ID.STYLE:case mD.TAG_ID.TITLE:case mD.TAG_ID.SCRIPT:case mD.TAG_ID.BGSOUND:case mD.TAG_ID.BASEFONT:case mD.TAG_ID.TEMPLATE:FD(e,t);break;case mD.TAG_ID.BODY:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case mD.TAG_ID.FORM:!function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(mD.TAG_ID.P)&&e._closePElement(),e._insertElement(t,mD.NS.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case mD.TAG_ID.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(mD.TAG_ID.NOBR)&&(PD(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,mD.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case mD.TAG_ID.MATH:!function(e,t){e._reconstructActiveFormattingElements(),dD.adjustTokenMathMLAttrs(t),dD.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,mD.NS.MATHML):e._insertElement(t,mD.NS.MATHML),t.ackSelfClosing=!0}(e,t);break;case mD.TAG_ID.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==mD.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(mD.TAG_ID.P)&&e._closePElement(),e._insertElement(t,mD.NS.HTML),e.framesetOk=!1,e.insertionMode=TD.IN_TABLE}(e,t);break;case mD.TAG_ID.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,mD.NS.HTML),XD(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case mD.TAG_ID.PARAM:case mD.TAG_ID.TRACK:case mD.TAG_ID.SOURCE:!function(e,t){e._appendElement(t,mD.NS.HTML),t.ackSelfClosing=!0}(e,t);break;case mD.TAG_ID.IMAGE:!function(e,t){t.tagName=mD.TAG_NAMES.IMG,t.tagID=mD.TAG_ID.IMG,$D(e,t)}(e,t);break;case mD.TAG_ID.BUTTON:!function(e,t){e.openElements.hasInScope(mD.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(mD.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,mD.NS.HTML),e.framesetOk=!1}(e,t);break;case mD.TAG_ID.APPLET:case mD.TAG_ID.OBJECT:case mD.TAG_ID.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,mD.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case mD.TAG_ID.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,sD.TokenizerMode.RAWTEXT)}(e,t);break;case mD.TAG_ID.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,mD.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===TD.IN_TABLE||e.insertionMode===TD.IN_CAPTION||e.insertionMode===TD.IN_TABLE_BODY||e.insertionMode===TD.IN_ROW||e.insertionMode===TD.IN_CELL?TD.IN_SELECT_IN_TABLE:TD.IN_SELECT}(e,t);break;case mD.TAG_ID.OPTION:case mD.TAG_ID.OPTGROUP:!function(e,t){e.openElements.currentTagId===mD.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,mD.NS.HTML)}(e,t);break;case mD.TAG_ID.NOEMBED:WD(e,t);break;case mD.TAG_ID.FRAMESET:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,mD.NS.HTML),e.insertionMode=TD.IN_FRAMESET)}(e,t);break;case mD.TAG_ID.TEXTAREA:!function(e,t){e._insertElement(t,mD.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=sD.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=TD.TEXT}(e,t);break;case mD.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?WD(e,t):qD(e,t);break;case mD.TAG_ID.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(mD.TAG_ID.P)&&e._closePElement(),e._insertElement(t,mD.NS.HTML),e.tokenizer.state=sD.TokenizerMode.PLAINTEXT}(e,t);break;case mD.TAG_ID.COL:case mD.TAG_ID.TH:case mD.TAG_ID.TD:case mD.TAG_ID.TR:case mD.TAG_ID.HEAD:case mD.TAG_ID.FRAME:case mD.TAG_ID.TBODY:case mD.TAG_ID.TFOOT:case mD.TAG_ID.THEAD:case mD.TAG_ID.CAPTION:case mD.TAG_ID.COLGROUP:break;default:qD(e,t)}}function ZD(e,t){const n=t.tagName,r=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){const i=e.openElements.items[t],o=e.openElements.tagIDs[t];if(r===o&&(r!==mD.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(i,o))break}}function QD(e,t){switch(t.tagID){case mD.TAG_ID.A:case mD.TAG_ID.B:case mD.TAG_ID.I:case mD.TAG_ID.S:case mD.TAG_ID.U:case mD.TAG_ID.EM:case mD.TAG_ID.TT:case mD.TAG_ID.BIG:case mD.TAG_ID.CODE:case mD.TAG_ID.FONT:case mD.TAG_ID.NOBR:case mD.TAG_ID.SMALL:case mD.TAG_ID.STRIKE:case mD.TAG_ID.STRONG:PD(e,t);break;case mD.TAG_ID.P:!function(e){e.openElements.hasInButtonScope(mD.TAG_ID.P)||e._insertFakeElement(mD.TAG_NAMES.P,mD.TAG_ID.P),e._closePElement()}(e);break;case mD.TAG_ID.DL:case mD.TAG_ID.UL:case mD.TAG_ID.OL:case mD.TAG_ID.DIR:case mD.TAG_ID.DIV:case mD.TAG_ID.NAV:case mD.TAG_ID.PRE:case mD.TAG_ID.MAIN:case mD.TAG_ID.MENU:case mD.TAG_ID.ASIDE:case mD.TAG_ID.BUTTON:case mD.TAG_ID.CENTER:case mD.TAG_ID.FIGURE:case mD.TAG_ID.FOOTER:case mD.TAG_ID.HEADER:case mD.TAG_ID.HGROUP:case mD.TAG_ID.DIALOG:case mD.TAG_ID.ADDRESS:case mD.TAG_ID.ARTICLE:case mD.TAG_ID.DETAILS:case mD.TAG_ID.SECTION:case mD.TAG_ID.SUMMARY:case mD.TAG_ID.LISTING:case mD.TAG_ID.FIELDSET:case mD.TAG_ID.BLOCKQUOTE:case mD.TAG_ID.FIGCAPTION:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case mD.TAG_ID.LI:!function(e){e.openElements.hasInListItemScope(mD.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(mD.TAG_ID.LI),e.openElements.popUntilTagNamePopped(mD.TAG_ID.LI))}(e);break;case mD.TAG_ID.DD:case mD.TAG_ID.DT:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case mD.TAG_ID.H1:case mD.TAG_ID.H2:case mD.TAG_ID.H3:case mD.TAG_ID.H4:case mD.TAG_ID.H5:case mD.TAG_ID.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case mD.TAG_ID.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(mD.TAG_NAMES.BR,mD.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case mD.TAG_ID.BODY:!function(e,t){if(e.openElements.hasInScope(mD.TAG_ID.BODY)&&(e.insertionMode=TD.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case mD.TAG_ID.HTML:!function(e,t){e.openElements.hasInScope(mD.TAG_ID.BODY)&&(e.insertionMode=TD.AFTER_BODY,bP(e,t))}(e,t);break;case mD.TAG_ID.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(mD.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(mD.TAG_ID.FORM):n&&e.openElements.remove(n))}(e);break;case mD.TAG_ID.APPLET:case mD.TAG_ID.OBJECT:case mD.TAG_ID.MARQUEE:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case mD.TAG_ID.TEMPLATE:UD(e,t);break;default:ZD(e,t)}}function JD(e,t){e.tmplInsertionModeStack.length>0?gP(e,t):RD(e,t)}function eP(e,t){if(xD.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=TD.IN_TABLE_TEXT,t.type){case gD.TokenType.CHARACTER:oP(e,t);break;case gD.TokenType.WHITESPACE_CHARACTER:iP(e,t)}else rP(e,t)}function tP(e,t){switch(t.tagID){case mD.TAG_ID.TD:case mD.TAG_ID.TH:case mD.TAG_ID.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(mD.TAG_NAMES.TBODY,mD.TAG_ID.TBODY),e.insertionMode=TD.IN_TABLE_BODY,uP(e,t)}(e,t);break;case mD.TAG_ID.STYLE:case mD.TAG_ID.SCRIPT:case mD.TAG_ID.TEMPLATE:FD(e,t);break;case mD.TAG_ID.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(mD.TAG_NAMES.COLGROUP,mD.TAG_ID.COLGROUP),e.insertionMode=TD.IN_COLUMN_GROUP,lP(e,t)}(e,t);break;case mD.TAG_ID.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,mD.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case mD.TAG_ID.TABLE:!function(e,t){e.openElements.hasInTableScope(mD.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(mD.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case mD.TAG_ID.TBODY:case mD.TAG_ID.TFOOT:case mD.TAG_ID.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,mD.NS.HTML),e.insertionMode=TD.IN_TABLE_BODY}(e,t);break;case mD.TAG_ID.INPUT:!function(e,t){XD(t)?e._appendElement(t,mD.NS.HTML):rP(e,t),t.ackSelfClosing=!0}(e,t);break;case mD.TAG_ID.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,mD.NS.HTML),e.insertionMode=TD.IN_CAPTION}(e,t);break;case mD.TAG_ID.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,mD.NS.HTML),e.insertionMode=TD.IN_COLUMN_GROUP}(e,t);break;default:rP(e,t)}}function nP(e,t){switch(t.tagID){case mD.TAG_ID.TABLE:e.openElements.hasInTableScope(mD.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(mD.TAG_ID.TABLE),e._resetInsertionMode());break;case mD.TAG_ID.TEMPLATE:UD(e,t);break;case mD.TAG_ID.BODY:case mD.TAG_ID.CAPTION:case mD.TAG_ID.COL:case mD.TAG_ID.COLGROUP:case mD.TAG_ID.HTML:case mD.TAG_ID.TBODY:case mD.TAG_ID.TD:case mD.TAG_ID.TFOOT:case mD.TAG_ID.TH:case mD.TAG_ID.THEAD:case mD.TAG_ID.TR:break;default:rP(e,t)}}function rP(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,zD(e,t),e.fosterParentingEnabled=n}function iP(e,t){e.pendingCharacterTokens.push(t)}function oP(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function aP(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)rP(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}sO.Parser=SD;const sP=new Set([mD.TAG_ID.CAPTION,mD.TAG_ID.COL,mD.TAG_ID.COLGROUP,mD.TAG_ID.TBODY,mD.TAG_ID.TD,mD.TAG_ID.TFOOT,mD.TAG_ID.TH,mD.TAG_ID.THEAD,mD.TAG_ID.TR]);function lP(e,t){switch(t.tagID){case mD.TAG_ID.HTML:KD(e,t);break;case mD.TAG_ID.COL:e._appendElement(t,mD.NS.HTML),t.ackSelfClosing=!0;break;case mD.TAG_ID.TEMPLATE:FD(e,t);break;default:cP(e,t)}}function cP(e,t){e.openElements.currentTagId===mD.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=TD.IN_TABLE,e._processToken(t))}function uP(e,t){switch(t.tagID){case mD.TAG_ID.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,mD.NS.HTML),e.insertionMode=TD.IN_ROW;break;case mD.TAG_ID.TH:case mD.TAG_ID.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(mD.TAG_NAMES.TR,mD.TAG_ID.TR),e.insertionMode=TD.IN_ROW,dP(e,t);break;case mD.TAG_ID.CAPTION:case mD.TAG_ID.COL:case mD.TAG_ID.COLGROUP:case mD.TAG_ID.TBODY:case mD.TAG_ID.TFOOT:case mD.TAG_ID.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=TD.IN_TABLE,tP(e,t));break;default:tP(e,t)}}function hP(e,t){const n=t.tagID;switch(t.tagID){case mD.TAG_ID.TBODY:case mD.TAG_ID.TFOOT:case mD.TAG_ID.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=TD.IN_TABLE);break;case mD.TAG_ID.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=TD.IN_TABLE,nP(e,t));break;case mD.TAG_ID.BODY:case mD.TAG_ID.CAPTION:case mD.TAG_ID.COL:case mD.TAG_ID.COLGROUP:case mD.TAG_ID.HTML:case mD.TAG_ID.TD:case mD.TAG_ID.TH:case mD.TAG_ID.TR:break;default:nP(e,t)}}function dP(e,t){switch(t.tagID){case mD.TAG_ID.TH:case mD.TAG_ID.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,mD.NS.HTML),e.insertionMode=TD.IN_CELL,e.activeFormattingElements.insertMarker();break;case mD.TAG_ID.CAPTION:case mD.TAG_ID.COL:case mD.TAG_ID.COLGROUP:case mD.TAG_ID.TBODY:case mD.TAG_ID.TFOOT:case mD.TAG_ID.THEAD:case mD.TAG_ID.TR:e.openElements.hasInTableScope(mD.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=TD.IN_TABLE_BODY,uP(e,t));break;default:tP(e,t)}}function pP(e,t){switch(t.tagID){case mD.TAG_ID.TR:e.openElements.hasInTableScope(mD.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=TD.IN_TABLE_BODY);break;case mD.TAG_ID.TABLE:e.openElements.hasInTableScope(mD.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=TD.IN_TABLE_BODY,hP(e,t));break;case mD.TAG_ID.TBODY:case mD.TAG_ID.TFOOT:case mD.TAG_ID.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(mD.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=TD.IN_TABLE_BODY,hP(e,t));break;case mD.TAG_ID.BODY:case mD.TAG_ID.CAPTION:case mD.TAG_ID.COL:case mD.TAG_ID.COLGROUP:case mD.TAG_ID.HTML:case mD.TAG_ID.TD:case mD.TAG_ID.TH:break;default:nP(e,t)}}function fP(e,t){switch(t.tagID){case mD.TAG_ID.HTML:KD(e,t);break;case mD.TAG_ID.OPTION:e.openElements.currentTagId===mD.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,mD.NS.HTML);break;case mD.TAG_ID.OPTGROUP:e.openElements.currentTagId===mD.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===mD.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,mD.NS.HTML);break;case mD.TAG_ID.INPUT:case mD.TAG_ID.KEYGEN:case mD.TAG_ID.TEXTAREA:case mD.TAG_ID.SELECT:e.openElements.hasInSelectScope(mD.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(mD.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==mD.TAG_ID.SELECT&&e._processStartTag(t));break;case mD.TAG_ID.SCRIPT:case mD.TAG_ID.TEMPLATE:FD(e,t)}}function mP(e,t){switch(t.tagID){case mD.TAG_ID.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===mD.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===mD.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===mD.TAG_ID.OPTGROUP&&e.openElements.pop();break;case mD.TAG_ID.OPTION:e.openElements.currentTagId===mD.TAG_ID.OPTION&&e.openElements.pop();break;case mD.TAG_ID.SELECT:e.openElements.hasInSelectScope(mD.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(mD.TAG_ID.SELECT),e._resetInsertionMode());break;case mD.TAG_ID.TEMPLATE:UD(e,t)}}function gP(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(mD.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):RD(e,t)}function bP(e,t){var n;if(t.tagID===mD.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=TD.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===mD.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(null===(n=e.treeAdapter.getNodeSourceCodeLocation(r))||void 0===n?void 0:n.endTag)&&e._setEndLocation(r,t)}}else vP(e,t)}function vP(e,t){e.insertionMode=TD.IN_BODY,zD(e,t)}function yP(e,t){e.insertionMode=TD.IN_BODY,zD(e,t)}function TP(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==mD.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}var _P={};Object.defineProperty(_P,"__esModule",{value:!0}),_P.serializeOuter=_P.serialize=void 0;const EP=vO,xP=nA,wP=KO,SP=new Set([EP.TAG_NAMES.AREA,EP.TAG_NAMES.BASE,EP.TAG_NAMES.BASEFONT,EP.TAG_NAMES.BGSOUND,EP.TAG_NAMES.BR,EP.TAG_NAMES.COL,EP.TAG_NAMES.EMBED,EP.TAG_NAMES.FRAME,EP.TAG_NAMES.HR,EP.TAG_NAMES.IMG,EP.TAG_NAMES.INPUT,EP.TAG_NAMES.KEYGEN,EP.TAG_NAMES.LINK,EP.TAG_NAMES.META,EP.TAG_NAMES.PARAM,EP.TAG_NAMES.SOURCE,EP.TAG_NAMES.TRACK,EP.TAG_NAMES.WBR]);function AP(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===EP.NS.HTML&&SP.has(t.treeAdapter.getTagName(e))}const kP={treeAdapter:wP.defaultTreeAdapter,scriptingEnabled:!0};function CP(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===EP.TAG_NAMES.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===EP.NS.HTML?t.treeAdapter.getTemplateContent(e):e,i=t.treeAdapter.getChildNodes(r);if(i)for(const e of i)n+=IP(e,t);return n}function IP(e,t){return t.treeAdapter.isElementNode(e)?function(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${function(e,{treeAdapter:t}){let n="";for(const r of t.getAttrList(e)){if(n+=" ",r.namespace)switch(r.namespace){case EP.NS.XML:n+=`xml:${r.name}`;break;case EP.NS.XMLNS:"xmlns"!==r.name&&(n+="xmlns:"),n+=r.name;break;case EP.NS.XLINK:n+=`xlink:${r.name}`;break;default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${(0,xP.escapeAttribute)(r.value)}"`}return n}(e,t)}>${AP(e,t)?"":`${CP(e,t)}</${n}>`}`}(e,t):t.treeAdapter.isTextNode(e)?function(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),i=n.getParentNode(e),o=i&&n.isElementNode(i)&&n.getTagName(i);return o&&n.getNamespaceURI(i)===EP.NS.HTML&&(0,EP.hasUnescapedText)(o,t.scriptingEnabled)?r:(0,xP.escapeText)(r)}(e,t):t.treeAdapter.isCommentNode(e)?function(e,{treeAdapter:t}){return`\x3c!--${t.getCommentNodeContent(e)}--\x3e`}(e,t):t.treeAdapter.isDocumentTypeNode(e)?function(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}(e,t):""}_P.serialize=function(e,t){const n=Object.assign(Object.assign({},kP),t);return AP(e,n)?"":CP(e,n)},_P.serializeOuter=function(e,t){return IP(e,Object.assign(Object.assign({},kP),t))},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseFragment=e.parse=e.TokenizerMode=e.Tokenizer=e.Token=e.html=e.foreignContent=e.ErrorCodes=e.serializeOuter=e.serialize=e.Parser=e.defaultTreeAdapter=void 0;const t=sO;var n=KO;Object.defineProperty(e,"defaultTreeAdapter",{enumerable:!0,get:function(){return n.defaultTreeAdapter}});var r=sO;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=_P;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return i.serialize}}),Object.defineProperty(e,"serializeOuter",{enumerable:!0,get:function(){return i.serializeOuter}});var o=pO;Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return o.ERR}}),e.foreignContent=aD,e.html=vO,e.Token=bO;var a=lO;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a.Tokenizer}}),Object.defineProperty(e,"TokenizerMode",{enumerable:!0,get:function(){return a.TokenizerMode}}),e.parse=function(e,n){return t.Parser.parse(e,n)},e.parseFragment=function(e,n,r){"string"==typeof e&&(r=n,n=e,e=null);const i=t.Parser.getFragmentParser(e,r);return i.tokenizer.write(n,!0),i.getFragment()}}(aO);var OP={},DP={},PP={},NP={},RP={},MP={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isUndefinedCodePoint=e.isControlCodePoint=e.getSurrogatePairCodePoint=e.isSurrogatePair=e.isSurrogate=e.SEQUENCES=e.CODE_POINTS=e.REPLACEMENT_CHARACTER=void 0;const t=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]);var n;e.REPLACEMENT_CHARACTER="�",(n=e.CODE_POINTS||(e.CODE_POINTS={}))[n.EOF=-1]="EOF",n[n.NULL=0]="NULL",n[n.TABULATION=9]="TABULATION",n[n.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",n[n.LINE_FEED=10]="LINE_FEED",n[n.FORM_FEED=12]="FORM_FEED",n[n.SPACE=32]="SPACE",n[n.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",n[n.QUOTATION_MARK=34]="QUOTATION_MARK",n[n.NUMBER_SIGN=35]="NUMBER_SIGN",n[n.AMPERSAND=38]="AMPERSAND",n[n.APOSTROPHE=39]="APOSTROPHE",n[n.HYPHEN_MINUS=45]="HYPHEN_MINUS",n[n.SOLIDUS=47]="SOLIDUS",n[n.DIGIT_0=48]="DIGIT_0",n[n.DIGIT_9=57]="DIGIT_9",n[n.SEMICOLON=59]="SEMICOLON",n[n.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",n[n.EQUALS_SIGN=61]="EQUALS_SIGN",n[n.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",n[n.QUESTION_MARK=63]="QUESTION_MARK",n[n.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",n[n.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",n[n.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",n[n.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",n[n.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",n[n.GRAVE_ACCENT=96]="GRAVE_ACCENT",n[n.LATIN_SMALL_A=97]="LATIN_SMALL_A",n[n.LATIN_SMALL_F=102]="LATIN_SMALL_F",n[n.LATIN_SMALL_X=120]="LATIN_SMALL_X",n[n.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",n[n.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER",e.SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"},e.isSurrogate=function(e){return e>=55296&&e<=57343},e.isSurrogatePair=function(e){return e>=56320&&e<=57343},e.getSurrogatePairCodePoint=function(e,t){return 1024*(e-55296)+9216+t},e.isControlCodePoint=function(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159},e.isUndefinedCodePoint=function(e){return e>=64976&&e<=65007||t.has(e)}}(MP);var LP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ERR=void 0,function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"}(e.ERR||(e.ERR={}))})(LP),Object.defineProperty(RP,"__esModule",{value:!0}),RP.Preprocessor=void 0;const BP=MP,FP=LP;let UP=function(){function e(t){d(this,e),this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}return f(e,[{key:"col",get:function(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}},{key:"offset",get:function(){return this.droppedBufferSize+this.pos}},{key:"getError",value:function(e){const{line:t,col:n,offset:r}=this;return{code:e,startLine:t,endLine:t,startCol:n,endCol:n,startOffset:r,endOffset:r}}},{key:"_err",value:function(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)))}},{key:"_addGap",value:function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}},{key:"_processSurrogate",value:function(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if((0,BP.isSurrogatePair)(t))return this.pos++,this._addGap(),(0,BP.getSurrogatePairCodePoint)(e,t)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,BP.CODE_POINTS.EOF;return this._err(FP.ERR.surrogateInInputStream),e}},{key:"willDropParsedChunk",value:function(){return this.pos>this.bufferWaterline}},{key:"dropParsedChunk",value:function(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}},{key:"write",value:function(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}},{key:"insertHtmlAtCurrentPos",value:function(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}},{key:"startsWith",value:function(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++)if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return!1;return!0}},{key:"peek",value:function(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,BP.CODE_POINTS.EOF;const n=this.html.charCodeAt(t);return n===BP.CODE_POINTS.CARRIAGE_RETURN?BP.CODE_POINTS.LINE_FEED:n}},{key:"advance",value:function(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,BP.CODE_POINTS.EOF;let e=this.html.charCodeAt(this.pos);return e===BP.CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,BP.CODE_POINTS.LINE_FEED):e===BP.CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,(0,BP.isSurrogate)(e)&&(e=this._processSurrogate(e)),null===this.handler.onParseError||e>31&&e<127||e===BP.CODE_POINTS.LINE_FEED||e===BP.CODE_POINTS.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}},{key:"_checkForProblematicCharacters",value:function(e){(0,BP.isControlCodePoint)(e)?this._err(FP.ERR.controlCharacterInInputStream):(0,BP.isUndefinedCodePoint)(e)&&this._err(FP.ERR.noncharacterInInputStream)}},{key:"retreat",value:function(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}]),e}();RP.Preprocessor=UP;var jP={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.getTokenAttr=e.TokenType=void 0,(t=e.TokenType||(e.TokenType={}))[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION",e.getTokenAttr=function(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}}(jP);var HP={};(function(e){var t,n,r,i,o,a,s,l;Object.defineProperty(e,"__esModule",{value:!0}),e.hasUnescapedText=e.isNumberedHeader=e.SPECIAL_ELEMENTS=e.getTagID=e.TAG_ID=e.TAG_NAMES=e.DOCUMENT_MODE=e.ATTRS=e.NS=void 0,(n=t=e.NS||(e.NS={})).HTML="http://www.w3.org/1999/xhtml",n.MATHML="http://www.w3.org/1998/Math/MathML",n.SVG="http://www.w3.org/2000/svg",n.XLINK="http://www.w3.org/1999/xlink",n.XML="http://www.w3.org/XML/1998/namespace",n.XMLNS="http://www.w3.org/2000/xmlns/",(r=e.ATTRS||(e.ATTRS={})).TYPE="type",r.ACTION="action",r.ENCODING="encoding",r.PROMPT="prompt",r.NAME="name",r.COLOR="color",r.FACE="face",r.SIZE="size",(i=e.DOCUMENT_MODE||(e.DOCUMENT_MODE={})).NO_QUIRKS="no-quirks",i.QUIRKS="quirks",i.LIMITED_QUIRKS="limited-quirks",(a=o=e.TAG_NAMES||(e.TAG_NAMES={})).A="a",a.ADDRESS="address",a.ANNOTATION_XML="annotation-xml",a.APPLET="applet",a.AREA="area",a.ARTICLE="article",a.ASIDE="aside",a.B="b",a.BASE="base",a.BASEFONT="basefont",a.BGSOUND="bgsound",a.BIG="big",a.BLOCKQUOTE="blockquote",a.BODY="body",a.BR="br",a.BUTTON="button",a.CAPTION="caption",a.CENTER="center",a.CODE="code",a.COL="col",a.COLGROUP="colgroup",a.DD="dd",a.DESC="desc",a.DETAILS="details",a.DIALOG="dialog",a.DIR="dir",a.DIV="div",a.DL="dl",a.DT="dt",a.EM="em",a.EMBED="embed",a.FIELDSET="fieldset",a.FIGCAPTION="figcaption",a.FIGURE="figure",a.FONT="font",a.FOOTER="footer",a.FOREIGN_OBJECT="foreignObject",a.FORM="form",a.FRAME="frame",a.FRAMESET="frameset",a.H1="h1",a.H2="h2",a.H3="h3",a.H4="h4",a.H5="h5",a.H6="h6",a.HEAD="head",a.HEADER="header",a.HGROUP="hgroup",a.HR="hr",a.HTML="html",a.I="i",a.IMG="img",a.IMAGE="image",a.INPUT="input",a.IFRAME="iframe",a.KEYGEN="keygen",a.LABEL="label",a.LI="li",a.LINK="link",a.LISTING="listing",a.MAIN="main",a.MALIGNMARK="malignmark",a.MARQUEE="marquee",a.MATH="math",a.MENU="menu",a.META="meta",a.MGLYPH="mglyph",a.MI="mi",a.MO="mo",a.MN="mn",a.MS="ms",a.MTEXT="mtext",a.NAV="nav",a.NOBR="nobr",a.NOFRAMES="noframes",a.NOEMBED="noembed",a.NOSCRIPT="noscript",a.OBJECT="object",a.OL="ol",a.OPTGROUP="optgroup",a.OPTION="option",a.P="p",a.PARAM="param",a.PLAINTEXT="plaintext",a.PRE="pre",a.RB="rb",a.RP="rp",a.RT="rt",a.RTC="rtc",a.RUBY="ruby",a.S="s",a.SCRIPT="script",a.SECTION="section",a.SELECT="select",a.SOURCE="source",a.SMALL="small",a.SPAN="span",a.STRIKE="strike",a.STRONG="strong",a.STYLE="style",a.SUB="sub",a.SUMMARY="summary",a.SUP="sup",a.TABLE="table",a.TBODY="tbody",a.TEMPLATE="template",a.TEXTAREA="textarea",a.TFOOT="tfoot",a.TD="td",a.TH="th",a.THEAD="thead",a.TITLE="title",a.TR="tr",a.TRACK="track",a.TT="tt",a.U="u",a.UL="ul",a.SVG="svg",a.VAR="var",a.WBR="wbr",a.XMP="xmp",(l=s=e.TAG_ID||(e.TAG_ID={}))[l.UNKNOWN=0]="UNKNOWN",l[l.A=1]="A",l[l.ADDRESS=2]="ADDRESS",l[l.ANNOTATION_XML=3]="ANNOTATION_XML",l[l.APPLET=4]="APPLET",l[l.AREA=5]="AREA",l[l.ARTICLE=6]="ARTICLE",l[l.ASIDE=7]="ASIDE",l[l.B=8]="B",l[l.BASE=9]="BASE",l[l.BASEFONT=10]="BASEFONT",l[l.BGSOUND=11]="BGSOUND",l[l.BIG=12]="BIG",l[l.BLOCKQUOTE=13]="BLOCKQUOTE",l[l.BODY=14]="BODY",l[l.BR=15]="BR",l[l.BUTTON=16]="BUTTON",l[l.CAPTION=17]="CAPTION",l[l.CENTER=18]="CENTER",l[l.CODE=19]="CODE",l[l.COL=20]="COL",l[l.COLGROUP=21]="COLGROUP",l[l.DD=22]="DD",l[l.DESC=23]="DESC",l[l.DETAILS=24]="DETAILS",l[l.DIALOG=25]="DIALOG",l[l.DIR=26]="DIR",l[l.DIV=27]="DIV",l[l.DL=28]="DL",l[l.DT=29]="DT",l[l.EM=30]="EM",l[l.EMBED=31]="EMBED",l[l.FIELDSET=32]="FIELDSET",l[l.FIGCAPTION=33]="FIGCAPTION",l[l.FIGURE=34]="FIGURE",l[l.FONT=35]="FONT",l[l.FOOTER=36]="FOOTER",l[l.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",l[l.FORM=38]="FORM",l[l.FRAME=39]="FRAME",l[l.FRAMESET=40]="FRAMESET",l[l.H1=41]="H1",l[l.H2=42]="H2",l[l.H3=43]="H3",l[l.H4=44]="H4",l[l.H5=45]="H5",l[l.H6=46]="H6",l[l.HEAD=47]="HEAD",l[l.HEADER=48]="HEADER",l[l.HGROUP=49]="HGROUP",l[l.HR=50]="HR",l[l.HTML=51]="HTML",l[l.I=52]="I",l[l.IMG=53]="IMG",l[l.IMAGE=54]="IMAGE",l[l.INPUT=55]="INPUT",l[l.IFRAME=56]="IFRAME",l[l.KEYGEN=57]="KEYGEN",l[l.LABEL=58]="LABEL",l[l.LI=59]="LI",l[l.LINK=60]="LINK",l[l.LISTING=61]="LISTING",l[l.MAIN=62]="MAIN",l[l.MALIGNMARK=63]="MALIGNMARK",l[l.MARQUEE=64]="MARQUEE",l[l.MATH=65]="MATH",l[l.MENU=66]="MENU",l[l.META=67]="META",l[l.MGLYPH=68]="MGLYPH",l[l.MI=69]="MI",l[l.MO=70]="MO",l[l.MN=71]="MN",l[l.MS=72]="MS",l[l.MTEXT=73]="MTEXT",l[l.NAV=74]="NAV",l[l.NOBR=75]="NOBR",l[l.NOFRAMES=76]="NOFRAMES",l[l.NOEMBED=77]="NOEMBED",l[l.NOSCRIPT=78]="NOSCRIPT",l[l.OBJECT=79]="OBJECT",l[l.OL=80]="OL",l[l.OPTGROUP=81]="OPTGROUP",l[l.OPTION=82]="OPTION",l[l.P=83]="P",l[l.PARAM=84]="PARAM",l[l.PLAINTEXT=85]="PLAINTEXT",l[l.PRE=86]="PRE",l[l.RB=87]="RB",l[l.RP=88]="RP",l[l.RT=89]="RT",l[l.RTC=90]="RTC",l[l.RUBY=91]="RUBY",l[l.S=92]="S",l[l.SCRIPT=93]="SCRIPT",l[l.SECTION=94]="SECTION",l[l.SELECT=95]="SELECT",l[l.SOURCE=96]="SOURCE",l[l.SMALL=97]="SMALL",l[l.SPAN=98]="SPAN",l[l.STRIKE=99]="STRIKE",l[l.STRONG=100]="STRONG",l[l.STYLE=101]="STYLE",l[l.SUB=102]="SUB",l[l.SUMMARY=103]="SUMMARY",l[l.SUP=104]="SUP",l[l.TABLE=105]="TABLE",l[l.TBODY=106]="TBODY",l[l.TEMPLATE=107]="TEMPLATE",l[l.TEXTAREA=108]="TEXTAREA",l[l.TFOOT=109]="TFOOT",l[l.TD=110]="TD",l[l.TH=111]="TH",l[l.THEAD=112]="THEAD",l[l.TITLE=113]="TITLE",l[l.TR=114]="TR",l[l.TRACK=115]="TRACK",l[l.TT=116]="TT",l[l.U=117]="U",l[l.UL=118]="UL",l[l.SVG=119]="SVG",l[l.VAR=120]="VAR",l[l.WBR=121]="WBR",l[l.XMP=122]="XMP";const c=new Map([[o.A,s.A],[o.ADDRESS,s.ADDRESS],[o.ANNOTATION_XML,s.ANNOTATION_XML],[o.APPLET,s.APPLET],[o.AREA,s.AREA],[o.ARTICLE,s.ARTICLE],[o.ASIDE,s.ASIDE],[o.B,s.B],[o.BASE,s.BASE],[o.BASEFONT,s.BASEFONT],[o.BGSOUND,s.BGSOUND],[o.BIG,s.BIG],[o.BLOCKQUOTE,s.BLOCKQUOTE],[o.BODY,s.BODY],[o.BR,s.BR],[o.BUTTON,s.BUTTON],[o.CAPTION,s.CAPTION],[o.CENTER,s.CENTER],[o.CODE,s.CODE],[o.COL,s.COL],[o.COLGROUP,s.COLGROUP],[o.DD,s.DD],[o.DESC,s.DESC],[o.DETAILS,s.DETAILS],[o.DIALOG,s.DIALOG],[o.DIR,s.DIR],[o.DIV,s.DIV],[o.DL,s.DL],[o.DT,s.DT],[o.EM,s.EM],[o.EMBED,s.EMBED],[o.FIELDSET,s.FIELDSET],[o.FIGCAPTION,s.FIGCAPTION],[o.FIGURE,s.FIGURE],[o.FONT,s.FONT],[o.FOOTER,s.FOOTER],[o.FOREIGN_OBJECT,s.FOREIGN_OBJECT],[o.FORM,s.FORM],[o.FRAME,s.FRAME],[o.FRAMESET,s.FRAMESET],[o.H1,s.H1],[o.H2,s.H2],[o.H3,s.H3],[o.H4,s.H4],[o.H5,s.H5],[o.H6,s.H6],[o.HEAD,s.HEAD],[o.HEADER,s.HEADER],[o.HGROUP,s.HGROUP],[o.HR,s.HR],[o.HTML,s.HTML],[o.I,s.I],[o.IMG,s.IMG],[o.IMAGE,s.IMAGE],[o.INPUT,s.INPUT],[o.IFRAME,s.IFRAME],[o.KEYGEN,s.KEYGEN],[o.LABEL,s.LABEL],[o.LI,s.LI],[o.LINK,s.LINK],[o.LISTING,s.LISTING],[o.MAIN,s.MAIN],[o.MALIGNMARK,s.MALIGNMARK],[o.MARQUEE,s.MARQUEE],[o.MATH,s.MATH],[o.MENU,s.MENU],[o.META,s.META],[o.MGLYPH,s.MGLYPH],[o.MI,s.MI],[o.MO,s.MO],[o.MN,s.MN],[o.MS,s.MS],[o.MTEXT,s.MTEXT],[o.NAV,s.NAV],[o.NOBR,s.NOBR],[o.NOFRAMES,s.NOFRAMES],[o.NOEMBED,s.NOEMBED],[o.NOSCRIPT,s.NOSCRIPT],[o.OBJECT,s.OBJECT],[o.OL,s.OL],[o.OPTGROUP,s.OPTGROUP],[o.OPTION,s.OPTION],[o.P,s.P],[o.PARAM,s.PARAM],[o.PLAINTEXT,s.PLAINTEXT],[o.PRE,s.PRE],[o.RB,s.RB],[o.RP,s.RP],[o.RT,s.RT],[o.RTC,s.RTC],[o.RUBY,s.RUBY],[o.S,s.S],[o.SCRIPT,s.SCRIPT],[o.SECTION,s.SECTION],[o.SELECT,s.SELECT],[o.SOURCE,s.SOURCE],[o.SMALL,s.SMALL],[o.SPAN,s.SPAN],[o.STRIKE,s.STRIKE],[o.STRONG,s.STRONG],[o.STYLE,s.STYLE],[o.SUB,s.SUB],[o.SUMMARY,s.SUMMARY],[o.SUP,s.SUP],[o.TABLE,s.TABLE],[o.TBODY,s.TBODY],[o.TEMPLATE,s.TEMPLATE],[o.TEXTAREA,s.TEXTAREA],[o.TFOOT,s.TFOOT],[o.TD,s.TD],[o.TH,s.TH],[o.THEAD,s.THEAD],[o.TITLE,s.TITLE],[o.TR,s.TR],[o.TRACK,s.TRACK],[o.TT,s.TT],[o.U,s.U],[o.UL,s.UL],[o.SVG,s.SVG],[o.VAR,s.VAR],[o.WBR,s.WBR],[o.XMP,s.XMP]]);e.getTagID=function(e){var t;return null!==(t=c.get(e))&&void 0!==t?t:s.UNKNOWN};const u=s;e.SPECIAL_ELEMENTS={[t.HTML]:new Set([u.ADDRESS,u.APPLET,u.AREA,u.ARTICLE,u.ASIDE,u.BASE,u.BASEFONT,u.BGSOUND,u.BLOCKQUOTE,u.BODY,u.BR,u.BUTTON,u.CAPTION,u.CENTER,u.COL,u.COLGROUP,u.DD,u.DETAILS,u.DIR,u.DIV,u.DL,u.DT,u.EMBED,u.FIELDSET,u.FIGCAPTION,u.FIGURE,u.FOOTER,u.FORM,u.FRAME,u.FRAMESET,u.H1,u.H2,u.H3,u.H4,u.H5,u.H6,u.HEAD,u.HEADER,u.HGROUP,u.HR,u.HTML,u.IFRAME,u.IMG,u.INPUT,u.LI,u.LINK,u.LISTING,u.MAIN,u.MARQUEE,u.MENU,u.META,u.NAV,u.NOEMBED,u.NOFRAMES,u.NOSCRIPT,u.OBJECT,u.OL,u.P,u.PARAM,u.PLAINTEXT,u.PRE,u.SCRIPT,u.SECTION,u.SELECT,u.SOURCE,u.STYLE,u.SUMMARY,u.TABLE,u.TBODY,u.TD,u.TEMPLATE,u.TEXTAREA,u.TFOOT,u.TH,u.THEAD,u.TITLE,u.TR,u.TRACK,u.UL,u.WBR,u.XMP]),[t.MATHML]:new Set([u.MI,u.MO,u.MN,u.MS,u.MTEXT,u.ANNOTATION_XML]),[t.SVG]:new Set([u.TITLE,u.FOREIGN_OBJECT,u.DESC]),[t.XLINK]:new Set,[t.XML]:new Set,[t.XMLNS]:new Set},e.isNumberedHeader=function(e){return e===u.H1||e===u.H2||e===u.H3||e===u.H4||e===u.H5||e===u.H6};const h=new Set([o.STYLE,o.SCRIPT,o.XMP,o.IFRAME,o.NOEMBED,o.NOFRAMES,o.PLAINTEXT]);e.hasUnescapedText=function(e,t){return h.has(e)||t&&e===o.NOSCRIPT}})(HP),Object.defineProperty(NP,"__esModule",{value:!0}),NP.Tokenizer=NP.TokenizerMode=void 0;const GP=RP,zP=MP,VP=jP,YP=qS,$P=LP,XP=HP,WP=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var qP;function KP(e){return e>=zP.CODE_POINTS.DIGIT_0&&e<=zP.CODE_POINTS.DIGIT_9}function ZP(e){return e>=zP.CODE_POINTS.LATIN_CAPITAL_A&&e<=zP.CODE_POINTS.LATIN_CAPITAL_Z}function QP(e){return function(e){return e>=zP.CODE_POINTS.LATIN_SMALL_A&&e<=zP.CODE_POINTS.LATIN_SMALL_Z}(e)||ZP(e)}function JP(e){return QP(e)||KP(e)}function eN(e){return e>=zP.CODE_POINTS.LATIN_CAPITAL_A&&e<=zP.CODE_POINTS.LATIN_CAPITAL_F}function tN(e){return e>=zP.CODE_POINTS.LATIN_SMALL_A&&e<=zP.CODE_POINTS.LATIN_SMALL_F}function nN(e){return e+32}function rN(e){return e===zP.CODE_POINTS.SPACE||e===zP.CODE_POINTS.LINE_FEED||e===zP.CODE_POINTS.TABULATION||e===zP.CODE_POINTS.FORM_FEED}function iN(e){return rN(e)||e===zP.CODE_POINTS.SOLIDUS||e===zP.CODE_POINTS.GREATER_THAN_SIGN}(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(qP||(qP={})),NP.TokenizerMode={DATA:qP.DATA,RCDATA:qP.RCDATA,RAWTEXT:qP.RAWTEXT,SCRIPT_DATA:qP.SCRIPT_DATA,PLAINTEXT:qP.PLAINTEXT,CDATA_SECTION:qP.CDATA_SECTION};let oN=function(){function e(t,n){d(this,e),this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=qP.DATA,this.returnState=qP.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new GP.Preprocessor(n),this.currentLocation=this.getCurrentLocation(-1)}return f(e,[{key:"_err",value:function(e){var t,n;null===(n=(t=this.handler).onParseError)||void 0===n||n.call(t,this.preprocessor.getError(e))}},{key:"getCurrentLocation",value:function(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}},{key:"_runParsingLoop",value:function(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e())}},{key:"write",value:function(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==n||n()}},{key:"insertHtmlAtCurrentPos",value:function(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}},{key:"_ensureHibernation",value:function(){return!!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}},{key:"_consume",value:function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}},{key:"_unconsume",value:function(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e)}},{key:"_reconsumeInState",value:function(e,t){this.state=e,this._callState(t)}},{key:"_advanceBy",value:function(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}},{key:"_consumeSequenceIfMatch",value:function(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}},{key:"_createStartTagToken",value:function(){this.currentToken={type:VP.TokenType.START_TAG,tagName:"",tagID:XP.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}},{key:"_createEndTagToken",value:function(){this.currentToken={type:VP.TokenType.END_TAG,tagName:"",tagID:XP.TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}},{key:"_createCommentToken",value:function(e){this.currentToken={type:VP.TokenType.COMMENT,data:"",location:this.getCurrentLocation(e)}}},{key:"_createDoctypeToken",value:function(e){this.currentToken={type:VP.TokenType.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}},{key:"_createCharacterToken",value:function(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}},{key:"_createAttr",value:function(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}},{key:"_leaveAttrName",value:function(){var e,t;const n=this.currentToken;null===(0,VP.getTokenAttr)(n,this.currentAttr.name)?(n.attrs.push(this.currentAttr),n.location&&this.currentLocation&&((null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err($P.ERR.duplicateAttribute)}},{key:"_leaveAttrValue",value:function(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}},{key:"prepareToken",value:function(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}},{key:"emitCurrentTagToken",value:function(){const e=this.currentToken;this.prepareToken(e),e.tagID=(0,XP.getTagID)(e.tagName),e.type===VP.TokenType.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err($P.ERR.endTagWithAttributes),e.selfClosing&&this._err($P.ERR.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentComment",value:function(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}},{key:"emitCurrentDoctype",value:function(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}},{key:"_emitCurrentCharacterToken",value:function(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case VP.TokenType.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case VP.TokenType.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case VP.TokenType.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}},{key:"_emitEOFToken",value:function(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:VP.TokenType.EOF,location:e}),this.active=!1}},{key:"_appendCharToCurrentCharacterToken",value:function(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}},{key:"_emitCodePoint",value:function(e){const t=rN(e)?VP.TokenType.WHITESPACE_CHARACTER:e===zP.CODE_POINTS.NULL?VP.TokenType.NULL_CHARACTER:VP.TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}},{key:"_emitChars",value:function(e){this._appendCharToCurrentCharacterToken(VP.TokenType.CHARACTER,e)}},{key:"_matchNamedCharacterReference",value:function(e){let t=null,n=0,r=!1;for(let o=0,a=YP.htmlDecodeTree[0];o>=0&&(o=(0,YP.determineBranch)(YP.htmlDecodeTree,a,o+1,e),!(o<0));e=this._consume()){n+=1,a=YP.htmlDecodeTree[o];const s=a&YP.BinTrieFlags.VALUE_LENGTH;if(s){const a=(s>>14)-1;if(e!==zP.CODE_POINTS.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((i=this.preprocessor.peek(1))===zP.CODE_POINTS.EQUALS_SIGN||JP(i))?(t=[zP.CODE_POINTS.AMPERSAND],o+=a):(t=0===a?[YP.htmlDecodeTree[o]&~YP.BinTrieFlags.VALUE_LENGTH]:1===a?[YP.htmlDecodeTree[++o]]:[YP.htmlDecodeTree[++o],YP.htmlDecodeTree[++o]],n=0,r=e!==zP.CODE_POINTS.SEMICOLON),0===a){this._consume();break}}}var i;return this._unconsume(n),r&&!this.preprocessor.endOfChunkHit&&this._err($P.ERR.missingSemicolonAfterCharacterReference),this._unconsume(1),t}},{key:"_isCharacterReferenceInAttribute",value:function(){return this.returnState===qP.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===qP.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===qP.ATTRIBUTE_VALUE_UNQUOTED}},{key:"_flushCodePointConsumedAsCharacterReference",value:function(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}},{key:"_callState",value:function(e){switch(this.state){case qP.DATA:this._stateData(e);break;case qP.RCDATA:this._stateRcdata(e);break;case qP.RAWTEXT:this._stateRawtext(e);break;case qP.SCRIPT_DATA:this._stateScriptData(e);break;case qP.PLAINTEXT:this._statePlaintext(e);break;case qP.TAG_OPEN:this._stateTagOpen(e);break;case qP.END_TAG_OPEN:this._stateEndTagOpen(e);break;case qP.TAG_NAME:this._stateTagName(e);break;case qP.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case qP.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case qP.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case qP.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case qP.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case qP.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case qP.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case qP.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case qP.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case qP.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case qP.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case qP.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case qP.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case qP.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case qP.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case qP.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case qP.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case qP.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case qP.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case qP.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case qP.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case qP.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case qP.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case qP.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case qP.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case qP.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case qP.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case qP.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case qP.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case qP.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case qP.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case qP.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case qP.BOGUS_COMMENT:this._stateBogusComment(e);break;case qP.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case qP.COMMENT_START:this._stateCommentStart(e);break;case qP.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case qP.COMMENT:this._stateComment(e);break;case qP.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case qP.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case qP.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case qP.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case qP.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case qP.COMMENT_END:this._stateCommentEnd(e);break;case qP.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case qP.DOCTYPE:this._stateDoctype(e);break;case qP.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case qP.DOCTYPE_NAME:this._stateDoctypeName(e);break;case qP.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case qP.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case qP.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case qP.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case qP.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case qP.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case qP.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case qP.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case qP.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case qP.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case qP.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case qP.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case qP.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case qP.CDATA_SECTION:this._stateCdataSection(e);break;case qP.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case qP.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case qP.CHARACTER_REFERENCE:this._stateCharacterReference(e);break;case qP.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(e);break;case qP.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;case qP.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(e);break;case qP.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(e);break;case qP.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(e);break;case qP.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(e);break;case qP.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(e);break;default:throw new Error("Unknown state")}}},{key:"_stateData",value:function(e){switch(e){case zP.CODE_POINTS.LESS_THAN_SIGN:this.state=qP.TAG_OPEN;break;case zP.CODE_POINTS.AMPERSAND:this.returnState=qP.DATA,this.state=qP.CHARACTER_REFERENCE;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this._emitCodePoint(e);break;case zP.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateRcdata",value:function(e){switch(e){case zP.CODE_POINTS.AMPERSAND:this.returnState=qP.RCDATA,this.state=qP.CHARACTER_REFERENCE;break;case zP.CODE_POINTS.LESS_THAN_SIGN:this.state=qP.RCDATA_LESS_THAN_SIGN;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this._emitChars(zP.REPLACEMENT_CHARACTER);break;case zP.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateRawtext",value:function(e){switch(e){case zP.CODE_POINTS.LESS_THAN_SIGN:this.state=qP.RAWTEXT_LESS_THAN_SIGN;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this._emitChars(zP.REPLACEMENT_CHARACTER);break;case zP.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateScriptData",value:function(e){switch(e){case zP.CODE_POINTS.LESS_THAN_SIGN:this.state=qP.SCRIPT_DATA_LESS_THAN_SIGN;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this._emitChars(zP.REPLACEMENT_CHARACTER);break;case zP.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_statePlaintext",value:function(e){switch(e){case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this._emitChars(zP.REPLACEMENT_CHARACTER);break;case zP.CODE_POINTS.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateTagOpen",value:function(e){if(QP(e))this._createStartTagToken(),this.state=qP.TAG_NAME,this._stateTagName(e);else switch(e){case zP.CODE_POINTS.EXCLAMATION_MARK:this.state=qP.MARKUP_DECLARATION_OPEN;break;case zP.CODE_POINTS.SOLIDUS:this.state=qP.END_TAG_OPEN;break;case zP.CODE_POINTS.QUESTION_MARK:this._err($P.ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=qP.BOGUS_COMMENT,this._stateBogusComment(e);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err($P.ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=qP.DATA,this._stateData(e)}}},{key:"_stateEndTagOpen",value:function(e){if(QP(e))this._createEndTagToken(),this.state=qP.TAG_NAME,this._stateTagName(e);else switch(e){case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.missingEndTagName),this.state=qP.DATA;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err($P.ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=qP.BOGUS_COMMENT,this._stateBogusComment(e)}}},{key:"_stateTagName",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:this.state=qP.BEFORE_ATTRIBUTE_NAME;break;case zP.CODE_POINTS.SOLIDUS:this.state=qP.SELF_CLOSING_START_TAG;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.DATA,this.emitCurrentTagToken();break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),t.tagName+=zP.REPLACEMENT_CHARACTER;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(ZP(e)?nN(e):e)}}},{key:"_stateRcdataLessThanSign",value:function(e){e===zP.CODE_POINTS.SOLIDUS?this.state=qP.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=qP.RCDATA,this._stateRcdata(e))}},{key:"_stateRcdataEndTagOpen",value:function(e){QP(e)?(this.state=qP.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=qP.RCDATA,this._stateRcdata(e))}},{key:"handleSpecialEndTag",value:function(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=qP.BEFORE_ATTRIBUTE_NAME,!1;case zP.CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=qP.SELF_CLOSING_START_TAG,!1;case zP.CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=qP.DATA,!1;default:return!this._ensureHibernation()}}},{key:"_stateRcdataEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=qP.RCDATA,this._stateRcdata(e))}},{key:"_stateRawtextLessThanSign",value:function(e){e===zP.CODE_POINTS.SOLIDUS?this.state=qP.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=qP.RAWTEXT,this._stateRawtext(e))}},{key:"_stateRawtextEndTagOpen",value:function(e){QP(e)?(this.state=qP.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=qP.RAWTEXT,this._stateRawtext(e))}},{key:"_stateRawtextEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=qP.RAWTEXT,this._stateRawtext(e))}},{key:"_stateScriptDataLessThanSign",value:function(e){switch(e){case zP.CODE_POINTS.SOLIDUS:this.state=qP.SCRIPT_DATA_END_TAG_OPEN;break;case zP.CODE_POINTS.EXCLAMATION_MARK:this.state=qP.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=qP.SCRIPT_DATA,this._stateScriptData(e)}}},{key:"_stateScriptDataEndTagOpen",value:function(e){QP(e)?(this.state=qP.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=qP.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=qP.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEscapeStart",value:function(e){e===zP.CODE_POINTS.HYPHEN_MINUS?(this.state=qP.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=qP.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEscapeStartDash",value:function(e){e===zP.CODE_POINTS.HYPHEN_MINUS?(this.state=qP.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=qP.SCRIPT_DATA,this._stateScriptData(e))}},{key:"_stateScriptDataEscaped",value:function(e){switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:this.state=qP.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case zP.CODE_POINTS.LESS_THAN_SIGN:this.state=qP.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this._emitChars(zP.REPLACEMENT_CHARACTER);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateScriptDataEscapedDash",value:function(e){switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:this.state=qP.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case zP.CODE_POINTS.LESS_THAN_SIGN:this.state=qP.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this.state=qP.SCRIPT_DATA_ESCAPED,this._emitChars(zP.REPLACEMENT_CHARACTER);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=qP.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataEscapedDashDash",value:function(e){switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case zP.CODE_POINTS.LESS_THAN_SIGN:this.state=qP.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.SCRIPT_DATA,this._emitChars(">");break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this.state=qP.SCRIPT_DATA_ESCAPED,this._emitChars(zP.REPLACEMENT_CHARACTER);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=qP.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataEscapedLessThanSign",value:function(e){e===zP.CODE_POINTS.SOLIDUS?this.state=qP.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:QP(e)?(this._emitChars("<"),this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=qP.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataEscapedEndTagOpen",value:function(e){QP(e)?(this.state=qP.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=qP.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataEscapedEndTagName",value:function(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=qP.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataDoubleEscapeStart",value:function(e){if(this.preprocessor.startsWith(zP.SEQUENCES.SCRIPT,!1)&&iN(this.preprocessor.peek(zP.SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let e=0;e<zP.SEQUENCES.SCRIPT.length;e++)this._emitCodePoint(this._consume());this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=qP.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}},{key:"_stateScriptDataDoubleEscaped",value:function(e){switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case zP.CODE_POINTS.LESS_THAN_SIGN:this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this._emitChars(zP.REPLACEMENT_CHARACTER);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateScriptDataDoubleEscapedDash",value:function(e){switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case zP.CODE_POINTS.LESS_THAN_SIGN:this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(zP.REPLACEMENT_CHARACTER);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataDoubleEscapedDashDash",value:function(e){switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:this._emitChars("-");break;case zP.CODE_POINTS.LESS_THAN_SIGN:this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.SCRIPT_DATA,this._emitChars(">");break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(zP.REPLACEMENT_CHARACTER);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}},{key:"_stateScriptDataDoubleEscapedLessThanSign",value:function(e){e===zP.CODE_POINTS.SOLIDUS?(this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}},{key:"_stateScriptDataDoubleEscapeEnd",value:function(e){if(this.preprocessor.startsWith(zP.SEQUENCES.SCRIPT,!1)&&iN(this.preprocessor.peek(zP.SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let e=0;e<zP.SEQUENCES.SCRIPT.length;e++)this._emitCodePoint(this._consume());this.state=qP.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=qP.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}},{key:"_stateBeforeAttributeName",value:function(e){switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:break;case zP.CODE_POINTS.SOLIDUS:case zP.CODE_POINTS.GREATER_THAN_SIGN:case zP.CODE_POINTS.EOF:this.state=qP.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case zP.CODE_POINTS.EQUALS_SIGN:this._err($P.ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=qP.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=qP.ATTRIBUTE_NAME,this._stateAttributeName(e)}}},{key:"_stateAttributeName",value:function(e){switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:case zP.CODE_POINTS.SOLIDUS:case zP.CODE_POINTS.GREATER_THAN_SIGN:case zP.CODE_POINTS.EOF:this._leaveAttrName(),this.state=qP.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case zP.CODE_POINTS.EQUALS_SIGN:this._leaveAttrName(),this.state=qP.BEFORE_ATTRIBUTE_VALUE;break;case zP.CODE_POINTS.QUOTATION_MARK:case zP.CODE_POINTS.APOSTROPHE:case zP.CODE_POINTS.LESS_THAN_SIGN:this._err($P.ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this.currentAttr.name+=zP.REPLACEMENT_CHARACTER;break;default:this.currentAttr.name+=String.fromCodePoint(ZP(e)?nN(e):e)}}},{key:"_stateAfterAttributeName",value:function(e){switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:break;case zP.CODE_POINTS.SOLIDUS:this.state=qP.SELF_CLOSING_START_TAG;break;case zP.CODE_POINTS.EQUALS_SIGN:this.state=qP.BEFORE_ATTRIBUTE_VALUE;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.DATA,this.emitCurrentTagToken();break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=qP.ATTRIBUTE_NAME,this._stateAttributeName(e)}}},{key:"_stateBeforeAttributeValue",value:function(e){switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:break;case zP.CODE_POINTS.QUOTATION_MARK:this.state=qP.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case zP.CODE_POINTS.APOSTROPHE:this.state=qP.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.missingAttributeValue),this.state=qP.DATA,this.emitCurrentTagToken();break;default:this.state=qP.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}},{key:"_stateAttributeValueDoubleQuoted",value:function(e){switch(e){case zP.CODE_POINTS.QUOTATION_MARK:this.state=qP.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case zP.CODE_POINTS.AMPERSAND:this.returnState=qP.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=qP.CHARACTER_REFERENCE;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this.currentAttr.value+=zP.REPLACEMENT_CHARACTER;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}},{key:"_stateAttributeValueSingleQuoted",value:function(e){switch(e){case zP.CODE_POINTS.APOSTROPHE:this.state=qP.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case zP.CODE_POINTS.AMPERSAND:this.returnState=qP.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=qP.CHARACTER_REFERENCE;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this.currentAttr.value+=zP.REPLACEMENT_CHARACTER;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}},{key:"_stateAttributeValueUnquoted",value:function(e){switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=qP.BEFORE_ATTRIBUTE_NAME;break;case zP.CODE_POINTS.AMPERSAND:this.returnState=qP.ATTRIBUTE_VALUE_UNQUOTED,this.state=qP.CHARACTER_REFERENCE;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=qP.DATA,this.emitCurrentTagToken();break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this.currentAttr.value+=zP.REPLACEMENT_CHARACTER;break;case zP.CODE_POINTS.QUOTATION_MARK:case zP.CODE_POINTS.APOSTROPHE:case zP.CODE_POINTS.LESS_THAN_SIGN:case zP.CODE_POINTS.EQUALS_SIGN:case zP.CODE_POINTS.GRAVE_ACCENT:this._err($P.ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}},{key:"_stateAfterAttributeValueQuoted",value:function(e){switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:this._leaveAttrValue(),this.state=qP.BEFORE_ATTRIBUTE_NAME;break;case zP.CODE_POINTS.SOLIDUS:this._leaveAttrValue(),this.state=qP.SELF_CLOSING_START_TAG;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=qP.DATA,this.emitCurrentTagToken();break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInTag),this._emitEOFToken();break;default:this._err($P.ERR.missingWhitespaceBetweenAttributes),this.state=qP.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}},{key:"_stateSelfClosingStartTag",value:function(e){switch(e){case zP.CODE_POINTS.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=qP.DATA,this.emitCurrentTagToken();break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInTag),this._emitEOFToken();break;default:this._err($P.ERR.unexpectedSolidusInTag),this.state=qP.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}},{key:"_stateBogusComment",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.DATA,this.emitCurrentComment(t);break;case zP.CODE_POINTS.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),t.data+=zP.REPLACEMENT_CHARACTER;break;default:t.data+=String.fromCodePoint(e)}}},{key:"_stateMarkupDeclarationOpen",value:function(e){this._consumeSequenceIfMatch(zP.SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(zP.SEQUENCES.DASH_DASH.length+1),this.state=qP.COMMENT_START):this._consumeSequenceIfMatch(zP.SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(zP.SEQUENCES.DOCTYPE.length+1),this.state=qP.DOCTYPE):this._consumeSequenceIfMatch(zP.SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=qP.CDATA_SECTION:(this._err($P.ERR.cdataInHtmlContent),this._createCommentToken(zP.SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=qP.BOGUS_COMMENT):this._ensureHibernation()||(this._err($P.ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=qP.BOGUS_COMMENT,this._stateBogusComment(e))}},{key:"_stateCommentStart",value:function(e){switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:this.state=qP.COMMENT_START_DASH;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:{this._err($P.ERR.abruptClosingOfEmptyComment),this.state=qP.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=qP.COMMENT,this._stateComment(e)}}},{key:"_stateCommentStartDash",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:this.state=qP.COMMENT_END;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.abruptClosingOfEmptyComment),this.state=qP.DATA,this.emitCurrentComment(t);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=qP.COMMENT,this._stateComment(e)}}},{key:"_stateComment",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:this.state=qP.COMMENT_END_DASH;break;case zP.CODE_POINTS.LESS_THAN_SIGN:t.data+="<",this.state=qP.COMMENT_LESS_THAN_SIGN;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),t.data+=zP.REPLACEMENT_CHARACTER;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}},{key:"_stateCommentLessThanSign",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.EXCLAMATION_MARK:t.data+="!",this.state=qP.COMMENT_LESS_THAN_SIGN_BANG;break;case zP.CODE_POINTS.LESS_THAN_SIGN:t.data+="<";break;default:this.state=qP.COMMENT,this._stateComment(e)}}},{key:"_stateCommentLessThanSignBang",value:function(e){e===zP.CODE_POINTS.HYPHEN_MINUS?this.state=qP.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=qP.COMMENT,this._stateComment(e))}},{key:"_stateCommentLessThanSignBangDash",value:function(e){e===zP.CODE_POINTS.HYPHEN_MINUS?this.state=qP.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=qP.COMMENT_END_DASH,this._stateCommentEndDash(e))}},{key:"_stateCommentLessThanSignBangDashDash",value:function(e){e!==zP.CODE_POINTS.GREATER_THAN_SIGN&&e!==zP.CODE_POINTS.EOF&&this._err($P.ERR.nestedComment),this.state=qP.COMMENT_END,this._stateCommentEnd(e)}},{key:"_stateCommentEndDash",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:this.state=qP.COMMENT_END;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=qP.COMMENT,this._stateComment(e)}}},{key:"_stateCommentEnd",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.DATA,this.emitCurrentComment(t);break;case zP.CODE_POINTS.EXCLAMATION_MARK:this.state=qP.COMMENT_END_BANG;break;case zP.CODE_POINTS.HYPHEN_MINUS:t.data+="-";break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=qP.COMMENT,this._stateComment(e)}}},{key:"_stateCommentEndBang",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.HYPHEN_MINUS:t.data+="--!",this.state=qP.COMMENT_END_DASH;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.incorrectlyClosedComment),this.state=qP.DATA,this.emitCurrentComment(t);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=qP.COMMENT,this._stateComment(e)}}},{key:"_stateDoctype",value:function(e){switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:this.state=qP.BEFORE_DOCTYPE_NAME;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case zP.CODE_POINTS.EOF:{this._err($P.ERR.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err($P.ERR.missingWhitespaceBeforeDoctypeName),this.state=qP.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}},{key:"_stateBeforeDoctypeName",value:function(e){if(ZP(e))this._createDoctypeToken(String.fromCharCode(nN(e))),this.state=qP.DOCTYPE_NAME;else switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),this._createDoctypeToken(zP.REPLACEMENT_CHARACTER),this.state=qP.DOCTYPE_NAME;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:{this._err($P.ERR.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=qP.DATA;break}case zP.CODE_POINTS.EOF:{this._err($P.ERR.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=qP.DOCTYPE_NAME}}},{key:"_stateDoctypeName",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:this.state=qP.AFTER_DOCTYPE_NAME;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.DATA,this.emitCurrentDoctype(t);break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),t.name+=zP.REPLACEMENT_CHARACTER;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(ZP(e)?nN(e):e)}}},{key:"_stateAfterDoctypeName",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.DATA,this.emitCurrentDoctype(t);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(zP.SEQUENCES.PUBLIC,!1)?this.state=qP.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(zP.SEQUENCES.SYSTEM,!1)?this.state=qP.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err($P.ERR.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=qP.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}},{key:"_stateAfterDoctypePublicKeyword",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:this.state=qP.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case zP.CODE_POINTS.QUOTATION_MARK:this._err($P.ERR.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=qP.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case zP.CODE_POINTS.APOSTROPHE:this._err($P.ERR.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=qP.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=qP.DATA,this.emitCurrentDoctype(t);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($P.ERR.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=qP.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBeforeDoctypePublicIdentifier",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:break;case zP.CODE_POINTS.QUOTATION_MARK:t.publicId="",this.state=qP.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case zP.CODE_POINTS.APOSTROPHE:t.publicId="",this.state=qP.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=qP.DATA,this.emitCurrentDoctype(t);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($P.ERR.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=qP.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateDoctypePublicIdentifierDoubleQuoted",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.QUOTATION_MARK:this.state=qP.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),t.publicId+=zP.REPLACEMENT_CHARACTER;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=qP.DATA;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}},{key:"_stateDoctypePublicIdentifierSingleQuoted",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.APOSTROPHE:this.state=qP.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),t.publicId+=zP.REPLACEMENT_CHARACTER;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=qP.DATA;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}},{key:"_stateAfterDoctypePublicIdentifier",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:this.state=qP.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.DATA,this.emitCurrentDoctype(t);break;case zP.CODE_POINTS.QUOTATION_MARK:this._err($P.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=qP.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case zP.CODE_POINTS.APOSTROPHE:this._err($P.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=qP.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($P.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=qP.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBetweenDoctypePublicAndSystemIdentifiers",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=qP.DATA;break;case zP.CODE_POINTS.QUOTATION_MARK:t.systemId="",this.state=qP.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case zP.CODE_POINTS.APOSTROPHE:t.systemId="",this.state=qP.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($P.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=qP.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateAfterDoctypeSystemKeyword",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:this.state=qP.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case zP.CODE_POINTS.QUOTATION_MARK:this._err($P.ERR.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=qP.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case zP.CODE_POINTS.APOSTROPHE:this._err($P.ERR.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=qP.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=qP.DATA,this.emitCurrentDoctype(t);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($P.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=qP.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBeforeDoctypeSystemIdentifier",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:break;case zP.CODE_POINTS.QUOTATION_MARK:t.systemId="",this.state=qP.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case zP.CODE_POINTS.APOSTROPHE:t.systemId="",this.state=qP.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=qP.DATA,this.emitCurrentDoctype(t);break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($P.ERR.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=qP.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateDoctypeSystemIdentifierDoubleQuoted",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.QUOTATION_MARK:this.state=qP.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),t.systemId+=zP.REPLACEMENT_CHARACTER;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=qP.DATA;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}},{key:"_stateDoctypeSystemIdentifierSingleQuoted",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.APOSTROPHE:this.state=qP.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter),t.systemId+=zP.REPLACEMENT_CHARACTER;break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this._err($P.ERR.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=qP.DATA;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}},{key:"_stateAfterDoctypeSystemIdentifier",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.SPACE:case zP.CODE_POINTS.LINE_FEED:case zP.CODE_POINTS.TABULATION:case zP.CODE_POINTS.FORM_FEED:break;case zP.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=qP.DATA;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err($P.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=qP.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}},{key:"_stateBogusDoctype",value:function(e){const t=this.currentToken;switch(e){case zP.CODE_POINTS.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=qP.DATA;break;case zP.CODE_POINTS.NULL:this._err($P.ERR.unexpectedNullCharacter);break;case zP.CODE_POINTS.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}},{key:"_stateCdataSection",value:function(e){switch(e){case zP.CODE_POINTS.RIGHT_SQUARE_BRACKET:this.state=qP.CDATA_SECTION_BRACKET;break;case zP.CODE_POINTS.EOF:this._err($P.ERR.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}},{key:"_stateCdataSectionBracket",value:function(e){e===zP.CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=qP.CDATA_SECTION_END:(this._emitChars("]"),this.state=qP.CDATA_SECTION,this._stateCdataSection(e))}},{key:"_stateCdataSectionEnd",value:function(e){switch(e){case zP.CODE_POINTS.GREATER_THAN_SIGN:this.state=qP.DATA;break;case zP.CODE_POINTS.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=qP.CDATA_SECTION,this._stateCdataSection(e)}}},{key:"_stateCharacterReference",value:function(e){e===zP.CODE_POINTS.NUMBER_SIGN?this.state=qP.NUMERIC_CHARACTER_REFERENCE:JP(e)?(this.state=qP.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(zP.CODE_POINTS.AMPERSAND),this._reconsumeInState(this.returnState,e))}},{key:"_stateNamedCharacterReference",value:function(e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation());else if(t){for(let e=0;e<t.length;e++)this._flushCodePointConsumedAsCharacterReference(t[e]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(zP.CODE_POINTS.AMPERSAND),this.state=qP.AMBIGUOUS_AMPERSAND}},{key:"_stateAmbiguousAmpersand",value:function(e){JP(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===zP.CODE_POINTS.SEMICOLON&&this._err($P.ERR.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e))}},{key:"_stateNumericCharacterReference",value:function(e){this.charRefCode=0,e===zP.CODE_POINTS.LATIN_SMALL_X||e===zP.CODE_POINTS.LATIN_CAPITAL_X?this.state=qP.HEXADEMICAL_CHARACTER_REFERENCE_START:KP(e)?(this.state=qP.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err($P.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(zP.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(zP.CODE_POINTS.NUMBER_SIGN),this._reconsumeInState(this.returnState,e))}},{key:"_stateHexademicalCharacterReferenceStart",value:function(e){!function(e){return KP(e)||eN(e)||tN(e)}(e)?(this._err($P.ERR.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(zP.CODE_POINTS.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(zP.CODE_POINTS.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState):(this.state=qP.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e))}},{key:"_stateHexademicalCharacterReference",value:function(e){eN(e)?this.charRefCode=16*this.charRefCode+e-55:tN(e)?this.charRefCode=16*this.charRefCode+e-87:KP(e)?this.charRefCode=16*this.charRefCode+e-48:e===zP.CODE_POINTS.SEMICOLON?this.state=qP.NUMERIC_CHARACTER_REFERENCE_END:(this._err($P.ERR.missingSemicolonAfterCharacterReference),this.state=qP.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}},{key:"_stateDecimalCharacterReference",value:function(e){KP(e)?this.charRefCode=10*this.charRefCode+e-48:e===zP.CODE_POINTS.SEMICOLON?this.state=qP.NUMERIC_CHARACTER_REFERENCE_END:(this._err($P.ERR.missingSemicolonAfterCharacterReference),this.state=qP.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e))}},{key:"_stateNumericCharacterReferenceEnd",value:function(e){if(this.charRefCode===zP.CODE_POINTS.NULL)this._err($P.ERR.nullCharacterReference),this.charRefCode=zP.CODE_POINTS.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err($P.ERR.characterReferenceOutsideUnicodeRange),this.charRefCode=zP.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,zP.isSurrogate)(this.charRefCode))this._err($P.ERR.surrogateCharacterReference),this.charRefCode=zP.CODE_POINTS.REPLACEMENT_CHARACTER;else if((0,zP.isUndefinedCodePoint)(this.charRefCode))this._err($P.ERR.noncharacterCharacterReference);else if((0,zP.isControlCodePoint)(this.charRefCode)||this.charRefCode===zP.CODE_POINTS.CARRIAGE_RETURN){this._err($P.ERR.controlCharacterReference);const e=WP.get(this.charRefCode);void 0!==e&&(this.charRefCode=e)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e)}}]),e}();NP.Tokenizer=oN;var aN={};Object.defineProperty(aN,"__esModule",{value:!0}),aN.OpenElementStack=void 0;const sN=HP,lN=new Set([sN.TAG_ID.DD,sN.TAG_ID.DT,sN.TAG_ID.LI,sN.TAG_ID.OPTGROUP,sN.TAG_ID.OPTION,sN.TAG_ID.P,sN.TAG_ID.RB,sN.TAG_ID.RP,sN.TAG_ID.RT,sN.TAG_ID.RTC]),cN=new Set([...lN,sN.TAG_ID.CAPTION,sN.TAG_ID.COLGROUP,sN.TAG_ID.TBODY,sN.TAG_ID.TD,sN.TAG_ID.TFOOT,sN.TAG_ID.TH,sN.TAG_ID.THEAD,sN.TAG_ID.TR]),uN=new Map([[sN.TAG_ID.APPLET,sN.NS.HTML],[sN.TAG_ID.CAPTION,sN.NS.HTML],[sN.TAG_ID.HTML,sN.NS.HTML],[sN.TAG_ID.MARQUEE,sN.NS.HTML],[sN.TAG_ID.OBJECT,sN.NS.HTML],[sN.TAG_ID.TABLE,sN.NS.HTML],[sN.TAG_ID.TD,sN.NS.HTML],[sN.TAG_ID.TEMPLATE,sN.NS.HTML],[sN.TAG_ID.TH,sN.NS.HTML],[sN.TAG_ID.ANNOTATION_XML,sN.NS.MATHML],[sN.TAG_ID.MI,sN.NS.MATHML],[sN.TAG_ID.MN,sN.NS.MATHML],[sN.TAG_ID.MO,sN.NS.MATHML],[sN.TAG_ID.MS,sN.NS.MATHML],[sN.TAG_ID.MTEXT,sN.NS.MATHML],[sN.TAG_ID.DESC,sN.NS.SVG],[sN.TAG_ID.FOREIGN_OBJECT,sN.NS.SVG],[sN.TAG_ID.TITLE,sN.NS.SVG]]),hN=[sN.TAG_ID.H1,sN.TAG_ID.H2,sN.TAG_ID.H3,sN.TAG_ID.H4,sN.TAG_ID.H5,sN.TAG_ID.H6],dN=[sN.TAG_ID.TR,sN.TAG_ID.TEMPLATE,sN.TAG_ID.HTML],pN=[sN.TAG_ID.TBODY,sN.TAG_ID.TFOOT,sN.TAG_ID.THEAD,sN.TAG_ID.TEMPLATE,sN.TAG_ID.HTML],fN=[sN.TAG_ID.TABLE,sN.TAG_ID.TEMPLATE,sN.TAG_ID.HTML],mN=[sN.TAG_ID.TD,sN.TAG_ID.TH];let gN=function(){function e(t,n,r){d(this,e),this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=sN.TAG_ID.UNKNOWN,this.current=t}return f(e,[{key:"currentTmplContentOrNode",get:function(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}},{key:"_indexOf",value:function(e){return this.items.lastIndexOf(e,this.stackTop)}},{key:"_isInTemplate",value:function(){return this.currentTagId===sN.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===sN.NS.HTML}},{key:"_updateCurrentElement",value:function(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}},{key:"push",value:function(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}},{key:"pop",value:function(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}},{key:"replace",value:function(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}},{key:"insertAfter",value:function(e,t,n){const r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,n),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}},{key:"popUntilTagNamePopped",value:function(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==sN.NS.HTML);this.shortenToLength(t<0?0:t)}},{key:"shortenToLength",value:function(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}},{key:"popUntilElementPopped",value:function(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}},{key:"popUntilPopped",value:function(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n<0?0:n)}},{key:"popUntilNumberedHeaderPopped",value:function(){this.popUntilPopped(hN,sN.NS.HTML)}},{key:"popUntilTableCellPopped",value:function(){this.popUntilPopped(mN,sN.NS.HTML)}},{key:"popAllUpToHtmlElement",value:function(){this.tmplCount=0,this.shortenToLength(1)}},{key:"_indexOfTagNames",value:function(e,t){for(let n=this.stackTop;n>=0;n--)if(e.includes(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}},{key:"clearBackTo",value:function(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}},{key:"clearBackToTableContext",value:function(){this.clearBackTo(fN,sN.NS.HTML)}},{key:"clearBackToTableBodyContext",value:function(){this.clearBackTo(pN,sN.NS.HTML)}},{key:"clearBackToTableRowContext",value:function(){this.clearBackTo(dN,sN.NS.HTML)}},{key:"remove",value:function(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}},{key:"tryPeekProperlyNestedBodyElement",value:function(){return this.stackTop>=1&&this.tagIDs[1]===sN.TAG_ID.BODY?this.items[1]:null}},{key:"contains",value:function(e){return this._indexOf(e)>-1}},{key:"getCommonAncestor",value:function(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}},{key:"isRootHtmlElementCurrent",value:function(){return 0===this.stackTop&&this.tagIDs[0]===sN.TAG_ID.HTML}},{key:"hasInScope",value:function(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===sN.NS.HTML)return!0;if(uN.get(n)===r)return!1}return!0}},{key:"hasNumberedHeaderInScope",value:function(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e],n=this.treeAdapter.getNamespaceURI(this.items[e]);if((0,sN.isNumberedHeader)(t)&&n===sN.NS.HTML)return!0;if(uN.get(t)===n)return!1}return!0}},{key:"hasInListItemScope",value:function(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===sN.NS.HTML)return!0;if((n===sN.TAG_ID.UL||n===sN.TAG_ID.OL)&&r===sN.NS.HTML||uN.get(n)===r)return!1}return!0}},{key:"hasInButtonScope",value:function(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t],r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===sN.NS.HTML)return!0;if(n===sN.TAG_ID.BUTTON&&r===sN.NS.HTML||uN.get(n)===r)return!1}return!0}},{key:"hasInTableScope",value:function(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===sN.NS.HTML){if(n===e)return!0;if(n===sN.TAG_ID.TABLE||n===sN.TAG_ID.TEMPLATE||n===sN.TAG_ID.HTML)return!1}}return!0}},{key:"hasTableBodyContextInTableScope",value:function(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===sN.NS.HTML){if(t===sN.TAG_ID.TBODY||t===sN.TAG_ID.THEAD||t===sN.TAG_ID.TFOOT)return!0;if(t===sN.TAG_ID.TABLE||t===sN.TAG_ID.HTML)return!1}}return!0}},{key:"hasInSelectScope",value:function(e){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===sN.NS.HTML){if(n===e)return!0;if(n!==sN.TAG_ID.OPTION&&n!==sN.TAG_ID.OPTGROUP)return!1}}return!0}},{key:"generateImpliedEndTags",value:function(){for(;lN.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsThoroughly",value:function(){for(;cN.has(this.currentTagId);)this.pop()}},{key:"generateImpliedEndTagsWithExclusion",value:function(e){for(;this.currentTagId!==e&&cN.has(this.currentTagId);)this.pop()}}]),e}();aN.OpenElementStack=gN;var bN={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingElementList=e.EntryType=void 0;var t,n;(n=t=e.EntryType||(e.EntryType={}))[n.Marker=0]="Marker",n[n.Element=1]="Element";const r={type:t.Marker};let i=function(){function e(t){d(this,e),this.treeAdapter=t,this.entries=[],this.bookmark=null}return f(e,[{key:"_getNoahArkConditionCandidates",value:function(e,n){const r=[],i=n.length,o=this.treeAdapter.getTagName(e),a=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){const n=this.entries[e];if(n.type===t.Marker)break;const{element:s}=n;if(this.treeAdapter.getTagName(s)===o&&this.treeAdapter.getNamespaceURI(s)===a){const t=this.treeAdapter.getAttrList(s);t.length===i&&r.push({idx:e,attrs:t})}}return r}},{key:"_ensureNoahArkCondition",value:function(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;const r=new Map(t.map((e=>[e.name,e.value])));let i=0;for(let e=0;e<n.length;e++){const t=n[e];t.attrs.every((e=>r.get(e.name)===e.value))&&(i+=1,i>=3&&this.entries.splice(t.idx,1))}}},{key:"insertMarker",value:function(){this.entries.unshift(r)}},{key:"pushElement",value:function(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:t.Element,element:e,token:n})}},{key:"insertElementAfterBookmark",value:function(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:t.Element,element:e,token:n})}},{key:"removeEntry",value:function(e){const t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}},{key:"clearToLastMarker",value:function(){const e=this.entries.indexOf(r);e>=0?this.entries.splice(0,e+1):this.entries.length=0}},{key:"getElementEntryInScopeWithTagName",value:function(e){const n=this.entries.find((n=>n.type===t.Marker||this.treeAdapter.getTagName(n.element)===e));return n&&n.type===t.Element?n:null}},{key:"getElementEntry",value:function(e){return this.entries.find((n=>n.type===t.Element&&n.element===e))}}]),e}();e.FormattingElementList=i}(bN);var vN={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTreeAdapter=void 0;const t=HP;function n(e){return{nodeName:"#text",value:e,parentNode:null}}e.defaultTreeAdapter={createDocument:()=>({nodeName:"#document",mode:t.DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(t,n,r,i){const o=t.childNodes.find((e=>"#documentType"===e.nodeName));if(o)o.name=n,o.publicId=r,o.systemId=i;else{const o={nodeName:"#documentType",name:n,publicId:r,systemId:i,parentNode:null};e.defaultTreeAdapter.appendChild(t,o)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(t,r){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(e.defaultTreeAdapter.isTextNode(n))return void(n.value+=r)}e.defaultTreeAdapter.appendChild(t,n(r))},insertTextBefore(t,r,i){const o=t.childNodes[t.childNodes.indexOf(i)-1];o&&e.defaultTreeAdapter.isTextNode(o)?o.value+=r:e.defaultTreeAdapter.insertBefore(t,n(r),i)},adoptAttributes(e,t){const n=new Set(e.attrs.map((e=>e.name)));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation=Object.assign(Object.assign({},e.sourceCodeLocation),t)}}}(vN);var yN={};Object.defineProperty(yN,"__esModule",{value:!0}),yN.getDocumentMode=yN.isConforming=void 0;const TN=HP,_N="html",EN=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],xN=[...EN,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],wN=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),SN=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],AN=[...SN,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function kN(e,t){return t.some((t=>e.startsWith(t)))}yN.isConforming=function(e){return e.name===_N&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)},yN.getDocumentMode=function(e){if(e.name!==_N)return TN.DOCUMENT_MODE.QUIRKS;const{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return TN.DOCUMENT_MODE.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),wN.has(n))return TN.DOCUMENT_MODE.QUIRKS;let e=null===t?xN:EN;if(kN(n,e))return TN.DOCUMENT_MODE.QUIRKS;if(e=null===t?SN:AN,kN(n,e))return TN.DOCUMENT_MODE.LIMITED_QUIRKS}return TN.DOCUMENT_MODE.NO_QUIRKS};var CN={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isIntegrationPoint=e.adjustTokenSVGTagName=e.adjustTokenXMLAttrs=e.adjustTokenSVGAttrs=e.adjustTokenMathMLAttrs=e.causesExit=e.SVG_TAG_NAMES_ADJUSTMENT_MAP=void 0;const t=HP,n={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},r=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),i=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:t.NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:t.NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:t.NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:t.NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:t.NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:t.NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:t.NS.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:t.NS.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:t.NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:t.NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:t.NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:t.NS.XMLNS}]]);e.SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e])));const o=new Set([t.TAG_ID.B,t.TAG_ID.BIG,t.TAG_ID.BLOCKQUOTE,t.TAG_ID.BODY,t.TAG_ID.BR,t.TAG_ID.CENTER,t.TAG_ID.CODE,t.TAG_ID.DD,t.TAG_ID.DIV,t.TAG_ID.DL,t.TAG_ID.DT,t.TAG_ID.EM,t.TAG_ID.EMBED,t.TAG_ID.H1,t.TAG_ID.H2,t.TAG_ID.H3,t.TAG_ID.H4,t.TAG_ID.H5,t.TAG_ID.H6,t.TAG_ID.HEAD,t.TAG_ID.HR,t.TAG_ID.I,t.TAG_ID.IMG,t.TAG_ID.LI,t.TAG_ID.LISTING,t.TAG_ID.MENU,t.TAG_ID.META,t.TAG_ID.NOBR,t.TAG_ID.OL,t.TAG_ID.P,t.TAG_ID.PRE,t.TAG_ID.RUBY,t.TAG_ID.S,t.TAG_ID.SMALL,t.TAG_ID.SPAN,t.TAG_ID.STRONG,t.TAG_ID.STRIKE,t.TAG_ID.SUB,t.TAG_ID.SUP,t.TAG_ID.TABLE,t.TAG_ID.TT,t.TAG_ID.U,t.TAG_ID.UL,t.TAG_ID.VAR]);e.causesExit=function(e){const n=e.tagID;return n===t.TAG_ID.FONT&&e.attrs.some((({name:e})=>e===t.ATTRS.COLOR||e===t.ATTRS.SIZE||e===t.ATTRS.FACE))||o.has(n)},e.adjustTokenMathMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}},e.adjustTokenSVGAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const n=r.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}},e.adjustTokenXMLAttrs=function(e){for(let t=0;t<e.attrs.length;t++){const n=i.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}},e.adjustTokenSVGTagName=function(n){const r=e.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(n.tagName);null!=r&&(n.tagName=r,n.tagID=(0,t.getTagID)(n.tagName))},e.isIntegrationPoint=function(e,r,i,o){return(!o||o===t.NS.HTML)&&function(e,r,i){if(r===t.NS.MATHML&&e===t.TAG_ID.ANNOTATION_XML)for(let e=0;e<i.length;e++)if(i[e].name===t.ATTRS.ENCODING){const t=i[e].value.toLowerCase();return t===n.TEXT_HTML||t===n.APPLICATION_XML}return r===t.NS.SVG&&(e===t.TAG_ID.FOREIGN_OBJECT||e===t.TAG_ID.DESC||e===t.TAG_ID.TITLE)}(e,r,i)||(!o||o===t.NS.MATHML)&&function(e,n){return n===t.NS.MATHML&&(e===t.TAG_ID.MI||e===t.TAG_ID.MO||e===t.TAG_ID.MN||e===t.TAG_ID.MS||e===t.TAG_ID.MTEXT)}(e,r)}})(CN),Object.defineProperty(PP,"__esModule",{value:!0}),PP.Parser=void 0;const IN=NP,ON=aN,DN=bN,PN=vN,NN=yN,RN=CN,MN=LP,LN=MP,BN=HP,FN=jP,UN="hidden",jN=8,HN=3;var GN;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(GN||(GN={}));const zN={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},VN=new Set([BN.TAG_ID.TABLE,BN.TAG_ID.TBODY,BN.TAG_ID.TFOOT,BN.TAG_ID.THEAD,BN.TAG_ID.TR]),YN={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:PN.defaultTreeAdapter,onParseError:null};let $N=function(){function e(t,n,r=null,i=null){d(this,e),this.fragmentContext=r,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=GN.INITIAL,this.originalInsertionMode=GN.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options=Object.assign(Object.assign({},YN),t),this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=n?n:this.treeAdapter.createDocument(),this.tokenizer=new IN.Tokenizer(this.options,this),this.activeFormattingElements=new DN.FormattingElementList(this.treeAdapter),this.fragmentContextID=r?(0,BN.getTagID)(this.treeAdapter.getTagName(r)):BN.TAG_ID.UNKNOWN,this._setContextModes(null!=r?r:this.document,this.fragmentContextID),this.openElements=new ON.OpenElementStack(this.document,this.treeAdapter,this)}return f(e,[{key:"getFragment",value:function(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}},{key:"_err",value:function(e,t,n){var r;if(!this.onParseError)return;const i=null!==(r=e.location)&&void 0!==r?r:zN,o={code:t,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(o)}},{key:"onItemPush",value:function(e,t,n){var r,i;null===(i=(r=this.treeAdapter).onItemPush)||void 0===i||i.call(r,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}},{key:"onItemPop",value:function(e,t){var n,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(r=(n=this.treeAdapter).onItemPop)||void 0===r||r.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}},{key:"_setContextModes",value:function(e,t){const n=e===this.document||this.treeAdapter.getNamespaceURI(e)===BN.NS.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e)}},{key:"_switchToTextParsing",value:function(e,t){this._insertElement(e,BN.NS.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=GN.TEXT}},{key:"switchToPlaintextParsing",value:function(){this.insertionMode=GN.TEXT,this.originalInsertionMode=GN.IN_BODY,this.tokenizer.state=IN.TokenizerMode.PLAINTEXT}},{key:"_getAdjustedCurrentElement",value:function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}},{key:"_findFormInFragmentContext",value:function(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===BN.TAG_NAMES.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}},{key:"_initTokenizerForFragmentParsing",value:function(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===BN.NS.HTML)switch(this.fragmentContextID){case BN.TAG_ID.TITLE:case BN.TAG_ID.TEXTAREA:this.tokenizer.state=IN.TokenizerMode.RCDATA;break;case BN.TAG_ID.STYLE:case BN.TAG_ID.XMP:case BN.TAG_ID.IFRAME:case BN.TAG_ID.NOEMBED:case BN.TAG_ID.NOFRAMES:case BN.TAG_ID.NOSCRIPT:this.tokenizer.state=IN.TokenizerMode.RAWTEXT;break;case BN.TAG_ID.SCRIPT:this.tokenizer.state=IN.TokenizerMode.SCRIPT_DATA;break;case BN.TAG_ID.PLAINTEXT:this.tokenizer.state=IN.TokenizerMode.PLAINTEXT}}},{key:"_setDocumentType",value:function(e){const t=e.name||"",n=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,r),e.location){const t=this.treeAdapter.getChildNodes(this.document).find((e=>this.treeAdapter.isDocumentTypeNode(e)));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}},{key:"_attachElementToTree",value:function(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&Object.assign(Object.assign({},t),{startTag:t});this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e)}}},{key:"_appendElement",value:function(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}},{key:"_insertElement",value:function(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}},{key:"_insertFakeElement",value:function(e,t){const n=this.treeAdapter.createElement(e,BN.NS.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}},{key:"_insertTemplate",value:function(e){const t=this.treeAdapter.createElement(e.tagName,BN.NS.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}},{key:"_insertFakeRootElement",value:function(){const e=this.treeAdapter.createElement(BN.TAG_NAMES.HTML,BN.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,BN.TAG_ID.HTML)}},{key:"_appendCommentNode",value:function(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}},{key:"_insertCharacters",value:function(e){let t,n;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:n}=this._findFosterParentingLocation()),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const r=this.treeAdapter.getChildNodes(t),i=n?r.lastIndexOf(n):r.length,o=r[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:t,endCol:n,endOffset:r}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:t,endCol:n,endOffset:r})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}},{key:"_adoptNodes",value:function(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}},{key:"_setEndLocation",value:function(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,r=this.treeAdapter.getTagName(e),i=t.type===FN.TokenType.END_TAG&&r===t.tagName?{endTag:Object.assign({},n),endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}},{key:"shouldProcessStartTagTokenInForeignContent",value:function(e){if(!this.currentNotInHTML)return!1;let t,n;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):({current:t,currentTagId:n}=this.openElements),(e.tagID!==BN.TAG_ID.SVG||this.treeAdapter.getTagName(t)!==BN.TAG_NAMES.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==BN.NS.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===BN.TAG_ID.MGLYPH||e.tagID===BN.TAG_ID.MALIGNMARK)&&!this._isIntegrationPoint(n,t,BN.NS.HTML))}},{key:"_processToken",value:function(e){switch(e.type){case FN.TokenType.CHARACTER:this.onCharacter(e);break;case FN.TokenType.NULL_CHARACTER:this.onNullCharacter(e);break;case FN.TokenType.COMMENT:this.onComment(e);break;case FN.TokenType.DOCTYPE:this.onDoctype(e);break;case FN.TokenType.START_TAG:this._processStartTag(e);break;case FN.TokenType.END_TAG:this.onEndTag(e);break;case FN.TokenType.EOF:this.onEof(e);break;case FN.TokenType.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}},{key:"_isIntegrationPoint",value:function(e,t,n){const r=this.treeAdapter.getNamespaceURI(t),i=this.treeAdapter.getAttrList(t);return RN.isIntegrationPoint(e,r,i,n)}},{key:"_reconstructActiveFormattingElements",value:function(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex((e=>e.type===DN.EntryType.Marker||this.openElements.contains(e.element)));for(let n=t<0?e-1:t-1;n>=0;n--){const e=this.activeFormattingElements.entries[n];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}},{key:"_closeTableCell",value:function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=GN.IN_ROW}},{key:"_closePElement",value:function(){this.openElements.generateImpliedEndTagsWithExclusion(BN.TAG_ID.P),this.openElements.popUntilTagNamePopped(BN.TAG_ID.P)}},{key:"_resetInsertionMode",value:function(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case BN.TAG_ID.TR:return void(this.insertionMode=GN.IN_ROW);case BN.TAG_ID.TBODY:case BN.TAG_ID.THEAD:case BN.TAG_ID.TFOOT:return void(this.insertionMode=GN.IN_TABLE_BODY);case BN.TAG_ID.CAPTION:return void(this.insertionMode=GN.IN_CAPTION);case BN.TAG_ID.COLGROUP:return void(this.insertionMode=GN.IN_COLUMN_GROUP);case BN.TAG_ID.TABLE:return void(this.insertionMode=GN.IN_TABLE);case BN.TAG_ID.BODY:return void(this.insertionMode=GN.IN_BODY);case BN.TAG_ID.FRAMESET:return void(this.insertionMode=GN.IN_FRAMESET);case BN.TAG_ID.SELECT:return void this._resetInsertionModeForSelect(e);case BN.TAG_ID.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case BN.TAG_ID.HTML:return void(this.insertionMode=this.headElement?GN.AFTER_HEAD:GN.BEFORE_HEAD);case BN.TAG_ID.TD:case BN.TAG_ID.TH:if(e>0)return void(this.insertionMode=GN.IN_CELL);break;case BN.TAG_ID.HEAD:if(e>0)return void(this.insertionMode=GN.IN_HEAD)}this.insertionMode=GN.IN_BODY}},{key:"_resetInsertionModeForSelect",value:function(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===BN.TAG_ID.TEMPLATE)break;if(e===BN.TAG_ID.TABLE)return void(this.insertionMode=GN.IN_SELECT_IN_TABLE)}this.insertionMode=GN.IN_SELECT}},{key:"_isElementCausesFosterParenting",value:function(e){return VN.has(e)}},{key:"_shouldFosterParentOnInsertion",value:function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}},{key:"_findFosterParentingLocation",value:function(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case BN.TAG_ID.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===BN.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case BN.TAG_ID.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}},{key:"_fosterParentElement",value:function(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}},{key:"_isSpecialElement",value:function(e,t){const n=this.treeAdapter.getNamespaceURI(e);return BN.SPECIAL_ELEMENTS[n].has(t)}},{key:"onCharacter",value:function(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case GN.INITIAL:nR(this,e);break;case GN.BEFORE_HTML:rR(this,e);break;case GN.BEFORE_HEAD:iR(this,e);break;case GN.IN_HEAD:sR(this,e);break;case GN.IN_HEAD_NO_SCRIPT:lR(this,e);break;case GN.AFTER_HEAD:cR(this,e);break;case GN.IN_BODY:case GN.IN_CAPTION:case GN.IN_CELL:case GN.IN_TEMPLATE:dR(this,e);break;case GN.TEXT:case GN.IN_SELECT:case GN.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case GN.IN_TABLE:case GN.IN_TABLE_BODY:case GN.IN_ROW:_R(this,e);break;case GN.IN_TABLE_TEXT:AR(this,e);break;case GN.IN_COLUMN_GROUP:OR(this,e);break;case GN.AFTER_BODY:UR(this,e);break;case GN.AFTER_AFTER_BODY:jR(this,e)}}},{key:"onNullCharacter",value:function(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=LN.REPLACEMENT_CHARACTER,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case GN.INITIAL:nR(this,e);break;case GN.BEFORE_HTML:rR(this,e);break;case GN.BEFORE_HEAD:iR(this,e);break;case GN.IN_HEAD:sR(this,e);break;case GN.IN_HEAD_NO_SCRIPT:lR(this,e);break;case GN.AFTER_HEAD:cR(this,e);break;case GN.TEXT:this._insertCharacters(e);break;case GN.IN_TABLE:case GN.IN_TABLE_BODY:case GN.IN_ROW:_R(this,e);break;case GN.IN_COLUMN_GROUP:OR(this,e);break;case GN.AFTER_BODY:UR(this,e);break;case GN.AFTER_AFTER_BODY:jR(this,e)}}},{key:"onComment",value:function(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)eR(this,e);else switch(this.insertionMode){case GN.INITIAL:case GN.BEFORE_HTML:case GN.BEFORE_HEAD:case GN.IN_HEAD:case GN.IN_HEAD_NO_SCRIPT:case GN.AFTER_HEAD:case GN.IN_BODY:case GN.IN_TABLE:case GN.IN_CAPTION:case GN.IN_COLUMN_GROUP:case GN.IN_TABLE_BODY:case GN.IN_ROW:case GN.IN_CELL:case GN.IN_SELECT:case GN.IN_SELECT_IN_TABLE:case GN.IN_TEMPLATE:case GN.IN_FRAMESET:case GN.AFTER_FRAMESET:eR(this,e);break;case GN.IN_TABLE_TEXT:kR(this,e);break;case GN.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case GN.AFTER_AFTER_BODY:case GN.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}},{key:"onDoctype",value:function(e){switch(this.skipNextNewLine=!1,this.insertionMode){case GN.INITIAL:!function(e,t){e._setDocumentType(t);const n=t.forceQuirks?BN.DOCUMENT_MODE.QUIRKS:NN.getDocumentMode(t);NN.isConforming(t)||e._err(t,MN.ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=GN.BEFORE_HTML}(this,e);break;case GN.BEFORE_HEAD:case GN.IN_HEAD:case GN.IN_HEAD_NO_SCRIPT:case GN.AFTER_HEAD:this._err(e,MN.ERR.misplacedDoctype);break;case GN.IN_TABLE_TEXT:kR(this,e)}}},{key:"onStartTag",value:function(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,MN.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}},{key:"_processStartTag",value:function(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(RN.causesExit(t))HR(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===BN.NS.MATHML?RN.adjustTokenMathMLAttrs(t):r===BN.NS.SVG&&(RN.adjustTokenSVGTagName(t),RN.adjustTokenSVGAttrs(t)),RN.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}},{key:"_startTagOutsideForeignContent",value:function(e){switch(this.insertionMode){case GN.INITIAL:nR(this,e);break;case GN.BEFORE_HTML:!function(e,t){t.tagID===BN.TAG_ID.HTML?(e._insertElement(t,BN.NS.HTML),e.insertionMode=GN.BEFORE_HEAD):rR(e,t)}(this,e);break;case GN.BEFORE_HEAD:!function(e,t){switch(t.tagID){case BN.TAG_ID.HTML:bR(e,t);break;case BN.TAG_ID.HEAD:e._insertElement(t,BN.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=GN.IN_HEAD;break;default:iR(e,t)}}(this,e);break;case GN.IN_HEAD:oR(this,e);break;case GN.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case BN.TAG_ID.HTML:bR(e,t);break;case BN.TAG_ID.BASEFONT:case BN.TAG_ID.BGSOUND:case BN.TAG_ID.HEAD:case BN.TAG_ID.LINK:case BN.TAG_ID.META:case BN.TAG_ID.NOFRAMES:case BN.TAG_ID.STYLE:oR(e,t);break;case BN.TAG_ID.NOSCRIPT:e._err(t,MN.ERR.nestedNoscriptInHead);break;default:lR(e,t)}}(this,e);break;case GN.AFTER_HEAD:!function(e,t){switch(t.tagID){case BN.TAG_ID.HTML:bR(e,t);break;case BN.TAG_ID.BODY:e._insertElement(t,BN.NS.HTML),e.framesetOk=!1,e.insertionMode=GN.IN_BODY;break;case BN.TAG_ID.FRAMESET:e._insertElement(t,BN.NS.HTML),e.insertionMode=GN.IN_FRAMESET;break;case BN.TAG_ID.BASE:case BN.TAG_ID.BASEFONT:case BN.TAG_ID.BGSOUND:case BN.TAG_ID.LINK:case BN.TAG_ID.META:case BN.TAG_ID.NOFRAMES:case BN.TAG_ID.SCRIPT:case BN.TAG_ID.STYLE:case BN.TAG_ID.TEMPLATE:case BN.TAG_ID.TITLE:e._err(t,MN.ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,BN.TAG_ID.HEAD),oR(e,t),e.openElements.remove(e.headElement);break;case BN.TAG_ID.HEAD:e._err(t,MN.ERR.misplacedStartTagForHeadElement);break;default:cR(e,t)}}(this,e);break;case GN.IN_BODY:bR(this,e);break;case GN.IN_TABLE:ER(this,e);break;case GN.IN_TABLE_TEXT:kR(this,e);break;case GN.IN_CAPTION:!function(e,t){const n=t.tagID;CR.has(n)?e.openElements.hasInTableScope(BN.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(BN.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=GN.IN_TABLE,ER(e,t)):bR(e,t)}(this,e);break;case GN.IN_COLUMN_GROUP:IR(this,e);break;case GN.IN_TABLE_BODY:DR(this,e);break;case GN.IN_ROW:NR(this,e);break;case GN.IN_CELL:!function(e,t){const n=t.tagID;CR.has(n)?(e.openElements.hasInTableScope(BN.TAG_ID.TD)||e.openElements.hasInTableScope(BN.TAG_ID.TH))&&(e._closeTableCell(),NR(e,t)):bR(e,t)}(this,e);break;case GN.IN_SELECT:MR(this,e);break;case GN.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===BN.TAG_ID.CAPTION||n===BN.TAG_ID.TABLE||n===BN.TAG_ID.TBODY||n===BN.TAG_ID.TFOOT||n===BN.TAG_ID.THEAD||n===BN.TAG_ID.TR||n===BN.TAG_ID.TD||n===BN.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(BN.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):MR(e,t)}(this,e);break;case GN.IN_TEMPLATE:!function(e,t){switch(t.tagID){case BN.TAG_ID.BASE:case BN.TAG_ID.BASEFONT:case BN.TAG_ID.BGSOUND:case BN.TAG_ID.LINK:case BN.TAG_ID.META:case BN.TAG_ID.NOFRAMES:case BN.TAG_ID.SCRIPT:case BN.TAG_ID.STYLE:case BN.TAG_ID.TEMPLATE:case BN.TAG_ID.TITLE:oR(e,t);break;case BN.TAG_ID.CAPTION:case BN.TAG_ID.COLGROUP:case BN.TAG_ID.TBODY:case BN.TAG_ID.TFOOT:case BN.TAG_ID.THEAD:e.tmplInsertionModeStack[0]=GN.IN_TABLE,e.insertionMode=GN.IN_TABLE,ER(e,t);break;case BN.TAG_ID.COL:e.tmplInsertionModeStack[0]=GN.IN_COLUMN_GROUP,e.insertionMode=GN.IN_COLUMN_GROUP,IR(e,t);break;case BN.TAG_ID.TR:e.tmplInsertionModeStack[0]=GN.IN_TABLE_BODY,e.insertionMode=GN.IN_TABLE_BODY,DR(e,t);break;case BN.TAG_ID.TD:case BN.TAG_ID.TH:e.tmplInsertionModeStack[0]=GN.IN_ROW,e.insertionMode=GN.IN_ROW,NR(e,t);break;default:e.tmplInsertionModeStack[0]=GN.IN_BODY,e.insertionMode=GN.IN_BODY,bR(e,t)}}(this,e);break;case GN.AFTER_BODY:!function(e,t){t.tagID===BN.TAG_ID.HTML?bR(e,t):UR(e,t)}(this,e);break;case GN.IN_FRAMESET:!function(e,t){switch(t.tagID){case BN.TAG_ID.HTML:bR(e,t);break;case BN.TAG_ID.FRAMESET:e._insertElement(t,BN.NS.HTML);break;case BN.TAG_ID.FRAME:e._appendElement(t,BN.NS.HTML),t.ackSelfClosing=!0;break;case BN.TAG_ID.NOFRAMES:oR(e,t)}}(this,e);break;case GN.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case BN.TAG_ID.HTML:bR(e,t);break;case BN.TAG_ID.NOFRAMES:oR(e,t)}}(this,e);break;case GN.AFTER_AFTER_BODY:!function(e,t){t.tagID===BN.TAG_ID.HTML?bR(e,t):jR(e,t)}(this,e);break;case GN.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case BN.TAG_ID.HTML:bR(e,t);break;case BN.TAG_ID.NOFRAMES:oR(e,t)}}(this,e)}}},{key:"onEndTag",value:function(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===BN.TAG_ID.P||t.tagID===BN.TAG_ID.BR)return HR(e),void e._endTagOutsideForeignContent(t);for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===BN.NS.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}},{key:"_endTagOutsideForeignContent",value:function(e){switch(this.insertionMode){case GN.INITIAL:nR(this,e);break;case GN.BEFORE_HTML:!function(e,t){const n=t.tagID;n!==BN.TAG_ID.HTML&&n!==BN.TAG_ID.HEAD&&n!==BN.TAG_ID.BODY&&n!==BN.TAG_ID.BR||rR(e,t)}(this,e);break;case GN.BEFORE_HEAD:!function(e,t){const n=t.tagID;n===BN.TAG_ID.HEAD||n===BN.TAG_ID.BODY||n===BN.TAG_ID.HTML||n===BN.TAG_ID.BR?iR(e,t):e._err(t,MN.ERR.endTagWithoutMatchingOpenElement)}(this,e);break;case GN.IN_HEAD:!function(e,t){switch(t.tagID){case BN.TAG_ID.HEAD:e.openElements.pop(),e.insertionMode=GN.AFTER_HEAD;break;case BN.TAG_ID.BODY:case BN.TAG_ID.BR:case BN.TAG_ID.HTML:sR(e,t);break;case BN.TAG_ID.TEMPLATE:aR(e,t);break;default:e._err(t,MN.ERR.endTagWithoutMatchingOpenElement)}}(this,e);break;case GN.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case BN.TAG_ID.NOSCRIPT:e.openElements.pop(),e.insertionMode=GN.IN_HEAD;break;case BN.TAG_ID.BR:lR(e,t);break;default:e._err(t,MN.ERR.endTagWithoutMatchingOpenElement)}}(this,e);break;case GN.AFTER_HEAD:!function(e,t){switch(t.tagID){case BN.TAG_ID.BODY:case BN.TAG_ID.HTML:case BN.TAG_ID.BR:cR(e,t);break;case BN.TAG_ID.TEMPLATE:aR(e,t);break;default:e._err(t,MN.ERR.endTagWithoutMatchingOpenElement)}}(this,e);break;case GN.IN_BODY:yR(this,e);break;case GN.TEXT:!function(e,t){var n;t.tagID===BN.TAG_ID.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case GN.IN_TABLE:xR(this,e);break;case GN.IN_TABLE_TEXT:kR(this,e);break;case GN.IN_CAPTION:!function(e,t){const n=t.tagID;switch(n){case BN.TAG_ID.CAPTION:case BN.TAG_ID.TABLE:e.openElements.hasInTableScope(BN.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(BN.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=GN.IN_TABLE,n===BN.TAG_ID.TABLE&&xR(e,t));break;case BN.TAG_ID.BODY:case BN.TAG_ID.COL:case BN.TAG_ID.COLGROUP:case BN.TAG_ID.HTML:case BN.TAG_ID.TBODY:case BN.TAG_ID.TD:case BN.TAG_ID.TFOOT:case BN.TAG_ID.TH:case BN.TAG_ID.THEAD:case BN.TAG_ID.TR:break;default:yR(e,t)}}(this,e);break;case GN.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case BN.TAG_ID.COLGROUP:e.openElements.currentTagId===BN.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=GN.IN_TABLE);break;case BN.TAG_ID.TEMPLATE:aR(e,t);break;case BN.TAG_ID.COL:break;default:OR(e,t)}}(this,e);break;case GN.IN_TABLE_BODY:PR(this,e);break;case GN.IN_ROW:RR(this,e);break;case GN.IN_CELL:!function(e,t){const n=t.tagID;switch(n){case BN.TAG_ID.TD:case BN.TAG_ID.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=GN.IN_ROW);break;case BN.TAG_ID.TABLE:case BN.TAG_ID.TBODY:case BN.TAG_ID.TFOOT:case BN.TAG_ID.THEAD:case BN.TAG_ID.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),RR(e,t));break;case BN.TAG_ID.BODY:case BN.TAG_ID.CAPTION:case BN.TAG_ID.COL:case BN.TAG_ID.COLGROUP:case BN.TAG_ID.HTML:break;default:yR(e,t)}}(this,e);break;case GN.IN_SELECT:LR(this,e);break;case GN.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===BN.TAG_ID.CAPTION||n===BN.TAG_ID.TABLE||n===BN.TAG_ID.TBODY||n===BN.TAG_ID.TFOOT||n===BN.TAG_ID.THEAD||n===BN.TAG_ID.TR||n===BN.TAG_ID.TD||n===BN.TAG_ID.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(BN.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):LR(e,t)}(this,e);break;case GN.IN_TEMPLATE:!function(e,t){t.tagID===BN.TAG_ID.TEMPLATE&&aR(e,t)}(this,e);break;case GN.AFTER_BODY:FR(this,e);break;case GN.IN_FRAMESET:!function(e,t){t.tagID!==BN.TAG_ID.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===BN.TAG_ID.FRAMESET||(e.insertionMode=GN.AFTER_FRAMESET))}(this,e);break;case GN.AFTER_FRAMESET:!function(e,t){t.tagID===BN.TAG_ID.HTML&&(e.insertionMode=GN.AFTER_AFTER_FRAMESET)}(this,e);break;case GN.AFTER_AFTER_BODY:jR(this,e)}}},{key:"onEof",value:function(e){switch(this.insertionMode){case GN.INITIAL:nR(this,e);break;case GN.BEFORE_HTML:rR(this,e);break;case GN.BEFORE_HEAD:iR(this,e);break;case GN.IN_HEAD:sR(this,e);break;case GN.IN_HEAD_NO_SCRIPT:lR(this,e);break;case GN.AFTER_HEAD:cR(this,e);break;case GN.IN_BODY:case GN.IN_TABLE:case GN.IN_CAPTION:case GN.IN_COLUMN_GROUP:case GN.IN_TABLE_BODY:case GN.IN_ROW:case GN.IN_CELL:case GN.IN_SELECT:case GN.IN_SELECT_IN_TABLE:TR(this,e);break;case GN.TEXT:!function(e,t){e._err(t,MN.ERR.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case GN.IN_TABLE_TEXT:kR(this,e);break;case GN.IN_TEMPLATE:BR(this,e);break;case GN.AFTER_BODY:case GN.IN_FRAMESET:case GN.AFTER_FRAMESET:case GN.AFTER_AFTER_BODY:case GN.AFTER_AFTER_FRAMESET:tR(this,e)}}},{key:"onWhitespaceCharacter",value:function(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===LN.CODE_POINTS.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case GN.IN_HEAD:case GN.IN_HEAD_NO_SCRIPT:case GN.AFTER_HEAD:case GN.TEXT:case GN.IN_COLUMN_GROUP:case GN.IN_SELECT:case GN.IN_SELECT_IN_TABLE:case GN.IN_FRAMESET:case GN.AFTER_FRAMESET:this._insertCharacters(e);break;case GN.IN_BODY:case GN.IN_CAPTION:case GN.IN_CELL:case GN.IN_TEMPLATE:case GN.AFTER_BODY:case GN.AFTER_AFTER_BODY:case GN.AFTER_AFTER_FRAMESET:hR(this,e);break;case GN.IN_TABLE:case GN.IN_TABLE_BODY:case GN.IN_ROW:_R(this,e);break;case GN.IN_TABLE_TEXT:SR(this,e)}}}],[{key:"parse",value:function(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}},{key:"getFragmentParser",value:function(e,t){const n=Object.assign(Object.assign({},YN),t);null!=e||(e=n.treeAdapter.createElement(BN.TAG_NAMES.TEMPLATE,BN.NS.HTML,[]));const r=n.treeAdapter.createElement("documentmock",BN.NS.HTML,[]),i=new this(n,r,e);return i.fragmentContextID===BN.TAG_ID.TEMPLATE&&i.tmplInsertionModeStack.unshift(GN.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}}]),e}();function XN(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):vR(e,t),n}function WN(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function qN(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);const n=e.activeFormattingElements.getElementEntry(a),s=n&&o>=HN;!n||s?(s&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(a)):(a=KN(e,n),r===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function KN(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function ZN(e,t,n){const r=e.treeAdapter.getTagName(t),i=(0,BN.getTagID)(r);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(n);else{const r=e.treeAdapter.getNamespaceURI(t);i===BN.TAG_ID.TEMPLATE&&r===BN.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function QN(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,i.tagID)}function JN(e,t){for(let n=0;n<jN;n++){const n=XN(e,t);if(!n)break;const r=WN(e,n);if(!r)break;e.activeFormattingElements.bookmark=n;const i=qN(e,r,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),o&&ZN(e,o,i),QN(e,r,n)}}function eR(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function tR(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(n);if(r&&!r.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const n=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(n);r&&!r.endTag&&e._setEndLocation(n,t)}}}}function nR(e,t){e._err(t,MN.ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,BN.DOCUMENT_MODE.QUIRKS),e.insertionMode=GN.BEFORE_HTML,e._processToken(t)}function rR(e,t){e._insertFakeRootElement(),e.insertionMode=GN.BEFORE_HEAD,e._processToken(t)}function iR(e,t){e._insertFakeElement(BN.TAG_NAMES.HEAD,BN.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=GN.IN_HEAD,e._processToken(t)}function oR(e,t){switch(t.tagID){case BN.TAG_ID.HTML:bR(e,t);break;case BN.TAG_ID.BASE:case BN.TAG_ID.BASEFONT:case BN.TAG_ID.BGSOUND:case BN.TAG_ID.LINK:case BN.TAG_ID.META:e._appendElement(t,BN.NS.HTML),t.ackSelfClosing=!0;break;case BN.TAG_ID.TITLE:e._switchToTextParsing(t,IN.TokenizerMode.RCDATA);break;case BN.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,IN.TokenizerMode.RAWTEXT):(e._insertElement(t,BN.NS.HTML),e.insertionMode=GN.IN_HEAD_NO_SCRIPT);break;case BN.TAG_ID.NOFRAMES:case BN.TAG_ID.STYLE:e._switchToTextParsing(t,IN.TokenizerMode.RAWTEXT);break;case BN.TAG_ID.SCRIPT:e._switchToTextParsing(t,IN.TokenizerMode.SCRIPT_DATA);break;case BN.TAG_ID.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=GN.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(GN.IN_TEMPLATE);break;case BN.TAG_ID.HEAD:e._err(t,MN.ERR.misplacedStartTagForHeadElement);break;default:sR(e,t)}}function aR(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==BN.TAG_ID.TEMPLATE&&e._err(t,MN.ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(BN.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,MN.ERR.endTagWithoutMatchingOpenElement)}function sR(e,t){e.openElements.pop(),e.insertionMode=GN.AFTER_HEAD,e._processToken(t)}function lR(e,t){const n=t.type===FN.TokenType.EOF?MN.ERR.openElementsLeftAfterEof:MN.ERR.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=GN.IN_HEAD,e._processToken(t)}function cR(e,t){e._insertFakeElement(BN.TAG_NAMES.BODY,BN.TAG_ID.BODY),e.insertionMode=GN.IN_BODY,uR(e,t)}function uR(e,t){switch(t.type){case FN.TokenType.CHARACTER:dR(e,t);break;case FN.TokenType.WHITESPACE_CHARACTER:hR(e,t);break;case FN.TokenType.COMMENT:eR(e,t);break;case FN.TokenType.START_TAG:bR(e,t);break;case FN.TokenType.END_TAG:yR(e,t);break;case FN.TokenType.EOF:TR(e,t)}}function hR(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function dR(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function pR(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,BN.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function fR(e){const t=(0,FN.getTokenAttr)(e,BN.ATTRS.TYPE);return null!=t&&t.toLowerCase()===UN}function mR(e,t){e._switchToTextParsing(t,IN.TokenizerMode.RAWTEXT)}function gR(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,BN.NS.HTML)}function bR(e,t){switch(t.tagID){case BN.TAG_ID.I:case BN.TAG_ID.S:case BN.TAG_ID.B:case BN.TAG_ID.U:case BN.TAG_ID.EM:case BN.TAG_ID.TT:case BN.TAG_ID.BIG:case BN.TAG_ID.CODE:case BN.TAG_ID.FONT:case BN.TAG_ID.SMALL:case BN.TAG_ID.STRIKE:case BN.TAG_ID.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,BN.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case BN.TAG_ID.A:!function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(BN.TAG_NAMES.A);n&&(JN(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,BN.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case BN.TAG_ID.H1:case BN.TAG_ID.H2:case BN.TAG_ID.H3:case BN.TAG_ID.H4:case BN.TAG_ID.H5:case BN.TAG_ID.H6:!function(e,t){e.openElements.hasInButtonScope(BN.TAG_ID.P)&&e._closePElement(),(0,BN.isNumberedHeader)(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,BN.NS.HTML)}(e,t);break;case BN.TAG_ID.P:case BN.TAG_ID.DL:case BN.TAG_ID.OL:case BN.TAG_ID.UL:case BN.TAG_ID.DIV:case BN.TAG_ID.DIR:case BN.TAG_ID.NAV:case BN.TAG_ID.MAIN:case BN.TAG_ID.MENU:case BN.TAG_ID.ASIDE:case BN.TAG_ID.CENTER:case BN.TAG_ID.FIGURE:case BN.TAG_ID.FOOTER:case BN.TAG_ID.HEADER:case BN.TAG_ID.HGROUP:case BN.TAG_ID.DIALOG:case BN.TAG_ID.DETAILS:case BN.TAG_ID.ADDRESS:case BN.TAG_ID.ARTICLE:case BN.TAG_ID.SECTION:case BN.TAG_ID.SUMMARY:case BN.TAG_ID.FIELDSET:case BN.TAG_ID.BLOCKQUOTE:case BN.TAG_ID.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(BN.TAG_ID.P)&&e._closePElement(),e._insertElement(t,BN.NS.HTML)}(e,t);break;case BN.TAG_ID.LI:case BN.TAG_ID.DD:case BN.TAG_ID.DT:!function(e,t){e.framesetOk=!1;const n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){const r=e.openElements.tagIDs[t];if(n===BN.TAG_ID.LI&&r===BN.TAG_ID.LI||(n===BN.TAG_ID.DD||n===BN.TAG_ID.DT)&&(r===BN.TAG_ID.DD||r===BN.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r);break}if(r!==BN.TAG_ID.ADDRESS&&r!==BN.TAG_ID.DIV&&r!==BN.TAG_ID.P&&e._isSpecialElement(e.openElements.items[t],r))break}e.openElements.hasInButtonScope(BN.TAG_ID.P)&&e._closePElement(),e._insertElement(t,BN.NS.HTML)}(e,t);break;case BN.TAG_ID.BR:case BN.TAG_ID.IMG:case BN.TAG_ID.WBR:case BN.TAG_ID.AREA:case BN.TAG_ID.EMBED:case BN.TAG_ID.KEYGEN:pR(e,t);break;case BN.TAG_ID.HR:!function(e,t){e.openElements.hasInButtonScope(BN.TAG_ID.P)&&e._closePElement(),e._appendElement(t,BN.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case BN.TAG_ID.RB:case BN.TAG_ID.RTC:!function(e,t){e.openElements.hasInScope(BN.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,BN.NS.HTML)}(e,t);break;case BN.TAG_ID.RT:case BN.TAG_ID.RP:!function(e,t){e.openElements.hasInScope(BN.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(BN.TAG_ID.RTC),e._insertElement(t,BN.NS.HTML)}(e,t);break;case BN.TAG_ID.PRE:case BN.TAG_ID.LISTING:!function(e,t){e.openElements.hasInButtonScope(BN.TAG_ID.P)&&e._closePElement(),e._insertElement(t,BN.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case BN.TAG_ID.XMP:!function(e,t){e.openElements.hasInButtonScope(BN.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,IN.TokenizerMode.RAWTEXT)}(e,t);break;case BN.TAG_ID.SVG:!function(e,t){e._reconstructActiveFormattingElements(),RN.adjustTokenSVGAttrs(t),RN.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,BN.NS.SVG):e._insertElement(t,BN.NS.SVG),t.ackSelfClosing=!0}(e,t);break;case BN.TAG_ID.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case BN.TAG_ID.BASE:case BN.TAG_ID.LINK:case BN.TAG_ID.META:case BN.TAG_ID.STYLE:case BN.TAG_ID.TITLE:case BN.TAG_ID.SCRIPT:case BN.TAG_ID.BGSOUND:case BN.TAG_ID.BASEFONT:case BN.TAG_ID.TEMPLATE:oR(e,t);break;case BN.TAG_ID.BODY:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case BN.TAG_ID.FORM:!function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(BN.TAG_ID.P)&&e._closePElement(),e._insertElement(t,BN.NS.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case BN.TAG_ID.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(BN.TAG_ID.NOBR)&&(JN(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,BN.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case BN.TAG_ID.MATH:!function(e,t){e._reconstructActiveFormattingElements(),RN.adjustTokenMathMLAttrs(t),RN.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,BN.NS.MATHML):e._insertElement(t,BN.NS.MATHML),t.ackSelfClosing=!0}(e,t);break;case BN.TAG_ID.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==BN.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(BN.TAG_ID.P)&&e._closePElement(),e._insertElement(t,BN.NS.HTML),e.framesetOk=!1,e.insertionMode=GN.IN_TABLE}(e,t);break;case BN.TAG_ID.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,BN.NS.HTML),fR(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case BN.TAG_ID.PARAM:case BN.TAG_ID.TRACK:case BN.TAG_ID.SOURCE:!function(e,t){e._appendElement(t,BN.NS.HTML),t.ackSelfClosing=!0}(e,t);break;case BN.TAG_ID.IMAGE:!function(e,t){t.tagName=BN.TAG_NAMES.IMG,t.tagID=BN.TAG_ID.IMG,pR(e,t)}(e,t);break;case BN.TAG_ID.BUTTON:!function(e,t){e.openElements.hasInScope(BN.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(BN.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,BN.NS.HTML),e.framesetOk=!1}(e,t);break;case BN.TAG_ID.APPLET:case BN.TAG_ID.OBJECT:case BN.TAG_ID.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,BN.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case BN.TAG_ID.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,IN.TokenizerMode.RAWTEXT)}(e,t);break;case BN.TAG_ID.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,BN.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===GN.IN_TABLE||e.insertionMode===GN.IN_CAPTION||e.insertionMode===GN.IN_TABLE_BODY||e.insertionMode===GN.IN_ROW||e.insertionMode===GN.IN_CELL?GN.IN_SELECT_IN_TABLE:GN.IN_SELECT}(e,t);break;case BN.TAG_ID.OPTION:case BN.TAG_ID.OPTGROUP:!function(e,t){e.openElements.currentTagId===BN.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,BN.NS.HTML)}(e,t);break;case BN.TAG_ID.NOEMBED:mR(e,t);break;case BN.TAG_ID.FRAMESET:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,BN.NS.HTML),e.insertionMode=GN.IN_FRAMESET)}(e,t);break;case BN.TAG_ID.TEXTAREA:!function(e,t){e._insertElement(t,BN.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=IN.TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=GN.TEXT}(e,t);break;case BN.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?mR(e,t):gR(e,t);break;case BN.TAG_ID.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(BN.TAG_ID.P)&&e._closePElement(),e._insertElement(t,BN.NS.HTML),e.tokenizer.state=IN.TokenizerMode.PLAINTEXT}(e,t);break;case BN.TAG_ID.COL:case BN.TAG_ID.TH:case BN.TAG_ID.TD:case BN.TAG_ID.TR:case BN.TAG_ID.HEAD:case BN.TAG_ID.FRAME:case BN.TAG_ID.TBODY:case BN.TAG_ID.TFOOT:case BN.TAG_ID.THEAD:case BN.TAG_ID.CAPTION:case BN.TAG_ID.COLGROUP:break;default:gR(e,t)}}function vR(e,t){const n=t.tagName,r=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){const i=e.openElements.items[t],o=e.openElements.tagIDs[t];if(r===o&&(r!==BN.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(i,o))break}}function yR(e,t){switch(t.tagID){case BN.TAG_ID.A:case BN.TAG_ID.B:case BN.TAG_ID.I:case BN.TAG_ID.S:case BN.TAG_ID.U:case BN.TAG_ID.EM:case BN.TAG_ID.TT:case BN.TAG_ID.BIG:case BN.TAG_ID.CODE:case BN.TAG_ID.FONT:case BN.TAG_ID.NOBR:case BN.TAG_ID.SMALL:case BN.TAG_ID.STRIKE:case BN.TAG_ID.STRONG:JN(e,t);break;case BN.TAG_ID.P:!function(e){e.openElements.hasInButtonScope(BN.TAG_ID.P)||e._insertFakeElement(BN.TAG_NAMES.P,BN.TAG_ID.P),e._closePElement()}(e);break;case BN.TAG_ID.DL:case BN.TAG_ID.UL:case BN.TAG_ID.OL:case BN.TAG_ID.DIR:case BN.TAG_ID.DIV:case BN.TAG_ID.NAV:case BN.TAG_ID.PRE:case BN.TAG_ID.MAIN:case BN.TAG_ID.MENU:case BN.TAG_ID.ASIDE:case BN.TAG_ID.BUTTON:case BN.TAG_ID.CENTER:case BN.TAG_ID.FIGURE:case BN.TAG_ID.FOOTER:case BN.TAG_ID.HEADER:case BN.TAG_ID.HGROUP:case BN.TAG_ID.DIALOG:case BN.TAG_ID.ADDRESS:case BN.TAG_ID.ARTICLE:case BN.TAG_ID.DETAILS:case BN.TAG_ID.SECTION:case BN.TAG_ID.SUMMARY:case BN.TAG_ID.LISTING:case BN.TAG_ID.FIELDSET:case BN.TAG_ID.BLOCKQUOTE:case BN.TAG_ID.FIGCAPTION:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case BN.TAG_ID.LI:!function(e){e.openElements.hasInListItemScope(BN.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(BN.TAG_ID.LI),e.openElements.popUntilTagNamePopped(BN.TAG_ID.LI))}(e);break;case BN.TAG_ID.DD:case BN.TAG_ID.DT:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case BN.TAG_ID.H1:case BN.TAG_ID.H2:case BN.TAG_ID.H3:case BN.TAG_ID.H4:case BN.TAG_ID.H5:case BN.TAG_ID.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case BN.TAG_ID.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(BN.TAG_NAMES.BR,BN.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case BN.TAG_ID.BODY:!function(e,t){if(e.openElements.hasInScope(BN.TAG_ID.BODY)&&(e.insertionMode=GN.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case BN.TAG_ID.HTML:!function(e,t){e.openElements.hasInScope(BN.TAG_ID.BODY)&&(e.insertionMode=GN.AFTER_BODY,FR(e,t))}(e,t);break;case BN.TAG_ID.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(BN.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(BN.TAG_ID.FORM):n&&e.openElements.remove(n))}(e);break;case BN.TAG_ID.APPLET:case BN.TAG_ID.OBJECT:case BN.TAG_ID.MARQUEE:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case BN.TAG_ID.TEMPLATE:aR(e,t);break;default:vR(e,t)}}function TR(e,t){e.tmplInsertionModeStack.length>0?BR(e,t):tR(e,t)}function _R(e,t){if(VN.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=GN.IN_TABLE_TEXT,t.type){case FN.TokenType.CHARACTER:AR(e,t);break;case FN.TokenType.WHITESPACE_CHARACTER:SR(e,t)}else wR(e,t)}function ER(e,t){switch(t.tagID){case BN.TAG_ID.TD:case BN.TAG_ID.TH:case BN.TAG_ID.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(BN.TAG_NAMES.TBODY,BN.TAG_ID.TBODY),e.insertionMode=GN.IN_TABLE_BODY,DR(e,t)}(e,t);break;case BN.TAG_ID.STYLE:case BN.TAG_ID.SCRIPT:case BN.TAG_ID.TEMPLATE:oR(e,t);break;case BN.TAG_ID.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(BN.TAG_NAMES.COLGROUP,BN.TAG_ID.COLGROUP),e.insertionMode=GN.IN_COLUMN_GROUP,IR(e,t)}(e,t);break;case BN.TAG_ID.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,BN.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case BN.TAG_ID.TABLE:!function(e,t){e.openElements.hasInTableScope(BN.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(BN.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case BN.TAG_ID.TBODY:case BN.TAG_ID.TFOOT:case BN.TAG_ID.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,BN.NS.HTML),e.insertionMode=GN.IN_TABLE_BODY}(e,t);break;case BN.TAG_ID.INPUT:!function(e,t){fR(t)?e._appendElement(t,BN.NS.HTML):wR(e,t),t.ackSelfClosing=!0}(e,t);break;case BN.TAG_ID.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,BN.NS.HTML),e.insertionMode=GN.IN_CAPTION}(e,t);break;case BN.TAG_ID.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,BN.NS.HTML),e.insertionMode=GN.IN_COLUMN_GROUP}(e,t);break;default:wR(e,t)}}function xR(e,t){switch(t.tagID){case BN.TAG_ID.TABLE:e.openElements.hasInTableScope(BN.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(BN.TAG_ID.TABLE),e._resetInsertionMode());break;case BN.TAG_ID.TEMPLATE:aR(e,t);break;case BN.TAG_ID.BODY:case BN.TAG_ID.CAPTION:case BN.TAG_ID.COL:case BN.TAG_ID.COLGROUP:case BN.TAG_ID.HTML:case BN.TAG_ID.TBODY:case BN.TAG_ID.TD:case BN.TAG_ID.TFOOT:case BN.TAG_ID.TH:case BN.TAG_ID.THEAD:case BN.TAG_ID.TR:break;default:wR(e,t)}}function wR(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,uR(e,t),e.fosterParentingEnabled=n}function SR(e,t){e.pendingCharacterTokens.push(t)}function AR(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function kR(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)wR(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}PP.Parser=$N;const CR=new Set([BN.TAG_ID.CAPTION,BN.TAG_ID.COL,BN.TAG_ID.COLGROUP,BN.TAG_ID.TBODY,BN.TAG_ID.TD,BN.TAG_ID.TFOOT,BN.TAG_ID.TH,BN.TAG_ID.THEAD,BN.TAG_ID.TR]);function IR(e,t){switch(t.tagID){case BN.TAG_ID.HTML:bR(e,t);break;case BN.TAG_ID.COL:e._appendElement(t,BN.NS.HTML),t.ackSelfClosing=!0;break;case BN.TAG_ID.TEMPLATE:oR(e,t);break;default:OR(e,t)}}function OR(e,t){e.openElements.currentTagId===BN.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=GN.IN_TABLE,e._processToken(t))}function DR(e,t){switch(t.tagID){case BN.TAG_ID.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,BN.NS.HTML),e.insertionMode=GN.IN_ROW;break;case BN.TAG_ID.TH:case BN.TAG_ID.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(BN.TAG_NAMES.TR,BN.TAG_ID.TR),e.insertionMode=GN.IN_ROW,NR(e,t);break;case BN.TAG_ID.CAPTION:case BN.TAG_ID.COL:case BN.TAG_ID.COLGROUP:case BN.TAG_ID.TBODY:case BN.TAG_ID.TFOOT:case BN.TAG_ID.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=GN.IN_TABLE,ER(e,t));break;default:ER(e,t)}}function PR(e,t){const n=t.tagID;switch(t.tagID){case BN.TAG_ID.TBODY:case BN.TAG_ID.TFOOT:case BN.TAG_ID.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=GN.IN_TABLE);break;case BN.TAG_ID.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=GN.IN_TABLE,xR(e,t));break;case BN.TAG_ID.BODY:case BN.TAG_ID.CAPTION:case BN.TAG_ID.COL:case BN.TAG_ID.COLGROUP:case BN.TAG_ID.HTML:case BN.TAG_ID.TD:case BN.TAG_ID.TH:case BN.TAG_ID.TR:break;default:xR(e,t)}}function NR(e,t){switch(t.tagID){case BN.TAG_ID.TH:case BN.TAG_ID.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,BN.NS.HTML),e.insertionMode=GN.IN_CELL,e.activeFormattingElements.insertMarker();break;case BN.TAG_ID.CAPTION:case BN.TAG_ID.COL:case BN.TAG_ID.COLGROUP:case BN.TAG_ID.TBODY:case BN.TAG_ID.TFOOT:case BN.TAG_ID.THEAD:case BN.TAG_ID.TR:e.openElements.hasInTableScope(BN.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=GN.IN_TABLE_BODY,DR(e,t));break;default:ER(e,t)}}function RR(e,t){switch(t.tagID){case BN.TAG_ID.TR:e.openElements.hasInTableScope(BN.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=GN.IN_TABLE_BODY);break;case BN.TAG_ID.TABLE:e.openElements.hasInTableScope(BN.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=GN.IN_TABLE_BODY,PR(e,t));break;case BN.TAG_ID.TBODY:case BN.TAG_ID.TFOOT:case BN.TAG_ID.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(BN.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=GN.IN_TABLE_BODY,PR(e,t));break;case BN.TAG_ID.BODY:case BN.TAG_ID.CAPTION:case BN.TAG_ID.COL:case BN.TAG_ID.COLGROUP:case BN.TAG_ID.HTML:case BN.TAG_ID.TD:case BN.TAG_ID.TH:break;default:xR(e,t)}}function MR(e,t){switch(t.tagID){case BN.TAG_ID.HTML:bR(e,t);break;case BN.TAG_ID.OPTION:e.openElements.currentTagId===BN.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,BN.NS.HTML);break;case BN.TAG_ID.OPTGROUP:e.openElements.currentTagId===BN.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===BN.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,BN.NS.HTML);break;case BN.TAG_ID.INPUT:case BN.TAG_ID.KEYGEN:case BN.TAG_ID.TEXTAREA:case BN.TAG_ID.SELECT:e.openElements.hasInSelectScope(BN.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(BN.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==BN.TAG_ID.SELECT&&e._processStartTag(t));break;case BN.TAG_ID.SCRIPT:case BN.TAG_ID.TEMPLATE:oR(e,t)}}function LR(e,t){switch(t.tagID){case BN.TAG_ID.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===BN.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===BN.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===BN.TAG_ID.OPTGROUP&&e.openElements.pop();break;case BN.TAG_ID.OPTION:e.openElements.currentTagId===BN.TAG_ID.OPTION&&e.openElements.pop();break;case BN.TAG_ID.SELECT:e.openElements.hasInSelectScope(BN.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(BN.TAG_ID.SELECT),e._resetInsertionMode());break;case BN.TAG_ID.TEMPLATE:aR(e,t)}}function BR(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(BN.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):tR(e,t)}function FR(e,t){var n;if(t.tagID===BN.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=GN.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===BN.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(null===(n=e.treeAdapter.getNodeSourceCodeLocation(r))||void 0===n?void 0:n.endTag)&&e._setEndLocation(r,t)}}else UR(e,t)}function UR(e,t){e.insertionMode=GN.IN_BODY,uR(e,t)}function jR(e,t){e.insertionMode=GN.IN_BODY,uR(e,t)}function HR(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==BN.NS.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}var GR={};Object.defineProperty(GR,"__esModule",{value:!0}),GR.serializeOuter=GR.serialize=void 0;const zR=HP,VR=nA,YR=vN,$R=new Set([zR.TAG_NAMES.AREA,zR.TAG_NAMES.BASE,zR.TAG_NAMES.BASEFONT,zR.TAG_NAMES.BGSOUND,zR.TAG_NAMES.BR,zR.TAG_NAMES.COL,zR.TAG_NAMES.EMBED,zR.TAG_NAMES.FRAME,zR.TAG_NAMES.HR,zR.TAG_NAMES.IMG,zR.TAG_NAMES.INPUT,zR.TAG_NAMES.KEYGEN,zR.TAG_NAMES.LINK,zR.TAG_NAMES.META,zR.TAG_NAMES.PARAM,zR.TAG_NAMES.SOURCE,zR.TAG_NAMES.TRACK,zR.TAG_NAMES.WBR]);function XR(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===zR.NS.HTML&&$R.has(t.treeAdapter.getTagName(e))}const WR={treeAdapter:YR.defaultTreeAdapter,scriptingEnabled:!0};function qR(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===zR.TAG_NAMES.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===zR.NS.HTML?t.treeAdapter.getTemplateContent(e):e,i=t.treeAdapter.getChildNodes(r);if(i)for(const e of i)n+=KR(e,t);return n}function KR(e,t){return t.treeAdapter.isElementNode(e)?function(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${function(e,{treeAdapter:t}){let n="";for(const r of t.getAttrList(e)){if(n+=" ",r.namespace)switch(r.namespace){case zR.NS.XML:n+=`xml:${r.name}`;break;case zR.NS.XMLNS:"xmlns"!==r.name&&(n+="xmlns:"),n+=r.name;break;case zR.NS.XLINK:n+=`xlink:${r.name}`;break;default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${(0,VR.escapeAttribute)(r.value)}"`}return n}(e,t)}>${XR(e,t)?"":`${qR(e,t)}</${n}>`}`}(e,t):t.treeAdapter.isTextNode(e)?function(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),i=n.getParentNode(e),o=i&&n.isElementNode(i)&&n.getTagName(i);return o&&n.getNamespaceURI(i)===zR.NS.HTML&&(0,zR.hasUnescapedText)(o,t.scriptingEnabled)?r:(0,VR.escapeText)(r)}(e,t):t.treeAdapter.isCommentNode(e)?function(e,{treeAdapter:t}){return`\x3c!--${t.getCommentNodeContent(e)}--\x3e`}(e,t):t.treeAdapter.isDocumentTypeNode(e)?function(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}(e,t):""}GR.serialize=function(e,t){const n=Object.assign(Object.assign({},WR),t);return XR(e,n)?"":qR(e,n)},GR.serializeOuter=function(e,t){return KR(e,Object.assign(Object.assign({},WR),t))},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseFragment=e.parse=e.TokenizerMode=e.Tokenizer=e.Token=e.html=e.foreignContent=e.ErrorCodes=e.serializeOuter=e.serialize=e.Parser=e.defaultTreeAdapter=void 0;const t=PP;var n=vN;Object.defineProperty(e,"defaultTreeAdapter",{enumerable:!0,get:function(){return n.defaultTreeAdapter}});var r=PP;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return r.Parser}});var i=GR;Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return i.serialize}}),Object.defineProperty(e,"serializeOuter",{enumerable:!0,get:function(){return i.serializeOuter}});var o=LP;Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return o.ERR}}),e.foreignContent=CN,e.html=HP,e.Token=jP;var a=NP;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return a.Tokenizer}}),Object.defineProperty(e,"TokenizerMode",{enumerable:!0,get:function(){return a.TokenizerMode}}),e.parse=function(e,n){return t.Parser.parse(e,n)},e.parseFragment=function(e,n,r){"string"==typeof e&&(r=n,n=e,e=null);const i=t.Parser.getFragmentParser(e,r);return i.tokenizer.write(n,!0),i.getFragment()}}(DP),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.adapter=e.serializeDoctypeContent=void 0;const t=DP,n=xS;function r(e){return new n.Text(e)}function i(e){const t=e.includes('"')?"'":'"';return t+e+t}function o(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${i(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${i(n)}`),r}e.serializeDoctypeContent=o,e.adapter={isCommentNode:n.isComment,isElementNode:n.isTag,isTextNode:n.isText,createDocument(){const e=new n.Document([]);return e["x-mode"]=t.html.DOCUMENT_MODE.NO_QUIRKS,e},createDocumentFragment:()=>new n.Document([]),createElement(e,t,r){const i=Object.create(null),o=Object.create(null),a=Object.create(null);for(let e=0;e<r.length;e++){const t=r[e].name;i[t]=r[e].value,o[t]=r[e].namespace,a[t]=r[e].prefix}const s=new n.Element(e,i,[]);return s.namespace=t,s["x-attribsNamespace"]=o,s["x-attribsPrefix"]=a,s},createCommentNode:e=>new n.Comment(e),appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:i}=n;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(t,n){e.adapter.appendChild(t,n)},getTemplateContent:e=>e.children[0],setDocumentType(t,r,i,a){const s=o(r,i,a);let l=t.children.find((e=>(0,n.isDirective)(e)&&"!doctype"===e.name));l?l.data=null!=s?s:null:(l=new n.ProcessingInstruction("!doctype",s),e.adapter.appendChild(t,l)),l["x-name"]=null!=r?r:void 0,l["x-publicId"]=null!=i?i:void 0,l["x-systemId"]=null!=a?a:void 0},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode:e=>e["x-mode"],detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(t,i){const o=t.children[t.children.length-1];o&&(0,n.isText)(o)?o.data+=i:e.adapter.appendChild(t,r(i))},insertTextBefore(t,i,o){const a=t.children[t.children.indexOf(o)-1];a&&(0,n.isText)(a)?a.data+=i:e.adapter.insertBefore(t,r(i),o)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;void 0===e.attribs[r]&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild:e=>e.children[0],getChildNodes:e=>e.children,getParentNode:e=>e.parent,getAttrList:e=>e.attributes,getTagName:e=>e.name,getNamespaceURI:e=>e.namespace,getTextNodeContent:e=>e.data,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName(e){var t;return null!==(t=e["x-name"])&&void 0!==t?t:""},getDocumentTypeNodePublicId(e){var t;return null!==(t=e["x-publicId"])&&void 0!==t?t:""},getDocumentTypeNodeSystemId(e){var t;return null!==(t=e["x-systemId"])&&void 0!==t?t:""},isDocumentTypeNode:e=>(0,n.isDirective)(e)&&"!doctype"===e.name,setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){null!=t.endOffset&&(e.endIndex=t.endOffset),e.sourceCodeLocation=Object.assign(Object.assign({},e.sourceCodeLocation),t)}}}(OP);var ZR=v&&v.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(oO,"__esModule",{value:!0}),oO.renderWithParse5=oO.parseWithParse5=void 0;var QR=xS,JR=aO,eM=OP;oO.parseWithParse5=function(e,t,n,r){var i={scriptingEnabled:"boolean"!=typeof t.scriptingEnabled||t.scriptingEnabled,treeAdapter:eM.adapter,sourceCodeLocationInfo:t.sourceCodeLocationInfo};return n?(0,JR.parse)(e,i):(0,JR.parseFragment)(r,e,i)};var tM={treeAdapter:eM.adapter};oO.renderWithParse5=function(e){for(var t,n=("length"in e?e:[e]),r=0;r<n.length;r+=1){var i=n[r];(0,QR.isDocument)(i)&&(t=Array.prototype.splice).call.apply(t,ZR([n,r,1],i.children,!1))}var o="";for(r=0;r<n.length;r+=1)i=n[r],o+=(0,JR.serializeOuter)(i,tM);return o};var nM={},rM={},iM={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.QuoteType=void 0;var t,n,r,i,o,a,s=qS;function l(e){return e===t.Space||e===t.NewLine||e===t.Tab||e===t.FormFeed||e===t.CarriageReturn}function c(e){return e===t.Slash||e===t.Gt||l(e)}function u(e){return e>=t.Zero&&e<=t.Nine}(n=t||(t={}))[n.Tab=9]="Tab",n[n.NewLine=10]="NewLine",n[n.FormFeed=12]="FormFeed",n[n.CarriageReturn=13]="CarriageReturn",n[n.Space=32]="Space",n[n.ExclamationMark=33]="ExclamationMark",n[n.Num=35]="Num",n[n.Amp=38]="Amp",n[n.SingleQuote=39]="SingleQuote",n[n.DoubleQuote=34]="DoubleQuote",n[n.Dash=45]="Dash",n[n.Slash=47]="Slash",n[n.Zero=48]="Zero",n[n.Nine=57]="Nine",n[n.Semi=59]="Semi",n[n.Lt=60]="Lt",n[n.Eq=61]="Eq",n[n.Gt=62]="Gt",n[n.Questionmark=63]="Questionmark",n[n.UpperA=65]="UpperA",n[n.LowerA=97]="LowerA",n[n.UpperF=70]="UpperF",n[n.LowerF=102]="LowerF",n[n.UpperZ=90]="UpperZ",n[n.LowerZ=122]="LowerZ",n[n.LowerX=120]="LowerX",n[n.OpeningSquareBracket=91]="OpeningSquareBracket",(i=r||(r={}))[i.Text=1]="Text",i[i.BeforeTagName=2]="BeforeTagName",i[i.InTagName=3]="InTagName",i[i.InSelfClosingTag=4]="InSelfClosingTag",i[i.BeforeClosingTagName=5]="BeforeClosingTagName",i[i.InClosingTagName=6]="InClosingTagName",i[i.AfterClosingTagName=7]="AfterClosingTagName",i[i.BeforeAttributeName=8]="BeforeAttributeName",i[i.InAttributeName=9]="InAttributeName",i[i.AfterAttributeName=10]="AfterAttributeName",i[i.BeforeAttributeValue=11]="BeforeAttributeValue",i[i.InAttributeValueDq=12]="InAttributeValueDq",i[i.InAttributeValueSq=13]="InAttributeValueSq",i[i.InAttributeValueNq=14]="InAttributeValueNq",i[i.BeforeDeclaration=15]="BeforeDeclaration",i[i.InDeclaration=16]="InDeclaration",i[i.InProcessingInstruction=17]="InProcessingInstruction",i[i.BeforeComment=18]="BeforeComment",i[i.CDATASequence=19]="CDATASequence",i[i.InSpecialComment=20]="InSpecialComment",i[i.InCommentLike=21]="InCommentLike",i[i.BeforeSpecialS=22]="BeforeSpecialS",i[i.SpecialStartSequence=23]="SpecialStartSequence",i[i.InSpecialTag=24]="InSpecialTag",i[i.BeforeEntity=25]="BeforeEntity",i[i.BeforeNumericEntity=26]="BeforeNumericEntity",i[i.InNamedEntity=27]="InNamedEntity",i[i.InNumericEntity=28]="InNumericEntity",i[i.InHexEntity=29]="InHexEntity",(a=o=e.QuoteType||(e.QuoteType={}))[a.NoValue=0]="NoValue",a[a.Unquoted=1]="Unquoted",a[a.Single=2]="Single",a[a.Double=3]="Double";var h={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},d=function(){function e(e,t){var n=e.xmlMode,i=void 0!==n&&n,o=e.decodeEntities,a=void 0===o||o;this.cbs=t,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=i,this.decodeEntities=a,this.entityTrie=i?s.xmlDecodeTree:s.htmlDecodeTree}return e.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},e.prototype.write=function(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()},e.prototype.end=function(){this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},e.prototype.getIndex=function(){return this.index},e.prototype.getSectionStart=function(){return this.sectionStart},e.prototype.stateText=function(e){e===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===t.Amp&&(this.state=r.BeforeEntity)},e.prototype.stateSpecialStartSequence=function(e){var t=this.sequenceIndex===this.currentSequence.length;if(t?c(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(e)},e.prototype.stateInSpecialTag=function(e){if(this.sequenceIndex===this.currentSequence.length){if(e===t.Gt||l(e)){var n=this.index-this.currentSequence.length;if(this.sectionStart<n){var i=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=i}return this.isSpecial=!1,this.sectionStart=n+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===h.TitleEnd?this.decodeEntities&&e===t.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===t.Lt)},e.prototype.stateCDATASequence=function(e){e===h.Cdata[this.sequenceIndex]?++this.sequenceIndex===h.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=h.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(e))},e.prototype.fastForwardTo=function(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1},e.prototype.stateInCommentLike=function(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===h.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},e.prototype.isTagStartChar=function(e){return this.xmlMode?!c(e):function(e){return e>=t.LowerA&&e<=t.LowerZ||e>=t.UpperA&&e<=t.UpperZ}(e)},e.prototype.startSpecial=function(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=r.SpecialStartSequence},e.prototype.stateBeforeTagName=function(e){if(e===t.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===t.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){var n=32|e;this.sectionStart=this.index,this.xmlMode||n!==h.TitleEnd[2]?this.state=this.xmlMode||n!==h.ScriptEnd[2]?r.InTagName:r.BeforeSpecialS:this.startSpecial(h.TitleEnd,3)}else e===t.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(e))},e.prototype.stateInTagName=function(e){c(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e))},e.prototype.stateBeforeClosingTagName=function(e){l(e)||(e===t.Gt?this.state=r.Text:(this.state=this.isTagStartChar(e)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},e.prototype.stateInClosingTagName=function(e){(e===t.Gt||l(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(e))},e.prototype.stateAfterClosingTagName=function(e){(e===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=r.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeAttributeName=function(e){e===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===t.Slash?this.state=r.InSelfClosingTag:l(e)||(this.state=r.InAttributeName,this.sectionStart=this.index)},e.prototype.stateInSelfClosingTag=function(e){e===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):l(e)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e))},e.prototype.stateInAttributeName=function(e){(e===t.Eq||c(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(e))},e.prototype.stateAfterAttributeName=function(e){e===t.Eq?this.state=r.BeforeAttributeValue:e===t.Slash||e===t.Gt?(this.cbs.onattribend(o.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e)):l(e)||(this.cbs.onattribend(o.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},e.prototype.stateBeforeAttributeValue=function(e){e===t.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):e===t.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):l(e)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))},e.prototype.handleInAttributeValue=function(e,n){e===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===t.DoubleQuote?o.Double:o.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&e===t.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,t.DoubleQuote)},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,t.SingleQuote)},e.prototype.stateInAttributeValueNoQuotes=function(e){l(e)||e===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(o.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===t.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},e.prototype.stateBeforeDeclaration=function(e){e===t.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=e===t.Dash?r.BeforeComment:r.InDeclaration},e.prototype.stateInDeclaration=function(e){(e===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},e.prototype.stateInProcessingInstruction=function(e){(e===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeComment=function(e){e===t.Dash?(this.state=r.InCommentLike,this.currentSequence=h.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},e.prototype.stateInSpecialComment=function(e){(e===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},e.prototype.stateBeforeSpecialS=function(e){var t=32|e;t===h.ScriptEnd[3]?this.startSpecial(h.ScriptEnd,4):t===h.StyleEnd[3]?this.startSpecial(h.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(e))},e.prototype.stateBeforeEntity=function(e){this.entityExcess=1,this.entityResult=0,e===t.Num?this.state=r.BeforeNumericEntity:e===t.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(e))},e.prototype.stateInNamedEntity=function(e){if(this.entityExcess+=1,this.trieIndex=(0,s.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];var n=this.trieCurrent&s.BinTrieFlags.VALUE_LENGTH;if(n){var r=(n>>14)-1;if(this.allowLegacyEntity()||e===t.Semi){var i=this.index-this.entityExcess+1;i>this.sectionStart&&this.emitPartial(this.sectionStart,i),this.entityResult=this.trieIndex,this.trieIndex+=r,this.entityExcess=0,this.sectionStart=this.index+1,0===r&&this.emitNamedEntity()}else this.trieIndex+=r}},e.prototype.emitNamedEntity=function(){if(this.state=this.baseState,0!==this.entityResult)switch((this.entityTrie[this.entityResult]&s.BinTrieFlags.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~s.BinTrieFlags.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}},e.prototype.stateBeforeNumericEntity=function(e){(32|e)===t.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(e))},e.prototype.emitNumericEntity=function(e){var t=this.index-this.entityExcess-1;t+2+Number(this.state===r.InHexEntity)!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint((0,s.replaceCodePoint)(this.entityResult))),this.state=this.baseState},e.prototype.stateInNumericEntity=function(e){e===t.Semi?this.emitNumericEntity(!0):u(e)?(this.entityResult=10*this.entityResult+(e-t.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},e.prototype.stateInHexEntity=function(e){e===t.Semi?this.emitNumericEntity(!0):u(e)?(this.entityResult=16*this.entityResult+(e-t.Zero),this.entityExcess++):function(e){return e>=t.UpperA&&e<=t.UpperF||e>=t.LowerA&&e<=t.LowerF}(e)?(this.entityResult=16*this.entityResult+((32|e)-t.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},e.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},e.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==r.InAttributeValueDq&&this.state!==r.InAttributeValueSq&&this.state!==r.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},e.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},e.prototype.parse=function(){for(;this.shouldContinue();){var e=this.buffer.charCodeAt(this.index-this.offset);this.state===r.Text?this.stateText(e):this.state===r.SpecialStartSequence?this.stateSpecialStartSequence(e):this.state===r.InSpecialTag?this.stateInSpecialTag(e):this.state===r.CDATASequence?this.stateCDATASequence(e):this.state===r.InAttributeValueDq?this.stateInAttributeValueDoubleQuotes(e):this.state===r.InAttributeName?this.stateInAttributeName(e):this.state===r.InCommentLike?this.stateInCommentLike(e):this.state===r.InSpecialComment?this.stateInSpecialComment(e):this.state===r.BeforeAttributeName?this.stateBeforeAttributeName(e):this.state===r.InTagName?this.stateInTagName(e):this.state===r.InClosingTagName?this.stateInClosingTagName(e):this.state===r.BeforeTagName?this.stateBeforeTagName(e):this.state===r.AfterAttributeName?this.stateAfterAttributeName(e):this.state===r.InAttributeValueSq?this.stateInAttributeValueSingleQuotes(e):this.state===r.BeforeAttributeValue?this.stateBeforeAttributeValue(e):this.state===r.BeforeClosingTagName?this.stateBeforeClosingTagName(e):this.state===r.AfterClosingTagName?this.stateAfterClosingTagName(e):this.state===r.BeforeSpecialS?this.stateBeforeSpecialS(e):this.state===r.InAttributeValueNq?this.stateInAttributeValueNoQuotes(e):this.state===r.InSelfClosingTag?this.stateInSelfClosingTag(e):this.state===r.InDeclaration?this.stateInDeclaration(e):this.state===r.BeforeDeclaration?this.stateBeforeDeclaration(e):this.state===r.BeforeComment?this.stateBeforeComment(e):this.state===r.InProcessingInstruction?this.stateInProcessingInstruction(e):this.state===r.InNamedEntity?this.stateInNamedEntity(e):this.state===r.BeforeEntity?this.stateBeforeEntity(e):this.state===r.InHexEntity?this.stateInHexEntity(e):this.state===r.InNumericEntity?this.stateInNumericEntity(e):this.stateBeforeNumericEntity(e),this.index++}this.cleanup()},e.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===h.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()||this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,e)},e.prototype.emitPartial=function(e,t){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)},e.prototype.emitCodePoint=function(e){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)},e}();e.default=d}(iM);var oM=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),aM=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sM=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&oM(t,e,n);return aM(t,e),t};Object.defineProperty(rM,"__esModule",{value:!0}),rM.Parser=void 0;var lM=sM(iM),cM=qS,uM=new Set(["input","option","optgroup","select","button","datalist","textarea"]),hM=new Set(["p"]),dM=new Set(["thead","tbody"]),pM=new Set(["dd","dt"]),fM=new Set(["rt","rp"]),mM=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",hM],["h1",hM],["h2",hM],["h3",hM],["h4",hM],["h5",hM],["h6",hM],["select",uM],["input",uM],["output",uM],["button",uM],["datalist",uM],["textarea",uM],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",pM],["dt",pM],["address",hM],["article",hM],["aside",hM],["blockquote",hM],["details",hM],["div",hM],["dl",hM],["fieldset",hM],["figcaption",hM],["figure",hM],["footer",hM],["form",hM],["header",hM],["hr",hM],["main",hM],["nav",hM],["ol",hM],["pre",hM],["section",hM],["table",hM],["ul",hM],["rt",fM],["rp",fM],["tbody",dM],["tfoot",dM]]),gM=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),bM=new Set(["math","svg"]),vM=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),yM=/\s|\//,TM=function(){function e(e,t){var n,r,i,o,a;void 0===t&&(t={}),this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(r=t.lowerCaseAttributeNames)&&void 0!==r?r:!t.xmlMode,this.tokenizer=new(null!==(i=t.Tokenizer)&&void 0!==i?i:lM.default)(this.options,this),null===(a=(o=this.cbs).onparserinit)||void 0===a||a.call(o,this)}return e.prototype.ontext=function(e,t){var n,r,i=this.getSlice(e,t);this.endIndex=t-1,null===(r=(n=this.cbs).ontext)||void 0===r||r.call(n,i),this.startIndex=t},e.prototype.ontextentity=function(e){var t,n,r=this.tokenizer.getSectionStart();this.endIndex=r-1,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,(0,cM.fromCodePoint)(e)),this.startIndex=r},e.prototype.isVoidElement=function(e){return!this.options.xmlMode&&gM.has(e)},e.prototype.onopentagname=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},e.prototype.emitOpenTag=function(e){var t,n,r,i;this.openTagStart=this.startIndex,this.tagname=e;var o=!this.options.xmlMode&&mM.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){var a=this.stack.pop();null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,a,!0)}this.isVoidElement(e)||(this.stack.push(e),bM.has(e)?this.foreignContext.push(!0):vM.has(e)&&this.foreignContext.push(!1)),null===(i=(r=this.cbs).onopentagname)||void 0===i||i.call(r,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.endOpenTag=function(e){var t,n;this.startIndex=this.openTagStart,this.attribs&&(null===(n=(t=this.cbs).onopentag)||void 0===n||n.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},e.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},e.prototype.onclosetag=function(e,t){var n,r,i,o,a,s;this.endIndex=t;var l=this.getSlice(e,t);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(bM.has(l)||vM.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))this.options.xmlMode||"br"!==l||(null===(r=(n=this.cbs).onopentagname)||void 0===r||r.call(n,"br"),null===(o=(i=this.cbs).onopentag)||void 0===o||o.call(i,"br",{},!0),null===(s=(a=this.cbs).onclosetag)||void 0===s||s.call(a,"br",!1));else{var c=this.stack.lastIndexOf(l);if(-1!==c)if(this.cbs.onclosetag)for(var u=this.stack.length-c;u--;)this.cbs.onclosetag(this.stack.pop(),0!==u);else this.stack.length=c;else this.options.xmlMode||"p"!==l||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1},e.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},e.prototype.closeCurrentTag=function(e){var t,n,r=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===r&&(null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,r,!e),this.stack.pop())},e.prototype.onattribname=function(e,t){this.startIndex=e;var n=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},e.prototype.onattribdata=function(e,t){this.attribvalue+=this.getSlice(e,t)},e.prototype.onattribentity=function(e){this.attribvalue+=(0,cM.fromCodePoint)(e)},e.prototype.onattribend=function(e,t){var n,r;this.endIndex=t,null===(r=(n=this.cbs).onattribute)||void 0===r||r.call(n,this.attribname,this.attribvalue,e===lM.QuoteType.Double?'"':e===lM.QuoteType.Single?"'":e===lM.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(yM),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var r=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(r),"!".concat(n))}this.startIndex=t+1},e.prototype.onprocessinginstruction=function(e,t){this.endIndex=t;var n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){var r=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(r),"?".concat(n))}this.startIndex=t+1},e.prototype.oncomment=function(e,t,n){var r,i,o,a;this.endIndex=t,null===(i=(r=this.cbs).oncomment)||void 0===i||i.call(r,this.getSlice(e,t-n)),null===(a=(o=this.cbs).oncommentend)||void 0===a||a.call(o),this.startIndex=t+1},e.prototype.oncdata=function(e,t,n){var r,i,o,a,s,l,c,u,h,d;this.endIndex=t;var p=this.getSlice(e,t-n);this.options.xmlMode||this.options.recognizeCDATA?(null===(i=(r=this.cbs).oncdatastart)||void 0===i||i.call(r),null===(a=(o=this.cbs).ontext)||void 0===a||a.call(o,p),null===(l=(s=this.cbs).oncdataend)||void 0===l||l.call(s)):(null===(u=(c=this.cbs).oncomment)||void 0===u||u.call(c,"[CDATA[".concat(p,"]]")),null===(d=(h=this.cbs).oncommentend)||void 0===d||d.call(h)),this.startIndex=t+1},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,n,r;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(r=(n=this.cbs).onparserinit)||void 0===r||r.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.getSlice=function(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,t-this.bufferOffset);return n},e.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},e.prototype.write=function(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))},e.prototype.end=function(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();rM.Parser=TM,function(e){var t=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},i=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultHandler=e.DomUtils=e.parseFeed=e.getFeed=e.ElementType=e.Tokenizer=e.createDomStream=e.parseDOM=e.parseDocument=e.DomHandler=e.Parser=void 0;var o=rM;Object.defineProperty(e,"Parser",{enumerable:!0,get:function(){return o.Parser}});var a=xS;function s(e,t){var n=new a.DomHandler(void 0,t);return new o.Parser(n,t).end(e),n.root}function l(e,t){return s(e,t).children}Object.defineProperty(e,"DomHandler",{enumerable:!0,get:function(){return a.DomHandler}}),Object.defineProperty(e,"DefaultHandler",{enumerable:!0,get:function(){return a.DomHandler}}),e.parseDocument=s,e.parseDOM=l,e.createDomStream=function(e,t,n){var r=new a.DomHandler(e,t,n);return new o.Parser(r,t)};var c=iM;Object.defineProperty(e,"Tokenizer",{enumerable:!0,get:function(){return i(c).default}});var u=r(wS);e.ElementType=u;var h=_S;Object.defineProperty(e,"getFeed",{enumerable:!0,get:function(){return h.getFeed}}),e.parseFeed=function(e,t){return void 0===t&&(t={xmlMode:!0}),(0,h.getFeed)(l(e,t))},e.DomUtils=r(_S)}(nM),function(e){var t=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=v&&v.__exportStar||function(e,n){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(n,r)||t(n,e,r)},i=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&t(r,e,i);return n(r,e),r},o=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.root=e.parseHTML=e.merge=e.contains=e.text=e.xml=e.html=e.load=void 0,r(mS,e);var a=gS,s=yI,l=oO,c=o(XS),u=nM,h=(0,s.getParse)((function(e,t,n,r){return t.xmlMode||t._useHtmlParser2?(0,u.parseDocument)(e,t):(0,l.parseWithParse5)(e,t,n,r)}));e.load=(0,a.getLoad)(h,(function(e,t){return t.xmlMode||t._useHtmlParser2?(0,c.default)(e,t):(0,l.renderWithParse5)(e)})),e.default=(0,e.load)([]);var d=TS;Object.defineProperty(e,"html",{enumerable:!0,get:function(){return d.html}}),Object.defineProperty(e,"xml",{enumerable:!0,get:function(){return d.xml}}),Object.defineProperty(e,"text",{enumerable:!0,get:function(){return d.text}});var p=i(TS);e.contains=p.contains,e.merge=p.merge,e.parseHTML=p.parseHTML,e.root=p.root}(fS);var _M={},EM={},xM=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function wM(e,t){return new Error(String(e)+" is a required method of "+String(t)+", but was not implemented.")}var SM=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options={}}return xM(e,[{key:"createRenderer",value:function(e){throw wM("createRenderer","EnzymeAdapter")}},{key:"nodeToElement",value:function(e){throw wM("nodeToElement","EnzymeAdapter")}},{key:"matchesElementType",value:function(e,t){return e?e.type===t:e}},{key:"isValidElement",value:function(e){throw wM("isValidElement","EnzymeAdapter")}},{key:"createElement",value:function(e,t){throw wM("createElement","EnzymeAdapter")}},{key:"invokeSetStateCallback",value:function(e,t){t.call(e)}}]),e}();SM.MODES={STRING:"string",MOUNT:"mount",SHALLOW:"shallow"};var AM=SM;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){if(!e)throw new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html\n    ");if("function"==typeof e){if(Object.getPrototypeOf(e)===t.default)throw new Error("\n        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -\n        you provided an adapter *constructor*.\n        To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n        before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n        corresponding to the library currently being tested. For example:\n\n        import Adapter from 'enzyme-adapter-react-15';\n\n        To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html\n      ");throw new Error("\n      Enzyme Internal Error: Enzyme expects an adapter to be configured -\n      an enzyme adapter must be an object instance; you provided a function.\n      To configure an adapter, you should call `Enzyme.configure({ adapter: new Adapter() })`\n      before using any of Enzyme's top level APIs, where `Adapter` is the adapter\n      corresponding to the library currently being tested. For example:\n\n      import Adapter from 'enzyme-adapter-react-15';\n\n      To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html\n    ")}if(!(e instanceof t.default))throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class")};var t=function(e){return e&&e.__esModule?e:{default:e}}(AM)})(EM),Object.defineProperty(_M,"__esModule",{value:!0}),_M.get=function(){return(0,kM.default)({},OM)},_M.merge=DM,_M.reset=function(){OM={},DM(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})};var kM=IM(ay),CM=IM(EM);function IM(e){return e&&e.__esModule?e:{default:e}}var OM={};function DM(e){e.adapter&&(0,CM.default)(e.adapter),(0,kM.default)(OM,e)}var PM={},NM={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&Object.keys(t).every((function(r){if(!e.propertyIsEnumerable(r))return!1;var i=t[r],o=e[r];return!!("object"==typeof i&&null!==i?n(o,i):o===i)}))}));t.default=n,e.exports=t.default}(NM,NM.exports);var RM={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.adapter)return(0,t.default)(e.adapter),e.adapter;var r=(0,n.get)().adapter;return(0,t.default)(r),r};var t=function(e){return e&&e.__esModule?e:{default:e}}(EM),n=_M})(RM),Object.defineProperty(PM,"__esModule",{value:!0});var MM=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};PM.propsOfNode=YM,PM.childrenOfNode=$M,PM.hasClassName=function(e,t){var n=YM(e).className||"";return n=String(n).replace(/\s/g," "),(0,HM.default)(t)?t.test(n):(" "+String(n)+" ").indexOf(" "+String(t)+" ")>-1},PM.treeForEach=XM,PM.treeFilter=WM,PM.findParentNode=function(e,t){return WM(e,(function(e){return!!e.rendered&&-1!==$M(e).indexOf(t)}))[0]||null},PM.pathToNode=KM,PM.parentsOfNode=function(e,t){return(KM(e,t)||[]).reverse()},PM.nodeHasId=function(e,t){return YM(e).id===t},PM.nodeMatchesObjectProps=function(e,t){return(0,UM.default)(YM(e),function(e){return(0,FM.default)(e).reduce((function(e,t){var n=MM(t,2),r=n[0],i=n[1];return(0,LM.default)({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,function(e){return void 0!==e?e:ZM}(i)))}),{})}(t))},PM.getTextFromNode=function e(t){return JM(t,{recurse:e,getCustom:function(e){var t=e.type;return"<"+String(t.displayName||(0,jM.default)(t))+" />"}})},PM.getTextFromHostNodes=function e(t,n){return JM(t,{recurse:function(){function t(t){return e(t,n)}return t}(),handleHostNodes:function(e){return[].concat(n.nodeToHostNode(e,!0)).map(QM).join("")}})},PM.getHTMLFromHostNodes=function e(t,n){return JM(t,{recurse:function(){function t(t){return e(t,n)}return t}(),handleHostNodes:function(e){return[].concat(n.nodeToHostNode(e,!0)).map(eL).join("")},nullRenderReturnsNull:!0})};var LM=zM(ay),BM=zM(Yx),FM=zM(Tw),UM=zM(NM.exports),jM=zM(Xw),HM=zM(wE),GM=zM(RM);function zM(e){return e&&e.__esModule?e:{default:e}}function VM(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function YM(e){return e&&e.props||{}}function $M(e){if(!e)return[];var t=(0,GM.default)(),n=t.isFragment&&"function"==typeof t.isFragment,r=Array.isArray(e.rendered)?(0,BM.default)(e.rendered,1):[e.rendered];return n?(0,BM.default)(r.map((function(e){return t.isFragment(e)?$M(e):e})),1):r}function XM(e,t){e&&t(e),$M(e).forEach((function(e){return XM(e,t)}))}function WM(e,t){var n=[];return XM(e,(function(e){t(e)&&n.push(e)})),n}function qM(e,t){return e.filter((function(e){return 0!==WM(e,t).length}))}function KM(e,t){for(var n=[t],r=[],i=function(t){return e===t};n.length;){var o=n.pop(),a=$M(o);if(o===e)return qM(r,i);r.push(o),0===a.length&&r.pop(),n.push.apply(n,VM(a))}return null}var ZM={};function QM(e){return"string"==typeof e?String(e||""):e&&e.textContent||""}function JM(e,t){var n=t.getCustom,r=t.handleHostNodes,i=t.recurse,o=t.nullRenderReturnsNull,a=void 0!==o&&o;return null==e?"":"string"==typeof e||"number"==typeof e?String(e):n&&e.type&&"function"==typeof e.type?n(e):r&&"host"===e.nodeType?r(e):null==e.rendered&&a?null:$M(e).map(i).join("")}function eL(e){return null==e?null:e.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g,"")}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.shallowEqual=e.ITERATOR_SYMBOL=void 0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.getAdapter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"),(0,g.default)(e)},e.makeOptions=function(e){var t=(0,f.get)(),n=t.attachTo,r=t.hydrateIn,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["attachTo","hydrateIn"]);T(n,r);var a=e.attachTo,s=e.hydrateIn;T(a,s);var l=s||r||n||a||void 0,c=s||r||void 0,u=(0,i.default)({},l&&{attachTo:l},c&&{hydrateIn:c});return(0,i.default)({},o,e,u)},e.isCustomComponent=function(e,t){return(0,b.default)(t),t.isCustomComponent?!!t.isCustomComponent(e):"function"==typeof e},e.isCustomComponentElement=function(e,t){return t.isCustomComponentElement?!!t.isCustomComponentElement(e):!!e&&t.isValidElement(e)&&"function"==typeof e.type},e.propsOfNode=_,e.typeOfNode=function(e){return e?e.type:null},e.nodeHasType=function(e,t){if(!t||!e)return!1;var n=(0,g.default)();return n.displayNameOfNode?n.displayNameOfNode(e)===t:!!e.type&&("string"==typeof e.type?e.type===t:("function"==typeof e.type?(0,l.default)(e.type)===t:e.type.name===t)||e.type.displayName===t)},e.nodeMatches=k,e.nodeEqual=C,e.containsChildrenSubArray=function(e,t,n){var r=(0,m.childrenOfNode)(t);return r.some((function(t,i){return function(e,t,n){return t.length===n.length&&t.every((function(t,r){return e(t,n[r])}))}(e,r.slice(i,i+n.length),n)}))},e.childrenToSimplifiedArray=I,e.isReactElementAlike=function(e,t){return t.isValidElement(e)||O(e)||Array.isArray(e)},e.withSetStateAllowed=function(e){var t=!1;void 0===globalThis.document&&(t=!0,globalThis.document={}),e(),t&&(globalThis.document=void 0,delete globalThis.document)},e.AND=function(e){var t=e.slice().reverse();return function(e){return t.every((function(t){return t(e)}))}},e.displayNameOfNode=function(e){if(!e)return null;var t=e.type;return t?t.displayName||("function"==typeof t?(0,l.default)(t):t.name||t):null},e.sym=function(e){return"function"==typeof Symbol?Symbol.for("enzyme."+String(e)):e},e.privateSet=function(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0})},e.cloneElement=function(e,t,n){return e.createElement(t.type,(0,i.default)({},t.props,n))},e.spyMethod=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=void 0,i=e[t],o=(0,c.default)(e,t),a=void 0;return o&&(a=Object.getOwnPropertyDescriptor(e,t)),Object.defineProperty(e,t,{configurable:!0,enumerable:!a||!!a.enumerable,value:n(i)||function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=i.apply(this,t);return r=o,o}}),{restore:function(){o?a?Object.defineProperty(e,t,a):e[t]=i:delete e[t]},getLastReturnValue:function(){return r}}};var r=Xx.exports;Object.defineProperty(e,"shallowEqual",{enumerable:!0,get:function(){return v(r).default}}),e.isEmptyValue=D,e.renderedDive=function e(t){return!!D(t)||[].concat(t).every((function(t){if(t){var n=t.rendered;return D(n)||e(n)}return D(t)}))},e.loadCheerioRoot=function(e){return e?(0,p.isHtml)(e)?d.default.load("")(e):d.default.load(e,null,!1).root():d.default.root()};var i=v(ay),o=v(Ls.exports),a=v(ow),s=v(Tw),l=v(Xw),c=v(Xb),u=v(Yx),h=v(pS),d=v(fS),p=hk,f=_M,m=PM,g=v(RM),b=v(EM);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(e&&t&&e!==t)throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)")}function _(e){return(0,s.default)(e&&e.props||{}).filter((function(e){return void 0!==n(e,2)[1]})).reduce((function(e,t){var r=n(t,2),o=r[0],a=r[1];return(0,i.default)(e,y({},o,a))}),{})}function E(e,t,n,r){var i=r?k:C;if(e===t)return!0;if(!Array.isArray(e)&&!Array.isArray(t))return i(e,t,n);var o=(0,u.default)(e,1/0),a=(0,u.default)(t,1/0);if(o.length!==a.length)return!1;if(0===o.length&&0===a.length)return!0;for(var s=0;s<o.length;s+=1)if(!i(o[s],a[s],n))return!1;return!0}function x(e,t,n){return E(e,t,n,!0)}function w(e,t,n){return E(e,t,n,!1)}function S(e,t){var r=n(t,2),o=r[0],a=r[1],s=null==a?{}:y({},o,a);return(0,i.default)({},e,s)}function A(e,n,r,i){if(e===n)return!0;if(!e||!n)return!1;if(e.type!==n.type)return!1;var a=_(e),l=_(n);i&&(a=(0,s.default)(a).reduce(S,{}),l=(0,s.default)(l).reduce(S,{}));for(var c=Object.keys(a),u=0;u<c.length;u+=1){var h=c[u];if("children"===h);else{if(!(h in l))return!1;if(l[h]===a[h]);else{if(t(l[h])!==t(a[h])||"object"!==t(a[h]))return!1;if(!(0,o.default)(a[h],l[h]))return!1}}}var d="children"in a,p="children"in l;if((d||p)&&!(i?x:w)(I(a.children,i),I(l.children,i),r))return!1;if(!O(e)){var f=Object.keys(l);return r(c.length-d,f.length-p)}return!1}function k(e,t){return A(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.default,!0)}function C(e,t){return A(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.default,!1)}function I(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e){var t=[],n=function(e){null!==e&&!1!==e&&void 0!==e&&t.push(e)};return Array.isArray(e)?e.forEach(n):n(e),t}(e),r=[],i=0;i<n.length;i+=1){var o=n[i],a=r.pop();void 0===a?r.push(o):O(o)&&O(a)?r.push(a+o):(r.push(a),r.push(o))}return t?r.map((function(e){return"string"==typeof e?(0,h.default)(e):e})):r}function O(e){return"string"==typeof e||"number"==typeof e}function D(e){return null===e||!1===e}e.ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator}($x);var tL={},nL=1/0,rL="[object Symbol]",iL=/[&<>"'`]/g,oL=RegExp(iL.source),aL="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis,sL="object"==typeof self&&self&&self.Object===Object&&self,lL=aL||sL||Function("return this")();var cL,uL=(cL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==cL?void 0:cL[e]}),hL=Object.prototype.toString,dL=lL.Symbol,pL=dL?dL.prototype:void 0,fL=pL?pL.toString:void 0;function mL(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&hL.call(e)==rL}(e))return fL?fL.call(e):"";var t=e+"";return"0"==t&&1/e==-nL?"-0":t}var gL=function(e){return(e=null==(t=e)?"":mL(t))&&oL.test(e)?e.replace(iL,uL):e;var t},bL=String.prototype.valueOf,vL=Object.prototype.toString,yL=eE(),TL=function(e){return"string"==typeof e||"object"==typeof e&&(yL?function(e){try{return bL.call(e),!0}catch(e){return!1}}(e):"[object String]"===vL.call(e))},_L=Number.prototype.toString,EL=Object.prototype.toString,xL=eE(),wL=Bv,SL=wL("Boolean.prototype.toString"),AL=wL("Object.prototype.toString"),kL=eE();Object.defineProperty(tL,"__esModule",{value:!0});var CL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};tL.typeName=HL,tL.spaces=GL,tL.indent=zL,tL.debugNode=YL,tL.debugNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){return YL(e,void 0,t)})).join("\n\n\n")};var IL=UL(gL),OL=UL(Xw),DL=UL(TL),PL=UL((function(e){return"number"==typeof e||"object"==typeof e&&(xL?function(e){try{return _L.call(e),!0}catch(e){return!1}}(e):"[object Number]"===EL.call(e))})),NL=UL(C_),RL=UL((function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(kL&&Symbol.toStringTag in e?function(e){try{return SL(e),!0}catch(e){return!1}}(e):"[object Boolean]"===AL(e))})),ML=UL(oT),LL=UL(Xb),BL=PM,FL=UL(RM);function UL(e){return e&&e.__esModule?e:{default:e}}var jL=Function.bind.call(Function.call,Boolean.prototype.valueOf);function HL(e){return(0,FL.default)().displayNameOfNode?(0,FL.default)().displayNameOfNode(e)||"Component":"function"==typeof e.type?e.type.displayName||(0,OL.default)(e.type)||"Component":e.type}function GL(e){return Array(e+1).join(" ")}function zL(e,t){return t.split("\n").map((function(t){return""+String(GL(e))+String(t)})).join("\n")}function VL(e,t){var n=(0,BL.propsOfNode)(e);return Object.keys(n).filter((function(e){return"children"!==e})).map((function(e){return String(e)+"="+String(function(e,t){return(0,DL.default)(e)?(0,ML.default)(String(e),{quoteStyle:"double"}):(0,PL.default)(e)?"{"+String((0,ML.default)(Number(e)))+"}":(0,RL.default)(e)?"{"+String((0,ML.default)(jL(e)))+"}":(0,NL.default)(e)?"{"+String((0,ML.default)(e))+"}":"object"===(void 0===e?"undefined":CL(e))?t.verbose?"{"+String((0,ML.default)(e))+"}":"{{...}}":"{["+(void 0===e?"undefined":CL(e))+"]}"}(n[e],t))})).join(" ")}function YL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e||"number"==typeof e)return(0,IL.default)(e);if("function"==typeof e){var r=(0,OL.default)(e);return"[function"+(r?" "+String(r):"")+"]"}if(!e)return"";if(!(0,FL.default)().isValidElement(e)&&!function(e){return(0,LL.default)(e,"nodeType")&&"string"==typeof e.nodeType&&(0,LL.default)(e,"type")&&(0,LL.default)(e,"key")&&(0,LL.default)(e,"ref")&&(0,LL.default)(e,"instance")&&(0,LL.default)(e,"rendered")}(e))return"{"+String((0,ML.default)(e))+"}";var i=(0,BL.childrenOfNode)(e).map((function(e){return YL(e,t,n)})).filter(Boolean),o=HL(e),a=n.ignoreProps?"":VL(e,n),s=a?" ":"",l=i.length?">":" ",c=function(e,t){return e.length?"\n"+String(e.map((function(e){return zL(t,e)})).join("\n"))+"\n":""}(i,t),u=i.length?"</"+String(o)+">":"/>";return"<"+String(o)+s+String(a)+l+String(c)+u}var $L={},XL={},WL={};Object.defineProperty(WL,"__esModule",{value:!0});var qL=function(e){return JSON.stringify(e)},KL=function(e){var t=e.body,n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=void 0;if("universalSelector"===l.type)c="*";else if("typeSelector"===l.type)c=l.name;else if("idSelector"===l.type)c="#"+l.name;else if("classSelector"===l.type)c="."+l.name;else if("attributePresenceSelector"===l.type)c="["+l.name+"]";else if("attributeValueSelector"===l.type)c="["+l.name+l.operator+qL(l.value)+"]";else if("pseudoClassSelector"===l.type)c=":"+l.name,l.parameters.length&&(c+="("+l.parameters.map(qL).join(", ")+")");else{if("pseudoElementSelector"!==l.type)throw new Error("Unknown token.");c="::"+l.name}n.push(c)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n.join("")};WL.default=function(){return{generate:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if("selector"===s.type)t.push(KL(s));else if("descendantCombinator"===s.type)t.push(" ");else if("childCombinator"===s.type)t.push(" > ");else if("adjacentSiblingCombinator"===s.type)t.push(" + ");else{if("generalSiblingCombinator"!==s.type)throw new Error("Unknown token.");t.push(" ~ ")}}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t.join("")}}};var ZL={},QL={exports:{}};!function(e){var t,n;t=v,n=function(){function e(t,n,r){return this.id=++e.highestId,this.name=t,this.symbols=n,this.postprocess=r,this}function t(e,t,n,r){this.rule=e,this.dot=t,this.reference=n,this.data=[],this.wantedBy=r,this.isComplete=this.dot===e.symbols.length}function n(e,t){this.grammar=e,this.index=t,this.states=[],this.wants={},this.scannable=[],this.completed={}}function r(e,t){this.rules=e,this.start=t||this.rules[0].name;var n=this.byName={};this.rules.forEach((function(e){n.hasOwnProperty(e.name)||(n[e.name]=[]),n[e.name].push(e)}))}function i(){this.reset("")}function o(e,t,o){if(e instanceof r){var a=e;o=t}else a=r.fromCompiled(e,t);for(var s in this.grammar=a,this.options={keepHistory:!1,lexer:a.lexer||new i},o||{})this.options[s]=o[s];this.lexer=this.options.lexer,this.lexerState=void 0;var l=new n(a,0);this.table=[l],l.wants[a.start]=[],l.predict(a.start),l.process(),this.current=0}function a(e){var t=typeof e;if("string"===t)return e;if("object"===t){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return e.toString();if(e.type)return"%"+e.type;if(e.test)return"<"+String(e.test)+">";throw new Error("Unknown symbol type: "+e)}}return e.highestId=0,e.prototype.toString=function(e){var t=void 0===e?this.symbols.map(a).join(" "):this.symbols.slice(0,e).map(a).join(" ")+" ● "+this.symbols.slice(e).map(a).join(" ");return this.name+" → "+t},t.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},t.prototype.nextState=function(e){var n=new t(this.rule,this.dot+1,this.reference,this.wantedBy);return n.left=this,n.right=e,n.isComplete&&(n.data=n.build(),n.right=void 0),n},t.prototype.build=function(){var e=[],t=this;do{e.push(t.right.data),t=t.left}while(t.left);return e.reverse(),e},t.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,o.fail))},n.prototype.process=function(e){for(var t=this.states,n=this.wants,r=this.completed,i=0;i<t.length;i++){var a=t[i];if(a.isComplete){if(a.finish(),a.data!==o.fail){for(var s=a.wantedBy,l=s.length;l--;){var c=s[l];this.complete(c,a)}if(a.reference===this.index){var u=a.rule.name;(this.completed[u]=this.completed[u]||[]).push(a)}}}else{if("string"!=typeof(u=a.rule.symbols[a.dot])){this.scannable.push(a);continue}if(n[u]){if(n[u].push(a),r.hasOwnProperty(u)){var h=r[u];for(l=0;l<h.length;l++){var d=h[l];this.complete(a,d)}}}else n[u]=[a],this.predict(u)}}},n.prototype.predict=function(e){for(var n=this.grammar.byName[e]||[],r=0;r<n.length;r++){var i=n[r],o=this.wants[e],a=new t(i,0,this.index,o);this.states.push(a)}},n.prototype.complete=function(e,t){var n=e.nextState(t);this.states.push(n)},r.fromCompiled=function(t,n){var i=t.Lexer;t.ParserStart&&(n=t.ParserStart,t=t.ParserRules);var o=new r(t=t.map((function(t){return new e(t.name,t.symbols,t.postprocess)})),n);return o.lexer=i,o},i.prototype.reset=function(e,t){this.buffer=e,this.index=0,this.line=t?t.line:1,this.lastLineBreak=t?-t.col:0},i.prototype.next=function(){if(this.index<this.buffer.length){var e=this.buffer[this.index++];return"\n"===e&&(this.line+=1,this.lastLineBreak=this.index),{value:e}}},i.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},i.prototype.formatError=function(e,t){var n=this.buffer;if("string"==typeof n){var r=n.split("\n").slice(Math.max(0,this.line-5),this.line),i=n.indexOf("\n",this.index);-1===i&&(i=n.length);var o=this.index-this.lastLineBreak,a=String(this.line).length;return t+=" at line "+this.line+" col "+o+":\n\n",(t+=r.map((function(e,t){return s(this.line-r.length+t+1,a)+" "+e}),this).join("\n"))+"\n"+s("",a+o)+"^\n"}return t+" at index "+(this.index-1);function s(e,t){var n=String(e);return Array(t-n.length+1).join(" ")+n}},o.fail={},o.prototype.feed=function(e){var t,r=this.lexer;for(r.reset(e,this.lexerState);;){try{if(!(t=r.next()))break}catch(e){var o=new n(this.grammar,this.current+1);throw this.table.push(o),(l=new Error(this.reportLexerError(e))).offset=this.current,l.token=e.token,l}var a=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var s=this.current+1;o=new n(this.grammar,s),this.table.push(o);for(var l,c=void 0!==t.text?t.text:t.value,u=r.constructor===i?t.value:t,h=a.scannable,d=h.length;d--;){var p=h[d],f=p.rule.symbols[p.dot];if(f.test?f.test(u):f.type?f.type===t.type:f.literal===c){var m=p.nextState({data:u,token:t,isToken:!0,reference:s-1});o.states.push(m)}}if(o.process(),0===o.states.length)throw(l=new Error(this.reportError(t))).offset=this.current,l.token=t,l;this.options.keepHistory&&(a.lexerState=r.save()),this.current++}return a&&(this.lexerState=r.save()),this.results=this.finish(),this},o.prototype.reportLexerError=function(e){var t,n,r=e.token;return r?(t="input "+JSON.stringify(r.text[0])+" (lexer error)",n=this.lexer.formatError(r,"Syntax error")):(t="input (lexer error)",n=e.message),this.reportErrorCommon(n,t)},o.prototype.reportError=function(e){var t=(e.type?e.type+" token: ":"")+JSON.stringify(void 0!==e.value?e.value:e),n=this.lexer.formatError(e,"Syntax error");return this.reportErrorCommon(n,t)},o.prototype.reportErrorCommon=function(e,t){var n=[];n.push(e);var r=this.table.length-2,i=this.table[r],o=i.states.filter((function(e){var t=e.rule.symbols[e.dot];return t&&"string"!=typeof t}));return 0===o.length?(n.push("Unexpected "+t+". I did not expect any more input. Here is the state of my parse table:\n"),this.displayStateStack(i.states,n)):(n.push("Unexpected "+t+". Instead, I was expecting to see one of the following:\n"),o.map((function(e){return this.buildFirstStateStack(e,[])||[e]}),this).forEach((function(e){var t=e[0],r=t.rule.symbols[t.dot],i=this.getSymbolDisplay(r);n.push("A "+i+" based on:"),this.displayStateStack(e,n)}),this)),n.push(""),n.join("\n")},o.prototype.displayStateStack=function(e,t){for(var n,r=0,i=0;i<e.length;i++){var o=e[i],a=o.rule.toString(o.dot);a===n?r++:(r>0&&t.push("    ^ "+r+" more lines identical to this"),r=0,t.push("    "+a)),n=a}},o.prototype.getSymbolDisplay=function(e){return function(e){var t=typeof e;if("string"===t)return e;if("object"===t){if(e.literal)return JSON.stringify(e.literal);if(e instanceof RegExp)return"character matching "+e;if(e.type)return e.type+" token";if(e.test)return"token matching "+String(e.test);throw new Error("Unknown symbol type: "+e)}}(e)},o.prototype.buildFirstStateStack=function(e,t){if(-1!==t.indexOf(e))return null;if(0===e.wantedBy.length)return[e];var n=e.wantedBy[0],r=[e].concat(t),i=this.buildFirstStateStack(n,r);return null===i?null:[e].concat(i)},o.prototype.save=function(){var e=this.table[this.current];return e.lexerState=this.lexerState,e},o.prototype.restore=function(e){var t=e.index;this.current=t,this.table[t]=e,this.table.splice(t+1),this.lexerState=e.lexerState,this.results=this.finish()},o.prototype.rewind=function(e){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[e])},o.prototype.finish=function(){var e=[],t=this.grammar.start;return this.table[this.table.length-1].states.forEach((function(n){n.rule.name===t&&n.dot===n.rule.symbols.length&&0===n.reference&&n.data!==o.fail&&e.push(n)})),e.map((function(e){return e.data}))},{Parser:o,Grammar:r,Rule:e}},e.exports?e.exports=n():t.nearley=n()}(QL);var JL={exports:{}},eB=1/0,tB=9007199254740991,nB="[object Arguments]",rB="[object Function]",iB="[object GeneratorFunction]",oB="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis,aB="object"==typeof self&&self&&self.Object===Object&&self,sB=oB||aB||Function("return this")();function lB(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var cB=Object.prototype,uB=cB.hasOwnProperty,hB=cB.toString,dB=sB.Symbol,pB=cB.propertyIsEnumerable,fB=dB?dB.isConcatSpreadable:void 0;function mB(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=gB),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?mB(s,t-1,n,r,i):lB(i,s):r||(i[i.length]=s)}return i}function gB(e){return bB(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=tB}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?hB.call(e):"";return t==rB||t==iB}(e)}(e)}(e)&&uB.call(e,"callee")&&(!pB.call(e,"callee")||hB.call(e)==nB)}(e)||!!(fB&&e&&e[fB])}var bB=Array.isArray;var vB=function(e){return e&&e.length?mB(e,eB):[]};(function(e){!function(){function t(e){return e[0]}var n=vB,r=function(e){return e=e.filter((function(e){return null!==e})),n(e)},i={" ":"descendantCombinator","+":"adjacentSiblingCombinator",">":"childCombinator","~":"generalSiblingCombinator"},o=function(e,t,r){var i=n(e).join(""),o=parseFloat(i);return isNaN(o)?r:o},a=function(e,t,n){return"true"===e[0]||"false"!==e[0]&&n},s=function(e,t,n){return"NaN"===e[0]?NaN:"undefined"!==e[0]?"null"===e[0]?null:n:void 0},l={Lexer:void 0,ParserRules:[{name:"combinator",symbols:["selector"]},{name:"combinator",symbols:["combinator","_",/[>+~ ]/,"_","selector"],postprocess:function(e){return(Array.isArray(e[0])?e[0]:[e[0]]).concat({type:i[e[2]]}).concat(e[4])}},{name:"selector",symbols:["selectorBody"],postprocess:function(e){return{type:"selector",body:e[0]}}},{name:"selectorBody$ebnf$1",symbols:["typeSelector"],postprocess:t},{name:"selectorBody$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"selectorBody$ebnf$2",symbols:[]},{name:"selectorBody$ebnf$2",symbols:["selectorBody$ebnf$2","simpleSelector"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"selectorBody",symbols:["selectorBody$ebnf$1","selectorBody$ebnf$2"],postprocess:function(e,t,n){var i=r(e);return i.length?i:n}},{name:"selectorBody$ebnf$3",symbols:[]},{name:"selectorBody$ebnf$3",symbols:["selectorBody$ebnf$3","simpleSelector"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"selectorBody",symbols:["universalSelector","selectorBody$ebnf$3"],postprocess:r},{name:"simpleSelector",symbols:["idSelector"]},{name:"simpleSelector",symbols:["classSelector"]},{name:"simpleSelector",symbols:["attributeValueSelector"]},{name:"simpleSelector",symbols:["attributePresenceSelector"]},{name:"simpleSelector",symbols:["pseudoClassSelector"]},{name:"simpleSelector",symbols:["pseudoElementSelector"]},{name:"typeSelector",symbols:["attributeName"],postprocess:function(e){return{type:"typeSelector",name:e[0]}}},{name:"className$ebnf$1",symbols:[{literal:"-"}],postprocess:t},{name:"className$ebnf$1",symbols:[],postprocess:function(e){return null}},{name:"className$ebnf$2",symbols:[]},{name:"className$ebnf$2",symbols:["className$ebnf$2",/[_a-zA-Z0-9-]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"className",symbols:["className$ebnf$1",/[_a-zA-Z]/,"className$ebnf$2"],postprocess:function(e){return(e[0]||"")+e[1]+e[2].join("")}},{name:"attributeName$ebnf$1",symbols:[]},{name:"attributeName$ebnf$1",symbols:["attributeName$ebnf$1",/[_a-zA-Z()0-9-]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"attributeName",symbols:[/[_a-z()A-Z]/,"attributeName$ebnf$1"],postprocess:function(e){return e[0]+e[1].join("")}},{name:"classSelector",symbols:[{literal:"."},"className"],postprocess:function(e){return{type:"classSelector",name:e[1]}}},{name:"idSelector",symbols:[{literal:"#"},"attributeName"],postprocess:function(e){return{type:"idSelector",name:e[1]}}},{name:"universalSelector",symbols:[{literal:"*"}],postprocess:function(e){return{type:"universalSelector"}}},{name:"attributePresenceSelector",symbols:[{literal:"["},"attributeName",{literal:"]"}],postprocess:function(e){return{type:"attributePresenceSelector",name:e[1]}}},{name:"attributeOperator",symbols:[{literal:"="}]},{name:"attributeOperator$string$1",symbols:[{literal:"~"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$1"]},{name:"attributeOperator$string$2",symbols:[{literal:"|"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$2"]},{name:"attributeOperator$string$3",symbols:[{literal:"^"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$3"]},{name:"attributeOperator$string$4",symbols:[{literal:"$"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$4"]},{name:"attributeOperator$string$5",symbols:[{literal:"*"},{literal:"="}],postprocess:function(e){return e.join("")}},{name:"attributeOperator",symbols:["attributeOperator$string$5"]},{name:"attributeValueSelector",symbols:[{literal:"["},"attributeName","attributeOperator","attributeValue",{literal:"]"}],postprocess:function(e){return{type:"attributeValueSelector",name:e[1],value:e[3],operator:e[2][0]}}},{name:"attributeValue",symbols:["falsyPrimitiveStrings"],postprocess:t},{name:"attributeValue",symbols:["numericValue"],postprocess:t},{name:"attributeValue",symbols:["sqstring"],postprocess:t},{name:"attributeValue",symbols:["dqstring"],postprocess:t},{name:"falsyPrimitiveStrings$string$1",symbols:[{literal:"f"},{literal:"a"},{literal:"l"},{literal:"s"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$1"],postprocess:a},{name:"falsyPrimitiveStrings$string$2",symbols:[{literal:"t"},{literal:"r"},{literal:"u"},{literal:"e"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$2"],postprocess:a},{name:"falsyPrimitiveStrings$string$3",symbols:[{literal:"N"},{literal:"a"},{literal:"N"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$3"],postprocess:s},{name:"falsyPrimitiveStrings$string$4",symbols:[{literal:"n"},{literal:"u"},{literal:"l"},{literal:"l"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$4"],postprocess:s},{name:"falsyPrimitiveStrings$string$5",symbols:[{literal:"u"},{literal:"n"},{literal:"d"},{literal:"e"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"e"},{literal:"d"}],postprocess:function(e){return e.join("")}},{name:"falsyPrimitiveStrings",symbols:["falsyPrimitiveStrings$string$5"],postprocess:s},{name:"numericValue",symbols:["int",{literal:"."},"int"],postprocess:o},{name:"numericValue",symbols:[{literal:"+"},"int",{literal:"."},"int"],postprocess:o},{name:"numericValue",symbols:[{literal:"-"},"int",{literal:"."},"int"],postprocess:o},{name:"numericValue",symbols:[{literal:"-"},"int"],postprocess:o},{name:"numericValue",symbols:["int"],postprocess:o},{name:"numericValue",symbols:[{literal:"+"},"int"],postprocess:o},{name:"numericValue$string$1",symbols:[{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$1"],postprocess:o},{name:"numericValue$string$2",symbols:[{literal:"+"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$2"],postprocess:o},{name:"numericValue$string$3",symbols:[{literal:"-"},{literal:"I"},{literal:"n"},{literal:"f"},{literal:"i"},{literal:"n"},{literal:"i"},{literal:"t"},{literal:"y"}],postprocess:function(e){return e.join("")}},{name:"numericValue",symbols:["numericValue$string$3"],postprocess:o},{name:"int$ebnf$1",symbols:[/[0-9]/]},{name:"int$ebnf$1",symbols:["int$ebnf$1",/[0-9]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"int",symbols:["int$ebnf$1"]},{name:"classParameters",symbols:[]},{name:"classParameters",symbols:["classParameter"]},{name:"classParameters",symbols:["classParameters",{literal:","},"_","classParameter"],postprocess:function(e){return e[0].concat([e[3]])}},{name:"classParameter$ebnf$1",symbols:[/[^()"', ]/]},{name:"classParameter$ebnf$1",symbols:["classParameter$ebnf$1",/[^()"', ]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"classParameter",symbols:["classParameter$ebnf$1"],postprocess:function(e){return e[0].join("")}},{name:"classParameter",symbols:["sqstring"],postprocess:t},{name:"classParameter",symbols:["dqstring"],postprocess:t},{name:"pseudoElementSelector$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:function(e){return e.join("")}},{name:"pseudoElementSelector",symbols:["pseudoElementSelector$string$1","pseudoClassSelectorName"],postprocess:function(e){return{type:"pseudoElementSelector",name:e[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName"],postprocess:function(e){return{type:"pseudoClassSelector",name:e[1]}}},{name:"pseudoClassSelector",symbols:[{literal:":"},"pseudoClassSelectorName",{literal:"("},"classParameters",{literal:")"}],postprocess:function(e){return{type:"pseudoClassSelector",name:e[1],parameters:e[3]}}},{name:"pseudoClassSelectorName$ebnf$1",symbols:[/[a-zA-Z0-9-_]/]},{name:"pseudoClassSelectorName$ebnf$1",symbols:["pseudoClassSelectorName$ebnf$1",/[a-zA-Z0-9-_]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"pseudoClassSelectorName",symbols:[/[a-zA-Z]/,"pseudoClassSelectorName$ebnf$1"],postprocess:function(e){return e[0]+e[1].join("")}},{name:"dqstring$ebnf$1",symbols:[]},{name:"dqstring$ebnf$1",symbols:["dqstring$ebnf$1","dstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"dqstring",symbols:[{literal:'"'},"dqstring$ebnf$1",{literal:'"'}],postprocess:function(e){return e[1].join("")}},{name:"dstrchar",symbols:[/[^"]/],postprocess:t},{name:"dstrchar$string$1",symbols:[{literal:"\\"},{literal:'"'}],postprocess:function(e){return e.join("")}},{name:"dstrchar",symbols:["dstrchar$string$1"],postprocess:function(e){return'"'}},{name:"sqstring$ebnf$1",symbols:[]},{name:"sqstring$ebnf$1",symbols:["sqstring$ebnf$1","sstrchar"],postprocess:function(e){return e[0].concat([e[1]])}},{name:"sqstring",symbols:[{literal:"'"},"sqstring$ebnf$1",{literal:"'"}],postprocess:function(e){return e[1].join("")}},{name:"sstrchar",symbols:[/[^']/],postprocess:t},{name:"sstrchar$string$1",symbols:[{literal:"\\"},{literal:"'"}],postprocess:function(e){return e.join("")}},{name:"sstrchar",symbols:["sstrchar$string$1"],postprocess:function(e){return"'"}},{name:"_$ebnf$1",symbols:[]},{name:"_$ebnf$1",symbols:["_$ebnf$1",/[ ]/],postprocess:function(e){return e[0].concat([e[1]])}},{name:"_",symbols:["_$ebnf$1"],postprocess:function(e){return null}}],ParserStart:"combinator"};e.exports=l}()})(JL),Object.defineProperty(ZL,"__esModule",{value:!0});var yB=QL.exports,TB=function(e){return e&&e.__esModule?e:{default:e}}(JL.exports);ZL.default=function(){return{parse:function(e){var t=new yB.Parser(TB.default.ParserRules,TB.default.ParserStart).feed(e).results;if(0===t.length)throw new Error("Found no parsings.");if(t.length>1)throw new Error("Ambiguous results.");return t[0]}}},Object.defineProperty(XL,"__esModule",{value:!0}),XL.createParser=XL.createGenerator=void 0;var _B=xB(WL),EB=xB(ZL);function xB(e){return e&&e.__esModule?e:{default:e}}XL.createGenerator=_B.default,XL.createParser=EB.default;var wB=yx.exports,SB=Bv,AB=SB("Object.prototype.propertyIsEnumerable"),kB=SB("Array.prototype.push"),CB=function(e){var t=wB(e),n=[];for(var r in t)AB(t,r)&&kB(n,t[r]);return n},IB=CB,OB=function(){return"function"==typeof Object.values?Object.values:IB},DB=OB,PB=Pv,NB=Pv,RB=CB,MB=OB,LB=function(){var e=DB();return PB(Object,{values:e},{values:function(){return Object.values!==e}}),e},BB=(0,Nv.exports)(MB(),Object);NB(BB,{getPolyfill:MB,implementation:RB,shim:LB});var FB,UB,jB=BB,HB=V_,GB=W_(),zB=CE(),VB=PT,YB=IE(),$B=d_.exports,XB=ox(),WB=h_,qB=Cx,KB=cx,ZB=Bv,QB=TL,JB=Object("a"),eF="a"!==JB[0]||!(0 in JB),tF=ZB("String.prototype.split"),nF=function(e){var t,n=qB(this),r=eF&&QB(n)?tF(n,""):n,i=XB(r);if(!$B(e))throw new TypeError("Array.prototype.filter callback must be a function");arguments.length>1&&(t=arguments[1]);for(var o=HB(n,0),a=0,s=0;a<i;){var l=KB(a);if(YB(n,l)){var c=VB(n,l);WB(GB(e,t,[c,a,n]))&&(zB(o,KB(s),c),s+=1)}a+=1}return o},rF=nF,iF=function(){var e=Array.prototype.filter;return function(e){var t=!0,n=!0,r=!1;if("function"==typeof e){try{e.call("f",(function(e,n,r){"object"!=typeof r&&(t=!1)})),e.call([null],(function(){n="string"==typeof this}),"x")}catch(e){r=!0}return!r&&t&&n}return!1}(e)?e:rF};var oF=Pv,aF=yx.exports,sF=Bv,lF=nF,cF=iF,uF=Nv.exports.apply(cF()),hF=function(){if(UB)return FB;UB=1;var e=Pv,t=iF;return FB=function(){var n=t();return e(Array.prototype,{filter:n},{filter:function(){return Array.prototype.filter!==n}}),n}}(),dF=sF("Array.prototype.slice"),pF=function(e,t){return aF(e),uF(e,dF(arguments,1))};oF(pF,{getPolyfill:cF,implementation:lF,shim:hF});var fF=pF,mF=Bv("Array.prototype.push"),gF=function(e,t){for(var n=[],r=0;r<e.length;r+=1)mF(n,t(e[r],r));return n},bF=[["HTMLElement","article"],["HTMLElement","section"],["HTMLBaseFontElement","basefont","HTMLBaseFontElementConstructor"],["HTMLPhraseElement","cite","HTMLElement"],["HTMLElement","noscript"],["HTMLBGSoundElement","bgsound","HTMLElement"],["HTMLPhraseElement","blink","HTMLElement"],["HTMLElement","multicol"],["HTMLNextIdElement","nextid","HTMLElement"],["HTMLElement","rb"],["HTMLElement","spacer"],["HTMLAnchorElement","a","HTMLElement"],["HTMLAreaElement","area","HTMLElement"],["HTMLAudioElement","audio","HTMLElement"],["HTMLBaseElement","base","HTMLElement"],["HTMLBodyElement","body","HTMLElement"],["HTMLBRElement","br","HTMLElement"],["HTMLButtonElement","button"],["HTMLCanvasElement","canvas"],["HTMLContentElement","content","HTMLElement"],["HTMLDataElement","data","HTMLElement"],["HTMLDataListElement","datalist"],["HTMLDialogElement","dialog","HTMLElement"],["HTMLDirectoryElement","dir"],["HTMLDivElement","div"],["HTMLDListElement","dl"],["HTMLEmbedElement","embed"],["HTMLFieldSetElement","fieldset"],["HTMLFontElement","font"],["HTMLFormElement","form"],["HTMLFrameElement","frame"],["HTMLFrameSetElement","frameset"],["HTMLHeadElement","head"],["HTMLHeadingElement","h1"],["HTMLHeadingElement","h2"],["HTMLHeadingElement","h3"],["HTMLHeadingElement","h4"],["HTMLHeadingElement","h5"],["HTMLHeadingElement","h6"],["HTMLHtmlElement","html"],["HTMLHRElement","hr"],["HTMLIFrameElement","iframe"],["HTMLImageElement","img"],["HTMLInputElement","input"],["HTMLIsIndexElement","index","HTMLElement"],["HTMLKeygenElement","keygen","HTMLBlockElement"],["HTMLLabelElement","label"],["HTMLLegendElement","legend"],["HTMLLIElement","li"],["HTMLLinkElement","link"],["HTMLElement","main"],["HTMLMapElement","map"],["HTMLMarqueeElement","marquee"],["HTMLMenuElement","menu"],["HTMLMetaElement","meta"],["HTMLMeterElement","meter","HTMLElement"],["HTMLModElement","del"],["HTMLModElement","ins"],["HTMLObjectElement","object"],["HTMLOListElement","ol"],["HTMLOptGroupElement","optgroup"],["HTMLOptionElement","option"],["HTMLOutputElement","output"],["HTMLParagraphElement","p"],["HTMLParamElement","param"],["HTMLPictureElement","picture","HTMLElement"],["HTMLPreElement","pre"],["HTMLProgressElement","progress","HTMLElement"],["HTMLQuoteElement","q","HTMLBlockquoteElement"],["HTMLQuoteElement","blockquote","HTMLBlockElement","HTMLBlockquoteElement"],["HTMLScriptElement","script"],["HTMLSelectElement","select"],["HTMLShadowElement","shadow","HTMLElement"],["HTMLSourceElement","source"],["HTMLSpanElement","span","HTMLElement"],["HTMLStyleElement","style"],["HTMLTableElement","table"],["HTMLTableCaptionElement","caption"],["HTMLTableCellElement","td","HTMLTableDataCellElement"],["HTMLTableCellElement","th","HTMLTableHeaderCellElement"],["HTMLTableRowElement","tr"],["HTMLTableColElement","col"],["HTMLTableColElement","colgroup"],["HTMLTableSectionElement","tbody"],["HTMLTableSectionElement","thead"],["HTMLTableSectionElement","tfoot"],["HTMLTemplateElement","template","HTMLElement"],["HTMLTextAreaElement","textarea"],["HTMLTimeElement","time","HTMLElement"],["HTMLTitleElement","title"],["HTMLTrackElement","track","HTMLElement"],["HTMLUListElement","ul"],["HTMLVideoElement","video"],["HTMLElement","abbr"],["HTMLElement","address"],["HTMLElement","aside"],["HTMLElement","b"],["HTMLElement","bdi"],["HTMLElement","bdo"],["HTMLElement","code"],["HTMLElement","dd"],["HTMLDetailsElement","details","HTMLElement"],["HTMLElement","dfn"],["HTMLElement","dt"],["HTMLElement","em"],["HTMLElement","figcaption"],["HTMLElement","figure"],["HTMLElement","footer"],["HTMLElement","header"],["HTMLElement","hgroup"],["HTMLElement","i"],["HTMLElement","kbd"],["HTMLElement","mark"],["HTMLElement","nav"],["HTMLElement","rp"],["HTMLElement","rt"],["HTMLElement","ruby"],["HTMLElement","s"],["HTMLElement","samp"],["HTMLSlotElement","slot","HTMLElement"],["HTMLElement","small"],["HTMLElement","strong"],["HTMLElement","summary"],["HTMLElement","u"],["HTMLElement","var"],["HTMLElement","wbr"]],vF=function(e,t,n){if("undefined"!=typeof document&&"function"==typeof document.createElement){var r=document.createElement(e).constructor;if(r!==n)return r}},yF=fF,TF=function(){var e=globalThis.HTMLUnknownElement;return{all:globalThis.HTMLElement,elements:gF(bF,(function(t){for(var n,r,i=t[0],o=t[1],a=2;a<arguments.length&&!r;a+=1)r=(n=t[a])&&globalThis[n];var s=globalThis[i];return{constructor:vF(o,0,e),constructorName:r?n:i,expectedConstructor:r||s,tag:o}})),unknown:e}};Object.defineProperty($L,"__esModule",{value:!0});var _F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EF=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};$L.buildPredicate=iU,$L.reduceTreeBySelector=cU,$L.reduceTreesBySelector=function(e,t){var n=t.map((function(t){return cU(e,t)}));return JF((0,SF.default)(n,1))};var xF=XL,wF=PF(jB),SF=PF(Yx),AF=PF(ow),kF=PF(Xb),CF=PF((function(e){if(!e)return[];var t=TF();return e===t.unknown?[]:e===t.all?t.elements:yF(t.elements,(function(t){return t.constructor===e}))})),IF=PM,OF=$x,DF=PF(RM);function PF(e){return e&&e.__esModule?e:{default:e}}var NF=(0,xF.createParser)(),RF="childCombinator",MF="adjacentSiblingCombinator",LF="generalSiblingCombinator",BF="descendantCombinator",FF="selector",UF="typeSelector",jF="classSelector",HF="idSelector",GF="universalSelector",zF="attributePresenceSelector",VF="attributeValueSelector",YF="pseudoClassSelector",$F="pseudoElementSelector",XF="=",WF="~=",qF="|=",KF="^=",ZF="$=",QF="*=";function JF(e){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(new Set(e)))}function eU(e,t){return JF(t.reduce(e,[]))}function tU(e){try{return NF.parse(e)}catch(t){throw new Error("Failed to parse selector: "+String(e))}}function nU(e,t,n){if(null===e||"string"==typeof e)return!1;switch(t.type){case GF:return!0;case jF:return(0,IF.hasClassName)(e,t.name);case UF:return(0,OF.nodeHasType)(e,t.name);case HF:return(0,IF.nodeHasId)(e,t.name);case zF:case VF:return function(e,t){var n=t.operator,r=t.value,i=t.name,o=(0,OF.propsOfNode)(e),a=Object.getOwnPropertyDescriptor(o,i);if(a&&a.get)return!1;var s=o[i];if(void 0===s)return!1;if(t.type===zF)return(0,kF.default)(o,t.name);if(("string"!=typeof s||"string"!=typeof r)&&n!==XF)return!1;switch(n){case XF:return(0,AF.default)(s,r);case WF:return-1!==s.split(" ").indexOf(r);case qF:return s===r||s.startsWith(String(r)+"-");case KF:return""!==r&&s.slice(0,r.length)===r;case ZF:return""!==r&&s.slice(-r.length)===r;case QF:return""!==r&&-1!==s.indexOf(r);default:throw new Error('Enzyme::Selector: Unknown attribute selector operator "'+String(n)+'"')}}(e,t);case $F:case YF:return function(e,t,n){var r=t.name,i=t.parameters;if("not"===r)return i.every((function(t){return 0===cU(t,e).length}));if("empty"===r)return 0===(0,IF.treeFilter)(e,(function(t){return t!==e})).length;if("first-child"===r){var o=(0,IF.findParentNode)(n,e).rendered;return EF(o,1)[0]===e}if("last-child"===r){var a=(0,IF.findParentNode)(n,e).rendered;return a[a.length-1]===e}if("focus"===r){if("undefined"==typeof document)throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a globalThis `document`.');var s=(0,DF.default)();return document.activeElement&&s.nodeToHostNode(e)===document.activeElement}throw new TypeError('Enzyme::Selector does not support the "'+String(t.name)+'" pseudo-element or pseudo-class selectors.')}(e,t,n);default:throw new Error("Unknown token type: "+String(t.type))}}function rU(e,t){return function(n){return e.body.every((function(e){return nU(n,e,t)}))}}function iU(e){if("string"==typeof e){var t=tU(e);if(function(e){return e.some((function(e){return e.type!==FF}))}(t))throw new TypeError("This method does not support complex CSS selectors");return rU(t[0])}var n=(0,DF.default)();if(n.isValidElementType?n.isValidElementType(e):"function"==typeof e)return function(t){return n.matchesElementType(t,e)};if("object"===(void 0===e?"undefined":_F(e))){if(!Array.isArray(e)&&null!==e&&Object.keys(e).length>0){if((0,wF.default)(e).some((function(e){return void 0===e})))throw new TypeError("Enzyme::Props can’t have `undefined` values. Try using ‘findWhere()’ instead.");return function(t){return(0,IF.nodeMatchesObjectProps)(t,e)}}throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector")}throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)")}function oU(e,t,n){return e.reduce((function(e,r){var i=(0,IF.findParentNode)(n,r);if(!i)return e;var o=(0,IF.childrenOfNode)(i),a=o.indexOf(r),s=o[a+1];return s?(t(s)&&e.push(s),e):e}),[])}function aU(e,t,n){return eU((function(e,r){var i=(0,IF.findParentNode)(n,r);if(!i)return e;var o=(0,IF.childrenOfNode)(i),a=o.indexOf(r),s=o.slice(a+1);return e.concat(s.filter(t))}),e)}function sU(e,t){return eU((function(e,n){return e.concat((0,IF.childrenOfNode)(n).filter(t))}),e)}function lU(e,t){return eU((function(e,n){return e.concat((0,IF.treeFilter)(n,t))}),(0,SF.default)(e.map(IF.childrenOfNode)))}function cU(e,t){if("string"!=typeof e){var n=(0,CF.default)(e);if(n.length>0)return(0,SF.default)(n.map((function(e){return cU(e.tag,t)})))}if("function"==typeof e||"object"===(void 0===e?"undefined":_F(e)))return(0,IF.treeFilter)(t,iU(e));var r=[];if("string"!=typeof e)throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");for(var i=tU(e),o=0;o<i.length;){var a=i[o];if(a.type===FF){var s=rU(a,t);r=r.concat((0,IF.treeFilter)(t,s))}else{var l=a.type,c=rU(i[o+=1],t);switch(l){case MF:r=oU(r,c,t);break;case LF:r=aU(r,c,t);break;case RF:r=sU(r,c);break;case BF:r=lU(r,c);break;default:throw new Error("Unknown combinator selector: "+String(l))}}o+=1}return r}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=h(ay),i=h(Yx),o=h(Xb),a=$x,s=h(RM),l=tL,c=PM,u=$L;function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=(0,a.sym)("__node__"),m=(0,a.sym)("__nodes__"),g=(0,a.sym)("__renderer__"),b=(0,a.sym)("__unrendered__"),v=(0,a.sym)("__root__"),y=(0,a.sym)("__options__"),T=(0,a.sym)("__rootNodes__"),_=(0,a.sym)("__wrappingComponent__"),E=(0,a.sym)("__linkedRoots__"),x=(0,a.sym)("__updatedBy__");function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.treeFilter;return e.flatMap((function(e){return n(e.getNodeInternal(),t)}))}function S(e,t){return e.wrap(e.getNodesInternal().filter(t).filter(Boolean))}function A(e){if(1!==e[v].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return e[v]!==e?e[T][0]:e[v][f]}function k(e,t){return(0,c.parentsOfNode)(t,A(e))}function C(e,t){t?Array.isArray(t)?((0,a.privateSet)(e,f,t[0]),(0,a.privateSet)(e,m,t)):((0,a.privateSet)(e,f,t),(0,a.privateSet)(e,m,[t])):((0,a.privateSet)(e,f,null),(0,a.privateSet)(e,m,[])),(0,a.privateSet)(e,"length",e[m].length)}var I=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(p(this,e),!globalThis.window&&!globalThis.document)throw new Error("It looks like you called `mount()` without a globalThis document being loaded.");var o=(0,a.makeOptions)(i);if(n)(0,a.privateSet)(this,g,n[g]),(0,a.privateSet)(this,v,n),C(this,t),(0,a.privateSet)(this,T,n[m]),(0,a.privateSet)(this,y,n[y]),(0,a.privateSet)(this,E,[]);else{var l=(0,s.default)(o);if(!l.isValidElement(t))throw new TypeError("ReactWrapper can only wrap valid elements");var c=l.createRenderer((0,r.default)({mode:"mount"},o));if((0,a.privateSet)(this,g,c),c.render(t,o.context),(0,a.privateSet)(this,v,this),C(this,this[g].getNode()),(0,a.privateSet)(this,y,o),(0,a.privateSet)(this,E,[]),(0,a.isCustomComponent)(o.wrappingComponent,l)){if("function"!=typeof this[g].getWrappingComponentRenderer)throw new TypeError("your adapter does not support `wrappingComponent`. Try upgrading it!");(0,a.privateSet)(this,_,new O(this,this[g].getWrappingComponentRenderer())),this[E].push(this[_])}}(0,a.privateSet)(this,b,t),(0,a.privateSet)(this,x,null)}return n(e,[{key:"root",value:function(){return this[v]}},{key:"getNodeInternal",value:function(){if(1!==this.length)throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");return this[m][0]}},{key:"getNodesInternal",value:function(){return this[m]}},{key:"getElement",value:function(){var e=this;return this.single("getElement",(function(){return(0,s.default)(e[y]).nodeToElement(e[f])}))}},{key:"getElements",value:function(){var e=this;return this[m].map((function(t){return(0,s.default)(e[y]).nodeToElement(t)}))}},{key:"getNode",value:function(){throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead")}},{key:"getNodes",value:function(){throw new Error("ReactWrapper::getNodes() is no longer supported.")}},{key:"getDOMNode",value:function(){var e=(0,s.default)(this[y]);return this.single("getDOMNode",(function(t){return e.nodeToHostNode(t,!0)}))}},{key:"ref",value:function(e){if(this[v]!==this)throw new Error("ReactWrapper::ref(refname) can only be called on the root");return this.instance().refs[e]}},{key:"instance",value:function(){var e=this;return this.single("instance",(function(){return e[f].instance}))}},{key:"getWrappingComponent",value:function(){if(this[v]!==this)throw new Error("ReactWrapper::getWrappingComponent() can only be called on the root");if(!this[y].wrappingComponent)throw new Error("ReactWrapper::getWrappingComponent() can only be called on a wrapper that was originally passed a `wrappingComponent` option");return this[_]}},{key:"update",value:function(){var e=this,t=this[v];return this!==t?t.update():(C(this,this[g].getNode()),this[E].forEach((function(t){if(t!==e[x]){t[x]=e;try{t.update()}finally{t[x]=null}}})),this)}},{key:"unmount",value:function(){var e=this;if(this[v]!==this)throw new Error("ReactWrapper::unmount() can only be called on the root");return this.single("unmount",(function(){e[g].unmount(),e.update()})),this}},{key:"mount",value:function(){var e=this;if(this[v]!==this)throw new Error("ReactWrapper::mount() can only be called on the root");return this[g].render(this[b],this[y].context,(function(){return e.update()})),this}},{key:"setProps",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[v]!==this)throw new Error("ReactWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");var r=(0,s.default)(this[y]);return this[b]=(0,a.cloneElement)(r,this[b],e),this[g].render(this[b],null,(function(){t.update(),n&&n()})),this}},{key:"setState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(null===this.instance()||"class"!==this.getNodeInternal().nodeType)throw new Error("ReactWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.instance().setState(e,(function(){if(t.update(),n){var e=(0,s.default)(t[y]),r=t.instance();e.invokeSetStateCallback?e.invokeSetStateCallback(r,n):n.call(r)}})),this}},{key:"setContext",value:function(e){var t=this;if(this[v]!==this)throw new Error("ReactWrapper::setContext() can only be called on the root");if(!this[y].context)throw new Error("ReactWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this[g].render(this[b],e,(function(){return t.update()})),this}},{key:"contains",value:function(e){var t=(0,s.default)(this[y]);return w(this,Array.isArray(e)?function(n){return(0,a.containsChildrenSubArray)(a.nodeEqual,n,e.map((function(e){return t.elementToNode(e)})))}:function(n){return(0,a.nodeEqual)(t.elementToNode(e),n)}).length>0}},{key:"containsMatchingElement",value:function(e){var t=(0,s.default)(this[y]).elementToNode(e);return w(this,(function(e){return(0,a.nodeMatches)(t,e,(function(e,t){return e<=t}))})).length>0}},{key:"containsAllMatchingElements",value:function(e){var t=this;if(!Array.isArray(e))throw new TypeError("nodes should be an Array");return e.every((function(e){return t.containsMatchingElement(e)}))}},{key:"containsAnyMatchingElements",value:function(e){var t=this;return Array.isArray(e)&&e.some((function(e){return t.containsMatchingElement(e)}))}},{key:"equals",value:function(e){var t=this;return this.single("equals",(function(){return(0,a.nodeEqual)(t.getNodeInternal(),e)}))}},{key:"matchesElement",value:function(e){var t=this;return this.single("matchesElement",(function(){var n=(0,s.default)(t[y]).elementToNode(e);return(0,a.nodeMatches)(n,t.getNodeInternal(),(function(e,t){return e<=t}))}))}},{key:"find",value:function(e){return this.wrap((0,u.reduceTreesBySelector)(e,this.getNodesInternal()))}},{key:"is",value:function(e){var t=(0,u.buildPredicate)(e);return this.single("is",(function(e){return t(e)}))}},{key:"isEmptyRender",value:function(){var e=this.getNodeInternal();return(0,a.renderedDive)(e)}},{key:"filterWhere",value:function(e){var t=this;return S(this,(function(n){return e(t.wrap(n))}))}},{key:"filter",value:function(e){return S(this,(0,u.buildPredicate)(e))}},{key:"not",value:function(e){var t=(0,u.buildPredicate)(e);return S(this,(function(e){return!t(e)}))}},{key:"text",value:function(){var e=(0,s.default)(this[y]);return this.single("text",(function(t){return(0,c.getTextFromHostNodes)(t,e)}))}},{key:"html",value:function(){var e=(0,s.default)(this[y]);return this.single("html",(function(t){return(0,c.getHTMLFromHostNodes)(t,e)}))}},{key:"render",value:function(){var e=this.html();return(0,a.loadCheerioRoot)(e)}},{key:"simulate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.single("simulate",(function(r){return t[g].simulateEvent(r,e,n),t[v].update(),t}))}},{key:"simulateError",value:function(e){var t=this;if(this[v]===this)throw new Error("ReactWrapper::simulateError() may not be called on the root");return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new Error("ReactWrapper::simulateError() can only be called on custom components");var r=t[g];if("function"!=typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=A(t),o=[n].concat(k(t,n));return r.simulateError(o,i,e),t[v].update(),t}))}},{key:"props",value:function(){return this.single("props",c.propsOfNode)}},{key:"state",value:function(e){var t=this,n=this[v]===this?this[g].getNode():this.getNodeInternal();if(null===this.instance()||"class"!==n.nodeType)throw new Error("ReactWrapper::state() can only be called on class components");var r=this.single("state",(function(){return t.instance().state}));if(void 0!==e){if(null==r)throw new TypeError('ReactWrapper::state("'+String(e)+'") requires that `state` not be `null` or `undefined`');return r[e]}return r}},{key:"context",value:function(e){var t=this;if(this[v]!==this)throw new Error("ReactWrapper::context() can only be called on the root");var n=this.single("context",(function(){return t.instance()}));if(null===n)throw new Error("ReactWrapper::context() can only be called on components with instances");var r=n.context;return void 0!==e?r[e]:r}},{key:"children",value:function(e){var t=this.flatMap((function(e){return(0,c.childrenOfNode)(e.getNodeInternal())}));return e?t.filter(e):t}},{key:"childAt",value:function(e){var t=this;return this.single("childAt",(function(){return t.children().at(e)}))}},{key:"parents",value:function(e){var t=this;return this.single("parents",(function(n){var r=t.wrap(k(t,n));return e?r.filter(e):r}))}},{key:"parent",value:function(){return this.flatMap((function(e){return[e.parents().get(0)]}))}},{key:"closest",value:function(e){if(this.is(e))return this;var t=this.parents().filter(e);return t.length>0?t.first():this.findWhere((function(){return!1}))}},{key:"prop",value:function(e){return this.props()[e]}},{key:"invoke",value:function(e){var t=this;return this.single("invoke",(function(){var n=t.prop(e);if("function"!=typeof n)throw new TypeError("ReactWrapper::invoke() requires the name of a prop whose value is a function");return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var o="function"==typeof t[g].wrapInvoke?t[g].wrapInvoke((function(){return n.apply(void 0,r)})):n.apply(void 0,r);return t[v].update(),o}}))}},{key:"renderProp",value:function(e){var n=this,r=(0,s.default)(this[y]);if("function"!=typeof r.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(i){if("host"===i.nodeType)throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");if("string"!=typeof e)throw new TypeError("ReactWrapper::renderProp(): `propName` must be a string");var a=n.props();if(!(0,o.default)(a,e))throw new Error("ReactWrapper::renderProp(): no prop called “"+String(e)+"“ found");var s=a[e];if("function"!=typeof s)throw new TypeError("ReactWrapper::renderProp(): expected prop “"+String(e)+"“ to contain a function, but it holds “"+(void 0===s?"undefined":t(s))+"“");return function(){var e=s.apply(void 0,arguments),t=r.wrap(e);return n.wrap(t,null,n[y])}}))}},{key:"key",value:function(){return this.single("key",(function(e){return void 0===e.key?null:e.key}))}},{key:"type",value:function(){return this.single("type",(function(e){return(0,a.typeOfNode)(e)}))}},{key:"name",value:function(){var e=(0,s.default)(this[y]);return this.single("name",(function(t){return e.displayNameOfNode?e.displayNameOfNode(t):(0,a.displayNameOfNode)(t)}))}},{key:"hasClass",value:function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(t){return(0,c.hasClassName)(t,e)}))}},{key:"forEach",value:function(e){var t=this;return this.getNodesInternal().forEach((function(n,r){return e.call(t,t.wrap(n),r)})),this}},{key:"map",value:function(e){var t=this;return this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"reduce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"reduceRight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"slice",value:function(e,t){return this.wrap(this.getNodesInternal().slice(e,t))}},{key:"some",value:function(e){if(this[v]===this)throw new Error("ReactWrapper::some() can not be called on the root");var t=(0,u.buildPredicate)(e);return this.getNodesInternal().some(t)}},{key:"someWhere",value:function(e){var t=this;return this.getNodesInternal().some((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"every",value:function(e){var t=(0,u.buildPredicate)(e);return this.getNodesInternal().every(t)}},{key:"everyWhere",value:function(e){var t=this;return this.getNodesInternal().every((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"flatMap",value:function(e){var t=this,n=this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)})),r=(0,i.default)(n,1);return this.wrap(r.filter(Boolean))}},{key:"findWhere",value:function(e){var t=this;return w(this,(function(n){var r=t.wrap(n);return r.length>0&&e(r)}))}},{key:"get",value:function(e){return this.getElements()[e]}},{key:"at",value:function(e){var t=this.getNodesInternal();return e<t.length?this.wrap(t[e]):this.wrap([])}},{key:"first",value:function(){return this.at(0)}},{key:"last",value:function(){return this.at(this.length-1)}},{key:"isEmpty",value:function(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}},{key:"exists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(e).exists():this.length>0}},{key:"single",value:function(e,t){var n="string"==typeof e?e:"unknown",r="function"==typeof t?t:e;if(1!==this.length)throw new Error("Method “"+n+"” is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}},{key:"wrap",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[v];if(t instanceof e)return t;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(e,[null].concat([t,n],i)))}},{key:"debug",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.debugNodes)(this.getNodesInternal(),e)}},{key:"tap",value:function(e){return e(this),this}},{key:"detach",value:function(){if(this[v]!==this)throw new Error("ReactWrapper::detach() can only be called on the root");if(!this[y].attachTo)throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");this[g].unmount()}},{key:"hostNodes",value:function(){return this.filterWhere((function(e){return"string"==typeof e.type()}))}}]),e}(),O=function(e){function t(e,n){p(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n.getNode(),e));return(0,a.privateSet)(r,v,r),(0,a.privateSet)(r,g,n),r[E].push(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"getWrappingComponent",value:function(){throw new TypeError("ReactWrapper::getWrappingComponent() can only be called on the root")}}]),t}(I);function D(e,t){Object.defineProperty(I.prototype,e,{get:function(){throw new Error("\n        Attempted to access ReactWrapper::"+String(e)+", which was previously a private property on\n        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.\n        "+String(t)+"\n      ")},enumerable:!1,configurable:!1})}a.ITERATOR_SYMBOL&&Object.defineProperty(I.prototype,a.ITERATOR_SYMBOL,{configurable:!0,value:function(){var e,t=this[m][a.ITERATOR_SYMBOL](),n=(0,s.default)(this[y]);return d(e={},a.ITERATOR_SYMBOL,(function(){return this})),d(e,"next",(function(){var e=t.next();return e.done?{done:!0}:{done:!1,value:n.nodeToElement(e.value)}})),e}}),D("node","Consider using the getElement() method instead."),D("nodes","Consider using the getElements() method instead."),D("renderer",""),D("options",""),D("complexSelector",""),e.default=I}(Ib);var uU={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=p(ay),o=p(Yx),a=p(Xb),s=p(Xx.exports),l=$x,c=p(RM),u=tL,h=PM,d=$L;function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,l.sym)("__node__"),v=(0,l.sym)("__nodes__"),y=(0,l.sym)("__renderer__"),T=(0,l.sym)("__unrendered__"),_=(0,l.sym)("__root__"),E=(0,l.sym)("__options__"),x=(0,l.sym)("__setState__"),w=(0,l.sym)("__rootNodes__"),S=(0,l.sym)("__childContext__"),A=(0,l.sym)("__wrappingComponent__"),k=(0,l.sym)("__primaryWrapper__"),C=(0,l.sym)("__rootFinder__"),I=(0,l.sym)("__providerValues__");function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.treeFilter;return e.flatMap((function(e){return n(e.getNodeInternal(),t)}))}function D(e,t){return e.wrap(e.getNodesInternal().filter(t).filter(Boolean))}function P(e){var t=e.options,n=t.lifecycles,r=void 0===n?{}:n,o=t.enableComponentDidUpdateOnSetState,a=t.supportPrevContextArgumentOfComponentDidUpdate,s=void 0!==o,l=void 0!==a,c=s||l?(0,i.default)({},s&&{onSetState:!!o},l&&{prevContext:!!a}):null,u=r.getDerivedStateFromProps,h=!!u&&{hasShouldComponentUpdateBug:!!u.hasShouldComponentUpdateBug};return(0,i.default)({},r,{setState:(0,i.default)({},r.setState),getChildContext:(0,i.default)({calledByRenderer:!0},r.getChildContext)},c&&{componentDidUpdate:c},{getDerivedStateFromProps:h})}function N(e){return"host"===e.nodeType?e:e.rendered}function R(e){if(1!==e[_].length)throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");return e[_]!==e?e[w][0]:e[_][b]}function M(e,t){return(0,h.parentsOfNode)(t,R(e))}function L(e,t){Array.isArray(t)?((0,l.privateSet)(e,b,t[0]),(0,l.privateSet)(e,v,t)):((0,l.privateSet)(e,b,t),(0,l.privateSet)(e,v,[t])),(0,l.privateSet)(e,"length",e[v].length)}function B(e,t,n,r){return!(0,s.default)(e,t)||!(0,s.default)(n,r)}function F(e){return e&&e.isPureReactComponent}function U(e,t,n,i,o){var a=t[y];if("parent"===e.options.legacyContextMode)if(o)(0,l.privateSet)(t,S,o.getLastReturnValue()),o.restore();else if("function"==typeof n.getChildContext){var s=function(e,t,n){var i=e.instance,o=e.type,a=(0,l.displayNameOfNode)(e);if("object"!==r(o.childContextTypes))return console.warn(String(a)+".getChildContext(): childContextTypes must be defined in order to use getChildContext()."),{};var s=i.getChildContext();return Object.keys(s).forEach((function(e){if(!(e in o.childContextTypes))throw new Error(String(a)+'.getChildContext(): key "'+String(e)+'" is not defined in childContextTypes.')})),"function"==typeof n.checkPropTypes&&n.checkPropTypes(o.childContextTypes,s,"child context",t),s}(i,[t[b]].concat(M(t,t[b])),a);(0,l.privateSet)(t,S,s)}else(0,l.privateSet)(t,S,null)}function j(e,t){if("function"==typeof e.type.getDerivedStateFromProps)var n=e.instance,r=(0,l.spyMethod)(n,"shouldComponentUpdate",(function(e){return function(){n.state=t;for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];var s=e.apply(n,o),l=o[1];return n.state=l,i(),s}})),i=r.restore}function H(e,t,n){var r=e[b],i=r&&n.nodeToElement(r);if(e.type()===t)return e.dive();if(i&&(0,l.isCustomComponentElement)(i,n))return H(e.dive(),t,n);for(var o=e.children(),a=0;a<o.length;a+=1){var s=H(o.at(a),t,n);if(void 0!==s)return s}}function G(e,t){var n=H(e,e[C],t);if(!n)throw new Error("`wrappingComponent` must render its children!");return{legacyContext:n[E].context,providerValues:n[I]}}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.default)({},e[E],t,{context:t.context||(0,i.default)({},e[E].context,e[_][S])});return(0,l.privateSet)(n,I,e[_][I]),n}var V=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};m(this,e),function(e){var t=e.lifecycleExperimental,n=e.disableLifecycleMethods,r=e.enableComponentDidUpdateOnSetState,i=e.supportPrevContextArgumentOfComponentDidUpdate,o=e.lifecycles;if(void 0!==t&&"boolean"!=typeof t)throw new Error("lifecycleExperimental must be either true or false if provided");if(void 0!==n&&"boolean"!=typeof n)throw new Error("disableLifecycleMethods must be either true or false if provided");if(null!=t&&null!=n&&t===n)throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");if(void 0!==r&&o.componentDidUpdate&&o.componentDidUpdate.onSetState!==r)throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");if(void 0!==i&&o.componentDidUpdate&&o.componentDidUpdate.prevContext!==i)throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility")}(o);var a=function(e,t,n,r){var o=(0,l.makeOptions)(n),a=(0,c.default)(n);if((0,l.privateSet)(o,I,n[I]),t||!(0,l.isCustomComponent)(o.wrappingComponent,a))return o;if("function"!=typeof a.wrapWithWrappingComponent)throw new TypeError("your adapter does not support `wrappingComponent`. Try upgrading it!");var s=a.wrapWithWrappingComponent(e,o),u=s.node,h=s.RootFinder,d=new $(u,r,h),p=G(d,a),f=p.legacyContext,m=p.providerValues;return(0,l.privateSet)(r,A,d),(0,i.default)({},o,g({context:(0,i.default)({},o.context,f)},I,m))}(t,n,o,this),s=(0,c.default)(a),u=P(s);if(n)(0,l.privateSet)(this,_,n),(0,l.privateSet)(this,T,null),(0,l.privateSet)(this,y,n[y]),L(this,t),(0,l.privateSet)(this,E,n[E]),(0,l.privateSet)(this,w,n[v]),(0,l.privateSet)(this,I,null);else{if(!s.isValidElement(t))throw new TypeError("ShallowWrapper can only wrap valid elements");var h=u.getChildContext.calledByRenderer?function(e,t){return(0,l.isCustomComponentElement)(e,t)&&e.type.prototype&&"function"==typeof e.type.prototype.getChildContext?(0,l.spyMethod)(e.type.prototype,"getChildContext"):null}(t,s):null;(0,l.privateSet)(this,_,this),(0,l.privateSet)(this,T,t);var d=s.createRenderer((0,i.default)({mode:"shallow"},a));(0,l.privateSet)(this,y,d);var p=new Map(a[I]||[]);this[y].render(t,a.context,{providerValues:p});var b=this[y].getNode();L(this,N(b)),(0,l.privateSet)(this,E,a),(0,l.privateSet)(this,I,p);var S=b.instance;S&&!a.disableLifecycleMethods&&(u.componentDidUpdate.onSetState&&!S[x]&&((0,l.privateSet)(S,x,S.setState),S.setState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return r.setState.apply(r,f(null==t?[e]:[e,t]))}),"function"==typeof S.componentDidMount&&this[y].batchedUpdates((function(){S.componentDidMount()})),U(s,this,S,b,h))}}return n(e,[{key:"root",value:function(){return this[_]}},{key:"getNodeInternal",value:function(){if(1!==this.length)throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");return this[_]===this&&this.update(),this[b]}},{key:"getNodesInternal",value:function(){return this[_]===this&&1===this.length&&this.update(),this[v]}},{key:"getElement",value:function(){var e=this;return this.single("getElement",(function(t){return(0,c.default)(e[E]).nodeToElement(t)}))}},{key:"getElements",value:function(){var e=this;return this.getNodesInternal().map((function(t){return(0,c.default)(e[E]).nodeToElement(t)}))}},{key:"getNode",value:function(){throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead")}},{key:"getNodes",value:function(){throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead")}},{key:"instance",value:function(){if(this[_]!==this)throw new Error("ShallowWrapper::instance() can only be called on the root");return this[y].getNode().instance}},{key:"getWrappingComponent",value:function(){if(this[_]!==this)throw new Error("ShallowWrapper::getWrappingComponent() can only be called on the root");if(!this[E].wrappingComponent)throw new Error("ShallowWrapper::getWrappingComponent() can only be called on a wrapper that was originally passed a `wrappingComponent` option");return this[A]}},{key:"update",value:function(){if(this[_]!==this)throw new Error("ShallowWrapper::update() can only be called on the root");if(1!==this.length)throw new Error("ShallowWrapper::update() can only be called when wrapping one node");return L(this,N(this[y].getNode())),this}},{key:"unmount",value:function(){return this[y].unmount(),this[_][A]&&this[_][A].unmount(),this}},{key:"rerender",value:function(e,t){var n=this,r=(0,c.default)(this[E]);return this.single("rerender",(function(){(0,l.withSetStateAllowed)((function(){var o=n[y].getNode(),a=o.instance||{},c=o.type||{},u=a.state,h=a.props||n[T].props,d=a.context||n[E].context,p=t||d;t&&(n[E]=(0,i.default)({},n[E],{context:p})),n[y].batchedUpdates((function(){var t=P(r),f=!0,m=void 0,g=void 0;if(!n[E].disableLifecycleMethods&&a){if("function"==typeof a.shouldComponentUpdate){var b=t.getDerivedStateFromProps;b&&b.hasShouldComponentUpdateBug&&j(o,u),m=(0,l.spyMethod)(a,"shouldComponentUpdate")}t.getChildContext.calledByRenderer&&"function"==typeof a.getChildContext&&(g=(0,l.spyMethod)(a,"getChildContext"))}if(!m&&F(a)&&(f=B(h,e,u,a.state)),e&&(n[T]=(0,l.cloneElement)(r,n[T],e)),n[y].render(n[T],p,{providerValues:n[I]}),m&&(f=m.getLastReturnValue(),m.restore()),f&&!n[E].disableLifecycleMethods&&a)if(U(r,n,a,o,g),t.getSnapshotBeforeUpdate){var v=void 0;"function"==typeof a.getSnapshotBeforeUpdate&&(v=a.getSnapshotBeforeUpdate(h,u)),!t.componentDidUpdate||"function"!=typeof a.componentDidUpdate||u&&!(0,s.default)(u,n.instance().state)&&"function"!=typeof c.getDerivedStateFromProps||a.componentDidUpdate(h,u,v)}else t.componentDidUpdate&&"function"==typeof a.componentDidUpdate&&(t.componentDidUpdate.prevContext?a.componentDidUpdate(h,u,d):u&&!(0,s.default)(n.instance().state,u)||a.componentDidUpdate(h,u));else(0,s.default)(e,a.props)||(a.props=(Object.freeze||Object)((0,i.default)({},a.props,e)));n.update()}))}))})),this}},{key:"setProps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[_]!==this)throw new Error("ShallowWrapper::setProps() can only be called on the root");if(arguments.length>1&&"function"!=typeof t)throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");return this.rerender(e),t&&t(),this}},{key:"setState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(this[_]!==this)throw new Error("ShallowWrapper::setState() can only be called on the root");if(null===this.instance()||"class"!==this[y].getNode().nodeType)throw new Error("ShallowWrapper::setState() can only be called on class components");if(arguments.length>1&&"function"!=typeof n)throw new TypeError("ReactWrapper::setState() expects a function as its second argument");return this.single("setState",(function(){(0,l.withSetStateAllowed)((function(){var r=(0,c.default)(t[E]),o=P(r),a=t[y].getNode(),s=a.instance,u=s.props,h=s.state,d=s.context,p="function"==typeof e?e.call(s,h,u):e,f=!o.setState.skipsComponentDidUpdateOnNullish||null!=p,m=void 0,g=void 0,b=!0;if(!t[E].disableLifecycleMethods&&s){if(o.componentDidUpdate&&o.componentDidUpdate.onSetState&&"function"==typeof s.shouldComponentUpdate){var v=o.getDerivedStateFromProps;v&&v.hasShouldComponentUpdateBug&&j(a,e),m=(0,l.spyMethod)(s,"shouldComponentUpdate")}o.getChildContext.calledByRenderer&&"function"==typeof s.getChildContext&&(g=(0,l.spyMethod)(s,"getChildContext"))}if(!m&&F(s)&&(b=B(u,s.props,h,(0,i.default)({},h,p))),s[x]?s[x](p):s.setState(p),m&&(b=m.getLastReturnValue(),m.restore()),f&&b&&!t[E].disableLifecycleMethods&&(U(r,t,s,a,g),o.componentDidUpdate&&o.componentDidUpdate.onSetState))if(o.getSnapshotBeforeUpdate&&"function"==typeof s.getSnapshotBeforeUpdate){var T=s.getSnapshotBeforeUpdate(u,h);"function"==typeof s.componentDidUpdate&&s.componentDidUpdate(u,h,T)}else"function"==typeof s.componentDidUpdate&&(o.componentDidUpdate.prevContext?s.componentDidUpdate(u,h,d):s.componentDidUpdate(u,h));t.update(),n&&(r.invokeSetStateCallback?r.invokeSetStateCallback(s,n):n.call(s))}))})),this}},{key:"setContext",value:function(e){if(this[_]!==this)throw new Error("ShallowWrapper::setContext() can only be called on the root");if(!this[E].context)throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");return this.rerender(null,e)}},{key:"contains",value:function(e){var t=(0,c.default)(this[E]);if(!(0,l.isReactElementAlike)(e,t))throw new Error("ShallowWrapper::contains() can only be called with a ReactElement (or an array of them), a string, or a number as an argument.");return O(this,Array.isArray(e)?function(n){return(0,l.containsChildrenSubArray)(l.nodeEqual,n,e.map((function(e){return t.elementToNode(e)})))}:function(n){return(0,l.nodeEqual)(t.elementToNode(e),n)}).length>0}},{key:"containsMatchingElement",value:function(e){var t=(0,c.default)(this[E]).elementToNode(e);return O(this,(function(e){return(0,l.nodeMatches)(t,e,(function(e,t){return e<=t}))})).length>0}},{key:"containsAllMatchingElements",value:function(e){var t=this;if(!Array.isArray(e))throw new TypeError("nodes should be an Array");return e.every((function(e){return t.containsMatchingElement(e)}))}},{key:"containsAnyMatchingElements",value:function(e){var t=this;return Array.isArray(e)&&e.some((function(e){return t.containsMatchingElement(e)}))}},{key:"equals",value:function(e){var t=this;return this.single("equals",(function(){return(0,l.nodeEqual)(t.getNodeInternal(),e)}))}},{key:"matchesElement",value:function(e){var t=this;return this.single("matchesElement",(function(){var n=(0,c.default)(t[E]).elementToNode(e);return(0,l.nodeMatches)(n,t.getNodeInternal(),(function(e,t){return e<=t}))}))}},{key:"find",value:function(e){return this.wrap((0,d.reduceTreesBySelector)(e,this.getNodesInternal()))}},{key:"is",value:function(e){var t=(0,d.buildPredicate)(e);return this.single("is",(function(e){return t(e)}))}},{key:"isEmptyRender",value:function(){return this.getNodesInternal().every((function(e){return(0,l.isEmptyValue)(e)}))}},{key:"filterWhere",value:function(e){var t=this;return D(this,(function(n){return e(t.wrap(n))}))}},{key:"filter",value:function(e){return D(this,(0,d.buildPredicate)(e))}},{key:"not",value:function(e){var t=(0,d.buildPredicate)(e);return D(this,(function(e){return!t(e)}))}},{key:"text",value:function(){return this.single("text",h.getTextFromNode)}},{key:"html",value:function(){var e=this;return this.single("html",(function(t){if(null===e.type())return null;var n=(0,c.default)(e[E]);return n.createRenderer((0,i.default)({},e[E],{mode:"string"})).render(n.nodeToElement(t))}))}},{key:"render",value:function(){var e=this.html();return(0,l.loadCheerioRoot)(e)}},{key:"simulate",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.single("simulate",(function(n){var i;return(i=t[y]).simulateEvent.apply(i,[n,e].concat(r)),t[_].update(),t}))}},{key:"simulateError",value:function(e){var t=this;return this.single("simulateError",(function(n){if("host"===n.nodeType)throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");var r=t[y];if("function"!=typeof r.simulateError)throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");var i=R(t),o=[n].concat(M(t,n));return r.simulateError(o,i,e),t}))}},{key:"props",value:function(){return this.single("props",h.propsOfNode)}},{key:"state",value:function(e){var t=this;if(this[_]!==this)throw new Error("ShallowWrapper::state() can only be called on the root");if(null===this.instance()||"class"!==this[y].getNode().nodeType)throw new Error("ShallowWrapper::state() can only be called on class components");var n=this.single("state",(function(){return t.instance().state}));if(void 0!==e){if(null==n)throw new TypeError('ShallowWrapper::state("'+String(e)+'") requires that `state` not be `null` or `undefined`');return n[e]}return n}},{key:"context",value:function(e){var t=this;if(this[_]!==this)throw new Error("ShallowWrapper::context() can only be called on the root");if(!this[E].context)throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");if(null===this.instance())throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");var n=this.single("context",(function(){return t.instance().context}));return e?n[e]:n}},{key:"children",value:function(e){var t=this.flatMap((function(e){return(0,h.childrenOfNode)(e.getNodeInternal())}));return e?t.filter(e):t}},{key:"childAt",value:function(e){var t=this;return this.single("childAt",(function(){return t.children().at(e)}))}},{key:"parents",value:function(e){var t=this;return this.single("parents",(function(n){var r=t.wrap(M(t,n));return e?r.filter(e):r}))}},{key:"parent",value:function(){return this.flatMap((function(e){return[e.parents().get(0)]}))}},{key:"closest",value:function(e){if(this.is(e))return this;var t=this.parents().filter(e);return t.length>0?t.first():this.findWhere((function(){return!1}))}},{key:"shallow",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.single("shallow",(function(n){var r=z(e,t);return e.wrap((0,c.default)(e[E]).nodeToElement(n),null,r)}))}},{key:"prop",value:function(e){return this.props()[e]}},{key:"invoke",value:function(e){var t=this;return this.single("invoke",(function(){var n=t.prop(e);if("function"!=typeof n)throw new TypeError("ShallowWrapper::invoke() requires the name of a prop whose value is a function");return function(){var e=n.apply(void 0,arguments);return t[_].update(),e}}))}},{key:"renderProp",value:function(e){var t=this,n=(0,c.default)(this[E]);if("function"!=typeof n.wrap)throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");return this.single("renderProp",(function(i){if("host"===i.nodeType)throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");if("string"!=typeof e)throw new TypeError("ShallowWrapper::renderProp(): `propName` must be a string");var o=t.props();if(!(0,a.default)(o,e))throw new Error("ShallowWrapper::renderProp(): no prop called “"+String(e)+"“ found");var s=o[e];if("function"!=typeof s)throw new TypeError("ShallowWrapper::renderProp(): expected prop “"+String(e)+"“ to contain a function, but it holds “"+(void 0===s?"undefined":r(s))+"“");return function(){var e=s.apply(void 0,arguments),r=n.wrap(e);return t.wrap(r,null,t[E])}}))}},{key:"key",value:function(){return this.single("key",(function(e){return void 0===e.key?null:e.key}))}},{key:"type",value:function(){return this.single("type",(function(e){return(0,l.typeOfNode)(e)}))}},{key:"name",value:function(){var e=(0,c.default)(this[E]);return this.single("name",(function(t){return e.displayNameOfNode?e.displayNameOfNode(t):(0,l.displayNameOfNode)(t)}))}},{key:"hasClass",value:function(e){return"string"==typeof e&&-1!==e.indexOf(".")&&console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."),this.single("hasClass",(function(t){return(0,h.hasClassName)(t,e)}))}},{key:"forEach",value:function(e){var t=this;return this.getNodesInternal().forEach((function(n,r){return e.call(t,t.wrap(n),r)})),this}},{key:"map",value:function(e){var t=this;return this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"reduce",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduce((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduce((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"reduceRight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return arguments.length>1?this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,n,t.wrap(r),i)}),n):this.getNodesInternal().reduceRight((function(n,r,i){return e.call(t,1===i?t.wrap(n):n,t.wrap(r),i)}))}},{key:"slice",value:function(e,t){return this.wrap(this.getNodesInternal().slice(e,t))}},{key:"some",value:function(e){if(this[_]===this)throw new Error("ShallowWrapper::some() can not be called on the root");var t=(0,d.buildPredicate)(e);return this.getNodesInternal().some(t)}},{key:"someWhere",value:function(e){var t=this;return this.getNodesInternal().some((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"every",value:function(e){var t=(0,d.buildPredicate)(e);return this.getNodesInternal().every(t)}},{key:"everyWhere",value:function(e){var t=this;return this.getNodesInternal().every((function(n,r){return e.call(t,t.wrap(n),r)}))}},{key:"flatMap",value:function(e){var t=this,n=this.getNodesInternal().map((function(n,r){return e.call(t,t.wrap(n),r)})),r=(0,o.default)(n,1);return this.wrap(r.filter(Boolean))}},{key:"findWhere",value:function(e){var t=this;return O(this,(function(n){var r=t.wrap(n);return r.length>0&&e(r)}))}},{key:"get",value:function(e){return this.getElements()[e]}},{key:"at",value:function(e){var t=this.getNodesInternal();return e<t.length?this.wrap(t[e]):this.wrap([])}},{key:"first",value:function(){return this.at(0)}},{key:"last",value:function(){return this.at(this.length-1)}},{key:"isEmpty",value:function(){return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."),!this.exists()}},{key:"exists",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return arguments.length>0?this.find(e).exists():this.length>0}},{key:"single",value:function(e,t){var n="string"==typeof e?e:"unknown",r="function"==typeof t?t:e;if(1!==this.length)throw new Error("Method “"+n+"” is meant to be run on 1 node. "+String(this.length)+" found instead.");return r.call(this,this.getNodeInternal())}},{key:"wrap",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[_];if(t instanceof e)return t;for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return new(Function.prototype.bind.apply(e,[null].concat([t,n],i)))}},{key:"debug",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,u.debugNodes)(this.getNodesInternal(),e)}},{key:"tap",value:function(e){return e(this),this}},{key:"dive",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,c.default)(this[E]),r="dive";return this.single(r,(function(r){if(r&&"host"===r.nodeType)throw new TypeError("ShallowWrapper::dive() can not be called on Host Components");var i=(0,c.default)(e[E]).nodeToElement(r);if(!(0,l.isCustomComponentElement)(i,n))throw new TypeError("ShallowWrapper::dive() can only be called on components");var o=z(e,t);return e.wrap(i,null,o)}))}},{key:"hostNodes",value:function(){return this.filterWhere((function(e){return"string"==typeof e.type()}))}}]),e}();function Y(e){var t=(0,c.default)(e[E]),n=e[k],r=n[y].getNode(),o=G(e,t),a=o.legacyContext,s=o.providerValues,l=n[I];if(n.setContext((0,i.default)({},e[k][E].context,a)),n[I]=new Map([].concat(f(l),f(s))),"function"==typeof t.isContextConsumer&&t.isContextConsumer(r.type)){var u=r.type,h=t.getProviderFromConsumer(u);s.get(h)!==l.get(h)&&n.rerender()}}var $=function(e){function r(e,t,n){m(this,r);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return(0,l.privateSet)(i,k,t),(0,l.privateSet)(i,C,n),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),n(r,[{key:"rerender",value:function(){for(var e,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=(e=t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"rerender",this)).call.apply(e,[this].concat(i));return Y(this),a}},{key:"setState",value:function(){for(var e,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=(e=t(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setState",this)).call.apply(e,[this].concat(i));return Y(this),a}},{key:"getWrappingComponent",value:function(){throw new Error("ShallowWrapper::getWrappingComponent() can only be called on the root")}}]),r}(V);function X(e,t){Object.defineProperty(V.prototype,e,{get:function(){throw new Error("\n        Attempted to access ShallowWrapper::"+String(e)+", which was previously a private property on\n        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.\n        "+String(t)+"\n      ")},enumerable:!1,configurable:!1})}l.ITERATOR_SYMBOL&&Object.defineProperty(V.prototype,l.ITERATOR_SYMBOL,{configurable:!0,value:function(){var e,t=this.getNodesInternal()[l.ITERATOR_SYMBOL](),n=(0,c.default)(this[E]);return g(e={},l.ITERATOR_SYMBOL,(function(){return this})),g(e,"next",(function(){var e=t.next();return e.done?{done:!0}:{done:!1,value:n.nodeToElement(e.value)}})),e}}),X("node","Consider using the getElement() method instead."),X("nodes","Consider using the getElements() method instead."),X("renderer",""),X("options",""),X("complexSelector",""),e.default=V}(uU);var hU={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,n){return new t.default(e,null,n)};var t=function(e){return e&&e.__esModule?e:{default:e}}(Ib)}(hU);var dU={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,n){return new t.default(e,null,n)};var t=function(e){return e&&e.__esModule?e:{default:e}}(uU)}(dU);var pU={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,n.default)(i).createRenderer((0,t.default)({mode:"string"},i)).render(e,i.context);return(0,r.loadCheerioRoot)(o)};var t=i(ay),n=i(RM),r=$x;function i(e){return e&&e.__esModule?e:{default:e}}}(pU);var fU=_U(Ib),mU=_U(uU),gU=_U(AM),bU=_U(hU),vU=_U(dU),yU=_U(pU),TU=_M;function _U(e){return e&&e.__esModule?e:{default:e}}var EU={render:yU.default,shallow:vU.default,mount:bU.default,ShallowWrapper:mU.default,ReactWrapper:fU.default,configure:TU.merge,EnzymeAdapter:gU.default};const xU=(e,t)=>{(e=>{for(const t of e.iterateOverTracks())if(Ab(e,t.viewId,t.trackId).activeTransitions>0)return!0;return!1})(e)?setTimeout((()=>{xU(e,t)}),100):t()},wU=e=>{cg>0?setTimeout((()=>wU(e)),100):e()},SU=(e,t)=>{(e=>{for(const t of e.iterateOverTracks()){let n=Sb(e,t.viewId,t.trackId);if(t.track.server||t.track.tilesetUid||t.track.data&&"divided"===t.track.data.type){if(!(t.track.data&&"divided"===t.track.data.type||t.track.server&&t.track.tilesetUid))throw Error('"server" and "tilesetUid" belong together');if(n.originalTrack&&(n=n.originalTrack),!n.tilesetInfo&&!n.chromInfo)return!0;if(n.fetching&&n.fetching.size)return!0}}return!1})(e)?setTimeout((()=>{SU(e,t)}),100):t()},AU=(e,t,n,r,i={})=>{const{style:o="width:800px; background-color: lightgreen;",bounded:a=!1,extendedDelay:s=!1}=i;t&&(t.unmount(),t.detach()),e&&globalThis.document.body.removeChild(e);const l=globalThis.document.createElement("div");globalThis.document.body.appendChild(l),l.setAttribute("style",o),l.setAttribute("id","simple-hg-component");const c=EU.mount(m.default.createElement(woe,{options:{bounded:a},viewConfig:n}),{attachTo:l});return c.update(),wU((()=>{if(s){const e=()=>setTimeout((()=>{r()}),1e3);SU(c.instance(),e)}else SU(c.instance(),r)})),[l,c]};var kU,CU,IU=0,OU=0,DU=0,PU=1e3,NU=0,RU=0,MU=0,LU="object"==typeof performance&&performance.now?performance:Date,BU="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function FU(){return RU||(BU(UU),RU=LU.now()+MU)}function UU(){RU=0}function jU(){this._call=this._time=this._next=null}function HU(e,t,n){var r=new jU;return r.restart(e,t,n),r}function GU(){RU=(NU=LU.now())+MU,IU=OU=0;try{!function(){FU(),++IU;for(var e,t=kU;t;)(e=RU-t._time)>=0&&t._call.call(void 0,e),t=t._next;--IU}()}finally{IU=0,function(){for(var e,t,n=kU,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:kU=t);CU=e,VU(r)}(),RU=0}}function zU(){var e=LU.now(),t=e-NU;t>PU&&(MU-=t,NU=e)}function VU(e){IU||(OU&&(OU=clearTimeout(OU)),e-RU>24?(e<1/0&&(OU=setTimeout(GU,e-LU.now()-MU)),DU&&(DU=clearInterval(DU))):(DU||(NU=LU.now(),DU=setInterval(zU,PU)),IU=1,BU(GU)))}function YU(e,t,n){var r=new jU;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}jU.prototype=HU.prototype={constructor:jU,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?FU():+n)+(null==t?0:+t),this._next||CU===this||(CU?CU._next=this:kU=this,CU=this),this._call=e,this._time=n,VU()},stop:function(){this._call&&(this._call=null,this._time=1/0,VU())}};var $U=Eh("start","end","cancel","interrupt"),XU=[],WU=0,qU=1,KU=2,ZU=3,QU=4,JU=5,ej=6;function tj(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=qU,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(o){var c,u,h,d;if(n.state!==qU)return l();for(c in i)if((d=i[c]).name===n.name){if(d.state===ZU)return YU(a);d.state===QU?(d.state=ej,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[c]):+c<t&&(d.state=ej,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[c])}if(YU((function(){n.state===ZU&&(n.state=QU,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=KU,n.on.call("start",e,e.__data__,n.index,n.group),n.state===KU){for(n.state=ZU,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=JU,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);n.state===JU&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=ej,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=HU(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:$U,tween:XU,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:WU})}function nj(e,t){var n=ij(e,t);if(n.state>WU)throw new Error("too late; already scheduled");return n}function rj(e,t){var n=ij(e,t);if(n.state>ZU)throw new Error("too late; already running");return n}function ij(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function oj(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>KU&&n.state<JU,n.state=ej,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}function aj(e,t){var n,r;return function(){var i=rj(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function sj(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=rj(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function lj(e,t,n){var r=e._id;return e.each((function(){var e=rj(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return ij(e,r).value[t]}}function cj(e,t){var n;return("number"==typeof t?_r:t instanceof xn?br:(n=xn(t))?(t=n,br):Sr)(e,t)}function uj(e){return function(){this.removeAttribute(e)}}function hj(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dj(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function pj(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function fj(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttribute(e)}}function mj(e,t,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function gj(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function bj(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function vj(e,t){return function(){nj(this,e).delay=+t.apply(this,arguments)}}function yj(e,t){return t=+t,function(){nj(this,e).delay=t}}function Tj(e,t){return function(){rj(this,e).duration=+t.apply(this,arguments)}}function _j(e,t){return t=+t,function(){rj(this,e).duration=t}}var Ej=Le.prototype.constructor;function xj(e){return function(){this.style.removeProperty(e)}}var wj=0;function Sj(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Aj(e){return Le().transition(e)}function kj(){return++wj}var Cj=Le.prototype;Sj.prototype=Aj.prototype={constructor:Sj,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=N(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=e.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,tj(h[d],t,n,d,h,ij(s,n)));return new Sj(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=L(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=e.call(l,l.__data__,h,c),f=ij(l,n),m=0,g=p.length;m<g;++m)(d=p[m])&&tj(d,t,n,m,p,f);o.push(p),a.push(l)}return new Sj(o,a,t,n)},selectChild:Cj.selectChild,selectChildren:Cj.selectChildren,filter:function(e){"function"!=typeof e&&(e=B(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new Sj(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=t[s],u=n[s],h=c.length,d=a[s]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;s<r;++s)a[s]=t[s];return new Sj(a,this._parents,this._name,this._id)},selection:function(){return new Ej(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=kj(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=ij(a,t);tj(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Sj(r,this._parents,e,n)},call:Cj.call,nodes:Cj.nodes,node:Cj.node,size:Cj.size,empty:Cj.empty,each:Cj.each,on:function(e,t){var n=this._id;return arguments.length<2?ij(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?nj:rj;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=C(e),r="transform"===n?Rr:cj;return this.attrTween(e,"function"==typeof t?(n.local?mj:fj)(n,r,lj(this,"attr."+e,t)):null==t?(n.local?hj:uj)(n):(n.local?pj:dj)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=C(e);return this.tween(n,(r.local?gj:bj)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Nr:cj;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=oe(this,e),a=(this.style.removeProperty(e),oe(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,xj(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=oe(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=oe(this,e)),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}(e,r,lj(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var l=rj(this,e),c=l.on,u=null==l.value[a]?o||(o=xj(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=oe(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(lj(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=ij(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?aj:sj)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?vj:yj)(t,e)):ij(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Tj:_j)(t,e)):ij(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){rj(this,e).ease=t}}(t,e)):ij(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;rj(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=rj(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:Cj[Symbol.iterator]};var Ij={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Oj(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Le.prototype.interrupt=function(e){return this.each((function(){oj(this,e)}))},Le.prototype.transition=function(e){var t,n;e instanceof Sj?(t=e._id,e=e._name):(t=kj(),(n=Ij).time=FU(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&tj(a,e,t,c,s,n||Oj(a,t));return new Sj(r,this._parents,e,t)};var Dj=[null];const Pj=Object.freeze(Object.defineProperty({__proto__:null,transition:Aj,active:function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>qU&&n.name===t)return new Sj([[e]],Dj,t,+r);return null},interrupt:oj},Symbol.toStringTag,{value:"Module"})),Nj=e=>()=>e;function Rj(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Mj(e,t,n){this.k=e,this.x=t,this.y=n}Mj.prototype={constructor:Mj,scale:function(e){return 1===e?this:new Mj(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Mj(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Lj=new Mj(1,0,0);function Bj(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Lj;return e.__zoom}function Fj(e){e.stopImmediatePropagation()}function Uj(e){e.preventDefault(),e.stopImmediatePropagation()}function jj(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function Hj(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Gj(){return this.__zoom||Lj}function zj(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Vj(){return navigator.maxTouchPoints||"ontouchstart"in this}function Yj(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function $j(){var e,t,n,r=jj,i=Hj,o=Yj,a=zj,s=Vj,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=Lr,d=Eh("start","zoom","end"),p=500,f=150,m=0,g=10;function b(e){e.property("__zoom",Gj).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",A).filter(s).on("touchstart.zoom",k).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Mj(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Mj(e.k,r,i)}function T(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function _(e,t,n,r){e.on("start.zoom",(function(){E(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){E(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,o=arguments,a=E(e,o).event(r),s=i.apply(e,o),l=null==n?T(s):"function"==typeof n?n.apply(e,o):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,d="function"==typeof t?t.apply(e,o):t,p=h(u.invert(l).concat(c/u.k),d.invert(l).concat(c/d.k));return function(e){if(1===e)e=d;else{var t=p(e),n=c/t[2];e=new Mj(n,l[0]-t[0]*n,l[1]-t[1]*n)}a.zoom(null,e)}}))}function E(e,t,n){return!n&&e.__zooming||new x(e,t)}function x(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function w(e,...t){if(r.apply(this,arguments)){var n=E(this,t).event(e),i=this.__zoom,s=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,a.apply(this,arguments)))),u=Ge(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[u,i.invert(u)],oj(this),n.start()}Uj(e),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),f),n.zoom("mouse",o(y(v(i,s),n.mouse[0],n.mouse[1]),n.extent,c))}}function S(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,a=E(this,t,!0).event(e),s=Be(e.view).on("mousemove.zoom",(function(e){if(Uj(e),!a.moved){var t=e.clientX-u,n=e.clientY-h;a.moved=t*t+n*n>m}a.event(e).zoom("mouse",o(y(a.that.__zoom,a.mouse[0]=Ge(e,i),a.mouse[1]),a.extent,c))}),!0).on("mouseup.zoom",(function(e){s.on("mousemove.zoom mouseup.zoom",null),Ih(e.view,a.moved),Uj(e),a.event(e).end()}),!0),l=Ge(e,i),u=e.clientX,h=e.clientY;Ch(e.view),Fj(e),a.mouse=[l,this.__zoom.invert(l)],oj(this),a.start()}}function A(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=Ge(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(a),l=n.k*(e.shiftKey?.5:2),h=o(y(v(n,l),a,s),i.apply(this,t),c);Uj(e),u>0?Be(this).transition().duration(u).call(_,h,a,e):Be(this).call(b.transform,h,a,e)}}function k(n,...i){if(r.apply(this,arguments)){var o,a,s,l,c=n.touches,u=c.length,h=E(this,i,n.changedTouches.length===u).event(n);for(Fj(n),a=0;a<u;++a)l=[l=Ge(s=c[a],this),this.__zoom.invert(l),s.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),o&&(h.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),p)),oj(this),h.start())}}function C(e,...t){if(this.__zooming){var n,r,i,a,s=E(this,t).event(e),l=e.changedTouches,u=l.length;for(Uj(e),n=0;n<u;++n)i=Ge(r=l[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var h=s.touch0[0],d=s.touch0[1],p=s.touch1[0],f=s.touch1[1],m=(m=p[0]-h[0])*m+(m=p[1]-h[1])*m,g=(g=f[0]-d[0])*g+(g=f[1]-d[1])*g;r=v(r,Math.sqrt(m/g)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],a=[(d[0]+f[0])/2,(d[1]+f[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(y(r,i,a),s.extent,c))}}function I(e,...r){if(this.__zooming){var i,o,a=E(this,r).event(e),s=e.changedTouches,l=s.length;for(Fj(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<l;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Ge(o,this),Math.hypot(t[0]-o[0],t[1]-o[1])<g)){var c=Be(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return b.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",Gj),e!==i?_(e,t,n,r):i.interrupt().each((function(){E(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},b.scaleBy=function(e,t,n,r){b.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},b.scaleTo=function(e,t,n,r){b.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,a=null==n?T(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"==typeof t?t.apply(this,arguments):t;return o(y(v(r,l),a,s),e,c)}),n,r)},b.translateBy=function(e,t,n,r){b.transform(e,(function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},b.translateTo=function(e,t,n,r,a){b.transform(e,(function(){var e=i.apply(this,arguments),a=this.__zoom,s=null==r?T(e):"function"==typeof r?r.apply(this,arguments):r;return o(Lj.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),r,a)},x.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Be(this.that).datum();d.call(e,this.that,new Rj(e,{sourceEvent:this.sourceEvent,target:b,type:e,transform:this.that.__zoom,dispatch:d}),t)}},b.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:Nj(+e),b):a},b.filter=function(e){return arguments.length?(r="function"==typeof e?e:Nj(!!e),b):r},b.touchable=function(e){return arguments.length?(s="function"==typeof e?e:Nj(!!e),b):s},b.extent=function(e){return arguments.length?(i="function"==typeof e?e:Nj([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),b):i},b.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],b):[l[0],l[1]]},b.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],b):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},b.constrain=function(e){return arguments.length?(o=e,b):o},b.duration=function(e){return arguments.length?(u=+e,b):u},b.interpolate=function(e){return arguments.length?(h=e,b):h},b.on=function(){var e=d.on.apply(d,arguments);return e===d?b:e},b.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,b):Math.sqrt(m)},b.tapDistance=function(e){return arguments.length?(g=+e,b):g},b}Bj.prototype=Mj.prototype;const Xj=Object.freeze(Object.defineProperty({__proto__:null,zoom:$j,zoomTransform:Bj,zoomIdentity:Lj,ZoomTransform:Mj},Symbol.toStringTag,{value:"Module"}));let Wj=function(){function e(t){d(this,e),this.pAxis=new Rf.PIXI.Graphics,this.track=t,this.axisTexts=[],this.axisTextFontFamily="Arial",this.axisTextFontSize=10}return f(e,[{key:"startAxis",value:function(e){const t=this.pAxis;t.clear(),t.lineStyle(1,this.track.getTheme()===Pf?lm("#ffffff"):0,1),t.moveTo(0,0),t.lineTo(0,e)}},{key:"createAxisTexts",value:function(e,t){this.tickValues=this.calculateAxisTickValues(e,t);let n=0;const r=this.track.getTheme()===Pf?"white":"black";for(this.track.options&&this.track.options.axisLabelFormatting&&"scientific"!==this.track.options.axisLabelFormatting?this.tickFormat=e=>e:this.tickFormat=ni(".2");n<this.tickValues.length;){const e=this.tickValues[n];for(;this.axisTexts.length<=n;){const t=new Rf.PIXI.Text(e,{fontSize:`${this.axisTextFontSize}px`,fontFamily:this.axisTextFontFamily,fill:r});this.axisTexts.push(t),this.pAxis.addChild(t)}this.axisTexts[n].text=this.tickFormat(e),this.axisTexts[n].anchor.y=.5,this.axisTexts[n].anchor.x=.5,n++}for(;this.axisTexts.length>this.tickValues.length;){const e=this.axisTexts.pop();this.pAxis.removeChild(e),e.destroy(!0)}}},{key:"calculateAxisTickValues",value:function(e,t){const n=Math.max(Math.ceil(t/40),1);let r=e.ticks(n);return r.length<1&&(r=e.ticks(n+1),r.length>1&&(r=[r[0]])),r}},{key:"drawAxisLeft",value:function(e,t){this.startAxis(t),this.createAxisTexts(e,t);const n=this.pAxis;this.track.getTheme()===Pf&&n.lineStyle(n.lineWidth||n._lineStyle.width,lm("#ffffff")),n.moveTo(0,0),n.lineTo(-5,0),n.moveTo(0,t),n.lineTo(-5,t);for(let t=0;t<this.axisTexts.length;t++){const r=this.tickValues[t];this.axisTexts[t].x=-(9+this.axisTexts[t].width/2),this.axisTexts[t].y=e(r),n.moveTo(-0,e(r)),n.lineTo(-5,e(r)),this.track&&this.track.flipText&&(this.axisTexts[t].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"drawAxisRight",value:function(e,t){this.startAxis(t),this.createAxisTexts(e,t);const n=this.pAxis;this.track.getTheme()===Pf&&n.lineStyle(n.lineWidth||n._lineStyle.width,lm("#ffffff")),n.moveTo(0,0),n.lineTo(5,0),n.moveTo(0,t),n.lineTo(5,t);for(let t=0;t<this.axisTexts.length;t++){const r=this.tickValues[t];this.axisTexts[t].x=9+this.axisTexts[t].width/2,this.axisTexts[t].y=e(r),n.moveTo(0,e(r)),n.lineTo(5,e(r)),this.track&&this.track.flipText&&(this.axisTexts[t].scale.x=-1)}this.hideOverlappingAxisLabels()}},{key:"hideOverlappingAxisLabels",value:function(){for(let e=this.axisTexts.length-1;e>=0;e--)this.axisTexts[e].visible=!0;for(let e=this.axisTexts.length-1;e>=0;e--){if(!this.axisTexts[e].visible)continue;let t=e-1;for(;t>=0&&this.axisTexts[e].y+this.axisTexts[e].height/2>this.axisTexts[t].y-this.axisTexts[t].height/2;)this.axisTexts[t].visible=!1,t-=1}}},{key:"exportVerticalAxis",value:function(e){const t=document.createElement("g");t.setAttribute("class","axis-vertical");let n="black";this.track&&this.track.options.lineStrokeColor&&(n=this.track.options.lineStrokeColor),this.track.getTheme()===Pf&&(n="#cccccc");const r=document.createElement("path");return r.setAttribute("fill","transparent"),r.setAttribute("stroke",n),r.setAttribute("id","axis-line"),r.setAttribute("d",`M0,0 L0,${e}`),t.appendChild(r),t}},{key:"createAxisSVGLine",value:function(){let e="black";this.track&&this.track.options.lineStrokeColor&&(e=this.track.options.lineStrokeColor),this.track.getTheme()===Pf&&(e="#cccccc");const t=document.createElement("path");return t.setAttribute("id","tick-mark"),t.setAttribute("fill","transparent"),t.setAttribute("stroke",e),t}},{key:"createAxisSVGText",value:function(e){const t=document.createElement("text");return t.innerHTML=e,t.setAttribute("id","axis-text"),t.setAttribute("text-anchor","middle"),t.setAttribute("font-family",this.axisTextFontFamily),t.setAttribute("font-size",this.axisTextFontSize),t.setAttribute("dy",this.axisTextFontSize/2-2),t}},{key:"exportAxisLeftSVG",value:function(e,t){const n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L5,0");const i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d",`M0,${t} L5,${t}`);for(let t=0;t<this.axisTexts.length;t++){const r=this.tickValues[t],i=this.axisTexts[t],o=this.createAxisSVGLine();n.appendChild(o),o.setAttribute("d",`M0,${e(r)} L5,${e(r)}`);const a=document.createElement("g");if(n.appendChild(a),i.visible){const e=this.createAxisSVGText(i.text);a.appendChild(e)}a.setAttribute("transform",`translate(${i.position.x},${i.position.y})\n             scale(${i.scale.x},${i.scale.y})`)}return n}},{key:"exportAxisRightSVG",value:function(e,t){const n=this.exportVerticalAxis(t),r=this.createAxisSVGLine();n.appendChild(r),r.setAttribute("d","M0,0 L-5,0");const i=this.createAxisSVGLine();n.appendChild(i),i.setAttribute("d",`M0,${t} L-5,${t}`);for(let t=0;t<this.axisTexts.length;t++){const r=this.tickValues[t],i=this.axisTexts[t],o=this.createAxisSVGLine();n.appendChild(o),o.setAttribute("d",`M0,${e(r)} L-5,${e(r)}`);const a=document.createElement("g");if(n.appendChild(a),i.visible){const e=this.createAxisSVGText(i.text);a.appendChild(e)}a.setAttribute("transform",`translate(${i.position.x},${i.position.y})\n             scale(${i.scale.x},${i.scale.y})`)}return n}},{key:"clearAxis",value:function(){const e=this.pAxis;for(;this.axisTexts.length;){const t=this.axisTexts.pop();e.removeChild(t)}e.clear()}}]),e}();const qj=(e,t)=>{const n=[];for(let r=e;r<t;r++)n.push(r);return n},Kj=(e,t,n)=>{if(void 0===n&&(n=Number.MAX_SAFE_INTEGER),e.resolutions)return((e,t)=>{const n=e.map((e=>+e)).sort(((e,t)=>t-e)),r=t.range()[1]-t.range()[0],i=n.map((e=>(t.domain()[1]-t.domain()[0])/e)).map((e=>e/r)),o=i.filter((e=>e<1));return 0===o.length?0:i.indexOf(o[o.length-1])})(e.resolutions,t,e.min_pos[0],e.max_pos[0]);const r=((e,t,n,r)=>{const i=e.range()[1]-e.range()[0],o=Math.max((n-t)/(e.domain()[1]-e.domain()[0]),1),a=Math.max(0,Math.ceil(Math.log(i/384)/Math.LN2));let s=Math.round(Math.log(o)/Math.LN2)+a,l=0;return r&&(l=Math.floor(Math.log(256)/Math.log(2)-Math.log(r)/Math.log(2))),s+=l,s})(t,e.min_pos[0],e.max_pos[0],e.bins_per_dimension||e.tile_size),i=Math.min(r,n);return Math.max(i,0)};const Zj={calculate1DVisibleTiles:(e,t)=>{if(!e)return[];const n=Kj(e,t,e.max_zoom);if(e.resolutions){return((e,t,n,r=Number.MAX_VALUE,i=256)=>{const o=e*i,a=Math.max(0,Math.floor((t.domain()[0]-n)/o)),s=Math.ceil(Math.min(r,t.domain()[1]-n-1e-7)/o);let l=qj(a,s);return l.length>20&&(console.warn(`Too many visible tiles: ${l.length} truncating to 20`),l=l.slice(0,20)),l})(e.resolutions.map((e=>+e)).sort(((e,t)=>t-e))[n],t,e.min_pos[0],e.max_pos[0]).map((e=>[n,e]))}return((e,t,n,r,i,o)=>{const a=Math.min(e,i),s=o/2**a;return qj(Math.max(0,Math.floor((t.domain()[0]-n)/s)),Math.min(2**a,Math.ceil((t.domain()[1]-n-1e-7)/s)))})(n,t,e.min_pos[0],e.max_pos[0],e.max_zoom,e.max_width).map((e=>[n,e]))},calculate1DZoomLevel:Kj,drawAxis:(e,t)=>{if(e.axis||(e.axis=new Wj(e),e.pBase.addChild(e.axis.pAxis)),!e.options.axisPositionVertical&&!e.options.axisPositionHorizontal)return void e.axis.clearAxis();if(e.options.axisPositionVertical&&"hidden"===e.options.axisPositionVertical)return void e.axis.clearAxis();if(e.options.axisPositionHorizontal&&"hidden"===e.options.axisPositionHorizontal)return void e.axis.clearAxis();const n=e.options.axisMargin||0;"left"===e.options.axisPositionHorizontal||"top"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1])):"outsideLeft"===e.options.axisPositionHorizontal||"outsideTop"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):"right"===e.options.axisPositionHorizontal||"bottom"===e.options.axisPositionVertical?(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisLeft(t,e.dimensions[1])):"outsideRight"!==e.options.axisPositionHorizontal&&"outsideBottom"!==e.options.axisPositionVertical||(e.axis.pAxis.position.x=e.position[0]+e.dimensions[0]-n,e.axis.pAxis.position.y=e.position[1],e.axis.drawAxisRight(t,e.dimensions[1]))},movedY:(e,t)=>{const n=e.valueScaleTransform,{y:r,k:i}=n;r+t/i>-(i-1)*e.dimensions[1]&&r+t/i<0&&(e.valueScaleTransform=n.translate(0,t/i)),Object.values(e.fetchedTiles).forEach((t=>{t.graphics.position.y=e.valueScaleTransform.y})),e.animate()},getTilePosAndDimensions:(e,t)=>{const n=+t.split(".")[0],r=+t.split(".")[1],i=e.max_width/2**n;return{tileX:e.min_pos[0]+r*i,tileWidth:i}},stretchRects:function(e,t){Object.values(e.fetchedTiles).forEach((n=>{if(!n.drawnAtScale)return;const r=n.drawnAtScale.range(),i=e._xScale.range();if(r[0]!==i[0]||r[1]!==i[1])return void e.renderTile(n);const o=(n.drawnAtScale.domain()[1]-n.drawnAtScale.domain()[0])/(e._xScale.domain()[1]-e._xScale.domain()[0]);if(o>2||o<.5)e.renderTile(n);else{const r=e._xScale.domain().map(n.drawnAtScale)[0];for(const e of t)e(n).scale.x=o,e(n).x=-r*o}}))},zoomedY:(e,t,n,r)=>{const i=n.k,o=n.y,a=(e-o)/i,s=Math.max(i/t,1);let l=i*a+o-s*a;return l=Math.max(l,-(s-1)*r),l=Math.min(l,0),Lj.translate(0,l).scale(s)}},Qj=Object.freeze(Object.defineProperty({__proto__:null,absToChr:bf,accessorTransposition:vf,addArrays:Tf,addClass:(e,t)=>{if("http://www.w3.org/2000/svg"===e.namespaceURI){if(!_f(e,t)){const n=e.getAttribute("class")||"";e.setAttribute("class",`${n} ${t}`)}}else e.classList?e.classList.add(t):_f(e,t)||(e.className+=` ${t}`)},base64ToCanvas:(e,t,n)=>{const r=document.createElement("canvas");return new Promise(((i,o)=>{const a=new window.Image;a.onload=()=>{r.width=t||a.width,r.height=n||a.height,r.getContext("2d").drawImage(a,0,0),i(r)},a.onerror=()=>{o(new Error("Could not convert base64 to canvas"))},a.src=`data:image/png;base64,${e}`}))},chromInfoBisector:gf,chrToAbs:Ef,cloneEvent:xf,colorDomainToRgbaArray:wf,colorToHex:lm,colorToRgba:cm,dataToGenomicLoci:um,debounce:hm,decToHexStr:dm,dictFromTuples:pm,dictItems:fm,dictKeys:mm,dictValues:gm,download:bm,fillInMinWidths:vm,flatten:Tm,forEach:e=>t=>Array.prototype.forEach.call(t,e),forwardEvent:_m,genomeLociToPixels:(e,t)=>[Ef(e[0],e[1],t),Ef(e[2],e[3],t)],genomicRangeToChromosomeChunks:function(e,t,n,r,i){const{chr:o,pos:a}=t,{chr:s,pos:l}=n,c=[];if(o===s){const e=o,t=Math.floor(a/r),n=Math.min(t+i,Math.ceil(l/r));c.push([e,t,n])}else{let t=i;const n=e.findIndex((([e])=>e===o)),u=e.findIndex((([e])=>e===s));for(let i=n;i<=u;i++){let o,s;const[h,d]=e[i];i<u?(o=i===n?a:0,s=d):(o=0,s=l);const p=Math.floor(o/r),f=Math.min(p+t,Math.ceil(s/r));c.push([h,p,f]),t-=f-p}}return c},getDefaultTrackForDatatype:Em,getElementDim:bg,getTrackByUid:vg,getTrackConfFromHGC:(e,t,n)=>{const r=e.state.views[t];if(!r)return null;let i=null;const o=e=>(e.uid===n&&(i=e),"combined"===e.type.substr(0,8)&&e.contents.forEach(o),null),a=r.tracks;return Object.keys(a).map((e=>a[e])).filter((e=>e.filter)).reduce(((e,t)=>e.concat(t)),[]).forEach(o),i},getTrackObjById:yg,getTrackPositionByUid:Eg,getXylofon:wg,gradient:Sg,hasClass:_f,hasParent:Ag,hexStrToInt:kg,intoTheVoid:Cg,isTrackOrChildTrack:Og,isWithin:Dg,latToY:(e,t)=>{let n=e*Math.PI/180;return r=n,n=Math.log(Math.tan((r+Math.PI/2)/2)),2**t*(Math.PI-n)/(2*Math.PI);var r},loadChromInfos:e=>Pg(e).map((e=>e.chromInfoPath)).forEach((e=>Zm.get(e))),lngToX:(e,t)=>2**t*(e+180)/360,map:xg,max:Ng,maxNonZero:Rg,min:Mg,minNonZero:Lg,mod:(e,t)=>(e%t+t)%t,ndarrayAssign:Bg,ndarrayFlatten:Wg,ndarrayToList:Xg,numericifyVersion:qg,objVals:Pg,or:Kg,parseChromsizesRows:Zg,pixiTextToSvg:Qg,q:e=>{try{const t=e.split(".");return e=>{let n=e;return t.forEach((e=>{n=n[e]})),n}}catch(e){return}},reduce:ym,rangeQuery2d:(e,t,n,r,i,o,a=0,s=0,l)=>{const c=o?i:r,u=o?r:i,h=o?s:a,d=o?a:s,p=Math.max(0,+c[0]||0),f=Math.max(0,+c[1]||0),m=Math.max(0,+u[0]||0),g=Math.max(0,+u[1]||0);let b=[];ArrayBuffer.isView(l)||console.warn("Not supported yet");try{const r=new l.constructor(l.length);let i=0+d;for(let o=m;o<g;o++)r.set(e.slice(o*t+p,o*t+f),h+i*n),i+=1;const a=o?vf(n,n):void 0;b=Tf(l,r,a)}catch(e){}return b},relToAbsChromPos:(e,t,n,r)=>[r.chrPositions[e].pos+ +t,r.chrPositions[e].pos+ +n],removeClass:(e,t)=>{const n=new RegExp(`(\\s|^)${t}(\\s|$)`);if("http://www.w3.org/2000/svg"===e.namespaceURI){const t=e.getAttribute("class")||"";e.setAttribute("class",t.replace(n," "))}else e.classList?e.classList.remove(t):_f(e,t)&&(e.className=e.className.replace(n," "))},resetD3BrushStyle:Jg,rgbToHex:(e,t,n)=>`#${eb(e)}${eb(t)}${eb(n)}`,scalesCenterAndK:tb,scalesToGenomeLoci:nb,showMousePosition:rb,some:e=>t=>Array.prototype.some.call(t,e),sum:ib,svgLine:ob,throttleAndDebounce:ab,tileToCanvas:(e,t=256,n=256)=>{const r=document.createElement("canvas");r.width=t,r.height=n;const i=r.getContext("2d");i.fillStyle="transparent",i.fillRect(0,0,r.width,r.height);const o=new ImageData(e,r.width,r.height);return i.putImageData(o,0,0),r},timeout:sb,totalTrackPixelHeight:e=>{if(!e.tracks)return 0;let t=0;return e.tracks.top&&(t+=e.tracks.top.map((e=>e.height)).reduce(((e,t)=>e+t),0)),e.tracks.center&&(t+=e.tracks.center.map((e=>e.height)).reduce(((e,t)=>e+t),0)),e.tracks.bottom&&(t+=e.tracks.bottom.map((e=>e.height)).reduce(((e,t)=>e+t),0)),t},toVoid:lb,trimTrailingSlash:cb,valueToColor:ub,expandCombinedTracks:hb,segmentsToRows:yb,visitPositionedTracks:_g,visitTracks:Tg,DenseDataExtrema1D:Tb,DenseDataExtrema2D:_b,getAggregationFunction:Eb,selectedItemsToSize:xb,IS_TRACK_RANGE_SELECTABLE:wb,getTrackObjectFromHGC:Sb,getTrackRenderer:Ab,getTiledPlot:(e,t)=>e.tiledPlots[t],changeOptions:(e,t,n,r)=>{for(const{viewId:i,trackId:o,track:a}of e.instance().iterateOverTracks())i===t&&o===n&&(a.options={...a.options,...r});e.setState(e.instance().state)},waitForJsonComplete:wU,waitForTilesLoaded:SU,waitForTransitionsFinished:xU,mountHGComponent:AU,mountHGComponentAsync:async function(e,t,n,r){let i;return await new Promise((o=>{i=AU(e,t,n,o,r)})),i},removeHGComponent:e=>{e&&(g.default.unmountComponentAtNode(e),document.body.removeChild(e))},trackUtils:Zj},Symbol.toStringTag,{value:"Module"})),{Provider:Jj,Consumer:eH}=m.default.createContext({close:lb,open:lb}),tH=e=>m.default.forwardRef(((t,n)=>m.default.createElement(eH,null,(r=>m.default.createElement(e,{ref:n,...t,theme:r}))))),nH="_track-control_w7hx2_1",rH="_track-control-vertical_w7hx2_2",iH="_track-control-dark_w7hx2_15",oH="_track-control-active_w7hx2_16 _track-control_w7hx2_1",aH="_track-control-left_w7hx2_24",sH="_track-control-padding-right_w7hx2_48",lH="_track-control-button_w7hx2_52",cH="_track-control-button-vertical_w7hx2_81",uH=e=>gl({[oH]:e.isVisible,[nH]:!e.isVisible,[aH]:e.isAlignLeft,[rH]:e.isVertical,[sH]:e.paddingRight,[iH]:e.theme===Pf}),hH=e=>gl("no-zoom",lH,{[cH]:e.isVertical});let dH=null,pH=null;function fH(e){let t,n;return e&&dH&&!Object.keys(e).some((t=>dH[t]!==e[t]))||(dH=e,pH=af((()=>m.default.createElement("svg",{className:hH(e),style:{height:"20px",width:"20px",...e.imgStyleMove}},m.default.createElement("title",null,"Move track"),m.default.createElement("use",{xlinkHref:"#move"}))))),m.default.createElement("div",{className:uH(e)},e.isMoveable&&m.default.createElement(pH,null),m.default.createElement("svg",{ref:e=>{t=e},className:hH(e),onClick:()=>{e.onConfigTrackMenuOpened(e.uid,t.getBoundingClientRect())},style:{height:"20px",width:"20px",...e.imgStyleSettings}},m.default.createElement("title",null,"Configure track"),m.default.createElement("use",{xlinkHref:"#cog"})),e.onAddSeries&&m.default.createElement("svg",{className:hH(e),onClick:()=>e.onAddSeries(e.uid),style:{height:"20px",width:"20px",...e.imgStyleAdd}},m.default.createElement("title",null,"Add series"),m.default.createElement("use",{xlinkHref:"#plus"})),m.default.createElement("svg",{ref:e=>{n=e},className:hH(e),onClick:()=>{e.onCloseTrackMenuOpened(e.uid,n.getBoundingClientRect())},style:{height:"20px",width:"20px",...e.imgStyleClose}},m.default.createElement("title",null,"Close track"),m.default.createElement("use",{xlinkHref:"#cross"})))}fH.propTypes={imgStyleAdd:S.exports.object,imgStyleClose:S.exports.object,imgStyleMove:S.exports.object,imgStyleSettings:S.exports.object,isAlignLeft:S.exports.bool,isMoveable:S.exports.bool,isVertical:S.exports.bool,isVisible:S.exports.bool,onConfigTrackMenuOpened:S.exports.func,onCloseTrackMenuOpened:S.exports.func,onAddSeries:S.exports.func,paddingRight:S.exports.bool,theme:S.exports.symbol.isRequired,uid:S.exports.string};const mH=tH(fH),gH={"center-track":"_center-track_fiu64_1","center-track-container":"_center-track-container_fiu64_6"},bH={"track-range-selection":"_track-range-selection_5bcsr_1","track-range-selection-active":"_track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-active-primary":"_track-range-selection-active-primary_5bcsr_14 _track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-active-secondary":"_track-range-selection-active-secondary_5bcsr_18 _track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1","track-range-selection-group-inactive":"_track-range-selection-group-inactive_5bcsr_22","track-range-selection-group-brush-selection":"_track-range-selection-group-brush-selection_5bcsr_26"},vH={pointerEvents:"all"};function yH(e){return e&&e.sourceEvent}let TH=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={isVisible:!1},r.brushBehaviorX=dp().on("brush",r.brushedX.bind(a(r))).on("end",r.brushedXEnded.bind(a(r))),r.brushBehaviorY=pp().on("brush",r.brushedY.bind(a(r))).on("end",r.brushedYEnded.bind(a(r))),r.brushBehaviorXY=fp().on("start",r.brushStarted.bind(a(r))).on("brush",r.brushedXY.bind(a(r))).on("end",r.brushedXYEnded.bind(a(r))),r}return f(n,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush2d()}},{key:"shouldComponentUpdate",value:function(e,t){if(this.rangeSelectionTriggeredXY){if(this.rangeSelectionTriggeredXY=!1,this.rangeSelectionTriggeredXYEnd){const t=e.rangeSelection[0]||null;this.moveBrushXY([t,e.rangeSelection[1]],!0),this.rangeSelectionTriggeredXYEnd=!1}return this.state!==t}if(this.props.rangeSelection!==e.rangeSelection){const n=e.rangeSelection[0]||null;this.props.is1dRangeSelection?(this.rangeSelectionTriggeredX||this.moveBrushX(n,e.rangeSelectionEnd),this.rangeSelectionTriggeredXEnd&&this.moveBrushX(n,e.rangeSelectionEnd,!0),this.rangeSelectionTriggeredY||this.moveBrushY(n,e.rangeSelectionEnd),this.rangeSelectionTriggeredYEnd&&this.moveBrushY(n,e.rangeSelectionEnd,!0),this.rangeSelectionTriggeredX=!1,this.rangeSelectionTriggeredXEnd=!1,this.rangeSelectionTriggeredY=!1,this.rangeSelectionTriggeredYEnd=!1):this.moveBrushXY([n,e.rangeSelection[1]],e.rangeSelectionEnd);const r=this.props.is1dRangeSelection&&!e.is1dRangeSelection&&null===n;return this.state!==t||r}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush2d():(this.removeBrush1d(),this.removeBrush2d())}},{key:"addBrush1d",value:function(){this.brushElX&&this.brushElY&&(this.brushElXOld!==this.brushElX||this.brushElYOld!==this.brushElY)&&(this.brushElXOld&&this.brushElXOld.on(".brush",null),this.brushElYOld&&this.brushElYOld.on(".brush",null),this.brushElX.call(this.brushBehaviorX),this.brushElY.call(this.brushBehaviorY),Jg(this.brushElX,bH["track-range-selection-group-brush-selection"]),Jg(this.brushElY,bH["track-range-selection-group-brush-selection"]),this.brushElXOld=this.brushElX,this.brushElYOld=this.brushElY,this.brushIs1dBound=!0)}},{key:"addBrush2d",value:function(){this.brushElXY&&this.brushElXYOld!==this.brushElXY&&(this.brushElXYOld&&this.brushElXYOld.on(".brush",null),this.brushElXY.call(this.brushBehaviorXY),this.brushElXYOld=this.brushElXY,this.brushIs2dBound=!0,Jg(this.brushElXY,bH["track-range-selection-group-brush-selection"]))}},{key:"brushedX",value:function(e){const t=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,yH(e)&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!t&&(this.rangeSelectionTriggeredX=!0,this.props.onRangeSelectionX(e.selection))}},{key:"brushedXEnded",value:function(e){const t=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,yH(e)&&this.props.onRangeSelectionX&&this.props.is1dRangeSelection&&!t&&(this.rangeSelectionTriggeredX=!0,this.rangeSelectionTriggeredXEnd=!0,this.props.onRangeSelectionXEnd(e.selection))}},{key:"brushedY",value:function(e){const t=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,yH(e)&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!t&&(this.rangeSelectionTriggeredY=!0,this.props.onRangeSelectionY(e.selection))}},{key:"brushedYEnded",value:function(e){const t=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,yH(e)&&this.props.onRangeSelectionY&&this.props.is1dRangeSelection&&!t&&(this.rangeSelectionTriggeredY=!0,this.rangeSelectionTriggeredYEnd=!0,this.props.onRangeSelectionYEnd(e.selection))}},{key:"brushedXY",value:function(e){const t=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,yH(e)&&this.props.onRangeSelectionXY&&!t&&!this.props.is1dRangeSelection&&(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionXY([[e.selection[0][0],e.selection[1][0]],[e.selection[0][1],e.selection[1][1]]]))}},{key:"brushedXYEnded",value:function(e){if(this.props.is1dRangeSelection)return;const t=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,e.selection&&e.sourceEvent&&this.props.onRangeSelectionXY&&!t&&(this.rangeSelectionTriggeredXY=!0,this.rangeSelectionTriggeredXYEnd=!0,this.props.onRangeSelectionXYEnd([[e.selection[0][0],e.selection[1][0]],[e.selection[0][1],e.selection[1][1]]])),e.selection||(this.rangeSelectionTriggeredXY=!0,this.props.onRangeSelectionReset())}},{key:"brushStarted",value:function(e){yH(e)&&this.props.onRangeSelectionStart()}},{key:"moveBrushX",value:function(e,t=!1){if(!this.brushEl)return;this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());const n=e?[this.props.scaleX(e[0]),this.props.scaleX(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElX.transition().call(this.brushBehaviorX.move,n):this.brushElX.call(this.brushBehaviorX.move,n)}},{key:"moveBrushY",value:function(e,t=!1){if(!this.brushEl)return;this.brushIs2dBound&&(this.removeBrush2d(),this.addBrush1d());const n=e?[this.props.scaleY(e[0]),this.props.scaleY(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElY.transition().call(this.brushBehaviorY.move,n):this.brushElY.call(this.brushBehaviorY.move,n)}},{key:"moveBrushXY",value:function(e,t=!1){if(!this.brushEl)return;const n=[[this.props.scaleX(e[0][0]),this.props.scaleY(e[1][0])],[this.props.scaleX(e[0][1]),this.props.scaleY(e[1][1])]];this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushElXY.transition().call(this.brushBehaviorXY.move,n):this.brushElXY.call(this.brushBehaviorXY.move,n)}},{key:"mouseEnterHandler",value:function(){this.props.isRangeSelectionActive||this.setState({isVisible:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({isVisible:!1})}},{key:"removeBrush1d",value:function(){this.brushIs1dBound&&(this.brushElX&&(this.brushElX.call(this.brushBehaviorX.move,null),this.brushElX.on(".brush",null)),this.brushElY&&(this.brushElY.call(this.brushBehaviorY.move,null),this.brushElY.on(".brush",null)),this.brushIs1dBound=!1)}},{key:"removeBrush2d",value:function(){this.brushIs2dBound&&this.brushElXY&&(this.brushElXY.call(this.brushBehaviorXY.move,null),this.brushElXY.on(".brush",null),this.brushElXYOld=void 0,this.brushIs2dBound=!1,this.props.is1dRangeSelection||this.props.onRangeSelectionReset())}},{key:"render",value:function(){const e=this.props.tracks.map((e=>wb(e))).reduce(Kg,!1),t=this.props.tracks.some((e=>e.contents?e.contents.some((e=>"heatmap"===e.type&&"topRight"===e.options.colorbarPosition)):"heatmap"===e.type&&"topRight"===e.options.colorbarPosition));let n="track-range-selection";this.props.isRangeSelectionActive&&(n+=this.props.is1dRangeSelection?"-active-secondary":"-active-primary");const r=gl(!this.props.is1dRangeSelection&&bH["track-range-selection-group-inactive"]),i=gl(this.props.is1dRangeSelection&&bH["track-range-selection-group-inactive"]);return m.default.createElement("div",{className:gl(this.props.className,gH["center-track"]),onMouseEnter:this.mouseEnterHandler.bind(this),onMouseLeave:this.mouseLeaveHandler.bind(this),style:{height:this.props.height,width:this.props.width}},e&&m.default.createElement("svg",{className:bH[n],style:{height:this.props.height,width:this.props.width},xmlns:"http://www.w3.org/2000/svg"},m.default.createElement("g",{ref:e=>{this.brushElX=Be(e)},className:r}),m.default.createElement("g",{ref:e=>{this.brushElY=Be(e)},className:r}),m.default.createElement("g",{ref:e=>{this.brushElXY=Be(e)},className:i})),this.props.editable&&m.default.createElement(mH,{imgStyleAdd:vH,imgStyleClose:vH,imgStyleMove:vH,imgStyleSettings:vH,isMoveable:!1,isVisible:this.state.isVisible||this.props.uid===this.props.configTrackMenuId,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,paddingRight:t,uid:this.props.uid}))}}]),n}(m.default.Component);TH.defaultProps={className:"center-track",configTrackMenuId:null,is1dRangeSelection:!1,rangeSelectionEnd:S.exports.bool,isRangeSelectionActive:!1,scaleX:e=>e,scaleY:e=>e},TH.propTypes={className:S.exports.string,configTrackMenuId:S.exports.string,editable:S.exports.bool,height:S.exports.number.isRequired,is1dRangeSelection:S.exports.bool,isRangeSelectionActive:S.exports.bool,onAddSeries:S.exports.func.isRequired,onCloseTrackMenuOpened:S.exports.func.isRequired,onConfigTrackMenuOpened:S.exports.func.isRequired,onRangeSelectionX:S.exports.func.isRequired,onRangeSelectionXEnd:S.exports.func.isRequired,onRangeSelectionY:S.exports.func.isRequired,onRangeSelectionYEnd:S.exports.func.isRequired,onRangeSelectionXY:S.exports.func.isRequired,onRangeSelectionXYEnd:S.exports.func.isRequired,onRangeSelectionReset:S.exports.func.isRequired,onRangeSelectionStart:S.exports.func.isRequired,rangeSelection:S.exports.array.isRequired,rangeSelectionEnd:S.exports.bool,scaleX:S.exports.func,scaleY:S.exports.func,tracks:S.exports.array.isRequired,uid:S.exports.string.isRequired,width:S.exports.number.isRequired};const _H={__fake__:!0,publish:lb,subscribe:lb,unsubscribe:lb},{Provider:EH,Consumer:xH}=m.default.createContext(_H),wH=e=>m.default.forwardRef(((t,n)=>m.default.createElement(xH,null,(r=>m.default.createElement(e,{ref:n,...t,pubSub:r}))))),SH="_drag-listening-div-active_19gkt_1";let AH=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={dragOnTop:!1},r}return f(n,[{key:"render",value:function(){let e="red";return this.props.enabled&&this.state.dragOnTop?e="green":this.props.enabled&&(e="blue"),m.default.createElement("div",{className:gl("DragListeningDiv",{[SH]:this.props.enabled}),onDragEnter:()=>{this.setState({dragOnTop:!0})},onDragLeave:()=>{this.setState({dragOnTop:!1})},onDragOver:e=>{e.preventDefault()},onDrop:()=>{if(!this.props.enabled)return;const e=this.props.draggingHappening,t={type:this.props.defaultTrackType,uid:Ns.nice(),tilesetUid:e.tilesetUid,server:e.server};this.props.onTrackDropped(t),this.props.pubSub.publish("trackDropped",t)},style:{background:e,opacity:.6,...this.props.style}})}}]),n}(m.default.Component);AH.defaultProps={enabled:!1,style:{},draggingHappening:{},onTrackDropped:()=>{}},AH.propTypes={enabled:S.exports.bool,style:S.exports.object,defaultTrackType:S.exports.object,draggingHappening:S.exports.object,onTrackDropped:S.exports.func,position:S.exports.string.isRequired,pubSub:S.exports.object.isRequired};const kH=wH(AH),CH="_gallery-tracks_fbxxi_1",IH="_gallery-track_fbxxi_1",OH="_gallery-sub-track_fbxxi_18",DH="_gallery-invisible-track_fbxxi_19",PH={"tiled-plot":"_tiled-plot_1y7td_1",horizontalList:"_horizontalList_1y7td_7",list:"_list_1y7td_14",stylizedList:"_stylizedList_1y7td_21",stylizedItem:"_stylizedItem_1y7td_28",stylizedHelper:"_stylizedHelper_1y7td_39",horizontalItem:"_horizontalItem_1y7td_44","resizable-track":"_resizable-track_1y7td_55",domain:"_domain_1y7td_60"},NH={pointerEvents:"all"};let RH=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={hovering:!1},r}return f(n,[{key:"mouseEnterHandler",value:function(){this.setState({hovering:!0})}},{key:"mouseLeaveHandler",value:function(){this.setState({hovering:!1})}},{key:"render",value:function(){return m.default.createElement("div",{className:gl("gallery-tracks",CH)},this.props.tracks&&this.props.tracks.map(((e,t)=>m.default.createElement("div",{key:e.uid||t,className:IH,onMouseLeave:this.mouseLeaveHandler.bind(this),style:{top:e.height*t,right:e.height*t,bottom:e.height*t,left:e.height*t}},m.default.createElement("div",{className:OH,onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,right:0,left:0,height:e.height}}),m.default.createElement("div",{className:OH,onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,right:0,bottom:0,width:e.height}}),m.default.createElement("div",{className:OH,onMouseEnter:this.mouseEnterHandler.bind(this),style:{right:0,bottom:0,left:0,height:e.height}}),m.default.createElement("div",{className:OH,onMouseEnter:this.mouseEnterHandler.bind(this),style:{top:0,bottom:0,left:0,width:e.height}}),m.default.createElement("div",{className:DH,onMouseLeave:this.mouseLeaveHandler.bind(this),style:{top:e.height,right:e.height,bottom:e.height,left:e.height}}),this.props.editable&&m.default.createElement(mH,{configMenuVisible:!0,imgStyleAdd:NH,imgStyleClose:NH,imgStyleMove:NH,imgStyleSettings:NH,isMoveable:!1,isVisible:this.state.hovering,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:e.uid||t})))))}}]),n}(m.default.Component);RH.propTypes={editable:S.exports.bool,onCloseTrackMenuOpened:S.exports.func.isRequired,onConfigTrackMenuOpened:S.exports.func.isRequired,tracks:S.exports.array};let MH=function(){function e(t){d(this,e),this.context=t;const{id:n,pubSub:r,getTheme:i}=t;this.pubSub=r||_H,this.id=n,this._xScale=fi(),this._yScale=fi(),this._refXScale=fi(),this._refYScale=fi(),this.position=[0,0],this.dimensions=[1,1],this.options={},this.pubSubs=[],this.getTheme=i||(()=>{}),this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.defaultMouseMoveHandler.bind(this)))}return f(e,[{key:"isWithin",value:function(e,t){let n=e,r=t,i=this.position[0],o=this.position[1];return this.isLeftModified&&(n=t,r=e,i=this.position[1],o=this.position[0]),Dg(n,r,i,this.dimensions[0]+i,o,this.dimensions[1]+o)}},{key:"getProp",value:function(e){return()=>this[e]}},{key:"getData",value:function(){}},{key:"click",value:function(e,t,n){return{type:"generic",event:n,payload:null}}},{key:"clickOutside",value:function(){}},{key:"getDimensions",value:function(){return this.dimensions}},{key:"setDimensions",value:function(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]])}},{key:"refXScale",value:function(e){return arguments.length?(this._refXScale=e,this):this._refXScale}},{key:"refYScale",value:function(e){return arguments.length?(this._refYScale=e,this):this._refYScale}},{key:"xScale",value:function(e){return arguments.length?(this._xScale=e,this):this._xScale}},{key:"yScale",value:function(e){return arguments.length?(this._yScale=e,this):this._yScale}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t)}},{key:"refScalesChanged",value:function(e,t){this._refXScale=e,this._refYScale=t}},{key:"draw",value:function(){}},{key:"getPosition",value:function(){return this.position}},{key:"setPosition",value:function(e){this.position=e}},{key:"defaultMouseMoveHandler",value:function(e){}},{key:"remove",value:function(){this.pubSubs.forEach((e=>this.pubSub.unsubscribe(e))),this.pubSubs=[]}},{key:"rerender",value:function(){}},{key:"respondsToPosition",value:function(e,t){return this.isWithin(e,t)}},{key:"zoomedY",value:function(e,t){}},{key:"movedY",value:function(e){}}]),e}();function LH(e,t){const n=e.map((e=>+e)).sort(((e,t)=>t-e));return function(e,t){const n=ci(t,e);return ri(`.${n}`,e)(e)}(n[t],n[n.length-1])}let BH=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{scene:o}=e;i.scene=o,i.delayDrawing=!1,i.pBase=new Rf.PIXI.Graphics,i.pMasked=new Rf.PIXI.Graphics,i.pMask=new Rf.PIXI.Graphics,i.pMain=new Rf.PIXI.Graphics,i.pBorder=new Rf.PIXI.Graphics,i.pBackground=new Rf.PIXI.Graphics,i.pForeground=new Rf.PIXI.Graphics,i.pLabel=new Rf.PIXI.Graphics,i.pMobile=new Rf.PIXI.Graphics,i.pAxis=new Rf.PIXI.Graphics,i.pMouseOver=new Rf.PIXI.Graphics,i.scene.addChild(i.pBase),i.pBase.addChild(i.pMasked),i.pMasked.addChild(i.pBackground),i.pMasked.addChild(i.pMain),i.pMasked.addChild(i.pMask),i.pMasked.addChild(i.pMobile),i.pMasked.addChild(i.pBorder),i.pMasked.addChild(i.pLabel),i.pMasked.addChild(i.pForeground),i.pMasked.addChild(i.pMouseOver),i.pBase.addChild(i.pAxis),i.pMasked.mask=i.pMask,i.prevOptions="",i.options=Object.assign(i.options,r);const a=i.getName();return i.labelTextFontFamily="Arial",i.labelTextFontSize=12,i.labelXOffset=0,i.labelText=new Rf.PIXI.Text(a,{fontSize:`${i.labelTextFontSize}px`,fontFamily:i.labelTextFontFamily,fill:"black"}),i.pLabel.addChild(i.labelText),i.errorText=new Rf.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"red"}),i.errorText.anchor.x=.5,i.errorText.anchor.y=.5,i.pLabel.addChild(i.errorText),i}return f(n,[{key:"setLabelText",value:function(){}},{key:"setPosition",value:function(e){this.position=e,this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e),this.drawBorder(),this.drawLabel(),this.drawBackground(),this.setMask(this.position,this.dimensions),this.setForeground()}},{key:"setMask",value:function(e,t){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(e[0],e[1],t[0],t[1]),this.pMask.endFill()}},{key:"setForeground",value:function(){this.pForeground.position.y=this.position[1],this.pForeground.position.x=this.position[0]}},{key:"remove",value:function(){this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"drawBorder",value:function(){const e=this.pBorder;if(e.clear(),!this.options||!this.options.trackBorderWidth)return;const t=lm(this.options.trackBorderColor?this.options.trackBorderColor:"white");e.lineStyle(this.options.trackBorderWidth,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}},{key:"drawError",value:function(){if(this.errorText.x=this.position[0]+this.dimensions[0]/2,this.errorText.y=this.position[1]+this.dimensions[1]/2,this.errorText.text=this.errorTextText,this.errorTextText&&this.errorTextText.length){const e=this.pBorder;e.clear(),e.lineStyle(1,lm("red")),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}}},{key:"drawBackground",value:function(){const e=this.pBackground;if(e.clear(),!this.options||!this.options.backgroundColor)return;let t=1,n=this.options.backgroundColor;"transparent"===this.options.backgroundColor&&(t=0,n="white");const r=lm(n);e.beginFill(r,t),e.drawRect(this.position[0],this.position[1],this.dimensions[0],this.dimensions[1])}},{key:"getLabelColor",value:function(){return this.options.labelColor&&"[glyph-color]"!==this.options.labelColor?this.options.labelColor:this.options.lineStrokeColor||this.options.barFillColor||"black"}},{key:"getName",value:function(){return this.options.name?this.options.name:this.tilesetInfo&&this.tilesetInfo.name||""}},{key:"drawLabel",value:function(){if(!this.labelText)return;const e=this.pLabel;if(e.clear(),!this.options||!this.options.labelPosition||"hidden"===this.options.labelPosition)return void(this.labelText.alpha=0);e.beginFill(lm(this.options.labelBackgroundColor||"white"),+this.options.labelBackgroundOpacity>=0?+this.options.labelBackgroundOpacity:.5);const t=lm(this.getLabelColor());if(this.dimensions[0]<0)return;let n=this.options.labelShowAssembly&&this.tilesetInfo&&this.tilesetInfo.coordSystem?`${this.tilesetInfo.coordSystem} | `:"";if(n+=this.getName(),this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.max_width&&this.tilesetInfo.bins_per_dimension?n+=`\n[Current data resolution: ${function(e,t,n,r){const i=t/(2**e*n);if(!Number.isNaN(i)){const e=ci(t/(2**r*n),i);return ri(`.${e}`,i)(i)}return console.warn("NaN resolution, screen is probably too small."),""}(this.calculateZoomLevel(),this.tilesetInfo.max_width,this.tilesetInfo.bins_per_dimension,this.tilesetInfo.max_zoom)}]`:this.options.labelShowResolution&&this.tilesetInfo&&this.tilesetInfo.resolutions&&(n+=`\n[Current data resolution: ${LH(this.tilesetInfo.resolutions,this.calculateZoomLevel())}]`),this.options&&this.options.dataTransform){let e=null;if(this.tilesetInfo&&this.tilesetInfo.transforms)for(const t of this.tilesetInfo.transforms)t.value===this.options.dataTransform&&(e=t);e?n+=`\n[Transform: ${e.name}]`:"None"===this.options.dataTransform?n+="\n[Transform: None ]":n+="\n[Transform: Default ]"}this.labelText.text=n,this.labelText.style={fontSize:`${this.labelTextFontSize}px`,fontFamily:this.labelTextFontFamily,fill:t},this.labelText.alpha=void 0!==this.options.labelTextOpacity?this.options.labelTextOpacity:1,this.labelText.visible=!0,this.flipText&&(this.labelText.scale.x=-1);const r=+this.options.labelLeftMargin||0,i=+this.options.labelRightMargin||0,o=+this.options.labelTopMargin||0,a=+this.options.labelBottomMargin||0;"topLeft"===this.options.labelPosition?(this.labelText.x=this.position[0]+r+this.labelXOffset,this.labelText.y=this.position[1]+o,this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x+=this.labelText.width/2,e.drawRect(this.position[0]+r+this.labelXOffset,this.position[1]+o,this.labelText.width+2,this.labelText.height+2)):"bottomLeft"===this.options.labelPosition&&!this.flipText||"topRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+(r||o),this.labelText.y=this.position[1]+this.dimensions[1]-(a||i),this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x+=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+(r||o)+this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-2-(a||i),this.labelText.width+2,this.labelText.height+2)):"topRight"===this.options.labelPosition&&!this.flipText||"bottomLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]-(i||a),this.labelText.y=this.position[1]+(o||r),this.labelText.anchor.x=.5,this.labelText.anchor.y=0,this.labelText.x-=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2-(i||a)-this.labelXOffset,this.position[1]+(o||r),this.labelText.width+2,this.labelText.height+2)):"bottomRight"===this.options.labelPosition?(this.labelText.x=this.position[0]+this.dimensions[0]-i,this.labelText.y=this.position[1]+this.dimensions[1]-a,this.labelText.anchor.x=.5,this.labelText.anchor.y=1,this.labelText.x-=this.labelText.width/2+this.labelXOffset,e.drawRect(this.position[0]+this.dimensions[0]-this.labelText.width-2-i-this.labelXOffset,this.position[1]+this.dimensions[1]-this.labelText.height-2-a,this.labelText.width+2,this.labelText.height+2)):"outerLeft"===this.options.labelPosition&&!this.flipText||"outerTop"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x-=this.labelText.width/2+3):"outerTop"===this.options.labelPosition&&!this.flipText||"outerLeft"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y-=this.labelText.height/2+3):"outerBottom"===this.options.labelPosition&&!this.flipText||"outerRight"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0]/2,this.labelText.y=this.position[1]+this.dimensions[1],this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.y+=this.labelText.height/2+3):"outerRight"===this.options.labelPosition&&!this.flipText||"outerBottom"===this.options.labelPosition&&this.flipText?(this.labelText.x=this.position[0]+this.dimensions[0],this.labelText.y=this.position[1]+this.dimensions[1]/2,this.labelText.anchor.x=.5,this.labelText.anchor.y=.5,this.labelText.x+=this.labelText.width/2+3):this.labelText.visible=!1,"outerLeft"===this.options.labelPosition||"outerRight"===this.options.labelPosition||"outerTop"===this.options.labelPosition||"outerBottom"===this.options.labelPosition?this.pLabel.setParent(this.pBase):this.pLabel.setParent(this.pMasked)}},{key:"rerender",value:function(e){this.options=e,this.draw(),this.drawBackground(),this.drawLabel(),this.drawError(),this.drawBorder()}},{key:"draw",value:function(){this.drawError()}},{key:"exportSVG",value:function(){const e=document.createElement("g"),t=document.createElement("rect");t.setAttribute("x",`${this.position[0]}`),t.setAttribute("y",`${this.position[1]}`),t.setAttribute("width",`${this.dimensions[0]}`),t.setAttribute("height",`${this.dimensions[1]}`),this.options&&this.options.backgroundColor?t.setAttribute("fill",this.options.backgroundColor):t.setAttribute("fill-opacity","0");const n=document.createElement("g");n.setAttribute("class","g-clipped"),e.appendChild(n),n.appendChild(t);const r=document.createElement("g");n.setAttribute("class","g-track"),n.appendChild(r);const i=document.createElement("g");n.setAttribute("class","g-labels"),n.appendChild(i);const o=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.appendChild(o);const a=document.createElementNS("http://www.w3.org/2000/svg","polygon");o.appendChild(a),a.setAttribute("points",`${this.position[0]},${this.position[1]} ${this.position[0]+this.dimensions[0]},${this.position[1]} ${this.position[0]+this.dimensions[0]},${this.position[1]+this.dimensions[1]} ${this.position[0]},${this.position[1]+this.dimensions[1]} `);const s=Ns.nice();o.setAttribute("id",s),n.setAttribute("style",`clip-path:url(#${s});`);const l=this.labelText.text.split("\n");let c=0;const u=(this.labelTextFontSize+2)*l.length+3;.5===this.labelText.anchor.y?c=u/2:1===this.labelText.anchor.y&&(c=-u);for(let e=0;e<l.length;e++){const t=document.createElement("text");if(t.setAttribute("font-family",this.labelTextFontFamily),t.setAttribute("font-size",`${this.labelTextFontSize}px`),t.innerText=l[e],"topLeft"===this.options.labelPosition||"topRight"===this.options.labelPosition){const n=c+(e+1)*(this.labelTextFontSize+2);t.setAttribute("dy",n)}else"bottomLeft"!==this.options.labelPosition&&"bottomRight"!==this.options.labelPosition||t.setAttribute("dy",c+e*(this.labelTextFontSize+2));t.setAttribute("fill",this.options.labelColor),.5===this.labelText.anchor.x?t.setAttribute("text-anchor","middle"):1===this.labelText.anchor.x&&t.setAttribute("text-anchor","end"),i.appendChild(t)}return i.setAttribute("transform",`translate(${this.labelText.x},${this.labelText.y})scale(${this.labelText.scale.x},1)`),[e,r]}}]),n}(MH),FH=function(){function e(t,n){d(this,e),this.tilesetInfoLoading=!0,t?(this.dataConfig=JSON.parse(JSON.stringify(t)),this.uuid=Ns.nice(),this.pubSub=n,this.dataConfig.children&&(this.dataConfig.children=t.children.map((t=>new e(t,n))))):console.error("No dataconfig provided")}return f(e,[{key:"registerFileUrl",value:async function({server:e,url:t,filetype:n,coordSystem:r}){const i=`${cb(e)}/register_url/`,o={fileurl:t,filetype:n,coordSystem:r};return fetch(i,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json; charset=utf-8"}})}},{key:"tilesetInfo",value:function(e){return this.dataConfig.server&&this.dataConfig.url&&this.dataConfig.filetype?this.registerFileUrl(this.dataConfig).then((e=>e.json())).then((t=>{this.dataConfig.tilesetUid=t.uid,this.tilesetInfoAfterRegister(e)})).catch((e=>{console.error("Error registering url",e)})):new Promise((()=>{this.tilesetInfoAfterRegister(e)}))}},{key:"tilesetInfoAfterRegister",value:function(e){if(this.dataConfig.children){const t=this.dataConfig.children.map((e=>new Promise((t=>{e.tilesetInfo(t)}))));Promise.all(t).then((t=>{e(t[0])}))}else this.dataConfig.server&&this.dataConfig.tilesetUid?mg.trackInfo(this.dataConfig.server,this.dataConfig.tilesetUid,(t=>{this.dataConfig.tilesetInfo=t[this.dataConfig.tilesetUid],e(t[this.dataConfig.tilesetUid],this.dataConfig.tilesetUid)}),(t=>{this.tilesetInfoLoading=!1,e({error:t})}),this.pubSub):(console.warn("No dataConfig children, server or tilesetUid:",this.dataConfig),e(null))}},{key:"fullTileId",value:function(e,t){return`${e}.${t}`}},{key:"fetchTilesDebounced",value:function(e,t){if("horizontal-section"===this.dataConfig.type)this.fetchHorizontalSection(e,t);else if("vertical-section"===this.dataConfig.type)this.fetchHorizontalSection(e,t,!0);else if(!this.dataConfig.children&&this.dataConfig.tilesetUid)new Promise((e=>{mg.fetchTilesDebounced({id:Ns.nice(),server:this.dataConfig.server,done:e,ids:t.map((e=>`${this.dataConfig.tilesetUid}.${e}`)),options:this.dataConfig.options},this.pubSub,!0)})).then((n=>{const r=gm(n)[0].tilesetUid,i={};for(let e=0;e<t.length;e++){const o=this.fullTileId(r,t[e]);n[o].tilePositionId=t[e],i[t[e]]=n[o]}e(i)}));else{const n=this.dataConfig.children.map((e=>new Promise((n=>{e.fetchTilesDebounced(n,t)}),this.pubSub,!0)));Promise.all(n).then((n=>{if("divided"===this.dataConfig.type){const r=this.makeDivided(n,t);e(r)}else console.warn("Unimplemented dataConfig type. Returning first data source.",this.dataConfig),e(n[0])}))}}},{key:"divideData",value:function(e,t){const n=new Float32Array(e.length);for(let r=0;r<n.length;r++)0===t[r]?n[r]=NaN:n[r]=e[r]/t[r];return n}},{key:"horizontalSlice",value:function(){return null}},{key:"extractDataSlice",value:function(e,t,n,r){if(!r)return e.slice(t[1]*n,t[1]*(n+1));const i=new Array(t[1]);for(let r=n;r<e.length;r+=t[0])i[Math.floor(r/t[0])]=e[r];return i}},{key:"fetchHorizontalSection",value:function(e,t,n=!1){const r=[],i=[];for(const e of t){const t=e.split("."),o=+t[0],a=+t[1],s=fi().domain([this.dataConfig.slicePos,this.dataConfig.slicePos]);let l=[];if(this.dataConfig.tilesetInfo&&this.dataConfig.tilesetInfo.resolutions){const e=this.dataConfig.tilesetInfo.resolutions.map((e=>+e)).sort(((e,t)=>t-e));l=mg.calculateTilesFromResolution(e[o],s,this.dataConfig.tilesetInfo.min_pos[n?1:0],this.dataConfig.tilesetInfo.max_pos[n?1:0])}else l=mg.calculateTiles(o,s,this.dataConfig.tilesetInfo.min_pos[n?1:0],this.dataConfig.tilesetInfo.max_pos[n?1:0],this.dataConfig.tilesetInfo.max_zoom,this.dataConfig.tilesetInfo.max_width);const c=[a,l[0]].sort(((e,t)=>e-t));c[0]===a?i.push(!1):i.push(!0);const u=`${o}.${c[0]}.${c[1]}`;r.push(u)}new Promise((e=>{mg.fetchTilesDebounced({id:Ns.nice(),server:this.dataConfig.server,done:e,ids:r.map((e=>`${this.dataConfig.tilesetUid}.${e}`))},this.pubSub,!0)})).then((n=>{const o=gm(n)[0].tilesetUid,a={};for(let e=0;e<r.length;e++){const s=r[e].split("."),l=+s[0],c=+s[1],u=+s[2],h=mg.calculateTileAndPosInTile(this.dataConfig.tilesetInfo,this.dataConfig.tilesetInfo.max_width,this.dataConfig.tilesetInfo.min_pos[1],l,+this.dataConfig.slicePos)[1],d=n[this.fullTileId(o,r[e])];let p=null;if(c===u){p=this.extractDataSlice(d.dense,[256,256],h);const e=this.extractDataSlice(d.dense,[256,256],h,1);for(let t=0;t<p.length;t++)p[t]+=e[t]}else p=i[e]?this.extractDataSlice(d.dense,[256,256],h,1):this.extractDataSlice(d.dense,[256,256],h);const f={min_value:Math.min.apply(null,p),max_value:Math.max.apply(null,p),denseDataExtrema:new Tb(p),minNonZero:Lg(p),maxNonZero:Rg(p),dense:p,dtype:d.dtype,server:d.server,tilePos:i[e]?[u]:[c],tilePositionId:t[e],tilesetUid:o,zoomLevel:d.zoomLevel};a[t[e]]=f}e(a)}))}},{key:"makeDivided",value:function(e,t){e.length<2&&console.warn("Only one tileset specified for a divided datafetcher:",this.dataConfig);const n={};for(let r=0;r<t.length;r++){const i=e[0][t[r]].zoomLevel,o=e[0][t[r]].tilePos;let a={zoomLevel:i,tilePos:o,tilePositionId:t[r]};if(e[0][t[r]].dense&&e[1][t[r]].dense){const n=this.divideData(e[0][t[r]].dense,e[1][t[r]].dense);a={dense:n,denseDataExtrema:2===o.length?new _b(n):new Tb(n),minNonZero:Lg(n),maxNonZero:Rg(n),zoomLevel:i,tilePos:o,tilePositionId:t[r]}}n[t[r]]=a}return n}}]),e}();var UH={};!function(e){var t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},e.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},i={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)}(UH);var jH={},HH={},GH={},zH=UH,VH=0,YH=1;function $H(e){for(var t=e.length;--t>=0;)e[t]=0}var XH=0,WH=29,qH=256,KH=qH+1+WH,ZH=30,QH=19,JH=2*KH+1,eG=15,tG=16,nG=7,rG=256,iG=16,oG=17,aG=18,sG=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],lG=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],cG=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],uG=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],hG=new Array(2*(KH+2));$H(hG);var dG=new Array(2*ZH);$H(dG);var pG=new Array(512);$H(pG);var fG=new Array(256);$H(fG);var mG=new Array(WH);$H(mG);var gG,bG,vG,yG=new Array(ZH);function TG(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function _G(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function EG(e){return e<256?pG[e]:pG[256+(e>>>7)]}function xG(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function wG(e,t,n){e.bi_valid>tG-n?(e.bi_buf|=t<<e.bi_valid&65535,xG(e,e.bi_buf),e.bi_buf=t>>tG-e.bi_valid,e.bi_valid+=n-tG):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function SG(e,t,n){wG(e,n[2*t],n[2*t+1])}function AG(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function kG(e,t,n){var r,i,o=new Array(eG+1),a=0;for(r=1;r<=eG;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=AG(o[s]++,s))}}function CG(e){var t;for(t=0;t<KH;t++)e.dyn_ltree[2*t]=0;for(t=0;t<ZH;t++)e.dyn_dtree[2*t]=0;for(t=0;t<QH;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*rG]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function IG(e){e.bi_valid>8?xG(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function OG(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function DG(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&OG(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!OG(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function PG(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?SG(e,i,t):(SG(e,(o=fG[i])+qH+1,t),0!==(a=sG[o])&&wG(e,i-=mG[o],a),SG(e,o=EG(--r),n),0!==(a=lG[o])&&wG(e,r-=yG[o],a))}while(s<e.last_lit);SG(e,rG,t)}function NG(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=JH,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)DG(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],DG(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,DG(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(o=0;o<=eG;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<JH;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>f&&(o=f,m++),l[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=p&&(a=d[r-p]),s=l[2*r],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==m){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(o=f;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>c||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),kG(o,c,e.bl_count)}function RG(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*iG]++):s<=10?e.bl_tree[2*oG]++:e.bl_tree[2*aG]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))}function MG(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do{SG(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(SG(e,i,e.bl_tree),s--),SG(e,iG,e.bl_tree),wG(e,s-3,2)):s<=10?(SG(e,oG,e.bl_tree),wG(e,s-3,3)):(SG(e,aG,e.bl_tree),wG(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}}$H(yG);var LG=!1;function BG(e,t,n,r){wG(e,(XH<<1)+(r?1:0),3),function(e,t,n,r){IG(e),r&&(xG(e,n),xG(e,~n)),zH.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}GH._tr_init=function(e){LG||(function(){var e,t,n,r,i,o=new Array(eG+1);for(n=0,r=0;r<WH-1;r++)for(mG[r]=n,e=0;e<1<<sG[r];e++)fG[n++]=r;for(fG[n-1]=r,i=0,r=0;r<16;r++)for(yG[r]=i,e=0;e<1<<lG[r];e++)pG[i++]=r;for(i>>=7;r<ZH;r++)for(yG[r]=i<<7,e=0;e<1<<lG[r]-7;e++)pG[256+i++]=r;for(t=0;t<=eG;t++)o[t]=0;for(e=0;e<=143;)hG[2*e+1]=8,e++,o[8]++;for(;e<=255;)hG[2*e+1]=9,e++,o[9]++;for(;e<=279;)hG[2*e+1]=7,e++,o[7]++;for(;e<=287;)hG[2*e+1]=8,e++,o[8]++;for(kG(hG,KH+1,o),e=0;e<ZH;e++)dG[2*e+1]=5,dG[2*e]=AG(e,5);gG=new TG(hG,sG,qH+1,KH,eG),bG=new TG(dG,lG,0,ZH,eG),vG=new TG(new Array(0),cG,0,QH,nG)}(),LG=!0),e.l_desc=new _G(e.dyn_ltree,gG),e.d_desc=new _G(e.dyn_dtree,bG),e.bl_desc=new _G(e.bl_tree,vG),e.bi_buf=0,e.bi_valid=0,CG(e)},GH._tr_stored_block=BG,GH._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return VH;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return YH;for(t=32;t<qH;t++)if(0!==e.dyn_ltree[2*t])return YH;return VH}(e)),NG(e,e.l_desc),NG(e,e.d_desc),a=function(e){var t;for(RG(e,e.dyn_ltree,e.l_desc.max_code),RG(e,e.dyn_dtree,e.d_desc.max_code),NG(e,e.bl_desc),t=QH-1;t>=3&&0===e.bl_tree[2*uG[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?BG(e,t,n,r):4===e.strategy||o===i?(wG(e,2+(r?1:0),3),PG(e,hG,dG)):(wG(e,4+(r?1:0),3),function(e,t,n,r){var i;for(wG(e,t-257,5),wG(e,n-1,5),wG(e,r-4,4),i=0;i<r;i++)wG(e,e.bl_tree[2*uG[i]+1],3);MG(e,e.dyn_ltree,t-1),MG(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),PG(e,e.dyn_ltree,e.dyn_dtree)),CG(e),r&&IG(e)},GH._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(fG[n]+qH+1)]++,e.dyn_dtree[2*EG(t)]++),e.last_lit===e.lit_bufsize-1},GH._tr_align=function(e){wG(e,2,3),SG(e,rG,hG),function(e){16===e.bi_valid?(xG(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)};var FG=function(e,t,n,r){for(var i=65535&e,o=e>>>16&65535,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16};var UG=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();var jG,HG=function(e,t,n,r){var i=UG,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return~e},GG={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zG=UH,VG=GH,YG=FG,$G=HG,XG=GG,WG=0,qG=4,KG=0,ZG=-2,QG=-1,JG=4,ez=2,tz=8,nz=9,rz=286,iz=30,oz=19,az=2*rz+1,sz=15,lz=3,cz=258,uz=cz+lz+1,hz=42,dz=103,pz=113,fz=666,mz=1,gz=2,bz=3,vz=4;function yz(e,t){return e.msg=XG[t],t}function Tz(e){return(e<<1)-(e>4?9:0)}function _z(e){for(var t=e.length;--t>=0;)e[t]=0}function Ez(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(zG.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function xz(e,t){VG._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ez(e.strm)}function wz(e,t){e.pending_buf[e.pending++]=t}function Sz(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function Az(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-uz?e.strstart-(e.w_size-uz):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+cz,p=c[o+a-1],f=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===f&&c[n+a-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=cz-(d-o),o=d-cz,r>a){if(e.match_start=t,a=r,r>=s)break;p=c[o+a-1],f=c[o+a]}}}while((t=h[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function kz(e){var t,n,r,i,o,a,s,l,c,u,h=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-uz)){zG.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=h?r-h:0}while(--n);t=n=h;do{r=e.prev[--t],e.prev[t]=r>=h?r-h:0}while(--n);i+=h}if(0===e.strm.avail_in)break;if(a=e.strm,s=e.window,l=e.strstart+e.lookahead,c=i,u=void 0,(u=a.avail_in)>c&&(u=c),n=0===u?0:(a.avail_in-=u,zG.arraySet(s,a.input,a.next_in,u,l),1===a.state.wrap?a.adler=YG(a.adler,s,u,l):2===a.state.wrap&&(a.adler=$G(a.adler,s,u,l)),a.next_in+=u,a.total_in+=u,u),e.lookahead+=n,e.lookahead+e.insert>=lz)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+lz-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<lz)););}while(e.lookahead<uz&&0!==e.strm.avail_in)}function Cz(e,t){for(var n,r;;){if(e.lookahead<uz){if(kz(e),e.lookahead<uz&&t===WG)return mz;if(0===e.lookahead)break}if(n=0,e.lookahead>=lz&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+lz-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-uz&&(e.match_length=Az(e,n)),e.match_length>=lz)if(r=VG._tr_tally(e,e.strstart-e.match_start,e.match_length-lz),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=lz){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+lz-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=VG._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(xz(e,!1),0===e.strm.avail_out))return mz}return e.insert=e.strstart<lz-1?e.strstart:lz-1,t===qG?(xz(e,!0),0===e.strm.avail_out?bz:vz):e.last_lit&&(xz(e,!1),0===e.strm.avail_out)?mz:gz}function Iz(e,t){for(var n,r,i;;){if(e.lookahead<uz){if(kz(e),e.lookahead<uz&&t===WG)return mz;if(0===e.lookahead)break}if(n=0,e.lookahead>=lz&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+lz-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=lz-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-uz&&(e.match_length=Az(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===lz&&e.strstart-e.match_start>4096)&&(e.match_length=lz-1)),e.prev_length>=lz&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-lz,r=VG._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-lz),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+lz-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=lz-1,e.strstart++,r&&(xz(e,!1),0===e.strm.avail_out))return mz}else if(e.match_available){if((r=VG._tr_tally(e,0,e.window[e.strstart-1]))&&xz(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return mz}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=VG._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<lz-1?e.strstart:lz-1,t===qG?(xz(e,!0),0===e.strm.avail_out?bz:vz):e.last_lit&&(xz(e,!1),0===e.strm.avail_out)?mz:gz}function Oz(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function Dz(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tz,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new zG.Buf16(2*az),this.dyn_dtree=new zG.Buf16(2*(2*iz+1)),this.bl_tree=new zG.Buf16(2*(2*oz+1)),_z(this.dyn_ltree),_z(this.dyn_dtree),_z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new zG.Buf16(sz+1),this.heap=new zG.Buf16(2*rz+1),_z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new zG.Buf16(2*rz+1),_z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pz(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=ez,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?hz:pz,e.adler=2===t.wrap?0:1,t.last_flush=WG,VG._tr_init(t),KG):yz(e,ZG)}function Nz(e){var t,n=Pz(e);return n===KG&&((t=e.state).window_size=2*t.w_size,_z(t.head),t.max_lazy_match=jG[t.level].max_lazy,t.good_match=jG[t.level].good_length,t.nice_match=jG[t.level].nice_length,t.max_chain_length=jG[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=lz-1,t.match_available=0,t.ins_h=0),n}function Rz(e,t,n,r,i,o){if(!e)return ZG;var a=1;if(t===QG&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>nz||n!==tz||r<8||r>15||t<0||t>9||o<0||o>JG)return yz(e,ZG);8===r&&(r=9);var s=new Dz;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+lz-1)/lz),s.window=new zG.Buf8(2*s.w_size),s.head=new zG.Buf16(s.hash_size),s.prev=new zG.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new zG.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,Nz(e)}jG=[new Oz(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(kz(e),0===e.lookahead&&t===WG)return mz;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,xz(e,!1),0===e.strm.avail_out))return mz;if(e.strstart-e.block_start>=e.w_size-uz&&(xz(e,!1),0===e.strm.avail_out))return mz}return e.insert=0,t===qG?(xz(e,!0),0===e.strm.avail_out?bz:vz):(e.strstart>e.block_start&&(xz(e,!1),e.strm.avail_out),mz)})),new Oz(4,4,8,4,Cz),new Oz(4,5,16,8,Cz),new Oz(4,6,32,32,Cz),new Oz(4,4,16,16,Iz),new Oz(8,16,32,32,Iz),new Oz(8,16,128,128,Iz),new Oz(8,32,128,256,Iz),new Oz(32,128,258,1024,Iz),new Oz(32,258,258,4096,Iz)],HH.deflateInit=function(e,t){return Rz(e,t,tz,15,8,0)},HH.deflateInit2=Rz,HH.deflateReset=Nz,HH.deflateResetKeep=Pz,HH.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?ZG:(e.state.gzhead=t,KG):ZG},HH.deflate=function(e,t){var n,r,i,o;if(!e||!e.state||t>5||t<0)return e?yz(e,ZG):ZG;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===fz&&t!==qG)return yz(e,0===e.avail_out?-5:ZG);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===hz)if(2===r.wrap)e.adler=0,wz(r,31),wz(r,139),wz(r,8),r.gzhead?(wz(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),wz(r,255&r.gzhead.time),wz(r,r.gzhead.time>>8&255),wz(r,r.gzhead.time>>16&255),wz(r,r.gzhead.time>>24&255),wz(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),wz(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(wz(r,255&r.gzhead.extra.length),wz(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=$G(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(wz(r,0),wz(r,0),wz(r,0),wz(r,0),wz(r,0),wz(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),wz(r,3),r.status=pz);else{var a=tz+(r.w_bits-8<<4)<<8;a|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=pz,Sz(r,a),0!==r.strstart&&(Sz(r,e.adler>>>16),Sz(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(e.adler=$G(e.adler,r.pending_buf,r.pending-i,i)),Ez(e),i=r.pending,r.pending!==r.pending_buf_size));)wz(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=$G(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=$G(e.adler,r.pending_buf,r.pending-i,i)),Ez(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,wz(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(e.adler=$G(e.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=$G(e.adler,r.pending_buf,r.pending-i,i)),Ez(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}o=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,wz(r,o)}while(0!==o);r.gzhead.hcrc&&r.pending>i&&(e.adler=$G(e.adler,r.pending_buf,r.pending-i,i)),0===o&&(r.status=dz)}else r.status=dz;if(r.status===dz&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Ez(e),r.pending+2<=r.pending_buf_size&&(wz(r,255&e.adler),wz(r,e.adler>>8&255),e.adler=0,r.status=pz)):r.status=pz),0!==r.pending){if(Ez(e),0===e.avail_out)return r.last_flush=-1,KG}else if(0===e.avail_in&&Tz(t)<=Tz(n)&&t!==qG)return yz(e,-5);if(r.status===fz&&0!==e.avail_in)return yz(e,-5);if(0!==e.avail_in||0!==r.lookahead||t!==WG&&r.status!==fz){var s=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(kz(e),0===e.lookahead)){if(t===WG)return mz;break}if(e.match_length=0,n=VG._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(xz(e,!1),0===e.strm.avail_out))return mz}return e.insert=0,t===qG?(xz(e,!0),0===e.strm.avail_out?bz:vz):e.last_lit&&(xz(e,!1),0===e.strm.avail_out)?mz:gz}(r,t):3===r.strategy?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=cz){if(kz(e),e.lookahead<=cz&&t===WG)return mz;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=lz&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+cz;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=cz-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=lz?(n=VG._tr_tally(e,1,e.match_length-lz),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=VG._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(xz(e,!1),0===e.strm.avail_out))return mz}return e.insert=0,t===qG?(xz(e,!0),0===e.strm.avail_out?bz:vz):e.last_lit&&(xz(e,!1),0===e.strm.avail_out)?mz:gz}(r,t):jG[r.level].func(r,t);if(s!==bz&&s!==vz||(r.status=fz),s===mz||s===bz)return 0===e.avail_out&&(r.last_flush=-1),KG;if(s===gz&&(1===t?VG._tr_align(r):5!==t&&(VG._tr_stored_block(r,0,0,!1),3===t&&(_z(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Ez(e),0===e.avail_out))return r.last_flush=-1,KG}return t!==qG?KG:r.wrap<=0?1:(2===r.wrap?(wz(r,255&e.adler),wz(r,e.adler>>8&255),wz(r,e.adler>>16&255),wz(r,e.adler>>24&255),wz(r,255&e.total_in),wz(r,e.total_in>>8&255),wz(r,e.total_in>>16&255),wz(r,e.total_in>>24&255)):(Sz(r,e.adler>>>16),Sz(r,65535&e.adler)),Ez(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?KG:1)},HH.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==hz&&69!==t&&73!==t&&91!==t&&t!==dz&&t!==pz&&t!==fz?yz(e,ZG):(e.state=null,t===pz?yz(e,-3):KG):ZG},HH.deflateSetDictionary=function(e,t){var n,r,i,o,a,s,l,c,u=t.length;if(!e||!e.state)return ZG;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==hz||n.lookahead)return ZG;for(1===o&&(e.adler=YG(e.adler,t,u,0)),n.wrap=0,u>=n.w_size&&(0===o&&(_z(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new zG.Buf8(n.w_size),zG.arraySet(c,t,u-n.w_size,n.w_size,0),t=c,u=n.w_size),a=e.avail_in,s=e.next_in,l=e.input,e.avail_in=u,e.next_in=0,e.input=t,kz(n);n.lookahead>=lz;){r=n.strstart,i=n.lookahead-(lz-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+lz-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=lz-1,kz(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=lz-1,n.match_available=0,e.next_in=s,e.input=l,e.avail_in=a,n.wrap=o,KG},HH.deflateInfo="pako deflate (from Nodeca project)";var Mz={},Lz=UH,Bz=!0,Fz=!0;try{String.fromCharCode.apply(null,[0])}catch(e){Bz=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Fz=!1}for(var Uz=new Lz.Buf8(256),jz=0;jz<256;jz++)Uz[jz]=jz>=252?6:jz>=248?5:jz>=240?4:jz>=224?3:jz>=192?2:1;function Hz(e,t){if(t<65534&&(e.subarray&&Fz||!e.subarray&&Bz))return String.fromCharCode.apply(null,Lz.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}Uz[254]=Uz[254]=1,Mz.string2buf=function(e){var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Lz.Buf8(s),o=0,i=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},Mz.buf2binstring=function(e){return Hz(e,e.length)},Mz.binstring2buf=function(e){for(var t=new Lz.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},Mz.buf2string=function(e,t){var n,r,i,o,a=t||e.length,s=new Array(2*a);for(r=0,n=0;n<a;)if((i=e[n++])<128)s[r++]=i;else if((o=Uz[i])>4)s[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<a;)i=i<<6|63&e[n++],o--;o>1?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return Hz(s,r)},Mz.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Uz[e[n]]>t?n:t};var Gz=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},zz=HH,Vz=UH,Yz=Mz,$z=GG,Xz=Gz,Wz=Object.prototype.toString,qz=0,Kz=-1,Zz=0,Qz=8;function Jz(e){if(!(this instanceof Jz))return new Jz(e);this.options=Vz.assign({level:Kz,method:Qz,chunkSize:16384,windowBits:15,memLevel:8,strategy:Zz,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xz,this.strm.avail_out=0;var n=zz.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==qz)throw new Error($z[n]);if(t.header&&zz.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?Yz.string2buf(t.dictionary):"[object ArrayBuffer]"===Wz.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=zz.deflateSetDictionary(this.strm,r))!==qz)throw new Error($z[n]);this._dict_set=!0}}function eV(e,t){var n=new Jz(t);if(n.push(e,!0),n.err)throw n.msg||$z[n.err];return n.result}Jz.prototype.push=function(e,t){var n,r,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,"string"==typeof e?i.input=Yz.string2buf(e):"[object ArrayBuffer]"===Wz.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new Vz.Buf8(o),i.next_out=0,i.avail_out=o),1!==(n=zz.deflate(i,r))&&n!==qz)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(Yz.buf2binstring(Vz.shrinkBuf(i.output,i.next_out))):this.onData(Vz.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=zz.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===qz):2!==r||(this.onEnd(qz),i.avail_out=0,!0)},Jz.prototype.onData=function(e){this.chunks.push(e)},Jz.prototype.onEnd=function(e){e===qz&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Vz.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},jH.Deflate=Jz,jH.deflate=eV,jH.deflateRaw=function(e,t){return(t=t||{}).raw=!0,eV(e,t)},jH.gzip=function(e,t){return(t=t||{}).gzip=!0,eV(e,t)};var tV={},nV={},rV=UH,iV=15,oV=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],aV=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],sV=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],lV=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],cV=UH,uV=FG,hV=HG,dV=function(e,t){var n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,b,v,y,T,_,E,x,w,S,A;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,A=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,h=n.wnext,d=n.window,p=n.hold,f=n.bits,m=n.lencode,g=n.distcode,b=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{f<15&&(p+=S[r++]<<f,f+=8,p+=S[r++]<<f,f+=8),y=m[p&b];t:for(;;){if(p>>>=T=y>>>24,f-=T,0==(T=y>>>16&255))A[o++]=65535&y;else{if(!(16&T)){if(64&T){if(32&T){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}y=m[(65535&y)+(p&(1<<T)-1)];continue t}for(_=65535&y,(T&=15)&&(f<T&&(p+=S[r++]<<f,f+=8),_+=p&(1<<T)-1,p>>>=T,f-=T),f<15&&(p+=S[r++]<<f,f+=8,p+=S[r++]<<f,f+=8),y=g[p&v];;){if(p>>>=T=y>>>24,f-=T,16&(T=y>>>16&255)){if(E=65535&y,f<(T&=15)&&(p+=S[r++]<<f,(f+=8)<T&&(p+=S[r++]<<f,f+=8)),(E+=p&(1<<T)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=T,f-=T,E>(T=o-a)){if((T=E-T)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,w=d,0===h){if(x+=c-T,T<_){_-=T;do{A[o++]=d[x++]}while(--T);x=o-E,w=A}}else if(h<T){if(x+=c+h-T,(T-=h)<_){_-=T;do{A[o++]=d[x++]}while(--T);if(x=0,h<_){_-=T=h;do{A[o++]=d[x++]}while(--T);x=o-E,w=A}}}else if(x+=h-T,T<_){_-=T;do{A[o++]=d[x++]}while(--T);x=o-E,w=A}for(;_>2;)A[o++]=w[x++],A[o++]=w[x++],A[o++]=w[x++],_-=3;_&&(A[o++]=w[x++],_>1&&(A[o++]=w[x++]))}else{x=o-E;do{A[o++]=A[x++],A[o++]=A[x++],A[o++]=A[x++],_-=3}while(_>2);_&&(A[o++]=A[x++],_>1&&(A[o++]=A[x++]))}break}if(64&T){e.msg="invalid distance code",n.mode=30;break e}y=g[(65535&y)+(p&(1<<T)-1)]}}break}}while(r<i&&o<s);r-=_=f>>3,p&=(1<<(f-=_<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=f},pV=function(e,t,n,r,i,o,a,s){var l,c,u,h,d,p,f,m,g,b=s.bits,v=0,y=0,T=0,_=0,E=0,x=0,w=0,S=0,A=0,k=0,C=null,I=0,O=new rV.Buf16(16),D=new rV.Buf16(16),P=null,N=0;for(v=0;v<=iV;v++)O[v]=0;for(y=0;y<r;y++)O[t[n+y]]++;for(E=b,_=iV;_>=1&&0===O[_];_--);if(E>_&&(E=_),0===_)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(T=1;T<_&&0===O[T];T++);for(E<T&&(E=T),S=1,v=1;v<=iV;v++)if(S<<=1,(S-=O[v])<0)return-1;if(S>0&&(0===e||1!==_))return-1;for(D[1]=0,v=1;v<iV;v++)D[v+1]=D[v]+O[v];for(y=0;y<r;y++)0!==t[n+y]&&(a[D[t[n+y]]++]=y);if(0===e?(C=P=a,p=19):1===e?(C=oV,I-=257,P=aV,N-=257,p=256):(C=sV,P=lV,p=-1),k=0,y=0,v=T,d=o,x=E,w=0,u=-1,h=(A=1<<E)-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){f=v-w,a[y]<p?(m=0,g=a[y]):a[y]>p?(m=P[N+a[y]],g=C[I+a[y]]):(m=96,g=0),l=1<<v-w,T=c=1<<x;do{i[d+(k>>w)+(c-=l)]=f<<24|m<<16|g}while(0!==c);for(l=1<<v-1;k&l;)l>>=1;if(0!==l?(k&=l-1,k+=l):k=0,y++,0==--O[v]){if(v===_)break;v=t[n+a[y]]}if(v>E&&(k&h)!==u){for(0===w&&(w=E),d+=T,S=1<<(x=v-w);x+w<_&&!((S-=O[x+w])<=0);)x++,S<<=1;if(A+=1<<x,1===e&&A>852||2===e&&A>592)return 1;i[u=k&h]=E<<24|x<<16|d-o}}return 0!==k&&(i[d+k]=v-w<<24|64<<16),s.bits=E,0},fV=1,mV=2,gV=0,bV=-2,vV=1,yV=12,TV=30,_V=852,EV=592;function xV(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function wV(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new cV.Buf16(320),this.work=new cV.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function SV(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=vV,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new cV.Buf32(_V),t.distcode=t.distdyn=new cV.Buf32(EV),t.sane=1,t.back=-1,gV):bV}function AV(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,SV(e)):bV}function kV(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?bV:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,AV(e))):bV}function CV(e,t){var n,r;return e?(r=new wV,e.state=r,r.window=null,(n=kV(e,t))!==gV&&(e.state=null),n):bV}var IV,OV,DV=!0;function PV(e){if(DV){var t;for(IV=new cV.Buf32(512),OV=new cV.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(pV(fV,e.lens,0,288,IV,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;pV(mV,e.lens,0,32,OV,0,e.work,{bits:5}),DV=!1}e.lencode=IV,e.lenbits=9,e.distcode=OV,e.distbits=5}function NV(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new cV.Buf8(o.wsize)),r>=o.wsize?(cV.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),cV.arraySet(o.window,t,n-r,i,o.wnext),(r-=i)?(cV.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}nV.inflateReset=AV,nV.inflateReset2=kV,nV.inflateResetKeep=SV,nV.inflateInit=function(e){return CV(e,15)},nV.inflateInit2=CV,nV.inflate=function(e,t){var n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,b,v,y,T,_,E,x,w,S,A=0,k=new cV.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return bV;(n=e.state).mode===yV&&(n.mode=13),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,h=s,d=l,x=gV;e:for(;;)switch(n.mode){case vV:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(2&n.wrap&&35615===c){n.check=0,k[0]=255&c,k[1]=c>>>8&255,n.check=hV(n.check,k,2,0),c=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=TV;break}if(8!=(15&c)){e.msg="unknown compression method",n.mode=TV;break}if(u-=4,E=8+(15&(c>>>=4)),0===n.wbits)n.wbits=E;else if(E>n.wbits){e.msg="invalid window size",n.mode=TV;break}n.dmax=1<<E,e.adler=n.check=1,n.mode=512&c?10:yV,c=0,u=0;break;case 2:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.flags=c,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=TV;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=TV;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,n.check=hV(n.check,k,2,0)),c=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,n.check=hV(n.check,k,4,0)),c=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,n.check=hV(n.check,k,2,0)),c=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(k[0]=255&c,k[1]=c>>>8&255,n.check=hV(n.check,k,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((p=n.length)>s&&(p=s),p&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),cV.arraySet(n.head.extra,r,o,p,E)),512&n.flags&&(n.check=hV(n.check,r,p,o)),s-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;p=0;do{E=r[o+p++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&p<s);if(512&n.flags&&(n.check=hV(n.check,r,p,o)),s-=p,o+=p,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;p=0;do{E=r[o+p++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&p<s);if(512&n.flags&&(n.check=hV(n.check,r,p,o)),s-=p,o+=p,E)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=TV;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=yV;break;case 10:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}e.adler=n.check=xV(c),c=0,u=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,2;e.adler=n.check=1,n.mode=yV;case yV:if(5===t||6===t)break e;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}switch(n.last=1&c,u-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(PV(n),n.mode=20,6===t){c>>>=2,u-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=TV}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=TV;break}if(n.length=65535&c,c=0,u=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(p=n.length){if(p>s&&(p=s),p>l&&(p=l),0===p)break e;cV.arraySet(i,r,o,p,a),s-=p,o+=p,l-=p,a+=p,n.length-=p;break}n.mode=yV;break;case 17:for(;u<14;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=TV;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.lens[C[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,w={bits:n.lenbits},x=pV(0,n.lens,0,19,n.lencode,0,n.work,w),n.lenbits=w.bits,x){e.msg="invalid code lengths set",n.mode=TV;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;b=(A=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&A,!((g=A>>>24)<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(v<16)c>>>=g,u-=g,n.lens[n.have++]=v;else{if(16===v){for(S=g+2;u<S;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=TV;break}E=n.lens[n.have-1],p=3+(3&c),c>>>=2,u-=2}else if(17===v){for(S=g+3;u<S;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}u-=g,E=0,p=3+(7&(c>>>=g)),c>>>=3,u-=3}else{for(S=g+7;u<S;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}u-=g,E=0,p=11+(127&(c>>>=g)),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=TV;break}for(;p--;)n.lens[n.have++]=E}}if(n.mode===TV)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=TV;break}if(n.lenbits=9,w={bits:n.lenbits},x=pV(fV,n.lens,0,n.nlen,n.lencode,0,n.work,w),n.lenbits=w.bits,x){e.msg="invalid literal/lengths set",n.mode=TV;break}if(n.distbits=6,n.distcode=n.distdyn,w={bits:n.distbits},x=pV(mV,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,w),n.distbits=w.bits,x){e.msg="invalid distances set",n.mode=TV;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,dV(e,d),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,n.mode===yV&&(n.back=-1);break}for(n.back=0;b=(A=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&A,!((g=A>>>24)<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(b&&!(240&b)){for(y=g,T=b,_=v;b=(A=n.lencode[_+((c&(1<<y+T)-1)>>y)])>>>16&255,v=65535&A,!(y+(g=A>>>24)<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,n.length=v,0===b){n.mode=26;break}if(32&b){n.back=-1,n.mode=yV;break}if(64&b){e.msg="invalid literal/length code",n.mode=TV;break}n.extra=15&b,n.mode=22;case 22:if(n.extra){for(S=n.extra;u<S;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;b=(A=n.distcode[c&(1<<n.distbits)-1])>>>16&255,v=65535&A,!((g=A>>>24)<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(!(240&b)){for(y=g,T=b,_=v;b=(A=n.distcode[_+((c&(1<<y+T)-1)>>y)])>>>16&255,v=65535&A,!(y+(g=A>>>24)<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,64&b){e.msg="invalid distance code",n.mode=TV;break}n.offset=v,n.extra=15&b,n.mode=24;case 24:if(n.extra){for(S=n.extra;u<S;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=TV;break}n.mode=25;case 25:if(0===l)break e;if(p=d-l,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=TV;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=i,f=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{i[a++]=m[f++]}while(--p);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;i[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=r[o++]<<u,u+=8}if(d-=l,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?hV(n.check,i,d,a-d):uV(n.check,i,d,a-d)),d=l,(n.flags?c:xV(c))!==n.check){e.msg="incorrect data check",n.mode=TV;break}c=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=TV;break}c=0,u=0}n.mode=29;case 29:x=1;break e;case TV:x=-3;break e;case 31:return-4;default:return bV}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||d!==e.avail_out&&n.mode<TV&&(n.mode<27||4!==t))&&NV(e,e.output,e.next_out,d-e.avail_out),h-=e.avail_in,d-=e.avail_out,e.total_in+=h,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?hV(n.check,i,d,e.next_out-d):uV(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===yV?128:0)+(20===n.mode||15===n.mode?256:0),(0===h&&0===d||4===t)&&x===gV&&(x=-5),x},nV.inflateEnd=function(e){if(!e||!e.state)return bV;var t=e.state;return t.window&&(t.window=null),e.state=null,gV},nV.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?(n.head=t,t.done=!1,gV):bV},nV.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?bV:11===n.mode&&uV(1,t,r,0)!==n.check?-3:NV(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,gV):bV},nV.inflateInfo="pako inflate (from Nodeca project)";var RV={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};var MV=nV,LV=UH,BV=Mz,FV=RV,UV=GG,jV=Gz,HV=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},GV=Object.prototype.toString;function zV(e){if(!(this instanceof zV))return new zV(e);this.options=LV.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new jV,this.strm.avail_out=0;var n=MV.inflateInit2(this.strm,t.windowBits);if(n!==FV.Z_OK)throw new Error(UV[n]);if(this.header=new HV,MV.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=BV.string2buf(t.dictionary):"[object ArrayBuffer]"===GV.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=MV.inflateSetDictionary(this.strm,t.dictionary))!==FV.Z_OK))throw new Error(UV[n])}function VV(e,t){var n=new zV(t);if(n.push(e,!0),n.err)throw n.msg||UV[n.err];return n.result}zV.prototype.push=function(e,t){var n,r,i,o,a,s=this.strm,l=this.options.chunkSize,c=this.options.dictionary,u=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?FV.Z_FINISH:FV.Z_NO_FLUSH,"string"==typeof e?s.input=BV.binstring2buf(e):"[object ArrayBuffer]"===GV.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new LV.Buf8(l),s.next_out=0,s.avail_out=l),(n=MV.inflate(s,FV.Z_NO_FLUSH))===FV.Z_NEED_DICT&&c&&(n=MV.inflateSetDictionary(this.strm,c)),n===FV.Z_BUF_ERROR&&!0===u&&(n=FV.Z_OK,u=!1),n!==FV.Z_STREAM_END&&n!==FV.Z_OK)return this.onEnd(n),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&n!==FV.Z_STREAM_END&&(0!==s.avail_in||r!==FV.Z_FINISH&&r!==FV.Z_SYNC_FLUSH)||("string"===this.options.to?(i=BV.utf8border(s.output,s.next_out),o=s.next_out-i,a=BV.buf2string(s.output,i),s.next_out=o,s.avail_out=l-o,o&&LV.arraySet(s.output,s.output,i,o,0),this.onData(a)):this.onData(LV.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(u=!0)}while((s.avail_in>0||0===s.avail_out)&&n!==FV.Z_STREAM_END);return n===FV.Z_STREAM_END&&(r=FV.Z_FINISH),r===FV.Z_FINISH?(n=MV.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===FV.Z_OK):r!==FV.Z_SYNC_FLUSH||(this.onEnd(FV.Z_OK),s.avail_out=0,!0)},zV.prototype.onData=function(e){this.chunks.push(e)},zV.prototype.onEnd=function(e){e===FV.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=LV.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},tV.Inflate=zV,tV.inflate=VV,tV.inflateRaw=function(e,t){return(t=t||{}).raw=!0,VV(e,t)},tV.ungzip=VV;var YV={};(0,UH.assign)(YV,jH,tV,RV);var $V=YV;const XV=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];function WV(e){let t=/^\s*/.exec(e);return null!==t?t[0].length:0}var qV=function(e){if("string"!=typeof e)throw new TypeError("input must be a string");let t,n,r,i,o,a,s,l=[],c="LOCUS",u="DEFINITION",h="ACCESSION",d="VERSION",p="KEYWORDS",f="SOURCE",m="ORGANISM",g="REFERENCE",b="FEATURES",v="ORIGIN",y="//",T=e.split(/\r?\n/),_=!1;for(let e of T){if(null===e)break;let n=O(e),o=P(e),a=R(e),s=N(e);if(n===y||s?(r=n,i=null):a&&(i=n),""!==e.trim()&&";"!==n){if(!_&&r!==c)break;switch(r){case c:_=!0,S(e);break;case b:C(e,n,o);break;case v:w(e,n);break;case u:case h:case d:case p:D(r,e,r.toLowerCase());break;case f:i===m?D(i,e,"organism"):D(n,e,"source");break;case g:if(n===g){const e=t.references||[];t.references=e,e.push({})}k(e,i);break;case y:E()}}}return l[l.length-1]!==t&&E(),l;function E(){(function(){if(t&&t.features)for(let e=0;e<t.features.length;e++)t.features[e]=M(t.features[e])})(),l.push(t)}function x(){return t.features[t.features.length-1]}function w(e,n){if(n!==v){let n=e.replace(/[\s]*[0-9]*/g,"");t.sequence+=n}}function S(e){t={features:[],name:"Untitled sequence",sequence:"",references:[]};const n=(e=A(c,e)).match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s*([^\s]+)?$/);let r=n[1],i=+n[2],o=n[3],a="circular"===n[4];const s=t;let l="";n[6]?(s.genbankDivision=n[5],l=n[6]):l=n[5],s.circular=a,s.moleculeType=o;const u=l.match(/^(\d{2})-(.{3})-(\d{4})$/),h=new Date;h.setFullYear(+u[3]),h.setUTCMonth(XV.indexOf(u[2].toUpperCase())),h.setDate(+u[1]),h.setUTCHours(12),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),s.date=h.toISOString(),s.name=r,s.size=i}function A(e,t){return 0===(t=t.replace(/^\s*/,"")).indexOf(e)&&(t=t.replace(e,"")),t.trim()}function k(e,n){const r=t.references;let i=r[r.length-1];n?D(n,e,n.toLowerCase(),i):D(g,e,"description",i)}function C(e,r,i){let l;if(r!==b)if(a&&(o=WV(e),a=!1),function(e,t){return t!==WV(e)&&!e.trim().charAt(0).match(/\//)}(e,o))s?(I(e.trim()),s=!0):(n&&(n[n.length-1]+=e.trim().replace(/"/g,"")),s=!1);else if(function(e){let t=!1;return(e.trim().charAt(0).match(/\//)||e.match(/^[\s]*\/[\w]+=[\S]+/))&&(t=!0),t}(e))x()&&(function(e){let t,r;t=e.trim(),t=t.replace(/^\/|"$/g,""),r=t.split(/="|=/);let i=r[1];i&&(i=i.replace(/\\/g," "),e.match(/="/g)?i=i.replace(/".*/g,""):i.match(/^\d+$/g)&&(i=+i));let o=r[0],a=x().notes;a[o]?a[o].push(i):a[o]=[i],n=a[o]}(e),s=!1);else{l=i.match(/complement/g)?-1:1,t.features.push({notes:{}});let e=x();e.type=r,e.strand=l,I(i),s=!0}else a=!0}function I(e){e=e.trim();let t=[];e.replace(/(\d+)/g,(function(e,n){t.push(n)}));let n=x();n.start=+t[0],n.end=void 0===t[1]?+t[0]:+t[1]}function O(e){let t;return t=(e=e.trim()).split(/[\s]+/),t[0]}function D(e,n,r,i){i=i||t;let o=A(e,n);i[r]=i[r]?`${i[r]} `:"",i[r]+=o}function P(e){let t;return e.indexOf("=")<0?e=(e=e.replace(/^[\s]*[\S]+[\s]+|[\s]+$/,"")).trim():(t=e.split(/=/),t[1])}function N(e){let t=!1;return e.substr(0,10).match(/^[\S]+/)&&(t=!0),t}function R(e){let t=!1;return e.substr(0,10).match(/^[\s]+[\S]+/)&&(t=!0),t}function M(e){return e.notes.label?e.name=e.notes.label[0]:e.notes.gene?e.name=e.notes.gene[0]:e.notes.ApEinfo_label?e.name=e.notes.ApEinfo_label[0]:e.notes.name?e.name=e.notes.name[0]:e.notes.organism?e.name=e.notes.organism[0]:e.notes.locus_tag?e.name=e.notes.locus_tag[0]:e.notes.note?e.name=e.notes.note[0]:e.name="Untitled Feature",e.name="string"==typeof e.name?e.name:String(e.name),e}};function KV(e,t){const n=[];if(!e.length)return[];let r=e[0].start,i=e[0].end;for(let o=1;o<e.length;o++)e[o].start<i+5/t?i=Math.max(i,e[o].end):(n.push({type:"filler",start:r,end:i}),r=e[o].start,i=e[o].end);return n.push({start:r,end:i,type:"filler"}),n}const ZV=e=>{const t=qV(e),n=function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}(t[0].features.filter((e=>"source"!==e.type)).sort(((e,t)=>e.start-t.start)));return[t,n]};let QV=function(){function e(t){if(d(this,e),this.dataConfig=t,this.trackUid=Ns.nice(),t.url){const e=".gz"===t.url.slice(t.url.length-3);this.errorTxt="",this.dataPromise=fetch(t.url,{mode:"cors",redirect:"follow",method:"GET"}).then((t=>e?t.arrayBuffer():t.text())).then((t=>{const n=e?$V.inflate(t,{to:"string"}):t;[this.gbJson,this.cdss]=ZV(n)}))}else t.text&&(this.dataPromise=new Promise(((e,n)=>{[this.gbJson,this.cdss]=ZV(t.text),e()})))}return f(e,[{key:"tilesetInfo",value:function(e){return this.tilesetInfoLoading=!0,this.dataPromise.then((()=>{this.tilesetInfoLoading=!1;let t={};return t={tile_size:1024,max_zoom:Math.ceil(Math.log(this.gbJson[0].size/1024)/Math.log(2)),max_width:this.gbJson[0].size,min_pos:[0],max_pos:[this.gbJson[0].size]},e&&e(t),t})).catch((t=>{this.tilesetInfoLoading=!1,e&&e({error:`Error parsing genbank: ${t}`})}))}},{key:"fetchTilesDebounced",value:function(e,t){const n={},r=[],i=[];for(const e of t){const t=e.split("."),n=parseInt(t[0],10),o=parseInt(t[1],10);Number.isNaN(o)||Number.isNaN(n)?console.warn("Invalid tile zoom or position:",n,o):(r.push(e),i.push(this.tile(n,o)))}return Promise.all(i).then((t=>{for(let e=0;e<t.length;e++){const i=r[e];n[i]=t[e],n[i].tilePositionId=i}e(n)})),n}},{key:"tile",value:function(e,t){return this.tilesetInfo().then((n=>{const r=+n.max_width/2**+e,i=n.min_pos[0]+t*r,o=n.min_pos[0]+(t+1)*r,a=this.cdss.filter((e=>e.end>i&&e.start<o)),s=1024/2**(n.max_zoom-e),l=KV(a.filter((e=>1===e.strand)),s),c=KV(a.filter((e=>1!==e.strand)),s);l.forEach((e=>{e.strand="+"})),c.forEach((e=>{e.strand="-"}));let u=[];for(let e=0;e<this.cdss.length&&!(u.length>=20);e++)this.cdss[e].end>=i&&this.cdss[e].start<=o&&u.push(this.cdss[e]);return u=[...u,...l,...c],u.map((e=>function(e){const t=e.end-e.start,n=1===e.strand?"+":"-",r=Ns.nice();return"filler"===e.type?{xStart:e.start,xEnd:e.end,strand:e.strand,fields:[],type:"filler",uid:r}:{xStart:e.start,xEnd:e.end,strand:n,chrOffset:0,importance:e.end-e.start,uid:r,type:e.type,fields:["chrom",e.start,e.end,e.name,t,n,"","",e.type,e.name,e.start.toString(),e.end.toString(),e.start.toString(),e.end.toString()]}}(e)))}))}}]),e}(),JV=function(){function e(t){d(this,e),this.dataConfig=t,this.tilesetInfoData=Object.values(this.dataConfig.tilesetInfo)[0]}return f(e,[{key:"tilesetInfo",value:function(e){this.tilesetInfoLoading=!1,e(this.tilesetInfoData)}},{key:"fetchTilesDebounced",value:function(e,t){this.tilesData={};for(const e of Object.keys(this.dataConfig.tiles)){const t=`localtile.${e.split(".").slice(1).join(".")}`;this.tilesData[t]=this.dataConfig.tiles[e]}const n={},r=t.map((e=>`localtile.${e}`));ag(this.tilesData,"",r);for(const e of t)n[e]=this.tilesData[`localtile.${e}`];e(n)}},{key:"tile",value:function(e,t){}}]),e}();const eY=new(function(){function e(){d(this,e),this.taskList=[],this.taskHandle=null,this.requestIdleCallbackTimeout=300}return f(e,[{key:"enqueueTask",value:function(e,t,n=null){null===n?this.taskList.push({handler:e,data:t}):(this.taskList=this.taskList.filter((e=>e.trackId!==n)),this.taskList.push({handler:e,data:t,trackId:n})),this.taskHandle||(this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}))}},{key:"runTaskQueue",value:function(e){for(;(e.timeRemaining()>0||e.didTimeout)&&this.taskList.length;){const e=this.taskList.shift();null===e.data?e.handler():e.handler(e.data)}this.taskList.length?this.taskHandle=requestIdleCallback(this.runTaskQueue.bind(this),{timeout:this.requestIdleCallbackTimeout}):this.taskHandle=0}}]),e}());let tY=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{pubSub:o,dataConfig:s,handleTilesetInfoReceived:l,animate:c,onValueScaleChanged:u}=e;return i.renderVersion=1,i.visibleTiles=new Set,i.visibleTileIds=new Set,i.renderingTiles=new Set,i.fetching=new Set,i.scale={},i.fetchedTiles={},i.tileGraphics={},i.maxZoom=0,i.medianVisibleValue=null,i.backgroundTaskScheduler=eY,i.continuousScaling="requestIdleCallback"in window,i.valueScaleMin=null,i.fixedValueScaleMin=null,i.valueScaleMax=null,i.fixedValueScaleMax=null,i.listeners={},i.pubSub=o,i.animate=c,i.onValueScaleChanged=u,i.prevValueScale=null,e.dataFetcher?i.dataFetcher=e.dataFetcher:i.dataFetcher=new FH(s,i.pubSub),i.tilesetInfo=null,i.uuid=Ns.nice(),i.trackNotFoundText=new Rf.PIXI.Text("",{fontSize:"12px",fontFamily:"Arial",fill:"black"}),i.pLabel.addChild(i.trackNotFoundText),i.refreshTilesDebounced=ab(i.refreshTiles.bind(a(i)),10,10),i.dataFetcher.tilesetInfo(((e,t)=>{if(e){if(i.tilesetInfo=e,i.dataFetcher.dataConfig.tilesetUid||(i.dataFetcher.dataConfig.tilesetUid=t),i.tilesetUid=i.dataFetcher.dataConfig.tilesetUid,i.server=i.dataFetcher.dataConfig.server||"unknown",i.tilesetInfo&&i.tilesetInfo.chromsizes&&(i.chromInfo=Zg(i.tilesetInfo.chromsizes)),"error"in i.tilesetInfo)return console.warn("Error retrieving tilesetInfo:",s,i.tilesetInfo.error),i.tilesetInfo=null,void i.setError(i.tilesetInfo.error);i.tilesetInfo.resolutions?i.maxZoom=i.tilesetInfo.resolutions.length:i.maxZoom=+i.tilesetInfo.max_zoom,i.options&&i.options.maxZoom&&(i.options.maxZoom>=0?i.maxZoom=Math.min(i.options.maxZoom,i.maxZoom):console.error("Invalid maxZoom on track:",a(i))),i.refreshTiles(),l&&l(e),i.options||(i.options={}),i.options.name=i.options.name||e.name,i.checkValueScaleLimits(),i.draw(),i.drawLabel(),i.animate()}})),i}return f(n,[{key:"setError",value:function(e){this.errorTextText=e,this.draw(),this.animate()}},{key:"setFixedValueScaleMin",value:function(e){Number.isNaN(+e)?this.fixedValueScaleMin=null:this.fixedValueScaleMin=+e}},{key:"setFixedValueScaleMax",value:function(e){Number.isNaN(+e)?this.fixedValueScaleMax=null:this.fixedValueScaleMax=+e}},{key:"checkValueScaleLimits",value:function(){this.valueScaleMin=void 0!==this.options.valueScaleMin?+this.options.valueScaleMin:null,null!==this.fixedValueScaleMin&&(this.valueScaleMin=this.fixedValueScaleMin),this.valueScaleMax=void 0!==this.options.valueScaleMax?+this.options.valueScaleMax:null,null!==this.fixedValueScaleMax&&(this.valueScaleMax=this.fixedValueScaleMax)}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){const n=this.listeners[e].indexOf(t);-1===n||n>=this.listeners[e].length||this.listeners[e].splice(n,1)}},{key:"rerender",value:function(e){r(h(n.prototype),"rerender",this).call(this,e),this.renderVersion+=1,this.tilesetInfo&&(this.checkValueScaleLimits(),this.tilesetInfo.resolutions?this.maxZoom=this.tilesetInfo.resolutions.length:this.maxZoom=+this.tilesetInfo.max_zoom,this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?this.maxZoom=Math.min(this.options.maxZoom,this.maxZoom):console.error("Invalid maxZoom on track:",this)))}},{key:"visibleAndFetchedIds",value:function(){return Object.keys(this.fetchedTiles).filter((e=>this.visibleTileIds.has(e)))}},{key:"visibleAndFetchedTiles",value:function(){return this.visibleAndFetchedIds().map((e=>this.fetchedTiles[e]))}},{key:"setVisibleTiles",value:function(e){this.visibleTiles=e.map((e=>({tileId:this.tileToLocalId(e),remoteId:this.tileToRemoteId(e),mirrored:e.mirrored}))),this.visibleTileIds=new Set(this.visibleTiles.map((e=>e.tileId)))}},{key:"removeOldTiles",value:function(){this.calculateVisibleTiles();const e=[...new Set(Object.keys(this.fetchedTiles))].filter((e=>!this.visibleTileIds.has(e)));this.removeTiles(e)}},{key:"refreshTiles",value:function(){if(!this.tilesetInfo)return;this.calculateVisibleTiles();const e=new Set(Object.keys(this.fetchedTiles)),t=[...this.visibleTiles].filter((t=>!this.fetching.has(t.remoteId)&&!e.has(t.tileId)));for(let e=0;e<t.length;e++)this.fetching.add(t[e].remoteId);this.removeOldTiles(),this.fetchNewTiles(t)}},{key:"parentInFetched",value:function(e){const t=e.tileData.tilesetUid;let n=e.tileData.zoomLevel,r=e.tileData.tilePos;for(;n>0;)if(n-=1,r=r.map((e=>Math.floor(e/2))),`${t}.${n}.${r.join(".")}`in this.fetchedTiles)return!0;return!1}},{key:"parentTileId",value:function(e){const t=e.tileData.zoomLevel-1,n=e.tileData.tilePos.map((e=>Math.floor(e/2)));return`${e.tileData.tilesetUid}.${t}.${n.join(".")}`}},{key:"removeTiles",value:function(e){e.length&&this.areAllVisibleTilesLoaded()&&!this.renderingTiles.size&&(e.forEach((e=>{const t=e;this.destroyTile(this.fetchedTiles[t]),t in this.tileGraphics&&(this.pMain.removeChild(this.tileGraphics[t]),delete this.tileGraphics[t]),delete this.fetchedTiles[t]})),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"zoomed",value:function(e,t,n=1,r=0,i=0){this.xScale(e),this.yScale(t),this.refreshTilesDebounced(),this.pMobile.position.x=r,this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e)}},{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e)}},{key:"areAllVisibleTilesLoaded",value:function(){const e=new Set(Object.keys(this.fetchedTiles)),t=[...this.visibleTileIds];for(let n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(e){return e?(this.scale.minValue=e,this):null!==this.valueScaleMin?this.valueScaleMin:this.scale.minValue}},{key:"maxValue",value:function(e){return e?(this.scale.maxValue=e,this):null!==this.valueScaleMax?this.valueScaleMax:this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"initTile",value:function(){this.scale.minRawValue=this.continuousScaling?this.minVisibleValue():this.minVisibleValueInTiles(),this.scale.maxRawValue=this.continuousScaling?this.maxVisibleValue():this.maxVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue}},{key:"updateTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"addMissingGraphics",value:function(){const e=Object.keys(this.fetchedTiles);this.renderVersion+=1;for(let t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){const n=new Rf.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}},{key:"updateExistingGraphics",value:function(){const e=Object.keys(this.fetchedTiles);for(let t=0;t<e.length;t++){const n=this.fetchedTiles[e[t]];this.updateTile(n)}}},{key:"synchronizeTilesAndGraphics",value:function(){if(this.addMissingGraphics(),this.removeOldTiles(),this.updateExistingGraphics(),this.listeners.dataChanged)for(const e of this.listeners.dataChanged)e(this.visibleAndFetchedTiles().map((e=>e.tileData)))}},{key:"loadTileData",value:function(e,t){let n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}},{key:"fetchNewTiles",value:function(e){if(e.length>0){const t=[...new Set(e.map((e=>e.remoteId)))];this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this),t)}}},{key:"receivedTiles",value:function(e){for(let t=0;t<this.visibleTiles.length;t++){const{tileId:n}=this.visibleTiles[t];if(e[this.visibleTiles[t].remoteId]&&this.visibleTiles[t].remoteId in e){if(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[t]),Array.isArray(e[this.visibleTiles[t].remoteId])){const r=e[this.visibleTiles[t].remoteId];this.fetchedTiles[n].tileData=[...r],Object.keys(r).filter((e=>Number.isNaN(+e))).forEach((e=>{this.fetchedTiles[n].tileData[e]=r[e]}))}else this.fetchedTiles[n].tileData={...e[this.visibleTiles[t].remoteId]};this.fetchedTiles[n].tileData.error&&console.warn("Error in loaded tile",n,this.fetchedTiles[n].tileData)}}for(const t in e)if(e[t]){const n=e[t].tilePositionId;this.fetching.has(n)&&this.fetching.delete(n)}this.synchronizeTilesAndGraphics(),this.draw(),this.drawLabel(),this.valueScale&&(this.prevValueScale&&JSON.stringify(this.valueScale.domain())===JSON.stringify(this.prevValueScale.domain())||(this.prevValueScale=this.valueScale.copy(),this.onValueScaleChanged&&this.onValueScaleChanged())),this.animate(),this.areAllVisibleTilesLoaded()&&this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesLoaded",{uuid:this.uuid})}},{key:"draw",value:function(){if(this.delayDrawing)return;this.tilesetInfo?this.trackNotFoundText.visible=!1:(this.dataFetcher.tilesetInfoLoading?this.trackNotFoundText.text="Loading...":this.trackNotFoundText.text=`Tileset info not found. Server: [${this.server}] tilesetUid: [${this.tilesetUid}]`,[this.trackNotFoundText.x,this.trackNotFoundText.y]=this.position,this.flipText&&(this.trackNotFoundText.anchor.x=1,this.trackNotFoundText.scale.x=-1),this.trackNotFoundText.visible=!0),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnStart",{uuid:this.uuid});const e=Object.values(this.fetchedTiles).map((e=>e.tileData&&e.tileData.error&&`${e.tileId}: ${e.tileData.error}`)).filter((e=>e));e.length?this.errorTextText=e.join("\n"):this.errorTextText="",r(h(n.prototype),"draw",this).call(this),Object.keys(this.fetchedTiles).forEach((e=>{this.drawTile(this.fetchedTiles[e])})),this.pubSub&&this.pubSub.publish("TiledPixiTrack.tilesDrawnEnd",{uuid:this.uuid})}},{key:"drawTile",value:function(){}},{key:"calculateMedianVisibleValue",value:function(){this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();let e=this.visibleAndFetchedIds();0===e.length&&(e=Object.keys(this.fetchedTiles));const t=[].concat(...e.filter((e=>this.fetchedTiles[e].tileData.dense)).map((e=>Array.from(this.fetchedTiles[e].tileData.dense)))).filter((e=>e>0));return this.medianVisibleValue=Ft(t),this.medianVisibleValue}},{key:"allVisibleValues",value:function(){return[].concat(...this.visibleAndFetchedIds().map((e=>Array.from(this.fetchedTiles[e].tileData.dense))))}},{key:"minVisibleValue",value:function(e=!1){return this.minVisibleValueInTiles(e)}},{key:"minVisibleValueInTiles",value:function(e=!1){let t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));let n=Math.min(...t.map((e=>this.fetchedTiles[e].tileData.minNonZero)));return n===Number.MAX_SAFE_INTEGER&&(n=null),e?n:null!==this.valueScaleMin?this.valueScaleMin:n}},{key:"maxVisibleValue",value:function(e=!1){return this.maxVisibleValueInTiles(e)}},{key:"maxVisibleValueInTiles",value:function(e=!1){let t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));let n=Math.max(...t.map((e=>this.fetchedTiles[e].tileData.maxNonZero)));return n===Number.MIN_SAFE_INTEGER&&(n=null),e?n:null!==this.valueScaleMax?this.valueScaleMax:n}},{key:"makeValueScale",value:function(e,t,n,r){let i=null,o=0,a=r;null==a&&(a=6);let s=Math.min(this.dimensions[1]-a,a),l=Math.max(this.dimensions[1]-a,a);if(this.dimensions[1]-a<a&&(s=this.dimensions[1]/2,l=this.dimensions[1]/2),"log"===this.options.valueScaling)o=t,o||(o=e),i=xi().domain([o,n+o]).range([s,l]);else{if("quantile"===this.options.valueScaling){const e=this.dimensions[1]-a,t=a,n=Ni().domain(this.allVisibleValues()).range(Gt(e,t,(t-e)/256));return n.ticks=n=>wt(e,t,n),[n,0]}if("setquantile"===this.options.valueScaling){const e=this.dimensions[1]-a,t=a,n=new Set(this.allVisibleValues()),r=Ni().domain([...n]).range(Gt(e,t,(t-e)/256));return r.ticks=n=>wt(e,t,n),[r,0]}i=fi().domain([e,n]).range([l,s])}return[i,o]}}]),n}(BH);const nY=10,rY=10,iY=rY;let oY=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n);const o={...e};o.onValueScaleChanged=()=>{e.onValueScaleChanged(),i.drawColorbar()},i=t.call(this,o,r);const{pubSub:s,animate:l,svgElement:c,onTrackOptionsChanged:u,onMouseMoveZoom:h,isShowGlobalMousePosition:p,isValueScaleLocked:f}=e;return i.pubSub=s,i.is2d=!0,i.animate=l,i.uid=Ns.nice(),i.scaleBrush=pp(),i.onTrackOptionsChanged=u,i.isShowGlobalMousePosition=p,i.isValueScaleLocked=f,i.pColorbarArea=new Rf.PIXI.Graphics,i.pMasked.addChild(i.pColorbarArea),i.pColorbar=new Rf.PIXI.Graphics,i.pColorbarArea.addChild(i.pColorbar),i.axis=new Wj(a(i)),i.pColorbarArea.addChild(i.axis.pAxis),i.colorScale=nm,r&&r.colorRange&&(i.colorScale=wf(r.colorRange)),i.gBase=Be(c).append("g"),i.gMain=i.gBase.append("g"),i.gColorscaleBrush=i.gMain.append("g"),i.brushing=!1,i.prevOptions="",i.prevIndUpperLeftTile="",i.onMouseMoveZoom=h,i.setDataLensSize(11),i.dataLens=new Float32Array(i.dataLensSize**2),i.mouseMoveHandlerBound=i.mouseMoveHandler.bind(a(i)),i.onMouseMoveZoom&&i.pubSubs.push(i.pubSub.subscribe("app.mouseMove",i.mouseMoveHandlerBound)),i.options&&i.options.showMousePosition&&!i.hideMousePosition&&(i.hideMousePosition=rb(a(i),i.is2d,i.isShowGlobalMousePosition())),i.prevOptions=JSON.stringify(r),i}return f(n,[{key:"mouseMoveHandler",value:function(e){this.isWithin(e.x,e.y)&&(this.mouseX=e.x,this.mouseY=e.y,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(e=this.mouseX,t=this.mouseY){if(void 0===e||void 0===t||!this.areAllVisibleTilesLoaded())return;if(!this.tilesetInfo)return;const n=e-this.position[0],r=t-this.position[1];let i,o;try{o=this.getVisibleRectangleData(n-this.dataLensPadding,r-this.dataLensPadding,this.dataLensSize,this.dataLensSize),i=o.get(this.dataLensPadding,this.dataLensPadding)}catch(e){return}const a=this.dataLensSize;let s;try{s=ub(this.limitedValueScale,this.colorScale,this.valueScale.domain()[0])}catch(e){return}if(!s)return;const l=Math.round(this._xScale.invert(n)),c=Math.round(this._yScale.invert(r));let u=[l,c],h=[Math.round(this._xScale.invert(n-this.dataLensPadding)),Math.round(this._xScale.invert(n+this.dataLensPadding))],d=[Math.round(this._yScale.invert(r-this.dataLensPadding)),Math.round(this._yScale.invert(r+this.dataLensPadding))];this.chromInfo&&(u=u.map((e=>bf(e,this.chromInfo).slice(0,2))),h=h.map((e=>bf(e,this.chromInfo).slice(0,2))),d=d.map((e=>bf(e,this.chromInfo).slice(0,2)))),this.onMouseMoveZoom({trackId:this.id,data:i,absX:e,absY:t,relX:n,relY:r,dataX:l,dataY:c,orientation:"2d",dataLens:o,dim:a,toRgb:s,center:u,xRange:h,yRange:d,isGenomicCoords:!!this.chromInfo})}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!0)}},{key:"getAbsTileDim",value:function(e,t,n){const{tileX:r,tileY:i,tileWidth:o,tileHeight:a}=this.getTilePosAndDimensions(e,t),s={};return s.width=this._refXScale(r+o)-this._refXScale(r),s.height=this._refYScale(i+a)-this._refYScale(i),n?(s.x=this._refXScale(i),s.y=this._refYScale(r)):(s.x=this._refXScale(r),s.y=this._refYScale(i)),s}},{key:"updateValueScale",value:function(){let e=this.minValue(),t=this.maxValue();const n=1e-6;if(null!=e&&null!=t&&Math.abs(e-t)<n){const r=.001;e=Math.max(n,e-r),t+=r}const[r,i]=function(e,t,n,r,i){return"log"===(e||i)&&t>0?["log",xi().range([254,0]).domain([t+0,r+0])]:["linear",fi().range([254,0]).domain([t,r])]}(this.options&&this.options.heatmapValueScaling||"log",e,this.medianVisibleValue,t,"log");return this.valueScale=i,this.limitedValueScale=this.valueScale.copy(),this.options&&void 0!==this.options.scaleStartPercent&&void 0!==this.options.scaleEndPercent&&this.limitedValueScale.domain([this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleStartPercent,this.valueScale.domain()[0]+(this.valueScale.domain()[1]-this.valueScale.domain()[0])*this.options.scaleEndPercent]),[r,i]}},{key:"rerender",value:function(e,t){r(h(n.prototype),"rerender",this).call(this,e,t),this.updateValueScale();const i=JSON.stringify(e);this.drawColorbar(),(t||i!==this.prevOptions)&&(this.prevOptions=i,this.options=e,r(h(n.prototype),"rerender",this).call(this,e,t),this.calculateVisibleTiles(),e&&e.colorRange&&(this.colorScale=wf(e.colorRange)),this.visibleAndFetchedTiles().forEach((e=>this.renderTile(e))),this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0),this.options&&this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=rb(this,this.is2d,this.isShowGlobalMousePosition())))}},{key:"drawLabel",value:function(){this.options.labelPosition===this.options.colorbarPosition?this.labelXOffset=75:this.labelXOffset=0,r(h(n.prototype),"drawLabel",this).call(this)}},{key:"tileDataToCanvas",value:function(e){const t=document.createElement("canvas");t.width=this.binsPerTile(),t.height=this.binsPerTile();const n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);const r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}},{key:"exportData",value:function(){if(this.tilesetInfo){const e=this.getVisibleRectangleData(0,0,this.dimensions[0],this.dimensions[1]),t={bounds:[this._xScale.domain(),this._yScale.domain()],dimensions:e.shape,data:Wg(e)};bm("data.json",JSON.stringify(t))}}},{key:"setSpriteProperties",value:function(e,t,n,r){const i=this.getAbsTileDim(t,n,r);e.width=i.width,e.height=i.height,e.x=i.x,e.y=i.y,r&&n[0]!==n[1]&&(e.rotation=-Math.PI/2,e.scale.x=-1*Math.abs(e.scale.x))}},{key:"refXScale",value:function(e){r(h(n.prototype),"refXScale",this).call(this,e),this.draw()}},{key:"refYScale",value:function(e){r(h(n.prototype),"refYScale",this).call(this,e),this.draw()}},{key:"draw",value:function(){r(h(n.prototype),"draw",this).call(this)}},{key:"newBrushOptions",value:function(e){const t=JSON.parse(JSON.stringify(this.options)),n=this.valueScale.copy().range([this.colorbarHeight,0]),r=n.invert(e[0]),i=(n.invert(e[1])-n.domain()[0])/(n.domain()[1]-n.domain()[0]),o=(r-n.domain()[0])/(n.domain()[1]-n.domain()[0]);return t.scaleStartPercent=i.toFixed(5),t.scaleEndPercent=o.toFixed(5),t}},{key:"brushStart",value:function(){this.brushing=!0}},{key:"brushMoved",value:function(e){if(!e.selection)return;const t=this.newBrushOptions(e.selection),n=JSON.stringify(t);this.gColorscaleBrush.selectAll(".handle--custom").attr("y",(t=>"n"===t.type?e.selection[0]:e.selection[1]-2)),n!==this.prevOptions&&(this.prevOptions=n,this.rerender(t,!0),this.onTrackOptionsChanged(t),this.isValueScaleLocked()&&this.onValueScaleChanged())}},{key:"brushEnd",value:function(){this.brushing=!1}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.drawColorbar()}},{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e),this.drawColorbar()}},{key:"removeColorbar",value:function(){this.pColorbarArea.visible=!1,this.scaleBrush.on(".brush")&&this.gColorscaleBrush.call(this.scaleBrush.move,null),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.selectAll("rect").remove()}},{key:"drawColorbar",value:function(){if(this.pColorbar.clear(),!this.options||!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition)return void this.removeColorbar();if(this.pColorbarArea.visible=!0,!this.valueScale)return;if(Number.isNaN(+this.valueScale.domain()[0])||Number.isNaN(+this.valueScale.domain()[1]))return;const e=Math.min(this.dimensions[1]/2,200);if(this.colorbarHeight=e-20,this.colorbarHeight<0)return void this.removeColorbar();if(this.valueScale.domain()[1]===this.valueScale.domain()[0])return void this.removeColorbar();const t=this.valueScale.copy().range([this.colorbarHeight,0]);"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.scaleBrush.extent([[4,0],[iY,this.colorbarHeight]]):this.scaleBrush.extent([[0,0],[6,this.colorbarHeight]]),"topLeft"===this.options.colorbarPosition&&([this.pColorbarArea.x,this.pColorbarArea.y]=this.position,this.pColorbar.y=rY,this.axis.pAxis.y=rY,this.axis.pAxis.x=25,this.pColorbar.x=15,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+4},${this.pColorbarArea.y+this.pColorbar.y-1})`)),"topRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-75,this.pColorbarArea.y=this.position[1],this.pColorbar.y=rY,this.axis.pAxis.y=rY,this.axis.pAxis.x=50,this.pColorbar.x=50,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+this.pColorbar.x+nY+2},${this.pColorbarArea.y+this.pColorbar.y-1})`)),"bottomRight"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0]+this.dimensions[0]-75,this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=rY,this.axis.pAxis.y=rY,this.axis.pAxis.x=50,this.pColorbar.x=50,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+this.pColorbar.x+nY+1},${this.pColorbarArea.y+this.pColorbar.y-1})`)),"bottomLeft"===this.options.colorbarPosition&&(this.pColorbarArea.x=this.position[0],this.pColorbarArea.y=this.position[1]+this.dimensions[1]-e,this.pColorbar.y=rY,this.axis.pAxis.y=rY,this.axis.pAxis.x=25,this.pColorbar.x=15,this.gColorscaleBrush.attr("transform",`translate(${this.pColorbarArea.x+2},${this.pColorbarArea.y+this.pColorbar.y-1})`)),this.pColorbarArea.clear(),this.pColorbarArea.beginFill(lm(this.options.colorbarBackgroundColor||"white"),+this.options.colorbarBackgroundOpacity>=0?+this.options.colorbarBackgroundOpacity:.6),this.pColorbarArea.drawRect(0,0,75,e),this.options?(this.options.scaleStartPercent||(this.options.scaleStartPercent=0),this.options.scaleEndPercent||(this.options.scaleEndPercent=1)):this.options={scaleStartPercent:0,scaleEndPercent:1};const n=t.domain()[1]-t.domain()[0],r=t(this.options.scaleStartPercent*n+t.domain()[0]),i=t(this.options.scaleEndPercent*n+t.domain()[0]);this.brushing||(this.scaleBrush.on("start",this.brushStart.bind(this)).on("brush",this.brushMoved.bind(this)).on("end",this.brushEnd.bind(this)).handleSize(0),this.gColorscaleBrush.on(".brush",null),this.gColorscaleBrush.call(this.scaleBrush),this.northHandle=this.gColorscaleBrush.selectAll(".handle--custom").data([{type:"n"},{type:"s"}]).enter().append("rect").classed("handle--custom",!0).attr("cursor","ns-resize").attr("width",iY).attr("height",4).style("fill","#666").style("stroke","white"),this.flipText&&this.northHandle.attr("cursor","ew-resize"),this.gColorscaleBrush.call(this.scaleBrush.move,[i,r]));const o=fi().domain([0,255]).range([0,this.colorbarHeight]);for(let e=0;e<this.colorbarHeight;e++){const n=this.limitedValueScale(t.invert(e)),r=Math.max(0,Math.min(254,Math.floor(n)));this.pColorbar.beginFill(lm(`rgb(${this.colorScale[r][0]},${this.colorScale[r][1]},${this.colorScale[r][2]})`)),this.pColorbar.drawRect(0,e,nY,1)}this.pAxis.position.x=nY,this.pAxis.position.y=o(0),"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?this.axis.drawAxisRight(t,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||this.axis.drawAxisLeft(t,this.colorbarHeight)}},{key:"exportColorBarSVG",value:function(){const e=document.createElement("g");if(e.setAttribute("class","color-bar"),!this.options.colorbarPosition||"hidden"===this.options.colorbarPosition)return e;if(!this.valueScale)return e;e.setAttribute("transform",`translate(${this.pColorbarArea.x}, ${this.pColorbarArea.y})`);const t=document.createElement("rect");e.appendChild(t);const n=document.createElement("g");e.appendChild(n),n.setAttribute("transform",`translate(${this.pColorbar.x}, ${this.pColorbar.y})`);const r=Math.min(this.dimensions[1]/2,200);this.colorbarHeight=r-20,t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("width",75),t.setAttribute("height",r),t.setAttribute("style","fill: white; stroke-width: 0; opacity: 0.7");const i=fi().domain([0,255]).range([0,this.colorbarHeight]),o=this.colorbarHeight/256;for(let e=0;e<256;e++){const t=document.createElement("rect");n.appendChild(t),t.setAttribute("x",0),t.setAttribute("y",i(e)),t.setAttribute("width",nY),t.setAttribute("height",o),t.setAttribute("class","color-rect");const r=Math.min(this.colorScale.length-1,Math.max(0,Math.floor(this.limitedValueScale(this.valueScale.invert(e))))),a=this.colorScale[r];a?t.setAttribute("style",`fill: rgb(${a[0]}, ${a[1]}, ${a[2]})`):t.setAttribute("style","fill: rgb(255,255,255,0)")}const a=document.createElement("g");e.appendChild(a),a.setAttribute("transform",`translate(${this.axis.pAxis.position.x},${this.axis.pAxis.position.y})`);let s=null;const l=this.valueScale.copy().range([this.colorbarHeight,0]);return"topLeft"===this.options.colorbarPosition||"bottomLeft"===this.options.colorbarPosition?s=this.axis.exportAxisRightSVG(l,this.colorbarHeight):"topRight"!==this.options.colorbarPosition&&"bottomRight"!==this.options.colorbarPosition||(s=this.axis.exportAxisLeftSVG(l,this.colorbarHeight)),a.appendChild(s),e}},{key:"setDataLensSize",value:function(e){this.dataLensPadding=Math.max(0,Math.floor((e-1)/2)),this.dataLensSize=2*this.dataLensPadding+1}},{key:"binsPerTile",value:function(){return this.tilesetInfo.bins_per_dimension||256}},{key:"getVisibleRectangleData",value:function(e,t,n,r){let i=this.calculateZoomLevel();i=this.tilesetInfo.max_zoom?Math.min(this.tilesetInfo.max_zoom,i):i;const o=mg.calculateTileWidth(this.tilesetInfo,i,this.binsPerTile())/this.binsPerTile(),a=[this._xScale.invert(e),this._xScale.invert(e+n)],s=[this._yScale.invert(t),this._yScale.invert(t+r)],l=[Math.max(a[0],this.tilesetInfo.min_pos[0]),Math.min(a[1],this.tilesetInfo.max_pos[0])],c=[Math.max(s[0],this.tilesetInfo.min_pos[1]),Math.min(s[1],this.tilesetInfo.max_pos[1])],u=Math.floor(l[0]/o),h=Math.floor(c[0]/o),d=Math.max(0,Math.ceil((l[1]-l[0])/o)),p=Math.max(0,Math.ceil((c[1]-c[0])/o)),f=$g(new Array(p*d).fill(NaN),[p,d]);return this.visibleAndFetchedTiles().forEach((e=>{const t=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos,{tileX:n,tileY:r,tileWidth:i,tileHeight:a}=this.getTilePosAndDimensions(e.tileData.zoomLevel,t,this.binsPerTile()),s=Math.floor(n/o),l=Math.floor((n+i)/o),c=Math.floor(r/o),m=Math.floor((r+a)/o);let g=Math.max(u,s)-s,b=Math.max(h,c)-c;const v=Math.min(u+d,l)-s,y=Math.min(h+p,m)-c,T=Math.max(s-u,0),_=Math.max(c-h,0),E=v-g,x=y-b;if(!(E<0||x<0)){if(e.mirrored&&g>b){const e=g;g=b,b=e}Bg(f.hi(_+x,T+E).lo(_,T),e.dataArray.hi(b+x,g+E).lo(b,g))}})),f}},{key:"initTile",value:function(e){r(h(n.prototype),"initTile",this).call(this,e),e.tileData.dense.length===this.binsPerTile()**2&&(e.dataArray=$g(Array.from(e.tileData.dense),[this.binsPerTile(),this.binsPerTile()]),this.continuousScaling&&e.tileData.tilePos[0]===e.tileData.tilePos[1]&&e.mirrored&&(e.tileData.denseDataExtrema.mirrorPrecomputedExtrema(),r(h(n.prototype),"initTile",this).call(this,e))),null!==this.scale.minValue&&null!==this.scale.maxValue&&this.renderTile(e)}},{key:"updateTile",value:function(e){e.scale&&this.scale&&this.scale.minValue===e.scale.minValue&&this.scale.maxValue===e.scale.maxValue||(this.renderTile(e),this.drawColorbar())}},{key:"destroyTile",value:function(e){e.sprite.destroy(!0),e.canvas=null,e.sprite=null,e.texture=null}},{key:"pixDataFunction",value:function(e,t){if(t){const{graphics:n}=e,r=this.tileDataToCanvas(t.pixData);e.sprite&&e.sprite.destroy(!0);const i="4"===Rf.PIXI.VERSION[0]?Rf.PIXI.Texture.fromCanvas(r,Rf.PIXI.SCALE_MODES.NEAREST):Rf.PIXI.Texture.from(r,{scaleMode:Rf.PIXI.SCALE_MODES.NEAREST}),o=new Rf.PIXI.Sprite(i);e.sprite=o,e.texture=i,e.canvas=r,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),n.removeChildren(),n.addChild(e.sprite)}this.renderingTiles.delete(e.tileId)}},{key:"renderTile",value:function(e){const[t]=this.updateValueScale();if(this.renderingTiles.add(e.tileId),this.tilesetInfo.tile_size&&e.tileData.dense.length<this.tilesetInfo.tile_size){const t=new Float32Array(this.tilesetInfo.tile_size);t.fill(NaN),t.set(e.tileData.dense),e.tileData.dense=t}mg.tileDataToPixData(e,t,this.limitedValueScale.domain(),0,this.colorScale,(t=>this.pixDataFunction(e,t)),this.mirrorTiles()&&!e.mirrored&&e.tileData.tilePos[0]===e.tileData.tilePos[1],"upper-right"===this.options.extent&&e.tileData.tilePos[0]===e.tileData.tilePos[1],this.options.zeroValueColor?cm(this.options.zeroValueColor):void 0,{selectedRows:this.options.selectRows,selectedRowsAggregationMode:this.options.selectRowsAggregationMode,selectedRowsAggregationWithRelativeHeight:this.options.selectRowsAggregationWithRelativeHeight,selectedRowsAggregationMethod:this.options.selectRowsAggregationMethod})}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null,r(h(n.prototype),"remove",this).call(this)}},{key:"refScalesChanged",value:function(e,t){r(h(n.prototype),"refScalesChanged",this).call(this,e,t),Pg(this.fetchedTiles).filter((e=>e.sprite)).forEach((e=>this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored)))}},{key:"superSVG",value:function(){return r(h(n.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t);const i=document.createElement("g");e.appendChild(i),i.setAttribute("transform",`translate(${this.pMain.position.x},${this.pMain.position.y}) scale(${this.pMain.scale.x},${this.pMain.scale.y})`);for(const e of this.visibleAndFetchedTiles()){const t=180*e.sprite.rotation/Math.PI,n=document.createElement("g");n.setAttribute("transform",`translate(${e.sprite.x},${e.sprite.y}) rotate(${t}) scale(${e.sprite.scale.x},${e.sprite.scale.y})`);const r=document.createElement("image");r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.canvas.toDataURL()),r.setAttribute("width",e.canvas.width),r.setAttribute("height",e.canvas.height),r.setAttribute("style","image-rendering: pixelated"),n.appendChild(r),i.appendChild(n)}const o=this.exportColorBarSVG();return e.appendChild(o),[t,t]}},{key:"getVisiblePartOfUppLeftTile",value:function(){const e=this.visibleAndFetchedTiles().map((e=>{const t=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos;return[t[0],t[1],e.tileId]}));if(0===e.length)return null;let t=e[0];for(let n=0;n<e.length;n++){const r=e[n];(r[0]<t[0]||r[1]<t[1])&&(t=r)}const n=Math.min(8,this.binsPerTile()),r=this.binsPerTile()/n,i=this.visibleAndFetchedTiles().filter((e=>e.tileId===t[2]))[0],o=this.getIndicesOfVisibleDataInTile(i),a=o[0],s=o[1],l=a-a%r,c=s-s%r;return[i.tileId,l,c]}},{key:"getIndicesOfVisibleDataInTile",value:function(e){const t=this._xScale.range(),n=this._yScale.range(),r=e.mirrored?[e.tileData.tilePos[1],e.tileData.tilePos[0]]:e.tileData.tilePos,{tileX:i,tileY:o,tileWidth:a,tileHeight:s}=this.getTilePosAndDimensions(e.tileData.zoomLevel,r,this.binsPerTile()),l=fi().domain([0,this.binsPerTile()]).range([i,i+a]),c=Math.max(0,Math.round(l.invert(this._xScale.invert(t[0])))-1),u=Math.min(this.binsPerTile(),Math.round(l.invert(this._xScale.invert(t[1])))),h=fi().domain([0,this.binsPerTile()]).range([o,o+s]),d=Math.max(0,Math.round(h.invert(this._yScale.invert(n[0])))-1),p=Math.min(this.binsPerTile(),Math.round(h.invert(this._yScale.invert(n[1]))));return e.mirrored&&r[0]!==r[1]?[d,c,p,u]:[c,d,u,p]}},{key:"minVisibleValue",value:function(e=!1){const t=this.visibleAndFetchedTiles().map((e=>{if(void 0===e.tileData.denseDataExtrema)return null;const t=this.getIndicesOfVisibleDataInTile(e);return e.tileData.denseDataExtrema.getMinNonZeroInSubset(t)}));if(0===t.length&&null===this.valueScaleMax)return null;const i=Math.min.apply(null,t);return i===Number.MAX_SAFE_INTEGER?r(h(n.prototype),"minVisibleValue",this).call(this,e):e?i:null!==this.valueScaleMin?this.valueScaleMin:i}},{key:"maxVisibleValue",value:function(e=!1){const t=this.visibleAndFetchedTiles().map((e=>{if(void 0===e.tileData.denseDataExtrema)return null;const t=this.getIndicesOfVisibleDataInTile(e);return e.tileData.denseDataExtrema.getMaxNonZeroInSubset(t)}));if(0===t.length&&null===this.valueScaleMax)return null;const i=Math.max.apply(null,t);return i===Number.MIN_SAFE_INTEGER?r(h(n.prototype),"maxVisibleValue",this).call(this,e):e?i:null!==this.valueScaleMax?this.valueScaleMax:i}},{key:"zoomed",value:function(e,t,i,o,a){if(this.brushing)return;r(h(n.prototype),"zoomed",this).call(this,e,t),this.pMain.position.x=o,this.pMain.position.y=a,this.pMain.scale.x=i,this.pMain.scale.y=i;const s=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){const e=JSON.stringify(this.getVisiblePartOfUppLeftTile());if(null===this.valueScaleMin&&null===this.valueScaleMax&&!s&&e!==this.prevIndUpperLeftTile){const t=this.minVisibleValue(),n=this.maxVisibleValue(),r=1e-6;null!==t&&null!==n&&(Math.abs(this.minValue()-t)>r||Math.abs(this.maxValue()-n)>r)&&(this.minValue(t),this.maxValue(n),this.scheduleRerender()),this.prevIndUpperLeftTile=e}s&&this.onValueScaleChanged()}this.mouseMoveZoomHandler()}},{key:"addTileId",value:function(e,t,n,r,i,o=!1){const a=[t,n,r];a.mirrored=o,a.dataTransform=i,e.push(a)}},{key:"tilesToId",value:function(e,t,n){const r=e,i=t,o=this.options&&this.options.dataTransform||"default",a=[];for(let e=0;e<r.length;e++)for(let t=0;t<i.length;t++)this.mirrorTiles()?(r[e]>=i[t]?"lower-left"!==this.options.extent&&this.addTileId(a,n,i[t],r[e],o,!0):"upper-right"!==this.options.extent&&this.addTileId(a,n,r[e],i[t],o),r[e]===i[t]&&"lower-left"===this.options.extent&&this.addTileId(a,n,r[e],i[t],o)):this.addTileId(a,n,r[e],i[t],o);return a}},{key:"calculateVisibleTiles",value:function(){if(this.tilesetInfo){if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const e=this.tilesetInfo.resolutions.map((e=>+e)).sort(((e,t)=>t-e));this.xTiles=mg.calculateTilesFromResolution(e[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=mg.calculateTilesFromResolution(e[this.zoomLevel],this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=mg.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=mg.calculateTiles(this.zoomLevel,this._yScale,this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],this.options.reverseYAxis?-this.tilesetInfo.min_pos[1]:this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width1||this.tilesetInfo.max_width);this.setVisibleTiles(this.tilesToId(this.xTiles,this.yTiles,this.zoomLevel))}}},{key:"mirrorTiles",value:function(){return!(this.tilesetInfo.mirror_tiles&&(!1===this.tilesetInfo.mirror_tiles||"false"===this.tilesetInfo.mirror_tiles))}},{key:"getMouseOverHtml",value:function(e,t){if(!this.options||!this.options.showTooltip)return"";if(!this.tilesetInfo)return"";const n=mg.calculateResolution(this.tilesetInfo,this.zoomLevel),r=Math.max(this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0]),i=Math.ceil(Math.log(r/n)/Math.log(10));this.setDataLensSize(1);const o=this._xScale.invert(e),a=this._yScale.invert(t);let s="<b>Position:</b> ";if(this.chromInfo){const e=bf(o,this.chromInfo),t=bf(a,this.chromInfo),n=e=>ni(`.${i}s`)(e);s+=`${e[0]}:${n(e[1])} & ${t[0]}:${n(t[1])}`,s+="<br/>"}let l=null;try{l=this.getVisibleRectangleData(e,t,1,1).get(0,0)}catch(e){return""}return this.options&&"log"===this.options.heatmapValueScaling?l>0?`${s}<b>Value:</b> 1e${ni(".3f")(Math.log(l)/Math.log(10))}`:0===l?`${s}<b>Value:</b> 0`:`${s}<b>Value:</b> N/A`:`${s}<b>Value:</b> ${ni(".3f")(l)}`}},{key:"getTilePosAndDimensions",value:function(e,t,n){const r=n||this.binsPerTile();if(this.tilesetInfo.resolutions){const n=this.tilesetInfo.resolutions.map((e=>+e)).sort(((e,t)=>t-e))[e],i=n*r,o=i;return{tileX:n*r*t[0],tileY:n*r*t[1],tileWidth:i,tileHeight:o}}const i=t[0],o=t[1],a=this.tilesetInfo.min_pos[0],s=this.options.reverseYAxis?-this.tilesetInfo.max_pos[1]:this.tilesetInfo.min_pos[1],l=this.tilesetInfo.max_width/2**e,c=this.tilesetInfo.max_width/2**e;return{tileX:a+i*l,tileY:s+o*c,tileWidth:l,tileHeight:c}}},{key:"calculateZoomLevel",value:function(){const e=this.tilesetInfo.min_pos[0],t=this.tilesetInfo.max_pos[0],n=this.tilesetInfo.min_pos[1],r=this.tilesetInfo.max_pos[1];let i=null;if(this.tilesetInfo.resolutions){const o=mg.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e,t),a=mg.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._yScale,n,r);i=Math.min(o,a)}else{const e=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.binsPerTile()),t=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.binsPerTile());i=Math.max(e,t),i=Math.min(i,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?i=Math.min(this.options.maxZoom,i):console.error("Invalid maxZoom on track:",this)),i}},{key:"tileToLocalId",value:function(e){return e.dataTransform&&"default"!==e.dataTransform?`${e.join(".")}.${e.mirrored}.${e.dataTransform}`:`${e.join(".")}.${e.mirrored}`}},{key:"tileToRemoteId",value:function(e){return e.dataTransform&&"default"!==e.dataTransform?`${e.join(".")}.${e.dataTransform}`:`${e.join(".")}`}},{key:"localToRemoteId",value:function(e){const t=e.split(".");return t.slice(0,t.length-1).join(".")}}]),n}(tY);function aY(e){if(!e.graphics)return;const t=e.graphics,{tileX:n,tileY:r,tileWidth:i}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos);e.drawnAtScale=this._xScale.copy();const o=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0))),a=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=o,e.text.scale.y=a;const s=this._xScale(i)-this._xScale(0);if(e.textGraphics.scale.x=s/256,e.textGraphics.scale.y=s/256,t.clear(),t.lineStyle(4*o,255,1),t.beginFill(16740363,.4),t.alpha=.5,e.mirrored){const o=this._refXScale(r+i)-this._refXScale(r),a=this._refYScale(n+i)-this._refYScale(n);e.textGraphics.position.x=this._refXScale(r)+o/2,e.textGraphics.position.y=this._refYScale(n)+a/2,t.drawRect(this._refXScale(r),this._refYScale(n),o,a)}else{const o=this._refXScale(n+i)-this._refXScale(n),a=this._refYScale(r+i)-this._refYScale(r);e.textGraphics.position.x=this._refXScale(n)+o/2,e.textGraphics.position.y=this._refYScale(r)+a/2,t.drawRect(this._refXScale(n),this._refYScale(r),o,a)}}function sY(e){const t=e.graphics;e.textGraphics=new Rf.PIXI.Graphics,e.mirrored?e.text=new Rf.PIXI.Text(`${e.tileData.zoomLevel}/${[e.tileData.tilePos[1],e.tileData.tilePos[0]].join("/")}`,{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}):e.text=new Rf.PIXI.Text(`${e.tileData.zoomLevel}/${e.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics)}let lY=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){sY.bind(this)(e),this.drawTile(e)}},{key:"destroyTile",value:function(e,t){}},{key:"drawTile",value:function(e){aY.bind(this)(e)}},{key:"fetchNewTiles",value:function(e){e.forEach((e=>{const t=e.remoteId.split("."),n={zoomLevel:t[0],tilePos:t.slice(1,t.length).map((e=>+e))};this.fetchedTiles[e.tileId]=e,this.fetchedTiles[e.tileId].tileData=n,this.fetching.has(e.remoteId)&&this.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics()}}]),n}(oY);let cY=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{onMouseMoveZoom:o,isValueScaleLocked:s,getLockGroupExtrema:l}=e;return i.onMouseMoveZoom=o,i.isValueScaleLocked=s,i.getLockGroupExtrema=l,i.onMouseMoveZoom&&i.pubSubs.push(i.pubSub.subscribe("app.mouseMove",i.mouseMoveHandler.bind(a(i)))),i}return f(n,[{key:"initTile",value:function(e){r(h(n.prototype),"initTile",this).call(this,e)}},{key:"tileToLocalId",value:function(e){return`${e.join(".")}`}},{key:"tileToRemoteId",value:function(e){return`${e.join(".")}`}},{key:"relevantScale",value:function(){return null}},{key:"setVisibleTiles",value:function(e){this.visibleTiles=e.map((e=>({tileId:this.tileToLocalId(e),remoteId:this.tileToRemoteId(e)}))),this.visibleTileIds=new Set(this.visibleTiles.map((e=>e.tileId)))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const e=this.tilesetInfo.resolutions.map((e=>+e)).sort(((e,t)=>t-e)),t=mg.calculateTilesFromResolution(e[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]).map((e=>[this.zoomLevel,e]));return void this.setVisibleTiles(t)}const e=mg.calculateTiles(this.zoomLevel,this.relevantScale(),this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width).map((e=>[this.zoomLevel,e]));this.setVisibleTiles(e)}},{key:"getTilePosAndDimensions",value:function(e,t,n){const r=t[0],i=t[0];if(this.tilesetInfo.resolutions){const r=n||1024,i=this.tilesetInfo.resolutions.map((e=>+e)).sort(((e,t)=>t-e))[e],o=i*r,a=o;return{tileX:i*r*t[0],tileY:i*r*t[1],tileWidth:o,tileHeight:a}}const o=this.tilesetInfo.max_width/2**e,a=this.tilesetInfo.max_width/2**e;return{tileX:this.tilesetInfo.min_pos[0]+r*o,tileY:this.tilesetInfo.min_pos[1]+i*a,tileWidth:o,tileHeight:a}}},{key:"updateTile",value:function(e){}},{key:"scheduleRerender",value:function(){this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this),null,this.uuid)}},{key:"handleRerender",value:function(){this.rerender(this.options,!1)}},{key:"getIndicesOfVisibleDataInTile",value:function(e){const t=this._xScale.range();if(!this.tilesetInfo)return[null,null];const{tileX:n,tileWidth:r}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),i=fi().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([n,n+r]);return[Math.max(0,Math.round(i.invert(this._xScale.invert(t[0])))),Math.min(e.tileData.dense.length,Math.round(i.invert(this._xScale.invert(t[1]))))]}},{key:"minVisibleValue",value:function(e=!1){let t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));const n=t.map((e=>this.fetchedTiles[e])).map((e=>{const t=this.getIndicesOfVisibleDataInTile(e);return e.tileData.denseDataExtrema.getMinNonZeroInSubset(t)})),r=Math.min(...n);return e?r:null!==this.valueScaleMin?this.valueScaleMin:r}},{key:"maxVisibleValue",value:function(e=!1){let t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));const n=t.map((e=>this.fetchedTiles[e])).map((e=>{const t=this.getIndicesOfVisibleDataInTile(e);return e.tileData.denseDataExtrema.getMaxNonZeroInSubset(t)})),r=Math.max(...n);return e?r:null!==this.valueScaleMax?this.valueScaleMax:r}},{key:"getAggregatedVisibleValue",value:function(e="max"){const t="min"===e?Math.min:Math.max,n="min"===e?1/0:-1/0;let r=this.visibleAndFetchedIds();0===r.length&&(r=Object.keys(this.fetchedTiles));const i=this._xScale.range();return r.map((e=>this.fetchedTiles[e])).map((t=>{if(!t.tileData.tilePos)return"min"===e?this.minVisibleValue():this.maxVisibleValue();const{tileX:n,tileWidth:r}=this.getTilePosAndDimensions(t.tileData.zoomLevel,t.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),o=fi().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([n,n+r]),a=Math.max(0,Math.round(o.invert(this._xScale.invert(i[0])))),s=Math.min(t.tileData.dense.length,Math.round(o.invert(this._xScale.invert(i[1]))));return t.tileData.dense.slice(a,s)})).reduce(((e,n)=>t(e,...n)),n)}},{key:"getDataAtPos",value:function(e){let t;if(!this.tilesetInfo)return t;const n=this.calculateZoomLevel(),r=mg.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(e)/r,o=this.tileToLocalId([n,Math.floor(i)]),a=this.fetchedTiles[o];if(!a)return t;const s=this.tilesetInfo.tile_size*(i-Math.floor(i));return a.tileData.dense?a.tileData.dense[Math.floor(s)]:null}},{key:"mouseMoveHandler",value:function({x:e,y:t}={}){this.isWithin(e,t)&&(this.mouseX=e,this.mouseY=t,this.mouseMoveZoomHandler())}},{key:"mouseMoveZoomHandler",value:function(){}},{key:"zoomed",value:function(...e){r(h(n.prototype),"zoomed",this).call(this,...e),this.mouseMoveZoomHandler()}}]),n}(tY),uY=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{animate:o,isShowGlobalMousePosition:s}=e;return i.constIndicator=new Rf.PIXI.Graphics,i.pMain.addChild(i.constIndicator),i.axis=new Wj(a(i)),i.pBase.addChild(i.axis.pAxis),i.animate=o,i.options=r,i.isShowGlobalMousePosition=s,i.pubSubs=[],i.options.showMousePosition&&!i.hideMousePosition&&(i.hideMousePosition=rb(a(i),i.is2d,i.isShowGlobalMousePosition())),i}return f(n,[{key:"rerender",value:function(e,t){const i=JSON.stringify(e);(t||i!==this.prevOptions)&&(r(h(n.prototype),"rerender",this).call(this,e,t),this.prevOptions=i,this.options=e,this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=rb(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"calculateZoomLevel",value:function(){if(this.tilesetInfo.resolutions)return mg.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]-2);const e=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size);let t=Math.min(e,this.maxZoom);return t=Math.max(t,0),t}},{key:"relevantScale",value:function(){return this._xScale}},{key:"draw",value:function(){r(h(n.prototype),"draw",this).call(this),this.drawConstIndicator()}},{key:"drawAxis",value:function(e){if(!this.options.axisPositionVertical&&!this.options.axisPositionHorizontal)return void this.axis.clearAxis();if(this.options.axisPositionVertical&&"hidden"===this.options.axisPositionVertical)return void this.axis.clearAxis();if(this.options.axisPositionHorizontal&&"hidden"===this.options.axisPositionHorizontal)return void this.axis.clearAxis();const t=this.options.axisMargin||0;"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1])):"outsideLeft"===this.options.axisPositionHorizontal||"outsideTop"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical?(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisLeft(e,this.dimensions[1])):"outsideRight"!==this.options.axisPositionHorizontal&&"outsideBottom"!==this.options.axisPositionVertical||(this.axis.pAxis.position.x=this.position[0]+this.dimensions[0]-t,this.axis.pAxis.position.y=this.position[1],this.axis.drawAxisRight(e,this.dimensions[1]))}},{key:"mouseMoveZoomHandler",value:function(e=this.mouseX,t=this.mouseY){if(void 0===e||!this.areAllVisibleTilesLoaded()||!this.tilesetInfo)return;let n=0,r=0,i="1d-horizontal";this.isLeftModified?(n=t-this.position[1],r=e-this.position[0],i="1d-vertical"):(n=e-this.position[0],r=t-this.position[1]);const o=e-this.position[0],a=t-this.position[1],s=this._xScale.invert(n),l=this._yScale.invert(r),c=this.getDataAtPos(n);c&&this.onMouseMoveZoom({trackId:this.id,data:c,absX:e,absY:t,relX:o,relY:a,dataX:s,dataY:l,orientation:i})}},{key:"drawConstIndicator",value:function(){if(this.constIndicator){for(this.constIndicator.clear();this.constIndicator.children[0];)this.constIndicator.removeChild(this.constIndicator.children[0]);this.options.constIndicators&&this.valueScale&&this.options.constIndicators.forEach((({color:e="black",opacity:t=1,label:n=null,labelColor:r="black",labelOpacity:i=1,labelPosition:o="leftTop",labelSize:a=12,value:s=0}={})=>{const l=lm(e),c=lm(r);this.constIndicator.beginFill(l,t);const u=this.valueScale(s);let h=0,d=0;if(n){const e=new Rf.PIXI.Text(n,{fontFamily:"Arial",fontSize:a,fill:c});switch(e.alpha=i,o){case"right":e.anchor.x=1,e.anchor.y=.5,e.x=this.position[0]+this.dimensions[0]-6,e.y=u,d=e.width+8;break;case"rightBottom":e.anchor.x=1,e.anchor.y=0,e.x=this.position[0]+this.dimensions[0]-6,e.y=u;break;case"rightTop":e.anchor.x=1,e.anchor.y=1,e.x=this.position[0]+this.dimensions[0]-6,e.y=u;break;case"left":e.anchor.x=0,e.anchor.y=.5,e.x=this.position[0]+2,e.y=u,h=e.width+4;break;case"leftBottom":e.anchor.x=0,e.anchor.y=0,e.x=this.position[0]+2,e.y=u;break;default:e.anchor.x=0,e.anchor.y=1,e.x=this.position[0]+2,e.y=u}this.constIndicator.addChild(e)}this.constIndicator.drawRect(this.position[0]+h,u,this.dimensions[0]-d,1)}))}}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t),t.setAttribute("class","horizontal-tiled-1d-track");const i=document.createElement("g");return e.appendChild(i),this.options.constIndicators&&this.options.constIndicators.forEach((({color:e="black",opacity:t=1,label:n=null,labelColor:r="black",labelOpacity:o=1,labelPosition:a="leftTop",labelSize:s=12,value:l=0}={})=>{const c=this.valueScale(l);if(n){const e=document.createElement("text");switch(e.textContent=n,e.setAttribute("x",this.position[0]),e.setAttribute("y",c),e.setAttribute("style",`font-family: 'Arial'; font-size: ${s}px; fill: ${r}; fill-opacity: ${o};`),a){case"rightBottom":e.setAttribute("x",this.position[0]+this.dimensions[0]-6),e.setAttribute("y",c+s+2),e.setAttribute("text-anchor","end");break;case"right":case"rightTop":e.setAttribute("x",this.position[0]+this.dimensions[0]-6),e.setAttribute("y",c-2),e.setAttribute("text-anchor","end");break;case"leftBottom":e.setAttribute("x",this.position[0]+2),e.setAttribute("y",c+s+2);break;default:e.setAttribute("x",this.position[0]+2),e.setAttribute("y",c-2)}i.appendChild(e)}const u=document.createElement("line");u.setAttribute("x1",this.position[0]),u.setAttribute("y1",c),u.setAttribute("x2",this.dimensions[0]),u.setAttribute("y2",c),u.setAttribute("stroke",e),u.setAttribute("stroke-opacity",t),i.appendChild(u)})),[t,e]}}]),n}(cY),hY=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).pMain=i.pMobile,i}return f(n,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){const t=e.graphics;e.textGraphics=new Rf.PIXI.Graphics,e.text=new Rf.PIXI.Text(`${e.tileData.zoomLevel}/${e.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,t.addChild(e.textGraphics),this.drawTile(e)}},{key:"destroyTile",value:function(e){}},{key:"drawTile",value:function(e){if(r(h(n.prototype),"drawTile",this).call(this,e),!e.graphics)return;const t=e.graphics,{tileX:i,tileWidth:o}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),a=1/((this._xScale(1)-this._xScale(0))/(this._refXScale(1)-this._refXScale(0)));e.text.scale.x=a,t.clear();const s=this.dimensions[1],l=this._refXScale(i+o)-this._refXScale(i);e.textGraphics.position.x=this._refXScale(i)+l/2,e.textGraphics.position.y=s/2;const c=this._refXScale(i);t.lineStyle(4*a,255,1),t.beginFill(16740363,.4),t.alpha=.5,t.moveTo(c,0),t.lineTo(c,s),t.moveTo(c+l,0),t.lineTo(c+l,s),t.lineStyle(0,255,1),t.drawRect(c,0,l,s)}}]),n}(uY),dY=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"calculateZoomLevel",value:function(){const e=mg.calculateZoomLevel(this._yScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);return Math.min(e,this.maxZoom)}},{key:"relevantScale",value:function(){return this._yScale}},{key:"zoomed",value:function(e,t){r(h(n.prototype),"zoomed",this).call(this,e,t);const i=(t(1)-t(0))/(this._refYScale(1)-this._refYScale(0)),o=this.position[0],a=t(0)+this.position[1]-this._refYScale(1)*i;this.pMain.position.x=o,this.pMain.position.y=a,this.pMain.scale.x=1,this.pMain.scale.y=i}}]),n}(cY),pY=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"initTile",value:function(e){const t=e.graphics;e.textGraphics=new Rf.PIXI.Graphics,e.text=new Rf.PIXI.Text(`${e.tileData.zoomLevel}/${e.tileData.tilePos.join("/")}`,{fontFamily:"Arial",fontSize:32,fill:16715792,align:"center"}),e.textGraphics.addChild(e.text),e.text.anchor.x=.5,e.text.anchor.y=.5,e.text.rotation=-Math.PI/2,t.addChild(e.textGraphics),this.drawTile(e,t)}},{key:"destroyTile",value:function(e,t){}},{key:"drawTile",value:function(e){if(r(h(n.prototype),"drawTile",this).call(this,e),!e.graphics)return;const t=e.graphics,{tileY:i,tileHeight:o}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),a=1/((this._yScale(1)-this._yScale(0))/(this._refYScale(1)-this._refYScale(0)));e.text.scale.x=a,t.clear(),t.lineStyle(4*a,255,1),t.beginFill(16740363,.4),t.alpha=.5;const s=this.dimensions[0],l=this._refYScale(i+o)-this._refYScale(i);e.textGraphics.position.x=s/2,e.textGraphics.position.y=this._refYScale(i)+l/2,t.drawRect(0,this._refYScale(i),s,l)}},{key:"fetchNewTiles",value:function(e){e.forEach((e=>{const t=e.remoteId.split("."),n={zoomLevel:t[1],tilePos:t.slice(2,t.length).map((e=>+e))};this.fetchedTiles[e.tileId]=e,this.fetchedTiles[e.tileId].tileData=n,this.fetching.has(e.remoteId)&&this.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics()}}]),n}(dY);var fY=Array.prototype.slice;function mY(e){return e}var gY=1,bY=2,vY=3,yY=4,TY=1e-6;function _Y(e){return"translate("+e+",0)"}function EY(e){return"translate(0,"+e+")"}function xY(e){return t=>+e(t)}function wY(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function SY(){return!this.__axis}function AY(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=e===gY||e===yY?-1:1,u=e===yY||e===bY?"x":"y",h=e===gY||e===vY?_Y:EY;function d(d){var p=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,f=null==i?t.tickFormat?t.tickFormat.apply(t,n):mY:i,m=Math.max(o,0)+s,g=t.range(),b=+g[0]+l,v=+g[g.length-1]+l,y=(t.bandwidth?wY:xY)(t.copy(),l),T=d.selection?d.selection():d,_=T.selectAll(".domain").data([null]),E=T.selectAll(".tick").data(p,t).order(),x=E.exit(),w=E.enter().append("g").attr("class","tick"),S=E.select("line"),A=E.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(w),S=S.merge(w.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),A=A.merge(w.append("text").attr("fill","currentColor").attr(u,c*m).attr("dy",e===gY?"0em":e===vY?"0.71em":"0.32em")),d!==T&&(_=_.transition(d),E=E.transition(d),S=S.transition(d),A=A.transition(d),x=x.transition(d).attr("opacity",TY).attr("transform",(function(e){return isFinite(e=y(e))?h(e+l):this.getAttribute("transform")})),w.attr("opacity",TY).attr("transform",(function(e){var t=this.parentNode.__axis;return h((t&&isFinite(t=t(e))?t:y(e))+l)}))),x.remove(),_.attr("d",e===yY||e===bY?a?"M"+c*a+","+b+"H"+l+"V"+v+"H"+c*a:"M"+l+","+b+"V"+v:a?"M"+b+","+c*a+"V"+l+"H"+v+"V"+c*a:"M"+b+","+l+"H"+v),E.attr("opacity",1).attr("transform",(function(e){return h(y(e)+l)})),S.attr(u+"2",c*o),A.attr(u,c*m).text(f),T.filter(SY).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===bY?"start":e===yY?"end":"middle"),T.each((function(){this.__axis=y}))}return d.scale=function(e){return arguments.length?(t=e,d):t},d.ticks=function(){return n=fY.call(arguments),d},d.tickArguments=function(e){return arguments.length?(n=null==e?[]:fY.call(e),d):n.slice()},d.tickValues=function(e){return arguments.length?(r=null==e?null:fY.call(e),d):r&&r.slice()},d.tickFormat=function(e){return arguments.length?(i=e,d):i},d.tickSize=function(e){return arguments.length?(o=a=+e,d):o},d.tickSizeInner=function(e){return arguments.length?(o=+e,d):o},d.tickSizeOuter=function(e){return arguments.length?(a=+e,d):a},d.tickPadding=function(e){return arguments.length?(s=+e,d):s},d.offset=function(e){return arguments.length?(l=+e,d):l},d}function kY(e){return AY(gY,e)}function CY(e){return AY(yY,e)}const IY=Object.freeze(Object.defineProperty({__proto__:null,axisTop:kY,axisRight:function(e){return AY(bY,e)},axisBottom:function(e){return AY(vY,e)},axisLeft:CY},Symbol.toStringTag,{value:"Module"}));let OY=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{svgElement:o}=e;return i.gMain=Be(o).append("g"),i.clipUid=Ns.nice(),i.clipRect=i.gMain.append("clipPath").attr("id",`track-bounds-${i.clipUid}`).append("rect"),i.gMain.attr("clip-path",`url(#track-bounds-${i.clipUid})`),i}return f(n,[{key:"setPosition",value:function(e){this.position=e,this.gMain.attr("transform",`translate(${this.position[0]},${this.position[1]})`),this.draw()}},{key:"setDimensions",value:function(e){this.dimensions=e,this._xScale.range([0,this.dimensions[0]]),this._yScale.range([0,this.dimensions[1]]),e[0]>=0&&e[1]>=0?(this.clipRect.attr("width",e[0]),this.clipRect.attr("height",e[1])):(this.clipRect.attr("width",0),this.clipRect.attr("height",0)),this.draw()}},{key:"remove",value:function(){this.gMain.remove(),this.gMain=null}},{key:"draw",value:function(){return this}}]),n}(MH),DY=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).axis=kY(i._xScale),i.gAxis=i.gMain.append("g"),i.tilesetInfo=!0,i}return f(n,[{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[0]/150)),this.gAxis.attr("transform",`translate(0,${e[1]})`)}},{key:"draw",value:function(){return this.axis.scale(this._xScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(e,t){r(h(n.prototype),"zoomed",this).call(this,e,t),this.draw()}}]),n}(OY),PY=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).axis=CY(i._yScale),i.gAxis=i.gMain.append("g"),i.tilesetInfo=!0,i}return f(n,[{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e),this.axis.ticks(Math.ceil(this.dimensions[1]/150)),this.gAxis.attr("transform",`translate(${e[0]},0)`)}},{key:"draw",value:function(){return this.axis.scale(this._yScale),this.gAxis.call(this.axis),this}},{key:"zoomed",value:function(e,t){r(h(n.prototype),"zoomed",this).call(this,e,t),this.draw()}}]),n}(OY);var NY={},RY={};function MY(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}RY.INT_BITS=32,RY.INT_MAX=2147483647,RY.INT_MIN=-1<<31,RY.sign=function(e){return(e>0)-(e<0)},RY.abs=function(e){var t=e>>31;return(e^t)-t},RY.min=function(e,t){return t^(e^t)&-(e<t)},RY.max=function(e,t){return e^(e^t)&-(e<t)},RY.isPow2=function(e){return!(e&e-1||!e)},RY.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},RY.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},RY.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},RY.countTrailingZeros=MY,RY.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,1+((e|=e>>>8)|e>>>16)},RY.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},RY.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var LY=new Array(256);function BY(e,t,n){var r=0|e[n];if(r<=0)return[];var i,o=new Array(r);if(n===e.length-1)for(i=0;i<r;++i)o[i]=t;else for(i=0;i<r;++i)o[i]=BY(e,t,n+1);return o}(function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}})(LY),RY.reverse=function(e){return LY[255&e]<<24|LY[e>>>8&255]<<16|LY[e>>>16&255]<<8|LY[e>>>24&255]},RY.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},RY.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},RY.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},RY.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},RY.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>MY(e)+1};for(var FY=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}(0|e,t);break;case"object":if("number"==typeof e.length)return BY(e,t,0)}return[]},UY={},jY={byteLength:function(e){var t=$Y(e),n=t[0],r=t[1];return 3*(n+r)/4-r},toByteArray:function(e){var t,n,r=$Y(e),i=r[0],o=r[1],a=new zY(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),s=0,l=o>0?i-4:i;for(n=0;n<l;n+=4)t=GY[e.charCodeAt(n)]<<18|GY[e.charCodeAt(n+1)]<<12|GY[e.charCodeAt(n+2)]<<6|GY[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===o&&(t=GY[e.charCodeAt(n)]<<2|GY[e.charCodeAt(n+1)]>>4,a[s++]=255&t),1===o&&(t=GY[e.charCodeAt(n)]<<10|GY[e.charCodeAt(n+1)]<<4|GY[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},fromByteArray:function(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(XY(e,a,a+o>s?s:a+o));return 1===r?(t=e[n-1],i.push(HY[t>>2]+HY[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(HY[t>>10]+HY[t>>4&63]+HY[t<<2&63]+"=")),i.join("")}},HY=[],GY=[],zY="undefined"!=typeof Uint8Array?Uint8Array:Array,VY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",YY=0;YY<64;++YY)HY[YY]=VY[YY],GY[VY.charCodeAt(YY)]=YY;function $Y(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function XY(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(HY[(a=r)>>18&63]+HY[a>>12&63]+HY[a>>6&63]+HY[63&a]);var a;return i.join("")}GY["-".charCodeAt(0)]=62,GY["_".charCodeAt(0)]=63;var WY={read:function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},write:function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m}};!function(e){const t=jY,n=WY,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function l(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|v(e,t);let r=l(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return g(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return g(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const i=function(e){if(c.isBuffer(e)){const t=0|b(e.length),n=l(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||J(e.length)?l(0):m(e):"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return h(e),l(e<0?0:0|b(e))}function m(e){const t=e.length<0?0:0|b(e.length),n=l(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function g(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function b(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function v(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function T(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){let o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function x(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(J(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return Z(q(t,e.length-n),e,n,r)}function S(e,t,n,r){return Z(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return Z(K(t),e,n,r)}function k(e,t,n,r){return Z(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return h(e),e<=0?l(e):void 0!==t?"string"==typeof n?l(e).fill(t,n):l(e).fill(t):l(e)}(e,t,n)},c.allocUnsafe=function(e){return p(e)},c.allocUnsafeSlow=function(e){return p(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Q(t,Uint8Array))i+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)T(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)T(this,t,t+3),T(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)T(this,t,t+7),T(this,t+1,t+6),T(this,t+2,t+5),T(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(o,a),l=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<s;++e)if(l[e]!==u[e]){o=l[e],a=u[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return S(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const O=4096;function D(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=ee[e[r]];return i}function R(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i){Y(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function F(e,t,n,r,i){Y(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function U(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,r,i,o){return t=+t,r>>>=0,o||U(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function H(e,t,r,i,o){return t=+t,r>>>=0,o||U(e,0,r,8),n.write(e,t,r,i,52,8),r+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=te((function(e){$(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=te((function(e){$(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||M(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=te((function(e){$(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=te((function(e){$(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||X(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),n.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),n.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),n.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),n.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=te((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=te((function(e,t=0){return F(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=te((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=te((function(e,t=0){return F(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return H(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return H(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};const G={};function z(e,t,n){G[e]=function(n){i(s,n);var r=o(s);function s(){var n;return d(this,s),n=r.call(this),Object.defineProperty(a(n),"message",{value:t.apply(a(n),arguments),writable:!0,configurable:!0}),n.name=`${n.name} [${e}]`,n.stack,delete n.name,n}return f(s,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return`${this.name} [${e}]: ${this.message}`}}]),s}(n)}function V(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function Y(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new G.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){$(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||X(t,e.length-(n+1))}(r,i,o)}function $(e,t){if("number"!=typeof e)throw new G.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,n){if(Math.floor(e)!==e)throw $(e,n),new G.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new G.ERR_BUFFER_OUT_OF_BOUNDS;throw new G.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=V(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Z(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!=e}const ee=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function te(e){return"undefined"==typeof BigInt?ne:e}function ne(){throw new Error("BigInt not supported")}}(UY);var qY=RY,KY=FY,ZY=UY.Buffer;globalThis.__TYPEDARRAY_POOL||(globalThis.__TYPEDARRAY_POOL={UINT8:KY([32,0]),UINT16:KY([32,0]),UINT32:KY([32,0]),BIGUINT64:KY([32,0]),INT8:KY([32,0]),INT16:KY([32,0]),INT32:KY([32,0]),BIGINT64:KY([32,0]),FLOAT:KY([32,0]),DOUBLE:KY([32,0]),DATA:KY([32,0]),UINT8C:KY([32,0]),BUFFER:KY([32,0])});var QY="undefined"!=typeof Uint8ClampedArray,JY="undefined"!=typeof BigUint64Array,e$="undefined"!=typeof BigInt64Array,t$=globalThis.__TYPEDARRAY_POOL;t$.UINT8C||(t$.UINT8C=KY([32,0])),t$.BIGUINT64||(t$.BIGUINT64=KY([32,0])),t$.BIGINT64||(t$.BIGINT64=KY([32,0])),t$.BUFFER||(t$.BUFFER=KY([32,0]));var n$=t$.DATA,r$=t$.BUFFER;function i$(e){if(e){var t=e.length||e.byteLength,n=qY.log2(t);n$[n].push(e)}}function o$(e){e=qY.nextPow2(e);var t=qY.log2(e),n=n$[t];return n.length>0?n.pop():new ArrayBuffer(e)}function a$(e){return new Uint8Array(o$(e),0,e)}function s$(e){return new Uint16Array(o$(2*e),0,e)}function l$(e){return new Uint32Array(o$(4*e),0,e)}function c$(e){return new Int8Array(o$(e),0,e)}function u$(e){return new Int16Array(o$(2*e),0,e)}function h$(e){return new Int32Array(o$(4*e),0,e)}function d$(e){return new Float32Array(o$(4*e),0,e)}function p$(e){return new Float64Array(o$(8*e),0,e)}function f$(e){return QY?new Uint8ClampedArray(o$(e),0,e):a$(e)}function m$(e){return JY?new BigUint64Array(o$(8*e),0,e):null}function g$(e){return e$?new BigInt64Array(o$(8*e),0,e):null}function b$(e){return new DataView(o$(e),0,e)}function v$(e){e=qY.nextPow2(e);var t=qY.log2(e),n=r$[t];return n.length>0?n.pop():new ZY(e)}NY.free=function(e){if(ZY.isBuffer(e))r$[qY.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|qY.log2(t);n$[n].push(e)}},NY.freeUint8=NY.freeUint16=NY.freeUint32=NY.freeBigUint64=NY.freeInt8=NY.freeInt16=NY.freeInt32=NY.freeBigInt64=NY.freeFloat32=NY.freeFloat=NY.freeFloat64=NY.freeDouble=NY.freeUint8Clamped=NY.freeDataView=function(e){i$(e.buffer)},NY.freeArrayBuffer=i$,NY.freeBuffer=function(e){r$[qY.log2(e.length)].push(e)},NY.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return o$(e);switch(t){case"uint8":return a$(e);case"uint16":return s$(e);case"uint32":return l$(e);case"int8":return c$(e);case"int16":return u$(e);case"int32":return h$(e);case"float":case"float32":return d$(e);case"double":case"float64":return p$(e);case"uint8_clamped":return f$(e);case"bigint64":return g$(e);case"biguint64":return m$(e);case"buffer":return v$(e);case"data":case"dataview":return b$(e);default:return null}return null},NY.mallocArrayBuffer=o$,NY.mallocUint8=a$,NY.mallocUint16=s$,NY.mallocUint32=l$,NY.mallocInt8=c$,NY.mallocInt16=u$,NY.mallocInt32=h$,NY.mallocFloat32=NY.mallocFloat=d$,NY.mallocFloat64=NY.mallocDouble=p$,NY.mallocUint8Clamped=f$,NY.mallocBigUint64=m$,NY.mallocBigInt64=g$,NY.mallocDataView=b$,NY.mallocBuffer=v$,NY.clearCache=function(){for(var e=0;e<32;++e)t$.UINT8[e].length=0,t$.UINT16[e].length=0,t$.UINT32[e].length=0,t$.INT8[e].length=0,t$.INT16[e].length=0,t$.INT32[e].length=0,t$.FLOAT[e].length=0,t$.DOUBLE[e].length=0,t$.BIGUINT64[e].length=0,t$.BIGINT64[e].length=0,t$.UINT8C[e].length=0,n$[e].length=0,r$[e].length=0};var y$=32;function T$(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >e;){var c=n[l-2],u=n[l-1];if(c<o)break;if(c===o&&u<a)break;n[l]=c,n[l+1]=u,l-=2}n[l]=o,n[l+1]=a}}function _$(e,t,n){t*=2;var r=n[e*=2],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function E$(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function x$(e,t,n,r){t*=2,n*=2;var i=r[e*=2],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function w$(e,t,n,r,i){t*=2,i[e*=2]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function S$(e,t,n){t*=2;var r=n[e*=2],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function A$(e,t,n,r){var i=r[e*=2];return i<t||i===t&&r[e+1]<n}function k$(e,t,n){var r=(t-e+1)/6|0,i=e+r,o=t-r,a=e+t>>1,s=a-r,l=a+r,c=i,u=s,h=a,d=l,p=o,f=e+1,m=t-1,g=0;S$(c,u,n)&&(g=c,c=u,u=g),S$(d,p,n)&&(g=d,d=p,p=g),S$(c,h,n)&&(g=c,c=h,h=g),S$(u,h,n)&&(g=u,u=h,h=g),S$(c,d,n)&&(g=c,c=d,d=g),S$(h,d,n)&&(g=h,h=d,d=g),S$(u,p,n)&&(g=u,u=p,p=g),S$(u,h,n)&&(g=u,u=h,h=g),S$(d,p,n)&&(g=d,d=p,p=g);for(var b=n[2*u],v=n[2*u+1],y=n[2*d],T=n[2*d+1],_=2*c,E=2*h,x=2*p,w=2*i,S=2*a,A=2*o,k=0;k<2;++k){var C=n[_+k],I=n[E+k],O=n[x+k];n[w+k]=C,n[S+k]=I,n[A+k]=O}E$(s,e,n),E$(l,t,n);for(var D=f;D<=m;++D)if(A$(D,b,v,n))D!==f&&_$(D,f,n),++f;else if(!A$(D,y,T,n))for(;;){if(A$(m,y,T,n)){A$(m,b,v,n)?(x$(D,f,m,n),++f,--m):(_$(D,m,n),--m);break}if(--m<D)break}w$(e,f-1,b,v,n),w$(t,m+1,y,T,n),f-2-e<=y$?T$(e,f-2,n):k$(e,f-2,n),t-(m+2)<=y$?T$(m+2,t,n):k$(m+2,t,n),m-f<=y$?T$(f,m,n):k$(f,m,n)}var C$={init:function(e){var t=O$.nextPow2(e);R$.length<t&&(I$.free(R$),R$=I$.mallocInt32(t)),M$.length<t&&(I$.free(M$),M$=I$.mallocInt32(t)),L$.length<t&&(I$.free(L$),L$=I$.mallocInt32(t)),B$.length<t&&(I$.free(B$),B$=I$.mallocInt32(t)),F$.length<t&&(I$.free(F$),F$=I$.mallocInt32(t)),U$.length<t&&(I$.free(U$),U$=I$.mallocInt32(t));var n=8*t;j$.length<n&&(I$.free(j$),j$=I$.mallocDouble(n))},sweepBipartite:function(e,t,n,r,i,o,a,s,l,c){for(var u=0,h=2*e,d=e-1,p=h-1,f=n;f<r;++f){var m=o[f],g=h*f;j$[u++]=i[g+d],j$[u++]=-(m+1),j$[u++]=i[g+p],j$[u++]=m}for(f=a;f<s;++f){m=c[f]+P$;var b=h*f;j$[u++]=l[b+d],j$[u++]=-m,j$[u++]=l[b+p],j$[u++]=m}var v=u>>>1;D$(j$,v);var y=0,T=0;for(f=0;f<v;++f){var _=0|j$[2*f+1];if(_>=P$)H$(L$,B$,T--,_=_-P$|0);else if(_>=0)H$(R$,M$,y--,_);else if(_<=-P$){_=-_-P$|0;for(var E=0;E<y;++E)if(void 0!==(x=t(R$[E],_)))return x;G$(L$,B$,T++,_)}else{for(_=-_-1|0,E=0;E<T;++E){var x;if(void 0!==(x=t(_,L$[E])))return x}G$(R$,M$,y++,_)}}},sweepComplete:function(e,t,n,r,i,o,a,s,l,c){for(var u=0,h=2*e,d=e-1,p=h-1,f=n;f<r;++f){var m=o[f]+1<<1,g=h*f;j$[u++]=i[g+d],j$[u++]=-m,j$[u++]=i[g+p],j$[u++]=m}for(f=a;f<s;++f){m=c[f]+1<<1;var b=h*f;j$[u++]=l[b+d],j$[u++]=1|-m,j$[u++]=l[b+p],j$[u++]=1|m}var v=u>>>1;D$(j$,v);var y=0,T=0,_=0;for(f=0;f<v;++f){var E=0|j$[2*f+1],x=1&E;if(f<v-1&&E>>1==j$[2*f+3]>>1&&(x=2,f+=1),E<0){for(var w=-(E>>1)-1,S=0;S<_;++S)if(void 0!==(A=t(F$[S],w)))return A;if(0!==x)for(S=0;S<y;++S)if(void 0!==(A=t(R$[S],w)))return A;if(1!==x)for(S=0;S<T;++S){var A;if(void 0!==(A=t(L$[S],w)))return A}0===x?G$(R$,M$,y++,w):1===x?G$(L$,B$,T++,w):2===x&&G$(F$,U$,_++,w)}else w=(E>>1)-1,0===x?H$(R$,M$,y--,w):1===x?H$(L$,B$,T--,w):2===x&&H$(F$,U$,_--,w)}},scanBipartite:function(e,t,n,r,i,o,a,s,l,c,u,h){var d=0,p=2*e,f=t,m=t+e,g=1,b=1;r?b=P$:g=P$;for(var v=i;v<o;++v){var y=v+g,T=p*v;j$[d++]=a[T+f],j$[d++]=-y,j$[d++]=a[T+m],j$[d++]=y}for(v=l;v<c;++v){y=v+b;var _=p*v;j$[d++]=u[_+f],j$[d++]=-y}var E=d>>>1;D$(j$,E);var x=0;for(v=0;v<E;++v){var w=0|j$[2*v+1];if(w<0){var S=!1;if((y=-w)>=P$?(S=!r,y-=P$):(S=!!r,y-=1),S)G$(R$,M$,x++,y);else{var A=h[y],k=p*y,C=u[k+t+1],I=u[k+t+1+e];e:for(var O=0;O<x;++O){var D=R$[O],P=p*D;if(!(I<a[P+t+1]||a[P+t+1+e]<C)){for(var N=t+2;N<e;++N)if(u[k+N+e]<a[P+N]||a[P+N+e]<u[k+N])continue e;var R,M=s[D];if(void 0!==(R=r?n(A,M):n(M,A)))return R}}}}else H$(R$,M$,x--,w-g)}},scanComplete:function(e,t,n,r,i,o,a,s,l,c,u){for(var h=0,d=2*e,p=t,f=t+e,m=r;m<i;++m){var g=m+P$,b=d*m;j$[h++]=o[b+p],j$[h++]=-g,j$[h++]=o[b+f],j$[h++]=g}for(m=s;m<l;++m){g=m+1;var v=d*m;j$[h++]=c[v+p],j$[h++]=-g}var y=h>>>1;D$(j$,y);var T=0;for(m=0;m<y;++m){var _=0|j$[2*m+1];if(_<0)if((g=-_)>=P$)R$[T++]=g-P$;else{var E=u[g-=1],x=d*g,w=c[x+t+1],S=c[x+t+1+e];e:for(var A=0;A<T;++A){var k=R$[A],C=a[k];if(C===E)break;var I=d*k;if(!(S<o[I+t+1]||o[I+t+1+e]<w)){for(var O=t+2;O<e;++O)if(c[x+O+e]<o[I+O]||o[I+O+e]<c[x+O])continue e;var D=n(C,E);if(void 0!==D)return D}}}else{for(g=_-P$,A=T-1;A>=0;--A)if(R$[A]===g){for(O=A+1;O<T;++O)R$[O-1]=R$[O];break}--T}}}},I$=NY,O$=RY,D$=function(e,t){t<=4*y$?T$(0,t-1,e):k$(0,t-1,e)},P$=1<<28,N$=1024,R$=I$.mallocInt32(N$),M$=I$.mallocInt32(N$),L$=I$.mallocInt32(N$),B$=I$.mallocInt32(N$),F$=I$.mallocInt32(N$),U$=I$.mallocInt32(N$),j$=I$.mallocDouble(8192);function H$(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function G$(e,t,n,r){e[n]=r,t[r]=n}var z$={},V$="d",Y$="ax",X$="vv",W$="fp",q$="es",K$="rs",Z$="re",Q$="rb",J$="ri",eX="rp",tX="bs",nX="be",rX="bb",iX="bi",oX="bp",aX="rv",sX="Q",lX=[V$,Y$,X$,K$,Z$,Q$,J$,tX,nX,rX,iX];function cX(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],r=lX.slice();e||r.splice(3,0,W$);var i=["function "+t+"("+r.join()+"){"];function o(t,r){var o=function(e,t,n){var r="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),i=["function ",r,"(",lX.join(),"){","var ",q$,"=2*",V$,";"],o="for(var i="+K$+","+eX+"="+q$+"*"+K$+";i<"+Z$+";++i,"+eX+"+="+q$+"){var x0="+Q$+"["+Y$+"+"+eX+"],x1="+Q$+"["+Y$+"+"+eX+"+"+V$+"],xi="+J$+"[i];",a="for(var j="+tX+","+oX+"="+q$+"*"+tX+";j<"+nX+";++j,"+oX+"+="+q$+"){var y0="+rX+"["+Y$+"+"+oX+"],"+(n?"y1="+rX+"["+Y$+"+"+oX+"+"+V$+"],":"")+"yi="+iX+"[j];";return e?i.push(o,sX,":",a):i.push(a,sX,":",o),n?i.push("if(y1<x0||x1<y0)continue;"):t?i.push("if(y0<=x0||x1<y0)continue;"):i.push("if(y0<x0||x1<y0)continue;"),i.push("for(var k="+Y$+"+1;k<"+V$+";++k){var r0="+Q$+"[k+"+eX+"],r1="+Q$+"[k+"+V$+"+"+eX+"],b0="+rX+"[k+"+oX+"],b1="+rX+"[k+"+V$+"+"+oX+"];if(r1<b0||b1<r0)continue "+sX+";}var "+aX+"="+X$+"("),t?i.push("yi,xi"):i.push("xi,yi"),i.push(");if("+aX+"!==void 0)return "+aX+";}}}"),{name:r,code:i.join("")}}(t,r,e);n.push(o.code),i.push("return "+o.name+"("+lX.join()+");")}i.push("if("+Z$+"-"+K$+">"+nX+"-"+tX+"){"),e?(o(!0,!1),i.push("}else{"),o(!1,!1)):(i.push("if(fp){"),o(!0,!0),i.push("}else{"),o(!0,!1),i.push("}}else{if(fp){"),o(!1,!0),i.push("}else{"),o(!1,!1),i.push("}")),i.push("}}return "+t);var a=n.join("")+i.join("");return new Function(a)()}z$.partial=cX(!1),z$.full=cX(!0);var uX=function(e,t){var n="abcdef".split("").concat(t),r=[];return e.indexOf("lo")>=0&&r.push("lo=e[k+n]"),e.indexOf("hi")>=0&&r.push("hi=e[k+o]"),n.push(hX.replace("_",r.join()).replace("$",e)),Function.apply(void 0,n)},hX="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m";var dX=function(e,t,n,r,i,o){if(r<=n+1)return n;for(var a=n,s=r,l=r+n>>>1,c=2*e,u=l,h=i[c*l+t];a<s;){if(s-a<fX){mX(e,t,a,s,i,o),h=i[c*l+t];break}var d=s-a,p=Math.random()*d+a|0,f=i[c*p+t],m=Math.random()*d+a|0,g=i[c*m+t],b=Math.random()*d+a|0,v=i[c*b+t];f<=g?v>=g?(u=m,h=g):f>=v?(u=p,h=f):(u=b,h=v):g>=v?(u=m,h=g):v>=f?(u=p,h=f):(u=b,h=v);for(var y=c*(s-1),T=c*u,_=0;_<c;++_,++y,++T){var E=i[y];i[y]=i[T],i[T]=E}var x=o[s-1];for(o[s-1]=o[u],o[u]=x,y=c*(s-1),T=c*(u=pX(e,t,a,s-1,i,o,h)),_=0;_<c;++_,++y,++T)E=i[y],i[y]=i[T],i[T]=E;if(x=o[s-1],o[s-1]=o[u],o[u]=x,l<u){for(s=u-1;a<s&&i[c*(s-1)+t]===h;)s-=1;s+=1}else{if(!(u<l))break;for(a=u+1;a<s&&i[c*a+t]===h;)a+=1}}return pX(e,t,n,l,i,o,i[c*l+t])},pX=uX("lo<p0",["p0"]),fX=8;function mX(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,l=n+1;l<r;++l,s+=a)for(var c=i[s],u=l,h=a*(l-1);u>n&&i[h+t]>c;--u,h-=a){for(var d=h,p=h+a,f=0;f<a;++f,++d,++p){var m=i[d];i[d]=i[p],i[p]=m}var g=o[u];o[u]=o[u-1],o[u-1]=g}}var gX=function(e,t,n,r,i,o,a,s,l){!function(e,t){var n=8*vX.log2(t+1)*(e+1)|0,r=vX.nextPow2(RX*n);LX.length<r&&(bX.free(LX),LX=bX.mallocInt32(r));var i=vX.nextPow2(MX*n);BX.length<i&&(bX.free(BX),BX=bX.mallocDouble(i))}(e,r+a);var c,u=0,h=2*e;for(FX(u++,0,0,r,0,a,n?16:0,-1/0,1/0),n||FX(u++,0,0,a,0,r,1,-1/0,1/0);u>0;){var d=(u-=1)*RX,p=LX[d],f=LX[d+1],m=LX[d+2],g=LX[d+3],b=LX[d+4],v=LX[d+5],y=u*MX,T=BX[y],_=BX[y+1],E=1&v,x=!!(16&v),w=i,S=o,A=s,k=l;if(E&&(w=s,S=l,A=i,k=o),!(2&v&&f>=(m=OX(e,p,f,m,w,S,_))||4&v&&(f=DX(e,p,f,m,w,S,T))>=m)){var C=m-f,I=b-g;if(x){if(e*C*(C+I)<kX){if(void 0!==(c=EX.scanComplete(e,p,t,f,m,w,S,g,b,A,k)))return c;continue}}else{if(e*Math.min(C,I)<SX){if(void 0!==(c=TX(e,p,t,E,f,m,w,S,g,b,A,k)))return c;continue}if(e*C*I<AX){if(void 0!==(c=EX.scanBipartite(e,p,t,E,f,m,w,S,g,b,A,k)))return c;continue}}var O=CX(e,p,f,m,w,S,T,_);if(f<O)if(e*(O-f)<SX){if(void 0!==(c=_X(e,p+1,t,f,O,w,S,g,b,A,k)))return c}else if(p===e-2){if(void 0!==(c=E?EX.sweepBipartite(e,t,g,b,A,k,f,O,w,S):EX.sweepBipartite(e,t,f,O,w,S,g,b,A,k)))return c}else FX(u++,p+1,f,O,g,b,E,-1/0,1/0),FX(u++,p+1,g,b,f,O,1^E,-1/0,1/0);if(O<m){var D=xX(e,p,g,b,A,k),P=A[h*D+p],N=IX(e,p,D,b,A,k,P);if(N<b&&FX(u++,p,O,m,N,b,(4|E)+(x?16:0),P,_),g<D&&FX(u++,p,O,m,g,D,(2|E)+(x?16:0),T,P),D+1===N){if(void 0!==(c=x?jX(e,p,t,O,m,w,S,D,A,k[D]):UX(e,p,t,E,O,m,w,S,D,A,k[D])))return c}else if(D<N){var R;if(x){if(O<(R=PX(e,p,O,m,w,S,P))){var M=IX(e,p,O,R,w,S,P);if(p===e-2){if(O<M&&void 0!==(c=EX.sweepComplete(e,t,O,M,w,S,D,N,A,k)))return c;if(M<R&&void 0!==(c=EX.sweepBipartite(e,t,M,R,w,S,D,N,A,k)))return c}else O<M&&FX(u++,p+1,O,M,D,N,16,-1/0,1/0),M<R&&(FX(u++,p+1,M,R,D,N,0,-1/0,1/0),FX(u++,p+1,D,N,M,R,1,-1/0,1/0))}}else O<(R=E?NX(e,p,O,m,w,S,P):PX(e,p,O,m,w,S,P))&&(p===e-2?c=E?EX.sweepBipartite(e,t,D,N,A,k,O,R,w,S):EX.sweepBipartite(e,t,O,R,w,S,D,N,A,k):(FX(u++,p+1,O,R,D,N,E,-1/0,1/0),FX(u++,p+1,D,N,O,R,1^E,-1/0,1/0)))}}}}},bX=NY,vX=RY,yX=z$,TX=yX.partial,_X=yX.full,EX=C$,xX=dX,wX=uX,SX=128,AX=1<<22,kX=1<<22,CX=wX("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),IX=wX("lo===p0",["p0"]),OX=wX("lo<p0",["p0"]),DX=wX("hi<=p0",["p0"]),PX=wX("lo<=p0&&p0<=hi",["p0"]),NX=wX("lo<p0&&p0<=hi",["p0"]),RX=6,MX=2,LX=bX.mallocInt32(1024),BX=bX.mallocDouble(1024);function FX(e,t,n,r,i,o,a,s,l){var c=RX*e;LX[c]=t,LX[c+1]=n,LX[c+2]=r,LX[c+3]=i,LX[c+4]=o,LX[c+5]=a;var u=MX*e;BX[u]=s,BX[u+1]=l}function UX(e,t,n,r,i,o,a,s,l,c,u){var h=2*e,d=l*h,p=c[d+t];e:for(var f=i,m=i*h;f<o;++f,m+=h){var g=a[m+t],b=a[m+t+e];if(!(p<g||b<p||r&&p===g)){for(var v,y=s[f],T=t+1;T<e;++T){g=a[m+T],b=a[m+T+e];var _=c[d+T],E=c[d+T+e];if(b<_||E<g)continue e}if(void 0!==(v=r?n(u,y):n(y,u)))return v}}}function jX(e,t,n,r,i,o,a,s,l,c){var u=2*e,h=s*u,d=l[h+t];e:for(var p=r,f=r*u;p<i;++p,f+=u){var m=a[p];if(m!==c){var g=o[f+t],b=o[f+t+e];if(!(d<g||b<d)){for(var v=t+1;v<e;++v){g=o[f+v],b=o[f+v+e];var y=l[h+v],T=l[h+v+e];if(b<y||T<g)continue e}var _=n(m,c);if(void 0!==_)return _}}}}var HX,GX=function(e,t,n){switch(arguments.length){case 1:return HX=[],WX(r=e,r,qX,!0),HX;case 2:return"function"==typeof t?WX(e,e,t,!0):function(e,t){return HX=[],WX(e,t,qX,!1),HX}(e,t);case 3:return WX(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}var r},zX=NY,VX=C$,YX=gX;function $X(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function XX(e,t,n,r){for(var i=0,o=0,a=0,s=e.length;a<s;++a){var l=e[a];if(!$X(t,l)){for(var c=0;c<2*t;++c)n[i++]=l[c];r[o++]=a}}return o}function WX(e,t,n,r){var i=e.length,o=t.length;if(!(i<=0||o<=0)){var a=e[0].length>>>1;if(!(a<=0)){var s,l=zX.mallocDouble(2*a*i),c=zX.mallocInt32(i);if((i=XX(e,a,l,c))>0){if(1===a&&r)VX.init(i),s=VX.sweepComplete(a,n,0,i,l,c,0,i,l,c);else{var u=zX.mallocDouble(2*a*o),h=zX.mallocInt32(o);(o=XX(t,a,u,h))>0&&(VX.init(i+o),s=1===a?VX.sweepBipartite(a,n,0,i,l,c,0,o,u,h):YX(a,n,r,i,l,c,o,u,h),zX.free(u),zX.free(h))}zX.free(l),zX.free(c)}return s}}}function qX(e,t){HX.push([e,t])}var KX={exports:{}},ZX=function(e,t,n){var r=e*t,i=QX*e,o=i-(i-e),a=e-o,s=QX*t,l=s-(s-t),c=t-l,u=a*c-(r-o*l-a*l-o*c);return n?(n[0]=u,n[1]=r,n):[u,r]},QX=+(Math.pow(2,27)+1);var JX=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],t[0]);var i,o,a=new Array(n+r),s=0,l=0,c=0,u=Math.abs,h=e[l],d=u(h),p=t[c],f=u(p);d<f?(o=h,(l+=1)<n&&(d=u(h=e[l]))):(o=p,(c+=1)<r&&(f=u(p=t[c]))),l<n&&d<f||c>=r?(i=h,(l+=1)<n&&(d=u(h=e[l]))):(i=p,(c+=1)<r&&(f=u(p=t[c])));for(var m,g,b=i+o,v=b-i,y=o-v,T=y,_=b;l<n&&c<r;)d<f?(i=h,(l+=1)<n&&(d=u(h=e[l]))):(i=p,(c+=1)<r&&(f=u(p=t[c]))),(y=(o=T)-(v=(b=i+o)-i))&&(a[s++]=y),T=_-((m=_+b)-(g=m-_))+(b-g),_=m;for(;l<n;)(y=(o=T)-(v=(b=(i=h)+o)-i))&&(a[s++]=y),T=_-((m=_+b)-(g=m-_))+(b-g),_=m,(l+=1)<n&&(h=e[l]);for(;c<r;)(y=(o=T)-(v=(b=(i=p)+o)-i))&&(a[s++]=y),T=_-((m=_+b)-(g=m-_))+(b-g),_=m,(c+=1)<r&&(p=t[c]);return T&&(a[s++]=T),_&&(a[s++]=_),s||(a[s++]=0),a.length=s,a};var eW=ZX,tW=function(e,t,n){var r=e+t,i=r-e,o=t-i,a=e-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]},nW=function(e,t){var n=e.length;if(1===n){var r=eW(e[0],t);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;eW(e[0],t,o),o[0]&&(i[s++]=o[0]);for(var l=1;l<n;++l){eW(e[l],t,a);var c=o[1];tW(c,a[0],o),o[0]&&(i[s++]=o[0]);var u=a[1],h=o[1],d=u+h,p=h-(d-u);o[1]=d,p&&(i[s++]=p)}return o[1]&&(i[s++]=o[1]),0===s&&(i[s++]=0),i.length=s,i};var rW=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],-t[0]);var i,o,a=new Array(n+r),s=0,l=0,c=0,u=Math.abs,h=e[l],d=u(h),p=-t[c],f=u(p);d<f?(o=h,(l+=1)<n&&(d=u(h=e[l]))):(o=p,(c+=1)<r&&(f=u(p=-t[c]))),l<n&&d<f||c>=r?(i=h,(l+=1)<n&&(d=u(h=e[l]))):(i=p,(c+=1)<r&&(f=u(p=-t[c])));for(var m,g,b=i+o,v=b-i,y=o-v,T=y,_=b;l<n&&c<r;)d<f?(i=h,(l+=1)<n&&(d=u(h=e[l]))):(i=p,(c+=1)<r&&(f=u(p=-t[c]))),(y=(o=T)-(v=(b=i+o)-i))&&(a[s++]=y),T=_-((m=_+b)-(g=m-_))+(b-g),_=m;for(;l<n;)(y=(o=T)-(v=(b=(i=h)+o)-i))&&(a[s++]=y),T=_-((m=_+b)-(g=m-_))+(b-g),_=m,(l+=1)<n&&(h=e[l]);for(;c<r;)(y=(o=T)-(v=(b=(i=p)+o)-i))&&(a[s++]=y),T=_-((m=_+b)-(g=m-_))+(b-g),_=m,(c+=1)<r&&(p=-t[c]);return T&&(a[s++]=T),_&&(a[s++]=_),s||(a[s++]=0),a.length=s,a};!function(e){var t=ZX,n=JX,r=nW,i=rW;function o(e,t,n,r){return function(n,i,o){var a=e(e(t(i[1],o[0]),t(-o[1],i[0])),e(t(n[1],i[0]),t(-i[1],n[0]))),s=e(t(n[1],o[0]),t(-o[1],n[0])),l=r(a,s);return l[l.length-1]}}function a(e,t,n,r){return function(i,o,a,s){var l=e(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),s[2]))),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2])))),c=e(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),e(n(e(t(o[1],a[0]),t(-a[1],o[0])),i[2]),e(n(e(t(i[1],a[0]),t(-a[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2])))),u=r(l,c);return u[u.length-1]}}function s(e,t,n,r){return function(i,o,a,s,l){var c=e(e(e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),a[2]),e(n(e(t(a[1],l[0]),t(-l[1],a[0])),-s[2]),n(e(t(a[1],s[0]),t(-s[1],a[0])),l[2]))),o[3]),e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-s[2]),n(e(t(o[1],s[0]),t(-s[1],o[0])),l[2]))),-a[3]),n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),l[2]))),s[3]))),e(n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),s[2]))),-l[3]),e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-s[2]),n(e(t(o[1],s[0]),t(-s[1],o[0])),l[2]))),i[3]),n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-s[2]),n(e(t(i[1],s[0]),t(-s[1],i[0])),l[2]))),-o[3])))),e(e(n(e(n(e(t(o[1],l[0]),t(-l[1],o[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),l[2]))),s[3]),e(n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),-l[3]),n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),o[2]),e(n(e(t(o[1],s[0]),t(-s[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),s[2]))),i[3]))),e(n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),-o[3]),e(n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),a[3]),n(e(n(e(t(o[1],a[0]),t(-a[1],o[0])),i[2]),e(n(e(t(i[1],a[0]),t(-a[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2]))),-s[3]))))),u=e(e(e(n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),a[2]),e(n(e(t(a[1],l[0]),t(-l[1],a[0])),-s[2]),n(e(t(a[1],s[0]),t(-s[1],a[0])),l[2]))),i[3]),n(e(n(e(t(s[1],l[0]),t(-l[1],s[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-s[2]),n(e(t(i[1],s[0]),t(-s[1],i[0])),l[2]))),-a[3])),e(n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),l[2]))),s[3]),n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),-l[3]))),e(e(n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),o[2]),e(n(e(t(o[1],l[0]),t(-l[1],o[0])),-a[2]),n(e(t(o[1],a[0]),t(-a[1],o[0])),l[2]))),i[3]),n(e(n(e(t(a[1],l[0]),t(-l[1],a[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),l[2]))),-o[3])),e(n(e(n(e(t(o[1],l[0]),t(-l[1],o[0])),i[2]),e(n(e(t(i[1],l[0]),t(-l[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),l[2]))),a[3]),n(e(n(e(t(o[1],a[0]),t(-a[1],o[0])),i[2]),e(n(e(t(i[1],a[0]),t(-a[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),a[2]))),-l[3])))),h=r(c,u);return h[h.length-1]}}function l(e){return(3===e?o:4===e?a:s)(n,t,r,i)}var c=l(3),u=l(4),h=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),o=(e[0]-n[0])*(t[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=33306690738754716e-32*r;return a>=s||a<=-s?a:c(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],o=t[0]-r[0],a=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],c=n[1]-r[1],h=e[2]-r[2],d=t[2]-r[2],p=n[2]-r[2],f=o*c,m=a*l,g=a*s,b=i*c,v=i*l,y=o*s,T=h*(f-m)+d*(g-b)+p*(v-y),_=7771561172376103e-31*((Math.abs(f)+Math.abs(m))*Math.abs(h)+(Math.abs(g)+Math.abs(b))*Math.abs(d)+(Math.abs(v)+Math.abs(y))*Math.abs(p));return T>_||-T>_?T:u(e,t,n,r)}];function d(e){var t=h[e.length];return t||(t=h[e.length]=l(e.length)),t.apply(void 0,e)}function p(e,t,n,r,i,o,a){return function(t,n,s,l,c){switch(arguments.length){case 0:case 1:return 0;case 2:return r(t,n);case 3:return i(t,n,s);case 4:return o(t,n,s,l);case 5:return a(t,n,s,l,c)}for(var u=new Array(arguments.length),h=0;h<arguments.length;++h)u[h]=arguments[h];return e(u)}}!function(){for(;h.length<=5;)h.push(l(h.length));e.exports=p.apply(void 0,[d].concat(h));for(var t=0;t<=5;++t)e.exports[t]=h[t]}()}(KX);var iW=function(e,t){for(var n=t[0],r=t[1],i=e.length,o=1,a=i,s=0,l=i-1;s<a;l=s++){var c=e[s],u=e[l],h=c[1],d=u[1];if(d<h){if(d<r&&r<h){if(0===(p=oW(c,u,t)))return 0;o^=0<p|0}else if(r===h&&h<e[(s+1)%i][1]){if(0===(p=oW(c,u,t)))return 0;o^=0<p|0}}else if(h<d){if(h<r&&r<d){if(0===(p=oW(c,u,t)))return 0;o^=p<0|0}else if(r===h&&e[(s+1)%i][1]<h){var p;if(0===(p=oW(c,u,t)))return 0;o^=p<0|0}}else if(r===h){var f=Math.min(c[0],u[0]),m=Math.max(c[0],u[0]);if(0===s){for(;l>0;){var g=(l+i-1)%i;if((y=e[g])[1]!==r)break;var b=y[0];f=Math.min(f,b),m=Math.max(m,b),l=g}if(0===l)return f<=n&&n<=m?0:1;a=l+1}for(var v=e[(l+i-1)%i][1];s+1<a;){var y;if((y=e[s+1])[1]!==r)break;b=y[0],f=Math.min(f,b),m=Math.max(m,b),s+=1}if(f<=n&&n<=m)return 0;var T=e[(s+1)%i][1];n<f&&v<r!=T<r&&(o^=1)}}return 2*o-1},oW=KX.exports;const aW=5e3,sW={fontSize:"14px",fontFamily:"Arial",stroke:"white",strokeThickness:2,fontWeight:400,dropShadow:!0,dropShadowColor:"white",dropShadowDistance:0,dropShadowBlur:2};let lW=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).valueScaleTransform=Lj,i}return f(n,[{key:"initialize",value:function(){this.initialized||([this.prevK,this.vertK,this.vertY]=[1,1,0],this.drawnRects||(this.drawnRects={}),this.colorScale||(this.options.colorRange?this.colorScale=wf(this.options.colorRange):this.colorScale=nm),this.initialized=!0)}},{key:"initTile",value:function(e){e.texts={},e.rectGraphics=new Rf.PIXI.Graphics,e.textGraphics=new Rf.PIXI.Graphics,e.graphics.addChild(e.rectGraphics),e.graphics.addChild(e.textGraphics);let t=[],n=[];if(e.tileData&&e.tileData.length){if(e.tileData.sort(((e,t)=>t.importance-e.importance)),this.options&&this.options.valueColumn)t=[e.tileData.map((e=>({value:e})))];else{const r=e.tileData.map((e=>{const t=+e.chrOffset;return{from:+e.fields[1]+t,to:+e.fields[2]+t,value:e,text:e.fields[3],strand:e.fields.length>=6&&"-"===e.fields[5]?"-":"+"}}));t=yb(r.filter((e=>"+"===e.strand))),n=yb(r.filter((e=>"-"===e.strand)))}e.plusStrandRows=t,e.minusStrandRows=n,this.options.showTexts&&e.tileData.forEach(((t,n)=>{const r=t.fields;if(t.importance||(t.importance=Math.random()),e.textWidths={},e.textHeights={},n>=(+this.options.maxTexts||50))return;const i=new Rf.PIXI.Text(r[3],{...sW,fontSize:+this.options.fontSize||sW.fontSize});this.flipText&&(i.scale.x=-1),i.anchor.x=.5,i.anchor.y=.5,e.texts[t.uid]=i,e.textGraphics.addChild(i)}))}e.initialized=!0}},{key:"removeTileRects",value:function(e){const t=+e.tileId.split(".")[0];e.rectGraphics.clear(),e.rendered=!1,e.tileData&&e.tileData.length&&e.tileData.forEach(((n,r)=>{this.drawnRects[t]&&this.drawnRects[t][n.uid]&&this.drawnRects[t][n.uid][2]===e.tileId&&delete this.drawnRects[t][n.uid]}))}},{key:"destroyTile",value:function(e){this.removeTileRects(e),e.graphics.removeChild(e.textGraphics),e.graphics.removeChild(e.rectGraphics)}},{key:"removeTiles",value:function(e){r(h(n.prototype),"removeTiles",this).call(this,e)}},{key:"drawTile",value:function(e){this.options&&this.options.valueColumn&&this.valueScale&&this.drawAxis(this.valueScale)}},{key:"rerender",value:function(e,t){r(h(n.prototype),"rerender",this).call(this,e,t),this.valueScale=null,this.drawnRects={},this.options.colorRange?this.colorScale=wf(this.options.colorRange):this.colorScale=nm;for(const e of this.visibleAndFetchedTiles())this.destroyTile(e),this.initTile(e),this.renderTile(e)}},{key:"updateTile",value:function(e){this.areAllVisibleTilesLoaded()&&this.renderTile(e)}},{key:"allVisibleRects",value:function(){const e={};Object.values(this.fetchedTiles).forEach((t=>{if(t.plusStrandRows)for(const n of t.plusStrandRows[0])e[n.value.uid]||(e[n.value.uid]=n)}));const t=Object.values(e).sort(((e,t)=>e.from-t.from));let n=0,r=0;for(let e=0;e<t.length;e++)if(void 0!==t[e].staggeredStartPosition){n=e,r=t[e].staggeredStartPosition;break}for(let e=n;e<t.length;e++)t[e].staggeredStartPosition=(r+e-n)%2;for(let e=n;e>=0&&t.length;e--)t[e].staggeredStartPosition=(r+n-e)%2;return e}},{key:"drawSegmentStyle",value:function(e,t,n,r,i,o){const a=.1,s=r+i/2,l=[t,r,t+.2,r,t+.2,s-a,n-.2,s-a,n-.2,r,n,r,n,r+i,n-.2,r+i,n-.2,s+a,t+.2,s+a,t+.2,r+i,t,r+i];return e.rectGraphics.drawPolygon(l),l}},{key:"drawPoly",value:function(e,t,n,r,i,o){let a=null;return"segment"===this.options.annotationStyle?this.drawSegmentStyle(e,t,n,r,i,o):(("+"===o||"-"===o)&&n-t<8?(a=[t,r,t+i/2,r+i/2,t,r+i],"+"===o||(a=[n,r,n-i/2,r+i/2,n,r+i]),e.rectGraphics.drawPolygon(a)):(a="+"===o?[t,r,n-i/2,r,n,r+i/2,n-i/2,r+i,t,r+i]:"-"===o?[t+i/2,r,n,r,n,r+i,t+i/2,r+i,t,r+i/2]:[t,r,n,r,n,r+i,t,r+i],e.rectGraphics.drawPolygon(a)),a)}},{key:"setValueScale",value:function(){if(this.valueScale=null,this.options&&this.options.valueColumn){const e=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.valueColumn),t=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.valueColumn);this.options.valueColumn&&([this.valueScale]=this.makeValueScale(e,this.calculateMedianVisibleValue(+this.options.valueColumn),t))}}},{key:"setColorValueScale",value:function(){if(this.colorValueScale=null,this.options&&this.options.colorEncoding&&"itemRgb"!==this.options.colorEncoding){const e=this.options.colorEncodingRange?+this.options.colorEncodingRange[0]:this.minVisibleValueInTiles(+this.options.colorEncoding),t=this.options.colorEncodingRange?+this.options.colorEncodingRange[1]:this.maxVisibleValueInTiles(+this.options.colorEncoding);this.colorValueScale=fi().domain([e,t]).range([0,255])}}},{key:"renderRows",value:function(e,t,n,r,i,o){const a=+e.tileId.split(".")[0];this.initialize();const s=nn().domain(Gt(n)).range([r,i]).paddingInner(.3);this.allVisibleRects();let l=null;this.options.staggered&&(l=this.allVisibleRects());for(let n=0;n<t.length;n++)for(let r=0;r<t[n].length;r++){const i=t[n][r].value,c=i.fields,u=+i.chrOffset,h=+c[1]+u,d=+c[2]+u,p=(h+d)/2;let f=s(n)+s.step()/2,m=this.options.annotationHeight||16;if("scaled"===m&&(m=s.bandwidth(),this.options.maxAnnotationHeight&&(m=Math.min(m,+this.options.maxAnnotationHeight))),this.options&&"itemRgb"===this.options.colorEncoding&&i.fields[8]?3===i.fields[8].split(",").length&&(o=`rgb(${i.fields[8]})`):this.colorValueScale&&(o=`rgba(${ub(this.colorValueScale,this.colorScale,0,-Number.MIN_VALUE)(+c[+this.options.colorEncoding-1]).join(",")})`),this.valueScale){const e=+c[+this.options.valueColumn-1];f=this.valueScale(e)}const g=this.options.fillOpacity||.3;e.rectGraphics.lineStyle(1,lm(o),g),e.rectGraphics.beginFill(lm(o),g);let b=f-m/2;const v=this._xScale(h),y=this._xScale(d);this.options.staggered&&(l[i.uid].staggeredStartPosition?b-=2.5:b+=2.5);let T=!0;if(!(a in this.drawnRects)||!(i.uid in this.drawnRects[a])){T=!1,this.drawnRects[a]||(this.drawnRects[a]={});const t=this.drawPoly(e,v,y,b*this.prevK,m*this.prevK,c[5]);this.drawnRects[a][i.uid]=[t,{start:h,end:d,value:i,tile:e,fill:o},e.tileId]}if(!this.options.showTexts)continue;if(!e.texts)return;if(r>=(+this.options.maxTexts||50))continue;if(!e.texts[i.uid])continue;const _=e.texts[i.uid];_.position.x=this._xScale(p),_.position.y=b+m/2,_.nominalY=b+m/2,T&&(_.alreadyDrawn=!0);const E=void 0!==this.options.fontColor?lm(this.options.fontColor):o;if(_.style={...sW,fill:E,fontSize:+this.options.fontSize||sW.fontSize},!(c[3]in e.textWidths)){_.updateTransform();const t=_.getBounds().width,n=_.getBounds().height,r=5;e.textWidths[c[3]]=t,e.textHeights[c[3]]=n-r}}}},{key:"renderTile",value:function(e){let t=e.plusStrandRows?e.plusStrandRows.length:1,n=e.minusStrandRows?e.minusStrandRows.length:1;for(const e of this.visibleAndFetchedTiles()){if(!e.initialized)return;(e.plusStrandRows||e.minusStrandRows)&&(t=Math.max(e.plusStrandRows.length,t),n=Math.max(e.minusStrandRows.length,n))}if(e.rendered&&this.removeTileRects(e),e.drawnAtScale=this._xScale.copy(),e.rendered=!0,this.setValueScale(),this.setColorValueScale(),e.tileData&&e.tileData.length){const r=this.options.plusStrandColor||this.options.fillColor||"blue",i=this.options.minusStrandColor||this.options.fillColor||"purple",o=0;let a=0;a=this.options.separatePlusMinusStrands?t*this.dimensions[1]/(t+n)-o/2:this.dimensions[1],this.renderRows(e,e.plusStrandRows,t,0,a,r),this.renderRows(e,e.minusStrandRows,n,this.options.separatePlusMinusStrands?a+o/2:0,this.dimensions[1],i)}Zj.stretchRects(this,[e=>e.rectGraphics])}},{key:"calculateZoomLevel",value:function(){const e=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);let t=Math.min(e,this.maxZoom);return t=Math.max(t,0),t}},{key:"minVisibleValueInTiles",value:function(e){let t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));let n=Math.min.apply(null,t.map((e=>this.fetchedTiles[e])).filter((e=>e.tileData&&e.tileData.length)).map((t=>Math.min.apply(null,t.tileData.sort(((e,t)=>t.importance-e.importance)).slice(0,aW).map((t=>+t.fields[e-1])).filter((e=>!Number.isNaN(e)))))));return n===Number.MAX_SAFE_INTEGER&&(n=null),n}},{key:"maxVisibleValueInTiles",value:function(e){let t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));let n=Math.max.apply(null,t.map((e=>this.fetchedTiles[e])).filter((e=>e.tileData&&e.tileData.length)).map((t=>Math.max.apply(null,t.tileData.sort(((e,t)=>t.importance-e.importance)).slice(0,aW).map((t=>+t.fields[e-1])).filter((e=>!Number.isNaN(e)))))));return n===Number.MIN_SAFE_INTEGER&&(n=null),n}},{key:"calculateMedianVisibleValue",value:function(e){this.areAllVisibleTilesLoaded()&&this.allTilesLoaded();let t=this.visibleAndFetchedIds();0===t.length&&(t=Object.keys(this.fetchedTiles));const n=[].concat(...t.map((e=>this.fetchedTiles[e])).filter((e=>e.tileData&&e.tileData.length)).map((t=>t.tileData.sort(((e,t)=>t.importance-e.importance)).slice(0,aW).map((t=>+t.fields[e-1]))))).filter((e=>e>0));this.medianVisibleValue=Ft(n)}},{key:"draw",value:function(){r(h(n.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];for(const e in this.fetchedTiles){const t=this.fetchedTiles[e];if(t.rectGraphics.scale.y=this.vertK,t.rectGraphics.position.y=this.vertY,!t.drawnAtScale)return;Zj.stretchRects(this,[e=>e.rectGraphics]);const n=this.parentInFetched(t);t.initialized&&t.tileData&&t.tileData.length&&t.tileData.forEach((e=>{if(!t.texts)return;const r=e.fields,i=r[3],o=t.texts[e.uid];if(!o)return;const a=+e.chrOffset,s=(+r[1]+a+(+r[2]+a))/2;if(o.position.x=this._xScale(s),o.position.y=o.nominalY*(this.vertK*this.prevK)+this.vertY,n||o.alreadyDrawn)o.visible=!1;else{o.visible=!0;const n=3;this.allBoxes.push([o.position.x-n,o.position.y-t.textHeights[r[3]]/2,o.position.x+t.textWidths[r[3]]+n,o.position.y+t.textHeights[r[3]]/2]),this.allTexts.push({importance:e.importance,text:o,caption:i,strand:r[5]})}}))}this.hideOverlaps(this.allBoxes,this.allTexts)}},{key:"hideOverlaps",value:function(e,t){GX(e,((e,n)=>{t[e].importance>t[n].importance?t[e].text.visible&&(t[n].text.visible=!1):t[n].text.visible&&(t[e].text.visible=!1)}))}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e)}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t);const i=document.createElement("g");i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),e.appendChild(i);const o=document.createElement("g"),a=document.createElement("g");i.appendChild(o),i.appendChild(a);for(const e of this.visibleAndFetchedTiles())e.tileData.length&&e.tileData.forEach((t=>{const n=+e.tileId.split(".")[0],r=document.createElement("g");if(r.setAttribute("transform",`translate(${e.rectGraphics.position.x},${e.rectGraphics.position.y})scale(${e.rectGraphics.scale.x},${e.rectGraphics.scale.y})`),o.appendChild(r),this.drawnRects[n]&&t.uid in this.drawnRects[n]){const i=this.drawnRects[n][t.uid][0],o=document.createElement("path");let s=`M ${i[0]} ${i[1]}`;for(let e=2;e<i.length;e+=2)s+=` L ${i[e]} ${i[e+1]}`;const l=this.drawnRects[n][t.uid][1].fill,c=void 0!==this.options.fontColor?lm(this.options.fontColor):l;if(o.setAttribute("d",s),o.setAttribute("fill",l),o.setAttribute("opacity",.3),o.style.stroke=l,o.style.strokeWidth="1px",r.appendChild(o),e.texts[t.uid]){const n=e.texts[t.uid];if(!n.visible)return;const r=document.createElement("g"),i=document.createElement("text");a.appendChild(r),r.appendChild(i),r.setAttribute("transform",`translate(${n.x},${n.y})scale(${n.scale.x},1)`),i.setAttribute("text-anchor","middle"),i.setAttribute("font-family",sW.fontFamily),i.setAttribute("font-size",+this.options.fontSize||sW.fontSize),i.setAttribute("font-weight","bold"),i.setAttribute("dy","5px"),i.setAttribute("fill",c),i.setAttribute("stroke",sW.stroke),i.setAttribute("stroke-width","0.4"),i.setAttribute("text-shadow","0px 0px 2px grey"),i.innerHTML=n.text}}}));return[t,t]}},{key:"movedY",value:function(e){Object.values(this.fetchedTiles).forEach((t=>{const n=this.valueScaleTransform,{y:r,k:i}=n,o=this.dimensions[1];r+e/i>-(i-1)*o&&r+e/i<0&&(this.valueScaleTransform=n.translate(0,e/i)),t.rectGraphics.position.y=this.valueScaleTransform.y,this.vertY=this.valueScaleTransform.y})),this.animate()}},{key:"zoomedY",value:function(e,t){const n=Zj.zoomedY(e,t,this.valueScaleTransform,this.dimensions[1]);this.valueScaleTransform=n;let r=n.k;const i=n.y;let o=!1;r/=this.prevK,(r>1.5||r<1/1.5)&&(this.prevK*=r,r=1,o=!0),this.vertK=r,this.vertY=i,Object.values(this.fetchedTiles).forEach((e=>{o&&this.renderTile(e),e.rectGraphics.scale.y=r,e.rectGraphics.position.y=i})),this.draw(),this.animate()}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";const n=this.calculateZoomLevel(),r=[e,t];if(this.drawnRects[n]){const e=Object.values(this.drawnRects[n]);for(let t=0;t<e.length;t++){const n=e[t][0].slice(0),i=e[t][1].tile.rectGraphics.scale.x,o=e[t][1].tile.rectGraphics.position.x,a=e[t][1].tile.rectGraphics.scale.y,s=e[t][1].tile.rectGraphics.position.y,l=[];for(;n.length;){const[e,t]=n.splice(0,2);l.push([e*i+o,t*a+s])}if(-1===iW(l,r))return e[t][1].value.fields.join(" ")}}return""}}]),n}(uY);const cW=(e,t,n,r,i,o)=>{i instanceof HTMLElement?((e,t,n,r,i,{fill:o=0,fillOpacity:a=0,stroke:s=0,strokeWidth:l=0,strokeOpacity:c=0}={})=>{const u=document.createElement("rect");u.setAttribute("x",e),u.setAttribute("y",t),u.setAttribute("width",n),u.setAttribute("height",r),u.setAttribute("fill",`#${dm(o)}`),u.setAttribute("fill-opacity",a),u.setAttribute("stroke",`#${dm(s)}`),u.setAttribute("stroke-opacity",c),u.setAttribute("stroke-width",l),i.appendChild(u)})(e,t,n,r,i,o):((e,t,n,r,i)=>{i.drawRect(e,t,n,r)})(e,t,n,r,i)},uW=(e,t,n,r,i,o,a,s,{isVertical:l=!1,svg:c=null}={})=>{let u=t,h=n,d=r,p=i;const f=2*s.width>r?r/2:s.width,m=2*s.width>i?i/2:s.width,g=c||e,b={fill:0,fillOpacity:0,stroke:0,strokeOpacity:0,strokeWidth:1};if(s.positions&&s.positions.length?(e.lineStyle(1,0,0),e.beginFill(s.color,s.opacity),b.fill=s.color,b.fillOpacity=s.opacity,b.stroke=0,b.strokeOpacity=0,b.strokeWidth=1,s.positions.forEach((e=>{"top"===e&&!l||"left"===e&&l?cW(t-f,n-m,r+2*f,m,g,b):"bottom"===e&&!l||"right"===e&&l?cW(t-f,n+i,r+2*f,m,g,b):"left"===e&&!l||"top"===e&&l?cW(t-f,n-m,f,i+2*m,g,b):("right"===e&&!l||"bottom"===e&&l)&&cW(t+r,n-m,f,i+2*m,g,b)}))):s.width>0&&s.opacity>0&&(e.lineStyle(s.width,s.color,s.opacity),e.beginFill(0,0),b.fill=0,b.fillOpacity=0,b.stroke=s.color,b.strokeOpacity=s.opacity,b.strokeWidth=s.width,cW(t-f,n-m,r+2*f,i+2*m,g,b)),a.positions&&a.positions.length){e.lineStyle(1,0,0),e.beginFill(a.color,a.opacity);const o=2*a.width>r?r/2:a.width,s=2*a.width>i?i/2:a.width;b.fill=a.color,b.fillOpacity=a.opacity,b.stroke=0,b.strokeOpacity=0,b.strokeWidth=1,a.positions.forEach((e=>{"top"===e&&!l||"left"===e&&l?(cW(t,n,r,s,g,b),h+=s,p-=s):"bottom"===e&&!l||"right"===e&&l?(cW(t,n+i-s,r,s,g,b),p-=s):"left"===e&&!l||"top"===e&&l?(cW(t,n,o,i,g,b),u+=o,d-=o):("right"===e&&!l||"bottom"===e&&l)&&(cW(t+r-o,n,o,i,g,b),d-=o)}))}else e.lineStyle(a.width,a.color,a.opacity),b.stroke=a.color,b.strokeOpacity=a.opacity,b.strokeWidth=a.width;e.beginFill(o.color,o.opacity),b.fill=o.color,b.fillOpacity=o.opacity,cW(u,h,d,p,g,b)};let hW=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).options=r||{},i.drawnRects={},i}return f(n,[{key:"drawHorizontalOverlay",value:function(e,t,n,r=0,i,o,a,s){if(!n||n.length<2)return;let l=this.position[0]+t.left+this._xScale(n[0]);const c=this.position[1]+t.top,u=t.height;let h=this._xScale(n[1])-this._xScale(n[0]);h<r&&(l-=(r-h)/2,h=r),uW(e,l,c,h,u,i,o,a,s)}},{key:"drawVerticalOverlay",value:function(e,t,n,r=0,i,o,a,s={}){if(!n||n.length<2)return;const l=this.position[0]+t.left;let c=this.position[1]+t.top+this._yScale(n.length>=4?n[2]:n[0]);const u=this.position[1]+t.top,h=this.position[1]+t.top+t.height;if(c>h)return;c<u&&(c=u);const d=t.width;let p=this._yScale(n.length>=4?n[3]:n[1])-c+t.top+this.position[1];p<0||(c+p>h&&(p+=h-(c+p)),p<r&&(c-=(r-p)/2,p=r),s.isVertical=!0,uW(e,l,c,d,p,i,o,a,s))}},{key:"draw",value:function(e){r(h(n.prototype),"draw",this).call(this);const t=this.pMain,i={color:lm(this.options.fill||this.options.fillColor||"blue"),opacity:Number.isNaN(+this.options.fillOpacity)?.3:+this.options.fillOpacity},o={color:lm(this.options.stroke||"blue"),opacity:+this.options.strokeOpacity||1,width:+this.options.strokeWidth||0,positions:!this.options.strokePos||Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]},a={color:lm(this.options.outline||"white"),opacity:+this.options.outlineOpacity||1,width:+this.options.outlineWidth||0,positions:!this.options.outlinePos||Array.isArray(this.options.outlinePos)?this.options.outlinePos:[this.options.outlinePos]};e&&e.svg||t.clear(),t.lineStyle(o.width,o,+!o.positions*o.opacity),t.beginFill(i.color,i.opacity);const s=Math.max(0,+this.options.minWidth||0),l=Math.max(0,+this.options.minHeight||0);Array.isArray(this.options.extent)&&this.options.orientationsAndPositions.forEach((n=>{"1d-horizontal"!==n.orientation&&"2d"!==n.orientation||this.options.extent.forEach((r=>this.drawHorizontalOverlay(t,n.position,r,s,i,o,a,e))),"1d-vertical"!==n.orientation&&"2d"!==n.orientation||this.options.extent.forEach((r=>this.drawVerticalOverlay(t,n.position,r,l,i,o,a,e)))}))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e),this.draw()}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t);const i=document.createElement("g");return e.appendChild(i),this.draw({svg:i}),[t,e]}}]),n}(BH),dW=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"stopHover",value:function(){this.pMouseOver.clear(),this.animate()}},{key:"getMouseOverHtml",value:function(e){if(!this.tilesetInfo||!this.options.showTooltip||!this.valueScale)return"";const t=this.getDataAtPos(e);let n="";t&&(n=ni(".3f")(t));const r=this.pMouseOver,i=this.valueScale(t);r.clear(),r.beginFill(0,.5),r.lineStyle(1,0,1);return r.drawRect(e-2,i-2,4,4),this.animate(),`${n}`}},{key:"initTile",value:function(e){if(r(h(n.prototype),"initTile",this).call(this,e),e.tileData&&e.tileData.dense){if(e.xValues=new Array(e.tileData.dense.length),e.yValues=new Array(e.tileData.dense.length),this.isValueScaleLocked()){const e=this.getLockGroupExtrema();null!==e&&(this.minValue(e[0]),this.maxValue(e[1]))}this.drawTile(e)}else console.warn("emptyTile:",e)}},{key:"rerender",value:function(e,t){r(h(n.prototype),"rerender",this).call(this,e,t),this.options=e,r(h(n.prototype),"draw",this).call(this),this.visibleAndFetchedTiles().forEach((e=>{this.renderTile(e)}))}},{key:"renderTile",value:function(e){this.drawTile(e),this.drawAxis(this.valueScale)}},{key:"drawTile",value:function(e){if(r(h(n.prototype),"drawTile",this).call(this,e),!e.graphics)return;if(!e.tileData||!e.tileData.dense)return;const t=e.graphics,{tileX:i,tileWidth:o}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),a=e.tileData.dense;if(0===a.length)return;const[s,l]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue());if(this.valueScale=s,t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());const c=lm(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue");this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension||console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension",this.tilesetInfo);const u=this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension,d=fi().domain([0,u]).range([i,i+o]),p=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;t.lineStyle(p,c,1),e.segments=[];let f=[];for(let t=0;t<a.length;t++){const n=this._xScale(d(t)),r=this.valueScale(a[t]+l);if("log"===this.options.valueScaling&&0===a[t]||Number.isNaN(r))f.length>1&&e.segments.push(f),f=[];else{if(d(t)>this.tilesetInfo.max_pos[0])break;f.push([n,r])}}f.length>1&&e.segments.push(f);for(const n of e.segments){const e=n[0],r=n.slice(1);t.moveTo(e[0],e[1]);for(const e of r)t.lineTo(e[0],e[1])}}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.pMouseOver.position.y=this.position[1],this.pMouseOver.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw();const n=this.isValueScaleLocked();if(this.continuousScaling&&void 0!==this.minValue()&&void 0!==this.maxValue()){if(null===this.valueScaleMin&&null===this.valueScaleMax&&!n){const e=this.minVisibleValue(),t=this.maxVisibleValue(),n=1e-6;null!==e&&null!==t&&(Math.abs(this.minValue()-e)>n||Math.abs(this.maxValue()-t)>n)&&(this.minValue(e),this.maxValue(t),this.scheduleRerender())}n&&this.onValueScaleChanged()}}},{key:"superSVG",value:function(){return r(h(n.prototype),"exportSVG",this).call(this)}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t),t.setAttribute("class","exported-line-track");const i=document.createElement("g");e.appendChild(i),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`);const o=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue";this.visibleAndFetchedTiles().forEach((e=>{const t=document.createElement("path");t.setAttribute("fill","transparent"),t.setAttribute("stroke",o);let n="";for(const t of e.segments){const e=t[0],r=t.slice(1);n+=`M${e[0]} ${e[1]}`;for(const e of r)n+=`L${e[0]} ${e[1]}`}t.setAttribute("d",n),i.appendChild(t)}));const a=document.createElement("g");if(a.setAttribute("id","axis"),t.appendChild(a),a.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){const e=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);a.appendChild(e)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){const e=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);a.appendChild(e)}return[t,e]}},{key:"tileToLocalId",value:function(e){return this.options.aggregationMode&&"mean"!==this.options.aggregationMode?`${e.join(".")}.${this.options.aggregationMode}`:`${e.join(".")}`}},{key:"tileToRemoteId",value:function(e){return this.tileToLocalId(e)}}]),n}(uY),pW=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"initTile",value:function(e){e.barXValues=new Array(e.tileData.dense.length),e.barYValues=new Array(e.tileData.dense.length),e.barWidths=new Array(e.tileData.dense.length),e.barHeights=new Array(e.tileData.dense.length),r(h(n.prototype),"initTile",this).call(this,e)}},{key:"drawTile",value:function(e){if(!e.graphics)return;if(!e.tileData||!e.tileData.dense)return;const t=e.graphics,{tileX:n,tileWidth:r}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),i=e.tileData.dense;if(0===i.length)return;let o=0;if(this.valueScale=null,"log"===this.options.valueScaling){let e=this.medianVisibleValue;this.medianVisibleValue||(e=this.minValue()),this.valueScale=xi().domain([e,this.maxValue()+e]).range([this.dimensions[1],0]),o=e}else this.valueScale=fi().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());const a=lm(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),s=fi().domain([0,this.tilesetInfo.tile_size]).range([n,n+r]);t.lineStyle(0,a,1);const l=this.options.pointSize?this.options.pointSize:3,c=lm(this.options.pointColor?this.options.pointColor:"red");t.beginFill(c,1),e.drawnAtScale=this._xScale.copy();for(let n=0;n<i.length;n++){const r=this._xScale(s(n)),a=this.valueScale(i[n]+o);if(e.barXValues[n]=r-l/2/this.pMain.scale.x,e.barYValues[n]=a-l/2/this.pMain.scale.y,e.barWidths[n]=l/this.pMain.scale.x,e.barHeights[n]=l/this.pMain.scale.y,s(n)>this.tilesetInfo.max_pos[0])break;t.drawRect(r-l/2/this.pMain.scale.x,a-l/2/this.pMain.scale.y,l/this.pMain.scale.x,l/this.pMain.scale.y)}}},{key:"draw",value:function(){r(h(n.prototype),"draw",this).call(this);for(const e of gm(this.fetchedTiles)){const t=(e.drawnAtScale.domain()[1]-e.drawnAtScale.domain()[0])/(this._xScale.domain()[1]-this._xScale.domain()[0]),n=this._xScale.domain().map(e.drawnAtScale)[0];e.graphics.scale.x=t,e.graphics.position.x=-n*t}}},{key:"zoomed",value:function(e,t,i,o,a){r(h(n.prototype),"zoomed",this).call(this,e,t)}},{key:"exportSVG",value:function(){let e=null,t=null;[t,e]=r(h(n.prototype),"superSVG",this).call(this),t.setAttribute("class","exported-line-track");const i=document.createElement("g");e.appendChild(i),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`);for(const e of this.visibleAndFetchedTiles())for(let t=0;t<e.barXValues.length;t++){const n=document.createElement("rect"),r=this.options.lineStrokeColor||"blue",o=this.options.pointColor||"red";n.setAttribute("fill",o),n.setAttribute("stroke",r),n.setAttribute("stroke-width",0),n.setAttribute("x",e.barXValues[t]),n.setAttribute("y",e.barYValues[t]),n.setAttribute("height",e.barHeights[t]),n.setAttribute("width",e.barWidths[t]),i.appendChild(n)}const o=document.createElement("g");if(o.setAttribute("id","axis"),t.appendChild(o),o.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){const e=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);o.appendChild(e)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){const e=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);o.appendChild(e)}return[t,e]}}]),n}(dW);const fW=(e,t)=>{const n=xb(e,t);return function(e){let t=0;const n=[];return e.forEach((e=>{t+=+e||0,n.push(t)})),Float64Array.from(n)}(e.map((e=>(Array.isArray(e)&&t?e.length:1)/n)))};let mW=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).pMain=i.pMobile,i.continuousScaling=!1,i.updateDataFetcher(r),i}return f(n,[{key:"updateDataFetcher",value:function(e){if(e&&e.selectRows&&"server"===e.selectRowsAggregationMethod){const{pubSub:t,dataFetcher:n}=this,r=n.dataConfig.options,i={aggGroups:e.selectRows,aggFunc:e.selectRowsAggregationMode};if(JSON.stringify(r)!==JSON.stringify(i)){const e={...n.dataConfig,options:i};this.dataFetcher=new n.constructor(e,t),this.dataFetcher.dataConfig.tilesetUid&&this.fetchNewTiles(Object.keys(this.fetchedTiles).map((e=>({tileId:e,remoteId:e}))))}}}},{key:"rerender",value:function(e,t){this.updateDataFetcher(e),r(h(n.prototype),"rerender",this).call(this,e,t),e.selectRows&&(this.selectRowsCumWeights=fW(e.selectRows,e.selectRowsAggregationWithRelativeHeight))}},{key:"tileDataToCanvas",value:function(e){const t=document.createElement("canvas");this.options.selectRows&&this.tilesetInfo.shape?(t.width=this.tilesetInfo.shape[0],t.height=xb(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight)):this.tilesetInfo.shape?(t.width=this.tilesetInfo.shape[0],t.height=this.tilesetInfo.shape[1]):(t.width=this.tilesetInfo.tile_size,t.height=1);const n=t.getContext("2d");if(n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height),0!==e.length&&e.length===4*t.width*t.height){const r=new ImageData(e,t.width,t.height);n.putImageData(r,0,0)}else console.warn("HorizontalMultivecTrack: pixData has an incorrect length.");return t}},{key:"setSpriteProperties",value:function(e,t,n){const{tileX:r,tileWidth:i}=this.getTilePosAndDimensions(t,n,this.tilesetInfo.tile_size),o=r+i;e.width=this._refXScale(o)-this._refXScale(r),e.height=this.dimensions[1],e.x=this._refXScale(r),e.y=0}},{key:"leftTrackZoomed",value:function(e,t,n,r,i){const o=this._xScale(0)-n*this._refXScale(0);this.pMobile.position.x=o+this.position[0],this.pMobile.position.y=this.position[1],this.pMobile.scale.x=n,this.pMobile.scale.y=1}},{key:"zoomed",value:function(e,t,i,o){r(h(n.prototype),"zoomed",this).call(this,e,t),this.pMain.position.x=o,this.pMain.position.y=this.position[1],this.pMain.scale.x=i,this.pMain.scale.y=1,this.drawColorbar()}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;if(this.zoomLevel=this.calculateZoomLevel(),this.tilesetInfo.resolutions){const e=this.tilesetInfo.resolutions.map((e=>+e)).sort(((e,t)=>t-e));this.xTiles=mg.calculateTilesFromResolution(e[this.zoomLevel],this._xScale,this.tilesetInfo.min_pos[0],null,this.tilesetInfo.tile_size)}else this.xTiles=mg.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const e=this.xTiles.map((e=>[this.zoomLevel,e]));this.setVisibleTiles(e)}},{key:"calculateZoomLevel",value:function(){if(!this.tilesetInfo)return;const e=this.tilesetInfo.min_pos[0];let t=null;return t=this.tilesetInfo.resolutions?mg.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,e):mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t}},{key:"tileToLocalId",value:function(e){return e.join(".")}},{key:"tileToRemoteId",value:function(e){return e.join(".")}},{key:"getTilePosAtPosition",value:function(e,t){if(!this.tilesetInfo)return;const n=this.calculateZoomLevel(),r=mg.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(e)/r;return[n,Math.floor(i)]}},{key:"getVisibleData",value:function(e,t){const n=this.calculateZoomLevel(),r=mg.calculateTileWidth(this.tilesetInfo,n,this.tilesetInfo.tile_size),i=this._xScale.invert(e)/r;let o=this.tilesetInfo.shape?this.tilesetInfo.shape[1]:1;this.options.selectRows&&(o=xb(this.options.selectRows,this.options.selectRowsAggregationWithRelativeHeight));let a=this.tilesetInfo.tile_size*(i-Math.floor(i));const s=t/this.dimensions[1],l=s*o;let c,u=Math.floor(l);this.options.selectRows&&(this.options.selectRowsAggregationWithRelativeHeight&&(u=this.selectRowsCumWeights.findIndex(((e,t)=>s<=e&&(t===this.selectRowsCumWeights.length-1||this.selectRowsCumWeights[t+1]>=s)))),c=this.options.selectRows[u]);const h=this.tileToLocalId([n,Math.floor(i)]),d=this.fetchedTiles[h];let p="";if(d){this.tilesetInfo.shape||(a=d.tileData.dense.length*(i-Math.floor(i)));let e=null;if(e=this.tilesetInfo.shape?Array.isArray(c)&&"client"===this.options.selectRowsAggregationMethod?c.map((e=>this.tilesetInfo.shape[0]*e+Math.floor(a))):c&&"client"===this.options.selectRowsAggregationMethod?this.tilesetInfo.shape[0]*c+Math.floor(a):this.tilesetInfo.shape[0]*u+Math.floor(a):d.tileData.dense.length*u+Math.floor(a),Array.isArray(e)){const t=Eb(this.options.selectRowsAggregationMode),n=e.map((e=>d.tileData.dense[e]));p=ni(".3f")(t(n)),p+="<br/>",p+=`${e.length}-item ${this.options.selectRowsAggregationMode}`}else p=ni(".3f")(d.tileData.dense[e]),Array.isArray(c)&&(p+="<br/>",p+=`${c.length}-item ${this.options.selectRowsAggregationMode}`)}if(this.tilesetInfo.row_infos){p+="<br/>";let e="";this.options.selectRows&&!Array.isArray(c)?e=this.tilesetInfo.row_infos[c]:u>=0&&u<this.tilesetInfo.row_infos.length&&(e=this.tilesetInfo.row_infos[u]),p+="object"==typeof e?Object.values(e).join("\t"):e}return`${p}`}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";const n=this.getTilePosAtPosition(e,t);let r="";if(this.options&&this.options.heatmapValueScaling&&"categorical"===this.options.heatmapValueScaling&&this.options.colorRange){const n=this.getVisibleData(e,t).split("<br/>"),i=this.options.colorRange[parseInt(n[0],10)-1],o=n[1];if(Number.isNaN(i)||"NaN"===i||void 0===i||"undefined"===i)return"";r=`<svg width="10" height="10" style="position:relative;bottom:1px"><rect width="10" height="10" rx="2" ry="2"\n                 style="fill:${i};stroke:black;stroke-width:2;"></svg> ${o}`}else r+=`Data value: ${this.getVisibleData(e,t)}</br>`,r+=`Zoom level: ${n[0]} tile position: ${n[1]}`;return r}}]),n}(oY);const gW=lm("#FFFFFF");let bW=function(e){i(n,e);var t=o(n);function n(...e){var r;return d(this,n),(r=t.call(this,...e)).zeroLine=new Rf.PIXI.Graphics,r.pMain.addChild(r.zeroLine),r.valueScaleTransform=Lj,r.options&&r.options.colorRange&&(r.options.colorRangeGradient?r.setColorGradient(r.options.colorRange):r.setColorScale(r.options.colorRange)),r.initialized=!0,r}return f(n,[{key:"setColorScale",value:function(e){e&&(this.colorScale=wf(e),this.colorScale=this.colorScale.map((e=>e.map((e=>e/255)))))}},{key:"setColorGradient",value:function(e){if(!e)return;const t=e.length-1;this.colorGradientColors="bottom"===this.options.align?e.slice().reverse().map(((e,n)=>({from:n/t,color:e}))):e.map(((e,n)=>({from:n/t,color:e})))}},{key:"initTile",value:function(e){this.initialized&&r(h(n.prototype),"initTile",this).call(this,e)}},{key:"updateTile",value:function(e){e.valueScale&&this.scale&&this.scale.minValue===e.scale.minValue&&this.scale.maxValue===e.scale.maxValue||this.renderTile(e)}},{key:"renderTile",value:function(e){this.initialized&&r(h(n.prototype),"renderTile",this).call(this,e)}},{key:"drawTile",value:function(e){if(!e.graphics)return;if(!e.tileData||!e.tileData.dense)return;const{graphics:t}=e;e.svgData=void 0;const{tileX:n,tileWidth:r}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.bins_per_dimension||this.tilesetInfo.tile_size),i=e.tileData.dense;if(0===i.length)return;const[o,a]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue(),0);o.clamp(!0),this.valueScale=o;const s=o.copy();if(s.range([254,0]).clamp(!0),t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());const l=lm(this.options.lineStrokeColor||"blue"),c=fi().domain([0,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension]).range([n,n+r]);t.lineStyle(0,l,1);const u=this.options.barFillColor||"grey",h=lm(u),d="barOpacity"in this.options?this.options.barOpacity:1;t.beginFill(h,d),e.drawnAtScale=this._xScale.copy();const p="top"===this.options.align;let f,m,g,b,v,y;if(this.colorGradientColors){v=new Rf.PIXI.Graphics,v.beginFill(gW,1);const e=Sg(this.colorGradientColors,1,this.dimensions[1],0,0,0,this.dimensions[1]);y=new Rf.PIXI.Sprite(Rf.PIXI.Texture.fromCanvas(e,Rf.PIXI.SCALE_MODES.NEAREST)),y.x=this._xScale(n),y.width=this._xScale(n+r)-y.x}for(let n=0;n<i.length;n++)if(f=this._xScale(c(n)),g=this.valueScale(i[n]+a),m=this._xScale(c(n+1))-f,b=this.dimensions[1]-g,p&&(g=0),!(Number.isNaN(b)||b<0||g<0)){if(this.addSVGInfo(e,f,g,m,b,u),c(n)>this.tilesetInfo.max_pos[0])break;if(this.colorScale&&!this.options.colorRangeGradient){const e=Math.round(s(i[n]+a)),r=this.colorScale[e],o=Rf.PIXI.utils.rgb2hex(r);t.beginFill(o,d)}(v||t).drawRect(f,g,m,b)}this.colorGradientColors&&(y.mask=v,t.removeChildren(),t.addChild(y,v))}},{key:"rerender",value:function(e,t){e&&e.colorRange&&(e.colorRangeGradient?this.setColorGradient(e.colorRange):this.setColorScale(e.colorRange)),r(h(n.prototype),"rerender",this).call(this,e,t)}},{key:"drawZeroLine",value:function(){this.zeroLine.clear();const e=lm(this.options.barFillColor||"grey"),t=+this.options.barOpacity||1,n=this.options.zeroLineColor?lm(this.options.zeroLineColor):e,r=Number.isNaN(+this.options.zeroLineOpacity)?t:+this.options.zeroLineOpacity;this.zeroLine.beginFill(n,r),this.zeroLine.drawRect(0,this.dimensions[1]-1,this.dimensions[0],1)}},{key:"drawZeroLineSvg",value:function(e){const t=document.createElement("rect");t.setAttribute("id","zero-line"),t.setAttribute("x",0),t.setAttribute("y",this.dimensions[1]-1),t.setAttribute("height",1),t.setAttribute("width",this.dimensions[0]),t.setAttribute("fill",this.options.zeroLineColor||this.options.barFillColor),t.setAttribute("fill-opacity",this.options.zeroLineOpacity||this.options.barOpacity),e.appendChild(t)}},{key:"getXScaleAndOffset",value:function(e){const t=e.domain(),n=this._xScale.domain(),r=(t[1]-t[0])/(n[1]-n[0]);return[r,-this._xScale.domain().map(e)[0]*r]}},{key:"draw",value:function(){this.initialized&&(r(h(n.prototype),"draw",this).call(this),this.options.zeroLineVisible?this.drawZeroLine():this.zeroLine.clear(),Object.values(this.fetchedTiles).forEach((e=>{const[t,n]=this.getXScaleAndOffset(e.drawnAtScale);e.graphics.scale.x=t,e.graphics.position.x=n})))}},{key:"zoomed",value:function(e,t){r(h(n.prototype),"zoomed",this).call(this,e,t)}},{key:"movedY",value:function(e){}},{key:"zoomedY",value:function(e,t){}},{key:"addSVGInfo",value:function(e,t,n,r,i,o){e.svgData?(e.svgData.barXValues.push(t),e.svgData.barYValues.push(n),e.svgData.barWidths.push(r),e.svgData.barHeights.push(i),e.svgData.barColors.push(o)):e.svgData={barXValues:[t],barYValues:[n],barWidths:[r],barHeights:[i],barColors:[o]}}},{key:"exportSVG",value:function(){let e=null,t=null;[t,e]=r(h(n.prototype),"superSVG",this).call(this),t.setAttribute("class","exported-line-track");const i=document.createElement("g");e.appendChild(i),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),this.options.zeroLine&&this.drawZeroLineSvg(i),this.visibleAndFetchedTiles().filter((e=>e.svgData&&e.svgData.barXValues)).forEach((e=>{const t=e.svgData;for(let n=0;n<t.barXValues.length;n++){const r=document.createElement("rect");r.setAttribute("fill",t.barColors[n]),r.setAttribute("stroke",t.barColors[n]),r.setAttribute("x",t.barXValues[n]),r.setAttribute("y",t.barYValues[n]),r.setAttribute("height",t.barHeights[n]),r.setAttribute("width",t.barWidths[n]),e.barBorders&&(r.setAttribute("stroke-width","0.1"),r.setAttribute("stroke","black")),i.appendChild(r)}}));const o=document.createElement("g");if(o.setAttribute("id","axis"),t.appendChild(o),o.setAttribute("transform",`translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`),"left"===this.options.axisPositionHorizontal||"top"===this.options.axisPositionVertical){const e=this.axis.exportAxisLeftSVG(this.valueScale,this.dimensions[1]);o.appendChild(e)}else if("right"===this.options.axisPositionHorizontal||"bottom"===this.options.axisPositionVertical){const e=this.axis.exportAxisRightSVG(this.valueScale,this.dimensions[1]);o.appendChild(e)}return[t,e]}}]),n}(dW),vW=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"drawTile",value:function(e){this.renderTile(e)}},{key:"renderTile",value:function(e){if(!e.graphics)return;const t=e.graphics,{tileX:n,tileWidth:r}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos,this.tilesetInfo.tile_size||this.tilesetInfo.bins_per_dimension),i=e.tileData.dense;if(0===i.length)return;let o=0;if(this.valueScale=null,"log"===this.options.valueScaling){let e=this.medianVisibleValue;this.medianVisibleValue||(e=this.minValue()),this.valueScale=xi().domain([e,this.maxValue()+e]).range([this.dimensions[1],0]),o=e}else this.valueScale=fi().domain([this.minValue(),this.maxValue()]).range([this.dimensions[1],0]);if(t.clear(),this.drawAxis(this.valueScale),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());const a=lm(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),s=fi().domain([0,this.tilesetInfo.tile_size]).range([n,n+r]);t.lineStyle(0,a,1);const l=this.options.barFillColorTop?this.options.barFillColorTop:"green",c=this.options.barFillColorBottom?this.options.barFillColorBottom:"red",u=lm(l),h=lm(c),d="barOpacity"in this.options?this.options.barOpacity:1;e.drawnAtScale=this._xScale.copy();let p=0;p="log"===this.options.valueScaling?this.valueScale(1):this.valueScale(0),delete e.svgData;for(let n=0;n<i.length;n++){const r=this._xScale(s(n)),a=this.valueScale(i[n]+o),f=this._xScale(s(n+1))-r;if(a>p?(t.beginFill(h,d),this.addSVGInfo(e,r,p,f,a-p,c)):(t.beginFill(u,d),this.addSVGInfo(e,r,a,f,p-a,l)),s(n)>this.tilesetInfo.max_pos[0])break;t.drawRect(r,e.svgData.barYValues[n],f,e.svgData.barHeights[n])}}}]),n}(bW),yW=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).setColorScale(r.colorRange),i.opacity=r.opacity||1,i}return f(n,[{key:"setColorScale",value:function(e){this.colorScale=e?wf(e):nm,this.colorScale=this.colorScale.map((e=>e.map((e=>e/255))))}},{key:"rerender",value:function(e){e&&e.colorRange&&this.setColorScale(e.colorRange),this.opacity=e.opacity||1,r(h(n.prototype),"rerender",this).call(this,e)}},{key:"drawAxis",value:function(){}},{key:"drawTile",value:function(e){if(!e.graphics||!e.tileData||!e.tileData.dense)return;const t=e.graphics,{tileX:n,tileWidth:r}=this.getTilePosAndDimensions(e.tileData.zoomLevel,e.tileData.tilePos),i=e.tileData.dense;if(0===i.length)return;const[o,a]=this.makeValueScale(this.minValue(),this.medianVisibleValue,this.maxValue());if(o.range([254,0]).clamp(!0),this.valueScale=o,t.clear(),"log"===this.options.valueScaling&&this.valueScale.domain()[1]<0)return void console.warn("Negative values present when using a log scale",this.valueScale.domain());const s=fi().domain([0,this.tilesetInfo.tile_size]).range([n,n+r]);t.lineStyle(0,0,0);for(let n=0;n<i.length;n++){if(Number.isNaN(i[n]))continue;const r=Math.round(this.valueScale(i[n]+a));if(Number.isNaN(+r))continue;const o=this._xScale(s(n)),l=this._xScale(s(n+1))-o,c=this.dimensions[1];e.xValues[n]=o,e.yValues[n]=r;const u=this.colorScale[r],h=Rf.PIXI.utils.rgb2hex(u);if(t.beginFill(h,this.opacity),0!==n){if(s(n)>this.tilesetInfo.max_pos[0])break;0!==i[n]&&t.drawRect(o,0,l,c)}}}}]),n}(dW),TW=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).seen=new Set,i.pMain=i.pMobile,i.rows=[],i}return f(n,[{key:"uid",value:function(e){return e[e.length-2]}},{key:"segmentOverlap",value:function(e,t){}},{key:"drawAll",value:function(e){this.pMain.clear();const t=new Set,n=yb(e.map((e=>t.has(this.uid(e))?null:(t.add(this.uid(e)),{from:+e[1],to:+e[2],type:e[4],uid:this.uid(e)}))).filter((e=>e)));this.rows=n,this.draw()}},{key:"draw",value:function(){const e=this.rows;if(!e)return;const t=nn().range([0,this.dimensions[1]]).padding(.1).domain(Gt(0,this.maxRows())),n=this.pMain;n.clear(),n.lineStyle(1,255,0),n.beginFill(16740363,.8);for(let r=0;r<e.length;r++)for(let i=0;i<e[r].length;i++){const o=e[r][i],a=this._refXScale(o.from),s=this._refXScale(o.to),l=t(r),c=s-a,u=l+t.bandwidth()-l;n.drawRect(a,l,c,u)}}},{key:"allTilesLoaded",value:function(){const e=this.visibleAndFetchedIds().map((e=>this.fetchedTiles[e].tileData.discrete)),t=[].concat(...e);this.drawAll(t)}},{key:"initTile",value:function(e){}},{key:"maxRows",value:function(){return this.rows.length}},{key:"updateTile",value:function(e){}},{key:"destroyTile",value:function(e){e.tileData.discrete.forEach((e=>{const t=e[e.length-2];this.seen.has(t)&&this.seen.delete(t)}))}},{key:"drawTile",value:function(e){}}]),n}(uY),_W=function(){function e(t){d(this,e),this.scene=t.scene,this.originalTrack=t,this.pBase=new Rf.PIXI.Graphics,this.scene.removeChild(t.pBase),this.scene.addChild(this.pBase),this.moveToOrigin=new Rf.PIXI.Graphics,this.moveToOrigin.addChild(t.pBase),this.pBase.addChild(this.moveToOrigin),this.moveToOrigin.rotation=Math.PI/2,t.isLeftModified=!0,t.flipText=!0,this.svgOutput=null,t.gBase&&t.gMain&&(this.originalTrack.gBase.attr("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})\n                             rotate(90)\n                             scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.gMain.attr("transform",`translate(${this.originalTrack.pBase.position.x},${this.originalTrack.pBase.position.y})`))}return f(e,[{key:"remove",value:function(){this.originalTrack.remove(),this.pBase.clear(),this.scene.removeChild(this.pBase)}},{key:"setDimensions",value:function(e){this.dimensions=e;const t=[e[1],e[0]];this.originalTrack.setDimensions(t)}},{key:"setPosition",value:function(e){this.position=e,this.originalTrack.setPosition(e),this.originalTrack.pBase.position.x=-this.originalTrack.position[0],this.originalTrack.pBase.position.y=-this.originalTrack.position[1],this.moveToOrigin.scale.y=-1,this.moveToOrigin.scale.x=1,this.moveToOrigin.position.x=this.originalTrack.position[0],this.moveToOrigin.position.y=this.originalTrack.position[1],this.originalTrack.gMain&&(this.originalTrack.gBase.attr("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})\n                                 rotate(90)\n                                 scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.gMain.attr("transform",`translate(${this.originalTrack.pBase.position.x},${this.originalTrack.pBase.position.y})`))}},{key:"refXScale",value:function(e){return arguments.length?(this.originalTrack._refXScale=e,this):this.originalTrack._refYScale}},{key:"refYScale",value:function(e){return arguments.length?(this.originalTrack._refYScale=e,this):this.originalTrack._refXScale}},{key:"xScale",value:function(e){return arguments.length?(this.originalTrack._yScale=e,this):this.originalTrack._xScale}},{key:"yScale",value:function(e){return arguments.length?(this.originalTrack._xScale=e,this):this.originalTrack._yScale}},{key:"getMouseOverHtml",value:function(e,t){return this.originalTrack.getMouseOverHtml(t,e)}},{key:"clickOutside",value:function(){this.originalTrack.clickOutside()}},{key:"click",value:function(...e){this.originalTrack.click(...e)}},{key:"draw",value:function(){this.originalTrack.draw()}},{key:"zoomed",value:function(e,t,n=1,r=0,i=0,o=0,a=0){if(this.xScale(e),this.yScale(t),this.originalTrack.leftTrackZoomed)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),this.originalTrack.leftTrackZoomed(e,t,n,r,i),void this.originalTrack.draw();const s=this.originalTrack._xScale(0)-n*this.originalTrack._refXScale(0);if(this.originalTrack.pMobile.position.x=s+this.originalTrack.position[0],this.originalTrack.pMobile.position.y=this.originalTrack.position[1]+this.originalTrack.dimensions[1],this.originalTrack.pMobile.scale.x=n,this.originalTrack.pMobile.scale.y=n,this.originalTrack.options.oneDHeatmapFlipped&&(this.originalTrack.pMobile.scale.y=-n,this.originalTrack.pMobile.position.y=this.originalTrack.position[1]),this.originalTrack.leftTrackDraw)return this.originalTrack.refreshTiles&&this.originalTrack.refreshTiles(),void this.originalTrack.leftTrackDraw();this.originalTrack.zoomed(this.xScale(),this.yScale())}},{key:"zoomedY",value:function(e,t){this.originalTrack.zoomedY(e,t)}},{key:"movedY",value:function(e){this.originalTrack.movedY(e)}},{key:"refScalesChanged",value:function(e,t){this.originalTrack.refScalesChanged(t,e)}},{key:"rerender",value:function(e){this.originalTrack.rerender(e)}},{key:"exportSVG",value:function(){const e=document.createElement("g");if(e.setAttribute("transform",`translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})\n                             rotate(90)\n                             scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`),this.originalTrack.exportSVG){const t=document.createElement("g");t.setAttribute("transform",`translate(${this.originalTrack.pBase.position.x}, ${this.originalTrack.pBase.position.y})`),t.appendChild(this.originalTrack.exportSVG()[0]),e.appendChild(t)}return[e,e]}},{key:"respondsToPosition",value:function(e,t){return e>=this.position[0]&&e<=this.dimensions[0]+this.position[0]&&t>=this.position[1]&&t<=this.dimensions[1]+this.position[1]}}]),e}();const EW="Arial",xW="outside",wW=lm("#ffffff"),SW=2,AW=20/3*2/3,kW="blue",CW="red",IW=(e,t,n)=>{"filler"!==n.type&&t.pubSub.publish("app.click",{type:"gene-annotation",event:e,payload:n})},OW=(e,t)=>{const n=e.concat(t),r=n.map((e=>[e.xStart,1,e.xEnd,1]));GX(r,((e,t)=>{let r=null,i=null;if("filler"===n[e].type?r=n[e]:i=n[e],"filler"===n[t].type){if(r)return;r=n[t]}else{if(!r)return;i=n[t]}r.xStart>=i.xStart&&r.xEnd<=i.xEnd&&(r.hide=!0)}))};function DW(e,t,n,r,i,o,a,s,l){const c=s-l/2;e.forEach((e=>{const r=new Rf.PIXI.Graphics;n.rectGraphics.addChild(r),r.beginFill(o,.1),r.lineStyle(0,o);const a=[i(e.xStart)-0,c,i(e.xEnd)+0,c,i(e.xEnd)+0,c+l,i(e.xStart)-0,c+l,i(e.xStart)-0,c];r.interactive=!0,r.buttonMode=!0,r.mouseup=n=>IW(n,t,e),r.drawPolygon(a),n.allRects.push([a,e.strand,e])}))}function PW(e,t,n,r,i,o,a,s,l){e.forEach((e=>{const r=e.fields,i=+e.chrOffset,c=r[12],u=r[13],h=new Rf.PIXI.Graphics;n.rectGraphics.addChild(h),h.beginFill(o,a),h.interactive=!0,h.buttonMode=!0,h.mouseup=n=>IW(n,t,e),n.allRects=n.allRects.concat(function(e,t,n,r,i,o,a,s,l,c){const u=s-l/2,h=i.split(",").map((e=>+e+a)),d=o.split(",").map((e=>+e+a)),p=e._xScale(n),f=e._xScale(r),m=f-p,g=s,b=[];let v=[p,g-SW/2,p+m,g-SW/2,p+m,g+SW/2,p,g+SW/2];t.drawPolygon(v),b.push(v);const y=2*l;for(let n=Math.max(e.position[0],p)+y;n<Math.min(e.position[0]+e.dimensions[0],p+m);n+=y)v="+"===c?[n,g-AW/2,n+AW/2,g,n,g+AW/2]:[n,g-AW/2,n-AW/2,g,n,g+AW/2],b.push(v),t.drawPolygon(v);for(let n=0;n<h.length;n++){const r=h[n],i=d[n],o=e._xScale(r),a=Math.max(1,e._xScale(i)-e._xScale(r));let s=p,m=f;const g=e.geneRectHeight/2;let v=null;"+"===c?(m=f-g,v=[Math.min(o,m),u,Math.min(o+a,m),u,Math.min(o+a,m),u+l,Math.min(o,m),u+l,Math.min(o,m),u]):(s=p+g,v=[Math.max(o,s),u,Math.max(o+a,s),u,Math.max(o+a,s),u+l,Math.max(o,s),u+l,Math.max(o,s),u]),b.push(v),t.drawPolygon(v)}return b}(t,h,e.xStart,e.xEnd,c,u,i,s,l,e.strand||e.fields[5]).map((t=>[t,e.strand,e])))}))}function NW(e,t,n,r,i,o,a,s,l){(function(e,t,n,r,i,o,a,s,l){const c=s-l/2;e.forEach((e=>{const r=t._xScale(e.xStart),i=t._xScale(e.xEnd),s=new Rf.PIXI.Graphics;n.rectGraphics.addChild(s),s.beginFill(o,a),s.interactive=!0,s.buttonMode=!0,s.mouseup=n=>IW(n,t,e);const l=t.geneRectHeight/2;let u=[];if("+"===e.strand||"+"===e.fields[5]){const e=Math.max(r,i-l);u=[e,c,e+l,c+t.geneRectHeight/2,e,c+t.geneRectHeight]}else{const e=Math.min(i,r+l);u=[e,c,e-l,c+t.geneRectHeight/2,e,c+t.geneRectHeight]}s.drawPolygon(u),n.allRects.push([u,e.strand,e])}))})(e,t,n,0,0,o,a,s,l),PW(e,t,n,0,0,o,a,s,l)}let RW=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{animate:o}=e;return i.animate=o,i.options=r,i.fontSize=+i.options.fontSize||11,i.geneLabelPos=i.options.geneLabelPosition||xW,i.geneRectHeight=+i.options.geneAnnotationHeight||10,i.geneRectHeight-=2,i.geneStrandSpacing=+i.options.geneStrandSpacing||4,i.geneStrandHSpacing=i.geneStrandSpacing/2,i.geneRectHHeight=i.geneRectHeight/2,i}return f(n,[{key:"initTile",value:function(e){(function(e,t,n){const{flipText:r,fontSize:i,fontFamily:o,plusStrandColor:a,minusStrandColor:s,maxGeneEntries:l,maxFillerEntries:c,maxTexts:u}=n;if(t.texts={},t.rectGraphics=new Rf.PIXI.Graphics,t.textBgGraphics=new Rf.PIXI.Graphics,t.textGraphics=new Rf.PIXI.Graphics,t.rectMaskGraphics=new Rf.PIXI.Graphics,t.graphics.addChild(t.rectGraphics),t.graphics.addChild(t.textBgGraphics),t.graphics.addChild(t.textGraphics),t.graphics.addChild(t.rectMaskGraphics),t.rectGraphics.mask=t.rectMaskGraphics,!t.tileData.sort)return;t.tileData.sort(((e,t)=>t.importance-e.importance));const h=t.tileData.filter((e=>"filler"!==e.type)).slice(0,l),d=t.tileData.filter((e=>"filler"===e.type)).slice(0,c);t.tileData=h.concat(d),t.tileData.forEach(((n,l)=>{if("filler"===n.type)return;const c=n.fields,h=c[3],d=e.geneId(c,n.type),p=n.strand||c[5];n.strand=n.strand||p;let f=a||kW;if("-"===p&&(f=s||CW),t.textWidths={},t.textHeights={},l>=u)return;const m=new Rf.PIXI.Text(h,{fontSize:`${i}px`,fontFamily:o,fill:lm(f)});m.interactive=!0,r&&(m.scale.x=-1),m.anchor.x=.5,m.anchor.y=1,t.texts[d]=m,t.texts[d].strand=p,t.textGraphics.addChild(m)})),t.initialized=!0})(this,e,{flipText:this.flipText,fontSize:this.fontSize,fontFamily:EW,plusStrandColor:this.options.plusStrandColor,minusStrandColor:this.options.minusStrandColor,maxGeneEntries:50,maxFillerEntries:5e3,maxTexts:20}),this.renderTile(e)}},{key:"destroyTile",value:function(e){e.rectGraphics.destroy(),e.rectMaskGraphics.destroy(),e.textGraphics.destroy(),e.textBgGraphics.destroy(),e.graphics.destroy()}},{key:"rerender",value:function(e,t){const i=JSON.stringify(e);(t||i!==this.prevOptions)&&(r(h(n.prototype),"rerender",this).call(this,e,t),this.fontSize=+this.options.fontSize||11,this.geneLabelPos=this.options.geneLabelPosition||xW,this.geneRectHeight=+this.options.geneAnnotationHeight||10,this.geneStrandHSpacing=this.geneStrandSpacing/2,this.geneRectHHeight=this.geneRectHeight/2,this.prevOptions=i,this.visibleAndFetchedTiles().forEach((e=>{this.renderTile(e)})))}},{key:"drawTile",value:function(){}},{key:"geneId",value:function(e,t){return`${t}_${e[0]}_${e[1]}_${e[2]}_${e[3]}`}},{key:"renderTile",value:function(e){if(!e.initialized)return;e.allRects=[],e.drawnAtScale=this._xScale.copy(),e.rectGraphics.removeChildren(),e.rectGraphics.clear(),e.textBgGraphics.clear();const t={};t["+"]=lm(this.options.plusStrandColor||kW),t["-"]=lm(this.options.minusStrandColor||CW);let n=e.tileData.filter((e=>"filler"===e.type&&"+"===e.strand)),r=e.tileData.filter((e=>"filler"===e.type&&"-"===e.strand));const i=e.tileData.filter((e=>"filler"!==e.type&&("+"===e.strand||"+"===e.fields[5]))),o=e.tileData.filter((e=>"filler"!==e.type&&("-"===e.strand||"-"===e.fields[5])));OW(i,n),OW(o,r),n=n.filter((e=>!e.hide)),r=r.filter((e=>!e.hide));const a=this.dimensions[1]/2,s=a-this.geneRectHeight/2-this.geneStrandSpacing/2,l=a+this.geneRectHeight/2+this.geneStrandSpacing/2,c=[this,e,e.rectGraphics,this._xScale,t["+"],.3,s,this.geneRectHeight],u=[this,e,e.rectGraphics,this._xScale,t["-"],.3,l,this.geneRectHeight];DW(n,...c),DW(r,...u),c[5]=.3,u[5]=.3,NW(i,...c),NW(o,...u),function(e,t){const{tileX:n,tileWidth:r}=Zj.getTilePosAndDimensions(e.tilesetInfo,t.tileId);t.rectMaskGraphics.clear();const i=Math.floor(Math.random()*16**6);t.rectMaskGraphics.beginFill(i,.3);const o=e._xScale(n),a=e._xScale(n+r)-e._xScale(n),s=e.dimensions[1];t.rectMaskGraphics.drawRect(o,0,a,s)}(this,e),Zj.stretchRects(this,[e=>e.rectGraphics,e=>e.rectMaskGraphics]);for(const t of Object.values(e.texts))t.style={fontSize:`${this.fontSize}px`,FONT_FAMILY:EW,fill:lm("-"===t.strand?this.options.minusStrandColor||CW:this.options.plusStrandColor||kW)}}},{key:"calculateZoomLevel",value:function(){const e=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]);let t=Math.min(e,this.maxZoom);return t=Math.max(t,0),t}},{key:"draw",value:function(){r(h(n.prototype),"draw",this).call(this),this.allTexts=[],this.allBoxes=[];const e=[];this.geneAreaHeight=this.geneRectHeight;const t=this.fontSize/2;Zj.stretchRects(this,[e=>e.rectGraphics,e=>e.rectMaskGraphics]),Object.values(this.fetchedTiles).filter((e=>e.drawnAtScale)).forEach((n=>{n.textBgGraphics.clear(),n.textBgGraphics.beginFill(void 0!==this.options.labelBackgroundColor?lm(this.options.labelBackgroundColor):wW);const r=this.parentInFetched(n);n.initialized&&n.tileData.forEach((i=>{if(!n.texts)return;if("filler"===i.type)return;const o=i.fields,a=o[3],s=this.geneId(o,i.type),l=n.texts[s];if(!l)return;const c=+i.chrOffset,u=(+o[1]+c+(+o[2]+c))/2;let h=this.dimensions[1]/2;const d=(this.geneAreaHeight-this.fontSize)/2;if("+"===o[5]?h-="inside"===this.geneLabelPos?d+this.geneStrandSpacing-2:this.fontSize/2+this.geneAreaHeight-2:h+="inside"===this.geneLabelPos?this.fontSize+this.geneStrandSpacing/2+d+1:1.5*this.fontSize+this.geneAreaHeight+2,l.position.x=this._xScale(u),l.position.y=h,!n.textWidths[s]){const e=l.getBounds().width,t=l.getBounds().height;n.textHeights[s]=t,n.textWidths[s]=e}if(r)l.visible=!1;else{l.visible=!0;const r=2;this.flipText?this.allBoxes.push([l.position.x-n.textHeights[s]/2-r,h-t-1,l.position.x+n.textHeights[s]/2+r,h+t-1,a]):this.allBoxes.push([l.position.x-n.textWidths[s]/2-r,h-t-1,l.position.x+n.textWidths[s]/2+r,h+t-1,a]),this.allTexts.push({importance:+o[4],text:l,caption:a,strand:o[5]}),e.push(n.textBgGraphics)}}))})),this.hideOverlaps(this.allBoxes,this.allTexts),this.renderTextBg(this.allBoxes,this.allTexts,e)}},{key:"renderTextBg",value:function(e,t,n){t.forEach(((t,r)=>{if(t.text.visible&&e[r]&&n[r]){const[t,i,o,a]=e[r],s=o-t,l=a-i;n[r].drawRect(t-s/2,i-l/2,s,l)}}))}},{key:"hideOverlaps",value:function(e,t){GX(e,((e,n)=>{t[e].importance>t[n].importance?t[n].text.visible=!1:t[e].text.visible=!1}))}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e),this.halfRectHHeight=this.dimensions[1]/2,this.visibleAndFetchedTiles().forEach((e=>{this.renderTile(e)}))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}},{key:"getMouseOverHtml",value:function(e,t){if(!this.tilesetInfo)return"";const n=[e,t];for(const e of this.visibleAndFetchedTiles())for(let t=0;t<e.allRects.length;t++){if("filler"===e.allRects[t][2].type)continue;const r=e.allRects[t][0].slice(0),i=[];for(;r.length;){const t=r.splice(0,2);t[0]=t[0]*e.rectGraphics.scale.x+e.rectGraphics.position.x,t[1]=t[1]*e.rectGraphics.scale.y+e.rectGraphics.position.y,i.push(t)}if(-1===iW(i,n)){const n=e.allRects[t][2];return`\n            <div>\n              <b>${n.fields[3]}</b><br>\n              <b>Position:</b> ${n.fields[0]}:${n.fields[1]}-${n.fields[2]}<br>\n              <b>Strand:</b> ${n.fields[5]}\n            </div>\n          `}}return""}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t);const i=document.createElement("g");return i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),e.appendChild(i),this.visibleAndFetchedTiles().filter((e=>e.allRects)).forEach((e=>{const t=document.createElement("g");t.setAttribute("transform",`translate(${e.rectGraphics.position.x},\n          ${e.rectGraphics.position.y})\n          scale(${e.rectGraphics.scale.x},\n          ${e.rectGraphics.scale.y})`),e.allRects.forEach((e=>{const n=document.createElement("path"),r=e[0];let i=`M ${r[0]} ${r[1]}`;for(let e=2;e<r.length;e+=2)i+=` L ${r[e]} ${r[e+1]}`;n.setAttribute("d",i),"+"===e[1]?n.setAttribute("fill",this.options.plusStrandColor):n.setAttribute("fill",this.options.minusStrandColor),n.setAttribute("opacity","0.3"),t.appendChild(n)})),i.appendChild(t)})),this.allTexts.filter((e=>e.text.visible)).forEach((e=>{const t=document.createElement("g"),n=document.createElement("text");n.setAttribute("text-anchor","middle"),n.setAttribute("font-family",EW),n.setAttribute("font-size",`${this.fontSize}px`),n.setAttribute("dy","-.2em"),t.setAttribute("transform",`scale(${e.text.scale.x},1)`),"+"===e.strand?n.setAttribute("fill",this.options.plusStrandColor):n.setAttribute("fill",this.options.minusStrandColor),n.innerHTML=e.text.text,t.appendChild(n),t.setAttribute("transform",`translate(${e.text.x},${e.text.y})scale(${e.text.scale.x},1)`),i.appendChild(t)})),[t,t]}}]),n}(uY);function MW(e,t,n,r,i,o,a,s,l,c){const u=c?e._xScale(n.yStart):e._xScale(n.xStart),h=c?e._xScale(n.yEnd):e._xScale(n.xEnd),d=c?e._yScale(n.xStart):e._yScale(n.yStart),p=c?e._yScale(n.xEnd):e._yScale(n.yEnd),f=n.uid+c,m=h-u,g=p-d;let b={x:u,y:d,width:m,height:g};r&&(m<r||g<r)&&(b={x:u-r/2,y:d-r/2,width:r,height:r}),e.drawnRects[f]=b;const v=b.x+b.width,y=b.y+b.height;(b.x>i&&b.x<o||v>i&&v<o||b.y>a&&b.y<s||y>a&&y<s)&&(b.width>l||b.height>l)&&(t.drawRect(b.x,b.y,b.width,b.height),e.publish("annotationDrawn",{trackUuid:e.uuid,annotationUuid:f,viewPos:[b.x,b.y,b.width,b.height],dataPos:[n.xStart,n.xEnd,n.yStart,n.yEnd],importance:n.importance,info:{patternType:e.options.patternType}}))}let LW=function(e){i(n,e);var t=o(n);function n(...e){var r;d(this,n),(r=t.call(this,...e)).drawnRects={};const{publish:i,subscribe:o,unsubscribe:a}=gh();return r.publish=i,r.subscribe=o,r.unsubscribe=a,r}return f(n,[{key:"tileToLocalId",value:function(e){return`${e.join(".")}`}},{key:"tileToRemoteId",value:function(e){return`${e.join(".")}`}},{key:"localToRemoteId",value:function(e){const t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const e=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let n=Math.max(e,t);return n=Math.min(n,this.maxZoom),n}},{key:"setVisibleTiles",value:function(e){this.visibleTiles=e.map((e=>({tileId:this.tileToLocalId(e),remoteId:this.tileToRemoteId(e)}))),this.visibleTileIds=new Set(this.visibleTiles.map((e=>e.remoteId)))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=mg.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=mg.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[];for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++){const a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}},{key:"initTile",value:function(){}},{key:"destroyTile",value:function(){}},{key:"draw",value:function(){this.drawnRects={},r(h(n.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){const t=e.graphics;if(!t)return;t.clear();const n=lm(this.options.rectangleDomainStrokeColor||"black"),r=lm(this.options.rectangleDomainFillColor||"grey");t.lineStyle(void 0!==this.options.rectangleDomainStrokeWidth?this.options.rectangleDomainStrokeWidth:1,n,void 0!==this.options.rectangleDomainStrokeOpacity?this.options.rectangleDomainStrokeOpacity:1),t.beginFill(r,void 0!==this.options.rectangleDomainFillOpacity?this.options.rectangleDomainFillOpacity:.4),t.alpha=this.options.rectangleDomainOpacity||.5;const i=this.options.minSquareSize&&"none"!==this.options.minSquareSize?+this.options.minSquareSize:0,o=this.options.rectangleMinSize?+this.options.rectangleMinSize:0,a=this._xScale.range()[0],s=this._xScale.range()[1],l=this._yScale.range()[0],c=this._yScale.range()[1];e.tileData.length&&e.tileData.filter((e=>!(e.uid in this.drawnRects))).forEach((e=>{MW(this,t,e,i,a,s,l,c,o,"yes"===this.options.flipDiagonal),this.options.flipDiagonal&&"copy"===this.options.flipDiagonal&&MW(this,t,e,i,a,s,l,c,o,!0)}))}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t);const i=document.createElement("g");i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),e.appendChild(i);for(const e of[!0,!1])for(const t of this.visibleAndFetchedTiles())t.tileData&&t.tileData.length&&t.tileData.forEach((n=>{const r=n.uid+e,o=document.createElement("g");if(o.setAttribute("transform",`translate(${t.graphics.position.x},${t.graphics.position.y})scale(${t.graphics.scale.x},${t.graphics.scale.y})`),i.appendChild(o),r in this.drawnRects){const e=this.drawnRects[r],t=document.createElement("rect");t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("width",e.width),t.setAttribute("height",e.height),t.setAttribute("fill",this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey"),t.setAttribute("opacity",.3),t.style.stroke="black",t.style.strokeWidth="1px",o.appendChild(t)}}));return[t,t]}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale().domain()[0]===e.domain()[0]&&this.xScale().domain()[1]===e.domain()[1]&&this.yScale().domain()[0]===t.domain()[0]&&this.yScale().domain()[1]===t.domain()[1]||(this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw())}},{key:"leftTrackDraw",value:function(){this.draw()}}]),n}(tY);let BW=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{pubSub:o}=e;i.drawnAnnotations={},i.drawnAnnoGfx={},i.selectedAnno=null,i.options.minSquareSize=+i.options.minSquareSize;const{publish:s,subscribe:l,unsubscribe:c}=gh();return i.publish=s,i.subscribe=l,i.unsubscribe=c,i.sT=0,i.annoSelectedBound=i.annoSelected.bind(a(i)),i.pubSubs.push(o.subscribe("annoSelected",i.annoSelectedBound)),i}return f(n,[{key:"minX",get:function(){return this.tilesetInfo&&this.tilesetInfo.min_pos?this.tilesetInfo.min_pos[0]:0}},{key:"maxX",get:function(){return this.tilesetInfo&&this.tilesetInfo.max_pos?this.tilesetInfo.max_pos[0]:this.tilesetInfo.max_width||this.tilesetInfo.max_size}},{key:"minY",get:function(){return this.minX}},{key:"maxY",get:function(){return this.maxX}},{key:"maxSize",get:function(){return this.tilesetInfo.max_pos&&Math.max(this.tilesetInfo.max_pos[0]-this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[1]-this.tilesetInfo.min_pos[1])||(this.tilesetInfo.max_size?this.tilesetInfo.max_size:0)}},{key:"projection",value:function([e,t]){return[this._xScale(e),this._yScale(t)]}},{key:"tileToLocalId",value:function(e){return`${e.join(".")}`}},{key:"tileToRemoteId",value:function(e){return`${e.join(".")}`}},{key:"localToRemoteId",value:function(e){const t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const e=mg.calculateZoomLevel(this._xScale,this.minX,this.maxX),t=mg.calculateZoomLevel(this._yScale,this.minY,this.maxY);return Mg(Ng(e,t),this.maxZoom)}},{key:"setVisibleTiles",value:function(e){this.visibleTiles=e.map((e=>({tileId:this.tileToLocalId(e),remoteId:this.tileToRemoteId(e)}))),this.visibleTileIds=new Set(this.visibleTiles.map((e=>e.tileId)))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=mg.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.tilesetInfo.max_zoom,this.maxSize),this.yTiles=mg.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.tilesetInfo.max_zoom,this.maxSize);const e=this.zoomLevel,t=[];for(let n=0;n<this.xTiles.length;n++)for(let r=0;r<this.yTiles.length;r++)t.push([e,this.xTiles[n],this.yTiles[r]]);this.setVisibleTiles(t)}},{key:"draw",value:function(){this.drawnAnnotations={},r(h(n.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e,t=!1,n=!1){if(!e.graphics)return;e.graphics.__tile__=e;const r=e.graphics;r.clear(),this.setBorderStyle(r),this.setFill(r),r.alpha=+this.options.rectangleDomainOpacity,e.tileData.length&&e.tileData.filter((e=>!(e.uid in this.drawnAnnotations)||t)).forEach((e=>{const[t,i]=this.projection([e.xStart,e.yStart]),[o,a]=this.projection([e.xEnd,e.yEnd]);this.options.exclude&&this.options.exclude.indexOf(e.uid)>=0||this.drawAnnotation(this.prepAnnotation(r,e.uid,t,i,o-t,a-i,e),n)}))}},{key:"prepAnnotation",value:function(e,t,n,r,i,o,a){let s;try{s=JSON.parse(a.fields)}catch(e){}return{graphics:e,id:a.id,uid:t,annotation:{x:n,y:r,width:i,height:o},dataPos:[a.xStart,a.xEnd,a.yStart,a.yEnd],importance:a.importance,info:s}}},{key:"drawAnnotation",value:function({graphics:e,id:t,uid:n,annotation:r,dataPos:i,importance:o,info:a},s){this.options.minSquareSize&&(r.width<this.options.minSquareSize||r.height<this.options.minSquareSize)&&(r.x=(r.x+r.width)/2,r.y=(r.y+r.height)/2,r.width=this.options.minSquareSize,r.height=this.options.minSquareSize),this.drawnAnnotations[n]=r;const l=[r.x,r.y,r.width,r.height];let c=this.drawnAnnoGfx[n];c||(c=new Rf.PIXI.Graphics,this.drawnAnnoGfx[n]=c),-1===e.children.indexOf(c)&&e.addChild(c),this._drawRect(c,l,n),e.interactive=!0,c.interactive=!0,c.buttonMode=!0;const u={id:t,uid:n,dataPos:i,importance:o,info:a,viewPos:[r.x,r.y,r.x+r.width,r.y+r.height]};c.mouseover=()=>this.hover(c,l,n),c.mouseout=()=>this.blur(c,l,n),c.mousedown=()=>this.mouseDown(),c.mouseup=e=>this.mouseUp(c,l,n,e,u),s||this.publish("annotationDrawn",{trackUuids:this.uuid,annotationUuid:n,annotationId:t,viewPos:l,dataPos:i,importance:o,info:a})}},{key:"_drawRect",value:function(e,t,n){let r=this.options.rectangleDomainStrokeColor,i=this.options.rectangleDomainStrokeWidth,o=this.options.rectangleDomainStrokeOpacity,a=this.options.rectangleDomainFillColor,s=this.options.rectangleDomainFillOpacity;this.hoveredAnno===n&&(r=this.options.hoverColor,i=this.options.rectangleDomainStrokeWidth+1||2,o=1,a=this.options.hoverColor,s=this.options.rectangleDomainFillOpacity),this.selectedAnno&&this.selectedAnno.uid===n&&(r=this.options.selectColor,i=this.options.rectangleDomainStrokeWidth+1||2,o=1,a=this.options.selectColor,s=Ng(.33,this.options.rectangleDomainFillOpacity)),e.clear(),this.options.trackBorderBgWidth&&(this.setBorderStyle(e,this.options.trackBorderBgColor,this.options.trackBorderBgWidth,this.options.trackBorderBgAlpha),this.setFill(e,a,0),e.drawRect(...t)),this.setBorderStyle(e,r,i,o),this.setFill(e,a,s),e.drawRect(...t),e.__viewPos__=t}},{key:"context",value:function(e,t,n){return r=>r(e,t,n)}},{key:"click",value:function(e,t,n,r,i){this.select(e,t,n),this.pubSub.publish("app.click",{type:"annotation",event:r,payload:i})}},{key:"mouseDown",value:function(){this.sT=performance.now()}},{key:"mouseUp",value:function(e,t,n,r,i){performance.now()-this.sT<=250&&this.click(e,t,n,r,i)}},{key:"hover",value:function(e,t,n){this.hoveredAnno=n,this._drawRect(e,t,n),this.animate()}},{key:"focus",value:function(e,t,n){this._drawRect(e,t,n),this.animate()}},{key:"blur",value:function(e,t,n){this.hoveredAnno=null,this._drawRect(e,t,n),this.animate()}},{key:"select",value:function(e,t,n,r=!1){let i=null,o=null;this.selectedAnno&&(i=this.selectedAnno.graphics,o=this.selectedAnno.uid),this.selectedAnno={graphics:e,uid:n},this.focus(e,t,n),this.options.onSelect&&!r&&(window[this.options.onSelect](n),this.pubSub.publish("annoSelected",n)),i&&o&&this.blur(i,i.__viewPos__,o)}},{key:"unselect",value:function(){const e=this.selectedAnno.graphics,t=this.selectedAnno.uid;this.selectedAnno=null,this.blur(e,e.__viewPos__,t)}},{key:"annoSelected",value:function(e){if(!this.selectedAnno||this.selectedAnno.uid!==e){this.selectedAnno&&this.unselect();const t=this.drawnAnnoGfx[e];t&&this.select(t,t.__viewPos__,e,!0)}}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t);const i=document.createElement("g");return i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),e.appendChild(i),this.visibleAndFetchedTiles().filter((e=>e.tileData&&e.tileData.length)).map((e=>({graphics:e.graphics,td:e.tileData}))).forEach((({td:e,graphics:t})=>{const n=document.createElement("g");if(n.setAttribute("transform",`translate(${t.position.x},${t.position.y})scale(${t.scale.x},${t.scale.y})`),i.appendChild(n),e.uid in this.drawnAnnotations){const t=this.drawnAnnotations[e.uid],r=document.createElement("rect");r.setAttribute("x",t.x),r.setAttribute("y",t.y),r.setAttribute("width",t.width),r.setAttribute("height",t.height),r.setAttribute("fill",this.options.fillColor||"grey"),r.setAttribute("opacity",.3),r.style.stroke=this.options.fillColor||"grey",r.style.strokeWidth="1px",n.appendChild(r)}})),[t,t]}},{key:"setBorderStyle",value:function(e,t=this.options.rectangleDomainStrokeColor,n=this.options.rectangleDomainStrokeWidth,r=this.options.rectangleDomainStrokeOpacity){e.lineStyle(void 0!==n?n:1,lm(t||"black"),void 0!==r?r:1)}},{key:"setFill",value:function(e,t=this.options.rectangleDomainFillColor,n=this.options.rectangleDomainFillOpacity){e.beginFill(lm(t||"grey"),void 0!==n?n:.4)}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}}]),n}(tY),FW=function(e){i(n,e);var t=o(n);function n(e,r,i){var o;return d(this,n),(o=t.call(this,e,r)).pubSub=e.pubSub,o.options=r,o.isVertical=i,o.rects={},o.defaultColor=xn("red"),o}return f(n,[{key:"draw",value:function(){const e=void 0!==this.options.minRectWidth?this.options.minRectWidth:10,t=void 0!==this.options.fill?xn(this.options.fill):this.defaultColor,i=void 0!==this.options.fillOpacity?+this.options.fillOpacity:.2,o=void 0!==this.options.stroke?xn(this.options.stroke):this.defaultColor,a=void 0!==this.options.strokeWidth?+this.options.strokeWidth:1,s=void 0!==this.options.strokeOpacity?+this.options.strokeOpacity:0;let l;this.options.strokePos&&this.options.strokePos.length&&(l=Array.isArray(this.options.strokePos)?this.options.strokePos:[this.options.strokePos]),r(h(n.prototype),"draw",this).call(this);const c=this.pMain;c.clear();const u=performance.now();this.options.regions.forEach((n=>{const r=`${n[0]}-${n[1]}`;this.rects[r]||(this.rects[r]={graphics:new Rf.PIXI.Graphics},c.addChild(this.rects[r].graphics)),this.rects[r].timeStamp=u;const h=xn(n[2])||t;let d=xn(n[3])||o;d||(d=h);const p=Rf.PIXI.utils.rgb2hex([h.r/255,h.g/255,h.b/255]),f=Rf.PIXI.utils.rgb2hex([d.r/255,d.g/255,d.b/255]);l?(c.lineStyle(1,f,0),c.beginFill(f,+n[5]||s)):(c.lineStyle(a,f,+n[5]||s),c.beginFill(p,+n[4]||i));const m=this.isVertical?this._yScale:this._xScale;let g=m(+n[0]);const b=m(+n[1]);let v=b-g;const y=void 0!==n[6]?n[6]:e;v<y&&(g=(g+b)/2-y/2,v=y),l?(c.lineStyle(1,f,0),c.beginFill(f,+n[5]||s),l.forEach((e=>{"top"!==e&&"around"!==e||(this.isVertical?c.drawRect(0,g,a,v):c.drawRect(g,0,v,a)),"right"!==e&&"around"!==e||(this.isVertical?c.drawRect(0,g,this.dimensions[0],a):c.drawRect(g,0,a,this.dimensions[1])),"bottom"!==e&&"around"!==e||(this.isVertical?c.drawRect(this.dimensions[0]-a,g,a,v):c.drawRect(g,this.dimensions[1]-a,v,a)),"left"!==e&&"around"!==e||(this.isVertical?c.drawRect(0,g+v-a,this.dimensions[0],a):c.drawRect(g+v-a,0,a,this.dimensions[1]))}))):c.lineStyle(a,f,+n[5]||s),this.rects[r].graphics.clear(),this.rects[r].graphics.interactive=!0,this.rects[r].graphics.buttonMode=!0,c.beginFill(p,+n[4]||i),this.isVertical?(c.drawRect(0,g,this.dimensions[0],v),this.rects[r].graphics.hitArea=new Rf.PIXI.Rectangle(0,g,this.dimensions[0],v)):(c.drawRect(g,0,v,this.dimensions[1]),this.rects[r].graphics.hitArea=new Rf.PIXI.Rectangle(g,0,v,this.dimensions[1])),this.rects[r].graphics.mousedown=()=>{this.rects[r].mouseDownTime=performance.now()},this.rects[r].graphics.mouseup=e=>{performance.now()-this.rects[r].mouseDownTime<300&&this.pubSub.publish("app.click",{type:"annotation",event:e,payload:n})}})),Object.values(this.rects).filter((e=>e.timeStamp!==u)).forEach((e=>c.removeChild(e.graphics)))}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),n}(BH),UW=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).drawnRects=new Set,i.pMain=i.pMobile,i}return f(n,[{key:"tileToLocalId",value:function(e){return`${e.join(".")}`}},{key:"tileToRemoteId",value:function(e){return`${e.join(".")}`}},{key:"localToRemoteId",value:function(e){const t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const e=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let n=Math.max(e,t);return n=Math.min(n,this.maxZoom),this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"setVisibleTiles",value:function(e){this.visibleTiles=e.map((e=>({tileId:this.tileToLocalId(e),remoteId:this.tileToRemoteId(e)}))),this.visibleTileIds=new Set(this.visibleTiles.map((e=>e.tileId)))}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel();const e=this._xScale.copy();e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.xTiles=mg.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=mg.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const t=this.xTiles,n=this.yTiles,r=this.zoomLevel,i=this.tilesetInfo.max_width/2**r,o=[];for(let e=0;e<t.length;e++)for(let a=e;a<n.length;a++){if((a-e-2)*(this._xScale(i)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])continue;const s=[r,t[e],n[a]];s.mirrored=!1,o.push(s)}this.setVisibleTiles(o)}},{key:"initTile",value:function(e){r(h(n.prototype),"initTile",this).call(this,e),this.drawTile(e)}},{key:"destroyTile",value:function(e,t){}},{key:"draw",value:function(){this.delayDrawing||this.drawnRects.clear(),r(h(n.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){if(!e.graphics)return;const t=e.graphics;t.clear();const n=lm(this.options.rectangleDomainStrokeColor?this.options.rectangleDomainStrokeColor:"black"),r=lm(this.options.rectangleDomainFillColor?this.options.rectangleDomainFillColor:"grey");if(t.lineStyle(1/this.pMain.scale.x,n,1),t.beginFill(r,.4),t.alpha=this.options.rectangleDomainOpacity?this.options.rectangleDomainOpacity:.5,e.tileData.sort)for(const n of e.tileData){const e=this._refXScale(n.xStart),r=this._refXScale(n.xEnd),i=this._refYScale(n.yStart),o=this._refYScale(n.yEnd),a=n.uid;this.drawnRects.has(a)||(this.drawnRects.add(a),t.drawRect(e,i,r-e,o-i),t.pivot.x=this._refXScale(0),t.pivot.y=this._refYScale(0),t.scale.x=-1/Math.sqrt(2),t.rotation=-3*Math.PI/4,t.scale.y=1/Math.sqrt(2),t.position.x=this._refXScale(0),t.position.y=0)}}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"refScalesChanged",value:function(e,t){r(h(n.prototype),"refScalesChanged",this).call(this,e,t);for(const e in this.fetchedTiles){const t=this.fetchedTiles[e];if(t.sprite){const e=t.graphics;e.pivot.x=this._refXScale(0),e.pivot.y=this._refYScale(0),e.scale.x=-1/Math.sqrt(2),e.rotation=-3*Math.PI/4,e.scale.y=1/Math.sqrt(2),e.position.x=this._refXScale(0),e.position.y=0}}}},{key:"zoomed",value:function(e,t,i,o,a){r(h(n.prototype),"zoomed",this).call(this,e,t,i,o,a),this.pMain.position.x=o,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=i,this.pMain.scale.y=i,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-i,this.pMain.position.y=this.position[1]),this.draw()}},{key:"leftTrackDraw",value:function(){this.draw()}}]),n}(tY),jW=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).drawnRects=new Set,i}return f(n,[{key:"tileToLocalId",value:function(e){return`${e.join(".")}`}},{key:"tileToRemoteId",value:function(e){return`${e.join(".")}`}},{key:"localToRemoteId",value:function(e){const t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const e=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),t=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);let n=Math.max(e,t);return n=Math.min(n,this.maxZoom),n}},{key:"setVisibleTiles",value:function(e){this.visibleTiles=e.map((e=>({tileId:this.tileToLocalId(e),remoteId:this.tileToRemoteId(e)}))),this.visibleTileIds=new Set(this.visibleTiles.map((e=>e.tileId)))}},{key:"calculateVisibleTiles",value:function(e=!0){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel(),this.xTiles=mg.calculateTiles(this.zoomLevel,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=mg.calculateTiles(this.zoomLevel,this._yScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const t=this.xTiles,n=this.yTiles,r=this.zoomLevel,i=[];for(let e=0;e<t.length;e++)for(let o=0;o<n.length;o++){const a=[r,t[e],n[o]];i.push(a)}this.setVisibleTiles(i)}},{key:"initTile",value:function(e){}},{key:"destroyTile",value:function(e,t){}},{key:"draw",value:function(){this.drawnRects.clear(),r(h(n.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(e){if(!e.graphics)return;const t=e.graphics;t.clear();const n=lm("green");t.lineStyle(1,255,1),t.beginFill(n,.8),t.alpha=.5;for(const n of e.tileData){const e=this._xScale(n.xStart),r=this._xScale(n.xEnd),i=this._yScale(n.yStart),o=this._yScale(n.yEnd),a=n.uid;if(this.drawnRects.has(a))continue;this.drawnRects.add(a);const s=6,l=6;let c=o-i,u=r-e;const h=(e+r)/2,d=(i+o)/2;c<s&&(c=s),u<l&&(u=l),t.drawRect(h-c/2,d-u/2,c,u)}}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.refreshTiles(),this.draw()}}]),n}(tY);function HW(e,t,n=_H){const r={absToChr:e=>r.chrPositions?bf(e,r):null,chrToAbs:([e,t]=[])=>r.chrPositions?Ef(e,t,r):null};return mg.text(e,((e,n)=>{if(e)t&&t(null);else{const e=Zg(jm(n));Object.keys(e).forEach((t=>{r[t]=e[t]})),t&&t(r)}}),n).then((()=>r))}let GW=function(){function e(t){d(this,e),this.chromInfo=t,this.chromInfoBisector=Ye((e=>e.pos)).left}return f(e,[{key:"scalesToPositionText",value:function(e,t,n=!1){if(null===this.chromInfo)return"";if(!e||!t)return"";const r=bf(e.domain()[0],this.chromInfo),i=bf(e.domain()[1],this.chromInfo),o=bf(t.domain()[0],this.chromInfo),a=bf(t.domain()[1],this.chromInfo);let s=null;const l=ni(",d");return s=r[0]!==i[0]?`${r[0]}:${l(Math.floor(r[1]))}-${i[0]}:${l(Math.ceil(i[1]))}`:`${r[0]}:${l(Math.floor(r[1]))}-${l(Math.ceil(i[1]))}`,n&&(o[0]!==a[0]?s+=` & ${o[0]}:${l(Math.floor(o[1]))}-${a[0]}:${l(Math.ceil(a[1]))}`:s+=` & ${o[0]}:${l(Math.floor(o[1]))}-${l(Math.ceil(a[1]))}`),(r[2]<=0||i[2]>0||n&&(o[2]<=0||a[2]>0))&&(s+=` [offset ${r[2]},${i[2]}`,n&&(s+=`:${o[2]},${a[2]}`),s+="]"),s}},{key:"convertNumberNotation",value:function(e){let t=e;if(!t.includes("M",t.length-1)&&!t.includes("K",t.length-1))return t;let n=0,r=0;if(t.includes("M",t.length-1)?(n=6,t=t.replace("M","")):(n=3,t=t.replace("K","")),Number.isNaN(+t))return e;t=(+t).toString(),t.includes(".")&&(r=t.length-1-t.indexOf("."),t=(+t.replace(".","")).toString());const i=n-r;return i<0?e:(t+="0".repeat(i),t)}},{key:"parsePosition",value:function(e,t=null){const n=e.split(":");let r=null,i=0;n.length>1?(r=n[0],i=+this.convertNumberNotation(n[1].replace(/,/g,""))):n[0]in this.chromInfo.chrPositions?(r=n[0],i=0,null!==t&&(i=+this.chromInfo.chromLengths[r])):(i=+this.convertNumberNotation(n[0].replace(/,/g,"")),r=null,t&&(r=t));let o=null;return null===r?(r=t,o=i):r in this.chromInfo.chrPositions&&(o=this.chromInfo.chrPositions[r].pos+i),[r,i,o]}},{key:"matchRangesToLarger",value:function(e,t){if(e[1]-e[0]<t[1]-t[0]){const n=t[1]-t[0]-(e[1]-e[0]);return[[e[0]-n/2,e[1]+n/2],t]}const n=e[1]-e[0]-(t[1]-t[0]);return[e,[t[0]-n/2,t[1]+n/2]]}},{key:"getSearchRange",value:function(e){if(0===e.length)return null;let t=e.split("-");t=t.filter((e=>e.length>0));let n=null;if(0===t[0].indexOf("-")&&(t[0]=t[0].slice(3,t[0].length)),t.length>1){let[e,n,r]=this.parsePosition(t[0]),[i,o,a]=this.parsePosition(t[1],e);const s=[r,a];[e,n,r]=this.parsePosition(t[1]),[i,o,a]=this.parsePosition(t[0],e),null===e&&null!==i&&([e,n,r]=this.parsePosition(t[1],i));const l=[r,a];return l[1]-l[0]>s[1]-s[0]?l:s}if(t[0]in this.chromInfo.chrPositions){const e=+this.chromInfo.chrPositions[t[0]].pos;n=[e,e+ +this.chromInfo.chromLengths[t[0]]]}else{const[e,r,i]=this.parsePosition(t[0]);n=[i-8e6,i+8e6]}return n[0]>n[1]?[n[1],n[0]]:n}},{key:"parseOffset",value:function(e){const t=e.split(":");if(0===t.length)return[[0,0],[0,0]];if(1===t.length){const e=t[0].split(",");return[[+e[0],+e[1]],[0,0]]}const n=t[0].split(","),r=t[1].split(",");return[[+n[0],+n[1]],[+r[0],+r[1]]]}},{key:"searchPosition",value:function(e){let t=null,n=null;e=e.trim();const r=/\[offset (.+?)\]/.exec(e);let i=[[0,0],[0,0]];r&&(e=e.replace(r[0],""),i=this.parseOffset(r[1]));const o=e.split(" & ");return o.length>1?(t=this.getSearchRange(o[0].split(" ")[0]),n=this.getSearchRange(o[1].split(" ")[0])):t=this.getSearchRange(o[0]),null!==t&&null!==n&&([t,n]=this.matchRangesToLarger(t,n)),t&&(t[0]+=i[0][0],t[1]+=i[0][1]),n&&(n[0]+=i[1][0],n[1]+=i[1][1]),[t,n]}}]),e}(),zW=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{dataConfig:o,animate:a,pubSub:s}=e;return i.searchField=null,i.chromInfo=null,i.animate=a,HW(`${o.server}/chrom-sizes/?id=${o.tilesetUid}`,(e=>{i.chromInfo=e,i.searchField=new GW(i.chromInfo),i.draw(),i.texts=[];for(let e=0;e<i.chromInfo.cumPositions.length;e++){const t=[];for(let n=0;n<i.chromInfo.cumPositions.length;n++){const r=`${i.chromInfo.cumPositions[e].chr}/${i.chromInfo.cumPositions[n].chr}`,o=new Rf.PIXI.Text(r,{fontSize:"14px",fontFamily:"Arial",fill:"red"});o.anchor.x=.5,o.anchor.y=.5,o.visible=!1,o.hashValue=Math.random(),t.push(o),i.pMain.addChild(o)}i.texts.push(t)}i.draw(),i.animate()}),s),i}return f(n,[{key:"draw",value:function(){const e=[];if(!this.texts)return;if(!this.searchField)return;const t=bf(this._xScale.domain()[0],this.chromInfo),n=bf(this._xScale.domain()[1],this.chromInfo),r=bf(this._yScale.domain()[0],this.chromInfo),i=bf(this._yScale.domain()[1],this.chromInfo);for(let e=0;e<this.texts.length;e++)for(let t=0;t<this.texts.length;t++)this.texts[e][t].visible=!1;for(let o=t[3];o<=n[3];o++)for(let t=r[3];t<=i[3];t++){const n=this.chromInfo.cumPositions[o],r=this.chromInfo.cumPositions[t],i=n.pos+this.chromInfo.chromLengths[n.chr]/2,a=r.pos+this.chromInfo.chromLengths[r.chr]/2,s=this._xScale(i),l=this._yScale(a),c=this.texts[o][t];c.x=s,c.y=l,c.updateTransform();const u=c.getBounds(),h=u.width/2,d=u.height/2;s+h>this.dimensions[0]?c.x-=s+h-this.dimensions[0]:s-h<0&&(c.x-=s-h),l+d>this.dimensions[1]?c.y-=l+d-this.dimensions[1]:l-d<0&&(c.y-=l-d),c.visible=!0,e.push({importance:this.texts[o][t].hashValue,text:this.texts[o][t],caption:null})}this.hideOverlaps(e)}},{key:"hideOverlaps",value:function(e){let t=[];t=e.map((e=>{const t=e.text;t.updateTransform();const n=t.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]})),GX(t,((t,n)=>{e[t].importance>e[n].importance?e[n].text.visible=0:e[t].text.visible=0}))}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),n}(BH),VW=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{chromInfoPath:o,dataConfig:a,animate:s,pubSub:l,orientation:c="2d",isOverlay:u=!1}=e;i.searchField=null,i.chromInfo=null,i.animate=s,i.orientation=c,i.isOverlay=u;let h=o;return h||(h=`${a.server}/chrom-sizes/?id=${a.tilesetUid}`),HW(h,(e=>{i.chromInfo=e,i.searchField=new GW(i.chromInfo),i.texts=[],i.lineGraphics=new Rf.PIXI.Graphics,i.lineGraphics1dH=new Rf.PIXI.Graphics,i.lineGraphics1dV=new Rf.PIXI.Graphics,i.lineGraphics2d=new Rf.PIXI.Graphics,i.mask1dH=new Rf.PIXI.Graphics,i.mask1dV=new Rf.PIXI.Graphics,i.mask2d=new Rf.PIXI.Graphics,i.lineGraphics.addChild(i.lineGraphics1dH),i.lineGraphics1dH.addChild(i.mask1dH),i.lineGraphics.addChild(i.lineGraphics1dV),i.lineGraphics1dV.addChild(i.mask1dV),i.lineGraphics.addChild(i.lineGraphics2d),i.lineGraphics2d.addChild(i.mask2d),i.pMain.addChild(i.lineGraphics),i.draw(),i.animate()}),l),i}return f(n,[{key:"drawLines",value:function(e=this.orientation,t=0,n=0){let r=this.lineGraphics;this.isOverlay&&"1d-horizontal"===e&&(r=this.lineGraphics1dH),this.isOverlay&&"1d-vertical"===e&&(r=this.lineGraphics1dV),this.isOverlay&&"2d"===e&&(r=this.lineGraphics2d);const i=lm(this.options.lineStrokeColor?this.options.lineStrokeColor:"blue"),o=this.options.lineStrokeWidth?this.options.lineStrokeWidth:1;r.lineStyle(o,i,1),"2d"!==e&&"1d-horizontal"!==e||(r.moveTo(this._xScale(0)+t,n),r.lineTo(this._xScale(0)+t,this.dimensions[1]+n)),"2d"!==e&&"1d-vertical"!==e||(r.moveTo(t,this._yScale(0)+n),r.lineTo(this.dimensions[0]+t,this._yScale(0)+n));for(let i=0;i<this.chromInfo.cumPositions.length;i++){const o=this.chromInfo.cumPositions[i],a=o.pos+ +this.chromInfo.chromLengths[o.chr]+1;"2d"!==e&&"1d-horizontal"!==e||(r.moveTo(this._xScale(a)+t,n),r.lineTo(this._xScale(a)+t,this.dimensions[1]+n)),"2d"!==e&&"1d-vertical"!==e||(r.moveTo(t,this._yScale(a)+n),r.lineTo(this.dimensions[0]+t,this._yScale(a)+n))}}},{key:"draw",value:function(){if(this.texts&&this.searchField)if(this.lineGraphics.clear(),this.isOverlay){this.lineGraphics1dH.clear(),this.lineGraphics1dV.clear(),this.lineGraphics2d.clear(),this.mask1dH.clear(),this.mask1dV.clear(),this.mask2d.clear(),this.mask1dH.beginFill(16777215),this.mask1dV.beginFill(16777215),this.mask2d.beginFill(16711680);for(let e=0;e<this.options.orientationsAndPositions.length;e++){const t=this.options.orientationsAndPositions[e].orientation,{left:n,top:r,width:i,height:o}=this.options.orientationsAndPositions[e].position;"1d-horizontal"===t&&this.mask1dH.drawRect(n,r,i,o),"1d-vertical"===t&&this.mask1dV.drawRect(n,r,i,o),"2d"===t&&this.mask2d.drawRect(n,r,i,o),this.drawLines(t,n,r)}this.lineGraphics1dH.mask=this.mask1dH,this.lineGraphics1dV.mask=this.mask1dV,this.lineGraphics2d.mask=this.mask2d}else this.drawLines()}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"createSvgLine",value:function(e,t,n,r,i,o){const a=document.createElement("line");return a.setAttribute("x1",e),a.setAttribute("x2",t),a.setAttribute("y1",n),a.setAttribute("y2",r),a.setAttribute("stroke",i),a.setAttribute("stroke-width",o),a}},{key:"drawLinesSvg",value:function(e,t,n,r,i=0,o=0){const a=this.options.lineStrokeColor?this.options.lineStrokeColor:"blue",s=this.options.lineStrokeWidth;if("2d"===t||"1d-vertical"===t){const t=this._yScale(0);t>0&&t<o+r&&e.appendChild(this.createSvgLine(i,n+i,t+o,t+o,a,s))}if("2d"===t||"1d-horizontal"===t){const t=this._xScale(0);t>0&&t<i+n&&e.appendChild(this.createSvgLine(t+i,t+i,o,r+o,a,s))}for(let l=0;l<this.chromInfo.cumPositions.length;l++){const c=this.chromInfo.cumPositions[l],u=c.pos+ +this.chromInfo.chromLengths[c.chr]+1;if("2d"===t||"1d-vertical"===t){const t=this._yScale(u);t>0&&t<o+r&&e.appendChild(this.createSvgLine(i,n+i,t+o,t+o,a,s))}if("2d"===t||"1d-horizontal"===t){const t=this._xScale(u);t>0&&t<i+n&&e.appendChild(this.createSvgLine(t+i,t+i,o,r+o,a,s))}}}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t);const i=document.createElement("g");if(e.appendChild(i),t.setAttribute("id","ChromosomeGrid"),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),!this.chromInfo)return[t,e];if(this.isOverlay)for(let e=0;e<this.options.orientationsAndPositions.length;e++){const t=this.options.orientationsAndPositions[e].orientation,{left:n,top:r,width:o,height:a}=this.options.orientationsAndPositions[e].position;this.drawLinesSvg(i,t,o,a,n,r)}else this.drawLinesSvg(i,this.orientation,...this.dimensions);return[t,e]}}]),n}(BH);let YW=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{chromInfoPath:o,pubSub:a}=e;return i.pubSub=a,i.rects={},HW(o,(e=>{i.chromInfo=e,i.draw()}),i.pubSub),i}return f(n,[{key:"draw",value:function(){if(!this.chromInfo)return;const e=this.options.minRectWidth?this.options.minRectWidth:10,t=this.options.minRectWidth?this.options.minRectHeight:10;r(h(n.prototype),"draw",this).call(this);const i=this.pMain;i.clear();const o=performance.now();this.options.regions.forEach((n=>{const r=n.slice(0,6).join("-");this.rects[r]||(this.rects[r]={graphics:new Rf.PIXI.Graphics},i.addChild(this.rects[r].graphics)),this.rects[r].timeStamp=o;const a=xn(n[6]);let s=xn(n[7]);s||(s=a);const l=Rf.PIXI.utils.rgb2hex([a.r/255,a.g/255,a.b/255]),c=Rf.PIXI.utils.rgb2hex([s.r/255,s.g/255,s.b/255]);i.lineStyle(1,c,s.opacity),i.beginFill(l,a.opacity);let u=this._xScale(this.chromInfo.chrPositions[n[0]].pos+ +n[1]);const h=this._xScale(this.chromInfo.chrPositions[n[0]].pos+ +n[2]);let d=this._yScale(this.chromInfo.chrPositions[n[3]].pos+ +n[4]);const p=this._yScale(this.chromInfo.chrPositions[n[3]].pos+ +n[5]);let f=h-u,m=p-d;const g=void 0!==n[8]?n[8]:e,b=void 0!==n[9]?n[9]:t;f<g&&(u=(u+h)/2-g/2,f=g),m<b&&(d=(d+p)/2-b/2,m=b),i.drawRect(u,d,f,m),this.rects[r].graphics.clear(),this.rects[r].graphics.interactive=!0,this.rects[r].graphics.buttonMode=!0,this.rects[r].graphics.hitArea=new Rf.PIXI.Rectangle(u,d,f,m),this.rects[r].graphics.mousedown=()=>{this.rects[r].mouseDownTime=performance.now()},this.rects[r].graphics.mouseup=e=>{performance.now()-this.rects[r].mouseDownTime<300&&this.pubSub.publish("app.click",{type:"annotation",event:e,payload:n})}}))}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0]}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}}]),n}(BH);const $W=7829367;let XW=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{dataConfig:o,animate:s,chromInfoPath:l,isShowGlobalMousePosition:c}=e;i.searchField=null,i.chromInfo=null,i.dataConfig=o,i.pTicks=new Rf.PIXI.Graphics,i.pMain.addChild(i.pTicks),i.gTicks={},i.tickTexts={},i.options=r,i.isShowGlobalMousePosition=c,i.textFontSize=12,i.textFontFamily="Arial",i.textFontColor="#808080",i.textStrokeColor=i.getTheme()===Pf?"#000000":"#ffffff",i.pixiTextConfig={fontSize:+i.options.fontSize?+i.options.fontSize+"px":`${i.textFontSize}px`,fontFamily:i.textFontFamily,fill:i.options.color||i.textFontColor,lineJoin:"round",stroke:i.options.stroke||i.textStrokeColor,strokeThickness:2},i.stroke=lm(i.pixiTextConfig.stroke),i.tickWidth=200,i.tickHeight=6,i.tickTextSeparation=2,i.tickColor=i.options.tickColor?lm(i.options.tickColor):$W,i.animate=s,i.pubSubs=[],i.options.showMousePosition&&!i.hideMousePosition&&(i.hideMousePosition=rb(a(i),i.is2d,i.isShowGlobalMousePosition()));let u=l;return u||(u=`${o.server}/chrom-sizes/?id=${o.tilesetUid}`),HW(u,(e=>{i.chromInfo=e,i.searchField=new GW(i.chromInfo),i.rerender(i.options,!0),i.draw(),i.animate()}),i.pubSub),i}return f(n,[{key:"initBoundsTicks",value:function(){this.pTicks&&(this.pMain.removeChild(this.pTicks),this.pTicks=null),this.gBoundTicks||(this.gBoundTicks=new Rf.PIXI.Graphics,this.leftBoundTick=new Rf.PIXI.Text("",this.pixiTextConfig),this.rightBoundTick=new Rf.PIXI.Text("",this.pixiTextConfig),this.gBoundTicks.addChild(this.leftBoundTick),this.gBoundTicks.addChild(this.rightBoundTick),this.pMain.addChild(this.gBoundTicks)),this.texts=[]}},{key:"initChromLabels",value:function(){if(this.chromInfo){this.gBoundTicks&&(this.pMain.removeChild(this.gBoundTicks),this.gBoundTicks=null),this.pTicks||(this.pTicks=new Rf.PIXI.Graphics,this.pMain.addChild(this.pTicks)),this.texts=[],this.pTicks.removeChildren();for(let e=0;e<this.chromInfo.cumPositions.length;e++){const t=this.chromInfo.cumPositions[e].chr;this.gTicks[t]=new Rf.PIXI.Graphics,this.tickTexts[t]||(this.tickTexts[t]=[]);const n=new Rf.PIXI.Text(t,this.pixiTextConfig);n.hashValue=Math.random(),this.pTicks.addChild(n),this.pTicks.addChild(this.gTicks[t]),this.texts.push(n)}}}},{key:"rerender",value:function(e,t){const i=JSON.stringify(e);(t||i!==this.prevOptions)&&(this.prevOptions=i,this.options=e,this.tickTexts={},this.pixiTextConfig.fontSize=+this.options.fontSize?+this.options.fontSize+"px":this.pixiTextConfig.fontSize,this.pixiTextConfig.fill=this.options.color||this.pixiTextConfig.fill,this.pixiTextConfig.stroke=this.options.stroke||this.pixiTextConfig.stroke,this.stroke=lm(this.pixiTextConfig.stroke),this.tickColor=this.options.tickColor?lm(this.options.tickColor):$W,"ends"===this.options.tickPositions?this.initBoundsTicks():this.initChromLabels(),r(h(n.prototype),"rerender",this).call(this,e,t),this.options.showMousePosition&&!this.hideMousePosition&&(this.hideMousePosition=rb(this,this.is2d,this.isShowGlobalMousePosition())),!this.options.showMousePosition&&this.hideMousePosition&&(this.hideMousePosition(),this.hideMousePosition=void 0))}},{key:"formatTick",value:function(e){const t=this._xScale.domain(),n=t[1]-t[0],r=ci(e,n),i=ni(","),o=ri(`,.${r}`,n);let a=i;return"si"===this.options.tickFormat?a=o:"plain"===this.options.tickFormat?a=i:"ends"===this.options.tickPositions&&(a=o),a(e)}},{key:"drawBoundsTicks",value:function(e,t){const n=this.gBoundTicks;n.clear(),n.lineStyle(1,0);const r=this.options.reverseOrientation?0:this.dimensions[1],i=this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight;n.moveTo(1,r),n.lineTo(1,i),n.moveTo(this.dimensions[0]-1,r),n.lineTo(this.dimensions[0]-1,i),this.leftBoundTick.x=0,this.leftBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.leftBoundTick.text=`${e[0]}: ${this.formatTick(e[1])}`,this.leftBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.x=this.dimensions[0],this.rightBoundTick.text=`${t[0]}: ${this.formatTick(t[1])}`,this.rightBoundTick.y=this.options.reverseOrientation?i+this.tickTextSeparation:i-this.tickTextSeparation,this.rightBoundTick.anchor.y=this.options.reverseOrientation?0:1,this.rightBoundTick.anchor.x=1,this.flipText&&(this.leftBoundTick.scale.x=-1,this.leftBoundTick.anchor.x=1,this.rightBoundTick.scale.x=-1,this.rightBoundTick.anchor.x=0),this.leftBoundTick.tickLine=[1,this.dimensions[1],1,this.dimensions[1]-this.tickHeight],this.rightBoundTick.tickLine=[this.dimensions[0]-1,this.dimensions[1],this.dimensions[0]-1,this.dimensions[1]-this.tickHeight],this.tickTexts={},this.tickTexts.all=[this.leftBoundTick,this.rightBoundTick]}},{key:"drawTicks",value:function(e){const t=this.gTicks[e.chr];t.visible=!0,t.clear();const n=+this.chromInfo.chromLengths[e.chr],r=Math.max(this._xScale(e.pos),0),i=Math.min(this._xScale(e.pos+n),this.dimensions[0]),o=(i-r)/this.tickWidth,a=fi().domain([Math.max(1,this._xScale.invert(0)-e.pos),Math.min(n,this._xScale.invert(this.dimensions[0])-e.pos)]).range(r,i).ticks(o).filter((e=>Number.isInteger(e))),s=this.tickTexts[e.chr],l=this.options.fontIsLeftAligned?(+this.options.fontSize||this.textFontSize)/2:this.tickHeight,c=this.flipText?-1:1,u=this.options.fontIsLeftAligned?4*c:0;let h=this.options.fontIsLeftAligned?0:l+this.tickTextSeparation;for(this.options.reverseOrientation&&(h=this.dimensions[1]-h);s.length<a.length;){const t=new Rf.PIXI.Text("",this.pixiTextConfig);s.push(t),this.gTicks[e.chr].addChild(t)}for(;s.length>a.length;){const t=s.pop();this.gTicks[e.chr].removeChild(t)}let d=0;for(;d<a.length;){s[d].visible=!0,s[d].anchor.x=this.options.fontIsLeftAligned?0:.5,s[d].anchor.y=this.options.reverseOrientation?0:1,this.flipText&&(s[d].scale.x=-1),s[d].x=this._xScale(e.pos+a[d])+u,s[d].y=this.dimensions[1]-h,s[d].text=0===a[d]?`${e.chr}: 1`:`${e.chr}: ${this.formatTick(a[d])}`;const n=this._xScale(e.pos+a[d]);s[d].tickLine=[n-1,this.dimensions[1],n-1,this.dimensions[1]-l-1];const r=this.options.reverseOrientation?0:this.dimensions[1],i=this.options.reverseOrientation?l:this.dimensions[1]-l;t.lineStyle(1,this.stroke),t.moveTo(n-1,r),t.lineTo(n-1,i-1),this.options.fontIsLeftAligned?(t.lineTo(n+2*c+1*c,i-1),t.lineTo(n+2*c+1*c,i+1),t.lineTo(n+1,i+1)):t.lineTo(n+1,i-1),t.lineTo(n+1,r),t.lineStyle(1,this.tickColor),t.moveTo(n,r),t.lineTo(n,i),this.options.fontIsLeftAligned&&t.lineTo(n+2*c,i),d+=1}for(;d<s.length;)s[d].visible=!1,d+=1;return a.length}},{key:"draw",value:function(){if(this.allTexts=[],!this.texts||!this.searchField)return;const e=bf(this._xScale.domain()[0],this.chromInfo),t=bf(this._xScale.domain()[1],this.chromInfo);if(!e||!t)return void console.warn("Empty chromInfo:",this.dataConfig,this.chromInfo);if("ends"===this.options.tickPositions){if(!this.gBoundTicks)return;return this.gBoundTicks.visible=!0,void this.drawBoundsTicks(e,t)}if(!this.pTicks)return;for(let e=0;e<this.texts.length;e++)this.texts[e].visible=!1,this.gTicks[this.chromInfo.cumPositions[e].chr].visible=!1;let n=this.options.fontIsLeftAligned?0:this.tickHeight+this.tickTextSeparation;this.options.reverseOrientation&&(n=this.dimensions[1]-n),Object.keys(this.chromInfo.chrPositions).forEach((e=>{if(this.tickTexts[e])for(let t=0;t<this.tickTexts[e].length;t++)this.tickTexts[e][t].visible=!1}));for(let r=e[3];r<=t[3];r++){const e=this.chromInfo.cumPositions[r],t=e.pos+this.chromInfo.chromLengths[e.chr]/2,i=this._xScale(t),o=this.texts[r];o.anchor.x=this.options.fontIsLeftAligned?0:.5,o.anchor.y=this.options.reverseOrientation?0:1,o.x=i,o.y=this.dimensions[1]-n,o.updateTransform(),this.flipText&&(o.scale.x=-1);const a=this.drawTicks(e);o.visible=a<=0,this.allTexts.push({importance:o.hashValue,text:o,caption:null})}this.hideOverlaps(this.allTexts)}},{key:"hideOverlaps",value:function(e){let t=[];t=e.map((({text:e},t)=>{e.updateTransform();const n=e.getBounds();return[n.x,n.y,n.x+n.width,n.y+n.height]})),GX(t,((t,n)=>{e[t].importance>e[n].importance?e[n].text.visible=!1:e[t].text.visible=!1}))}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),[this.pMain.position.x,this.pMain.position.y]=this.position}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t),t.setAttribute("class","chromosome-labels");const i=document.createElement("g");return e.appendChild(i),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),this.allTexts.filter((e=>e.text.visible)).forEach((e=>{const t=Qg(e.text);i.appendChild(t)})),Object.values(this.tickTexts).forEach((e=>{e.filter((e=>e.visible)).forEach((e=>{let t=Qg(e);i.appendChild(t),t=ob(e.x,this.options.reverseOrientation?0:this.dimensions[1],e.x,this.options.reverseOrientation?this.tickHeight:this.dimensions[1]-this.tickHeight,1,this.tickColor);const n=document.createElement("line");n.setAttribute("x1",e.tickLine[0]),n.setAttribute("y1",e.tickLine[1]),n.setAttribute("x2",e.tickLine[2]),n.setAttribute("y2",e.tickLine[3]),n.setAttribute("style","stroke: grey"),i.appendChild(t),i.appendChild(n)}))})),[t,e]}}]),n}(BH),WW=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{animate:o}=e;return i.pMain=i.pMobile,i.colorScale=nm,i.continuousScaling=!1,r&&r.colorRange&&(i.colorScale=wf(r.colorRange)),i.animate=o,i.options=r,i.pubSubs=[],i}return f(n,[{key:"rerender",value:function(e,t){r(h(n.prototype),"rerender",this).call(this,e,t),this.zoomed(this.xScale(),this.yScale(),this.pMain.scale.x,this.pMain.position.x,this.pMain.position.y)}},{key:"calculateZoomLevel",value:function(){let e=null;if(this.tilesetInfo.resolutions){const t=mg.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),n=mg.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions,this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);e=Math.min(t,n)}else{const t=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),n=mg.calculateZoomLevel(this._xScale,this.tilesetInfo.min_pos[1],this.tilesetInfo.max_pos[1]);e=Math.max(t,n),e=Math.min(e,this.maxZoom)}return this.options&&this.options.maxZoom&&(this.options.maxZoom>=0?e=Math.min(this.options.maxZoom,e):console.error("Invalid maxZoom on track:",this)),e}},{key:"calculateVisibleTiles",value:function(){if(!this.tilesetInfo)return;this.zoomLevel=this.calculateZoomLevel();const e=this._xScale.copy();if(e.domain([this._xScale.invert(this._xScale.range()[0]-this.dimensions[1]*Math.sqrt(2)),this._xScale.invert(this._xScale.range()[1]+this.dimensions[1]*Math.sqrt(2))]),this.tilesetInfo.resolutions){const t=this.tilesetInfo.resolutions.map((e=>+e)).sort(((e,t)=>t-e));this.xTiles=mg.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0]),this.yTiles=mg.calculateTilesFromResolution(t[this.zoomLevel],e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0])}else this.xTiles=mg.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width),this.yTiles=mg.calculateTiles(this.zoomLevel,e,this.tilesetInfo.min_pos[0],this.tilesetInfo.max_pos[0],this.tilesetInfo.max_zoom,this.tilesetInfo.max_width);const t=this.xTiles,n=this.yTiles,r=this.zoomLevel,i=this.tilesetInfo.max_width/2**r,o=[];for(let e=0;e<t.length;e++)for(let a=e;a<n.length;a++){if((a-e-2)*(this._xScale(i)-this._xScale(0))*Math.sqrt(2)/2>this.dimensions[1])continue;const s=[r,t[e],n[a]];s.mirrored=!1,s.dataTransform=this.options.dataTransform?this.options.dataTransform:"default",o.push(s)}this.setVisibleTiles(o)}},{key:"tileDataToCanvas",value:function(e){const t=document.createElement("canvas");t.width=256,t.height=256;const n=t.getContext("2d");n.fillStyle="transparent",n.fillRect(0,0,t.width,t.height);const r=new ImageData(e,t.width,t.height);return n.putImageData(r,0,0),t}},{key:"setSpriteProperties",value:function(e,t,n,r){const{tileX:i,tileY:o,tileWidth:a,tileHeight:s}=this.getTilePosAndDimensions(t,n),l=i+a,c=o+s;e.width=this._refXScale(l)-this._refXScale(i),e.height=this._refYScale(c)-this._refYScale(o),e.x=this._refXScale(i),e.y=this._refYScale(o)}},{key:"pixDataFunction",value:function(e,t){if(t){const n=e.graphics,r=this.tileDataToCanvas(t.pixData),i="4"===Rf.PIXI.VERSION[0]?Rf.PIXI.Texture.fromCanvas(r,Rf.PIXI.SCALE_MODES.NEAREST):Rf.PIXI.Texture.from(r,{scaleMode:Rf.PIXI.SCALE_MODES.NEAREST});e.sprite=new Rf.PIXI.Sprite(i),e.canvas=r,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos,e.mirrored),n.pivot.x=this._refXScale(0),n.pivot.y=this._refYScale(0),n.scale.x=-1/Math.sqrt(2),n.rotation=-3*Math.PI/4,n.scale.y=1/Math.sqrt(2),n.position.x=this._refXScale(0),n.position.y=0,n.removeChildren(),n.addChild(e.sprite)}this.renderingTiles.delete(e.tileId)}},{key:"refScalesChanged",value:function(e,t){r(h(n.prototype),"refScalesChanged",this).call(this,e,t);for(const e in this.fetchedTiles){const t=this.fetchedTiles[e];if(t.sprite){this.setSpriteProperties(t.sprite,t.tileData.zoomLevel,t.tileData.tilePos,t.mirrored);const e=t.graphics;e.pivot.x=this._refXScale(0),e.pivot.y=this._refYScale(0),e.scale.x=-1/Math.sqrt(2),e.rotation=-3*Math.PI/4,e.scale.y=1/Math.sqrt(2),e.position.x=this._refXScale(0),e.position.y=0}}}},{key:"zoomed",value:function(e,t,i,o,a){r(h(n.prototype),"zoomed",this).call(this,e,t,i,o,a),r(h(n.prototype),"draw",this).call(this),this.pMain.position.x=o,this.pMain.position.y=this.position[1]+this.dimensions[1],this.pMain.scale.x=i,this.pMain.scale.y=i,this.options.oneDHeatmapFlipped&&(this.pMain.scale.y=-i,this.pMain.position.y=this.position[1])}},{key:"leftTrackDraw",value:function(){this.draw()}},{key:"exportSVG",value:function(){let e=null,t=null;[t,e]=r(h(n.prototype),"superSVG",this).call(this);const i=document.createElement("g");e.appendChild(i),i.setAttribute("transform",`translate(${this.pMain.position.x},${this.pMain.position.y}) scale(${this.pMain.scale.x},${this.pMain.scale.y})`);for(const e of this.visibleAndFetchedTiles()){const t=document.createElement("g"),n=e.graphics,r=180*n.rotation/Math.PI,o=`translate(${n.position.x},${n.position.y}) rotate(${r}) scale(${n.scale.x},${n.scale.y}) translate(${-n.pivot.x},${-n.pivot.y})`;t.setAttribute("transform",o);const a=180*e.sprite.rotation/Math.PI,s=document.createElement("g");s.setAttribute("transform",`translate(${e.sprite.x},${e.sprite.y}) rotate(${a}) scale(${e.sprite.scale.x},${e.sprite.scale.y})`);const l=document.createElement("image");l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.canvas.toDataURL()),l.setAttribute("width",256),l.setAttribute("height",256),s.appendChild(l),t.appendChild(s),i.appendChild(t)}const o=this.exportColorBarSVG();return e.appendChild(o),[t,t]}}]),n}(oY),qW=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).tilesetInfo={},i.errorTextText=`Unknown track type: ${r.type}`,i}return f(n,[{key:"zoomed",value:function(){this.draw()}}]),n}(BH),KW=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).axis=new Wj(a(i)),i.pBase.addChild(i.axis.pAxis),i}return f(n,[{key:"initTile",value:function(e){this.scale.minRawValue=this.minVisibleValueInTiles(),this.scale.maxRawValue=this.minVisibleValueInTiles(),this.scale.minValue=this.scale.minRawValue,this.scale.maxValue=this.scale.maxRawValue,this.drawTile(e)}},{key:"drawTile",value:function(e){if(!e.graphics)return;const t=e.graphics;t.clear(),this.valueScale=xi().domain([this.minValue()+.01,this.maxValue()]).range([this.dimensions[1]-3,3]);const n=lm("black");t.lineStyle(1,n,.3),t.beginFill(n,.3),this.drawAxis(this.valueScale),e.tileData.forEach((e=>{const n=e.fields,r=+e.chrOffset,i=+n[1]+r,o=+n[2]+r,a=+n[3],s=this._xScale(i),l=this._xScale(o),c=Math.max(l-s,4),u=this.valueScale(a),h=(l+s)/2;t.drawRect(h-c/2,u-3,c,6)}))}},{key:"minVisibleValueInTiles",value:function(){let e=this.visibleAndFetchedIds();return 0===e.length&&(e=Object.keys(this.fetchedTiles)),Math.min.apply(null,e.map((e=>+Math.min(...this.fetchedTiles[e].tileData.filter((e=>!Number.isNaN(e.fields[3]))).map((e=>+e.fields[3]))))))}},{key:"maxVisibleValueInTiles",value:function(){let e=this.visibleAndFetchedIds();return 0===e.length&&(e=Object.keys(this.fetchedTiles)),Math.max.apply(null,e.map((e=>+Math.max(...this.fetchedTiles[e].tileData.filter((e=>!Number.isNaN(e.fields[3]))).map((e=>+e.fields[3]))))))}}]),n}(dW),ZW=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{registerViewportChanged:o,removeViewportChanged:s,setDomainsCallback:l}=e,c=Ns.nice();return i.uid=c,i.options=r,i.hasFromView=!e.projectionXDomain||!e.projectionYDomain,i.removeViewportChanged=s,i.setDomainsCallback=l,i.viewportXDomain=i.hasFromView?null:e.projectionXDomain,i.viewportYDomain=i.hasFromView?null:e.projectionYDomain,i.brush=fp().on("brush",i.brushed.bind(a(i))),i.gBrush=i.gMain.append("g").attr("id",`brush-${i.uid}`).call(i.brush),i.gBrush.selectAll(".overlay").style("pointer-events","none"),i.gBrush.selectAll(".handle--n").style("pointer-events","none"),i.gBrush.selectAll(".handle--s").style("pointer-events","none"),i.gBrush.selectAll(".handle--w").style("pointer-events","none"),i.gBrush.selectAll(".handle--e").style("pointer-events","none"),o(c,i.viewportChanged.bind(a(i))),i.rerender(),i.draw(),i}return f(n,[{key:"brushed",value:function(e){const t=e.selection;if(!this._xScale||!this._yScale)return;const n=[this._xScale.invert(t[0][0]),this._xScale.invert(t[1][0])],r=[this._yScale.invert(t[0][1]),this._yScale.invert(t[1][1])];this.hasFromView||(this.viewportXDomain=n,this.viewportYDomain=r),this.setDomainsCallback(n,r)}},{key:"viewportChanged",value:function(e,t){const n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),r(h(n.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale)return;if(!this.viewportXDomain||!this.viewportYDomain)return;const e=[[this._xScale(this.viewportXDomain[0]),this._yScale(this.viewportYDomain[0])],[this._xScale(this.viewportXDomain[1]),this._yScale(this.viewportYDomain[1])]];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e);const t=this._xScale.range(),i=this._yScale.range(),o=t[1]-t[0],a=i[1]-i[0];this.brush.extent([[t[0]-o,i[0]-a],[t[1]+o,i[1]+a]]),this.gBrush.call(this.brush),this.draw()}}]),n}(OY),QW=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{registerViewportChanged:o,removeViewportChanged:s,setDomainsCallback:l}=e,c=Ns.nice();return i.uid=c,i.options=r,i.hasFromView=!e.projectionXDomain,i.removeViewportChanged=s,i.setDomainsCallback=l,i.viewportXDomain=i.hasFromView?null:e.projectionXDomain,i.viewportYDomain=i.hasFromView?null:[0,0],i.brush=dp().on("brush",i.brushed.bind(a(i))),i.gBrush=i.gMain.append("g").attr("id",`brush-${i.uid}`).call(i.brush),i.gBrush.selectAll(".overlay").style("pointer-events","none"),i.gBrush.selectAll(".handle--ne").style("pointer-events","none"),i.gBrush.selectAll(".handle--nw").style("pointer-events","none"),i.gBrush.selectAll(".handle--sw").style("pointer-events","none"),i.gBrush.selectAll(".handle--se").style("pointer-events","none"),i.gBrush.selectAll(".handle--n").style("pointer-events","none"),i.gBrush.selectAll(".handle--s").style("pointer-events","none"),o(c,i.viewportChanged.bind(a(i))),i.rerender(),i.draw(),i}return f(n,[{key:"brushed",value:function(e){const t=e.selection;if(!this._xScale||!this._yScale)return;const n=[this._xScale.invert(t[0]),this._xScale.invert(t[1])],r=this.viewportYDomain;this.hasFromView||(this.viewportXDomain=n),this.setDomainsCallback(n,r)}},{key:"viewportChanged",value:function(e,t,n=!0){const r=e.domain(),i=t.domain();this.viewportXDomain=r,this.viewportYDomain=i,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),r(h(n.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale)return;if(!this.viewportXDomain||!this.viewportYDomain)return;const e=[this._xScale(this.viewportXDomain[0]),this._xScale(this.viewportXDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e);const t=this._xScale.range(),i=this._yScale.range(),o=t[1]-t[0];this.brush.extent([[t[0]-o,i[0]],[t[1]+o,i[1]]]),this.gBrush.call(this.brush),this.draw()}}]),n}(OY),JW=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{registerViewportChanged:o,removeViewportChanged:s,setDomainsCallback:l}=e,c=Ns.nice();return i.uid=c,i.options=r,i.hasFromView=!e.projectionYDomain,i.removeViewportChanged=s,i.setDomainsCallback=l,i.viewportXDomain=i.hasFromView?null:[0,0],i.viewportYDomain=i.hasFromView?null:e.projectionYDomain,i.brush=pp().on("brush",i.brushed.bind(a(i))),i.gBrush=i.gMain.append("g").attr("id",`brush-${i.uid}`).call(i.brush),i.gBrush.selectAll(".overlay").style("pointer-events","none"),i.gBrush.selectAll(".handle--ne").style("pointer-events","none"),i.gBrush.selectAll(".handle--nw").style("pointer-events","none"),i.gBrush.selectAll(".handle--sw").style("pointer-events","none"),i.gBrush.selectAll(".handle--se").style("pointer-events","none"),i.gBrush.selectAll(".handle--e").style("pointer-events","none"),i.gBrush.selectAll(".handle--w").style("pointer-events","none"),o(c,i.viewportChanged.bind(a(i))),i.rerender(),i.draw(),i}return f(n,[{key:"brushed",value:function(e){const t=e.selection;if(!this._xScale||!this._yScale)return;const n=this.viewportXDomain,r=[this._yScale.invert(t[0]),this._yScale.invert(t[1])];this.hasFromView||(this.viewportYDomain=r),this.setDomainsCallback(n,r)}},{key:"viewportChanged",value:function(e,t,n=!0){const r=e.domain(),i=t.domain();this.viewportXDomain=r,this.viewportYDomain=i,this.draw()}},{key:"remove",value:function(){this.removeViewportChanged(this.uid),r(h(n.prototype),"remove",this).call(this)}},{key:"rerender",value:function(){this.gBrush.selectAll(".selection").attr("fill",this.options.projectionFillColor).attr("stroke",this.options.projectionStrokeColor).attr("fill-opacity",this.options.projectionFillOpacity).attr("stroke-opacity",this.options.projectionStrokeOpacity).attr("stroke-width",this.options.strokeWidth)}},{key:"draw",value:function(){if(!this._xScale||!this.yScale)return;if(!this.viewportXDomain||!this.viewportYDomain)return;const e=[this._yScale(this.viewportYDomain[0]),this._yScale(this.viewportYDomain[1])];this.brush.on("brush",null),this.gBrush.call(this.brush.move,e),this.brush.on("brush",this.brushed.bind(this))}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.draw()}},{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e);const t=this._xScale.range(),i=this._yScale.range(),o=i[1]-i[0];this.brush.extent([[t[0],i[0]-o],[t[1],i[1]+o]]),this.gBrush.call(this.brush),this.draw()}}]),n}(OY);const eq="__mixwith_appliedMixin",tq="__mixwith_wrappedMixin",nq=e=>e[tq]||e,rq=(e,t)=>e.hasOwnProperty(eq)&&e[eq]===nq(t),iq=(e,t)=>(Object.setPrototypeOf(t,e),e[tq]||(e[tq]=e),t),oq="__mixwith_cachedApplications",aq=e=>iq(e,(t=>((e,t)=>{for(;null!==e;){if(rq(e,t))return!0;e=Object.getPrototypeOf(e)}return!1})(t.prototype,e)?t:e(t))),sq=e=>iq(e,(t=>((e,t)=>{const n=t(e);return n.prototype[eq]=nq(t),n})(t,e))),lq=e=>aq((e=>iq(e,(t=>{let n=t[oq];n||(t[oq]=new Map,n=t[oq]);let r=n.get(e);return r||(r=e(t),n.set(e,r)),r})))(sq(e)));let cq=function(){function e(t){d(this,e),this.superclass=t||function(){return f((function e(){d(this,e)}))}()}return f(e,[{key:"with",value:function(...e){return e.reduce(((e,t)=>t(e)),this.superclass)}}]),e}();const uq=e=>new cq(e),hq=lq((e=>function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{animate:o}=e;return i.highlighted=!1,i.animate=o,i.MOUSEOVER_RADIUS=4,i.pubSub=e.pubSub,i.pubSubs.push(i.pubSub.subscribe("app.mouseMove",i.mouseMoveHandler.bind(a(i)))),i}return f(n,[{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.pMain.position.x=this.position[0],this.pMain.position.y=this.position[1]}},{key:"zoomed",value:function(e,t){r(h(n.prototype),"zoomed",this).call(this,e,t),this.draw()}},{key:"respondsToPosition",value:function(){return this.highlighted}}]),n}(e))),dq=lq((e=>function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"drawHorizontalRule",value:function(e){let t=lm(this.options.color||"black");this.highlighted&&(t=lm("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);let n=0;for(;n<this.dimensions[0];)e.moveTo(n,this._yScale(this.yPosition)),e.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(e){return Math.abs(e.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}}]),n}(e)));let pq=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).yPosition=e.yPosition,i.strokeWidth=2,i.strokeOpacity=1,i.dashLength=5,i.dashGap=3,i}return f(n,[{key:"mouseMoveHandler",value:function(e){if(this.isWithin(e.x,e.y)&&this.isMouseOverHorizontalLine(e))return this.highlighted=!0,void this.draw();this.highlighted=!1,this.draw()}},{key:"draw",value:function(){const e=this.pMain;e.clear(),this.drawHorizontalRule(e),this.animate()}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t);const i=document.createElement("g");i.setAttribute("class","horizontal-rule"),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),e.appendChild(i);const o=this.options.color||"black",a=document.createElement("line");return a.setAttribute("stroke",o),a.setAttribute("stroke-width",this.strokeWidth),a.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),a.setAttribute("x1",0),a.setAttribute("y1",this._yScale(this.yPosition)),a.setAttribute("x2",this.dimensions[0]),a.setAttribute("y2",this._yScale(this.yPosition)),i.appendChild(a),[t,e]}}]),n}(uq(BH).with(hq,dq));const fq=lq((e=>function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"drawVerticalRule",value:function(e){let t=lm(this.options.color||"black");this.highlighted&&(t=lm("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);let n=0;for(;n<this.dimensions[1];)e.moveTo(this._xScale(this.xPosition),n),e.lineTo(this._xScale(this.xPosition),n+this.dashLength),n+=this.dashLength+this.dashGap}},{key:"isMouseOverVerticalLine",value:function(e){return Math.abs(e.x-this.position[0]-this._xScale(this.xPosition))<this.MOUSEOVER_RADIUS}}]),n}(e)));let mq=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).xPosition=e.xPosition,i.strokeWidth=2,i.strokeOpacity=1,i.dashLength=5,i.dashGap=3,i}return f(n,[{key:"draw",value:function(){const e=this.pMain;e.clear(),this.drawVerticalRule(e),this.animate()}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t);const i=document.createElement("g");i.setAttribute("class","vertical-rule"),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),e.appendChild(i);const o=this.options.color||"black",a=document.createElement("line");return a.setAttribute("stroke",o),a.setAttribute("stroke-width",this.strokeWidth),a.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),a.setAttribute("x1",this._xScale(this.xPosition)),a.setAttribute("y1",0),a.setAttribute("x2",this._xScale(this.xPosition)),a.setAttribute("y2",this.dimensions[1]),i.appendChild(a),[t,e]}},{key:"mouseMoveHandler",value:function(e){this.highlighted=this.isWithin(e.x,e.y)&&this.isMouseOverVerticalLine(e),this.draw()}}]),n}(uq(BH).with(hq,fq)),gq=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{x:o,y:a}=e;return i.xPosition=o,i.yPosition=a,i.strokeWidth=2,i.strokeOpacity=1,i.dashLength=5,i.dashGap=3,i}return f(n,[{key:"draw",value:function(){const e=this.pMain;e.clear(),this.drawHorizontalRule(e),this.drawVerticalRule(e)}},{key:"mouseMoveHandler",value:function(e){this.highlighted=this.isWithin(e.x,e.y)&&(this.isMouseOverHorizontalLine(e)||this.isMouseOverVerticalLine(e)),this.draw()}},{key:"drawHorizontalRule",value:function(e){let t=lm(this.options.color||"black");this.highlighted&&(t=lm("red")),e.lineStyle(this.strokeWidth,t,this.strokeOpacity);let n=0;for(;n<this.dimensions[0];)e.moveTo(n,this._yScale(this.yPosition)),e.lineTo(n+this.dashLength,this._yScale(this.yPosition)),n+=this.dashLength+this.dashGap}},{key:"isMouseOverHorizontalLine",value:function(e){return Math.abs(e.y-this.position[1]-this._yScale(this.yPosition))<this.MOUSEOVER_RADIUS}},{key:"exportSVG",value:function(){let e=null,t=null;r(h(n.prototype),"exportSVG",this)?[t,e]=r(h(n.prototype),"exportSVG",this).call(this):(t=document.createElement("g"),e=t);const i=document.createElement("g");i.setAttribute("class","cross-rule"),i.setAttribute("transform",`translate(${this.position[0]},${this.position[1]})`),e.appendChild(i);const o=this.options.color||"black",a=document.createElement("line");a.setAttribute("stroke",o),a.setAttribute("stroke-width",this.strokeWidth),a.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),a.setAttribute("x1",this._xScale(this.xPosition)),a.setAttribute("y1",0),a.setAttribute("x2",this._xScale(this.xPosition)),a.setAttribute("y2",this.dimensions[1]);const s=document.createElement("line");return s.setAttribute("stroke",o),s.setAttribute("stroke-width",this.strokeWidth),s.setAttribute("stroke-dasharray",`${this.dashLength} ${this.dashGap}`),s.setAttribute("x1",0),s.setAttribute("y1",this._yScale(this.yPosition)),s.setAttribute("x2",this.dimensions[0]),s.setAttribute("y2",this._yScale(this.yPosition)),i.appendChild(a),i.appendChild(s),[t,e]}}]),n}(uq(BH).with(hq,fq)),bq=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{animate:o}=e;return i.visibleTiles=new Set,i.visibleTileIds=new Set,i.fetching=new Set,i.fetchedTiles={},i.tileGraphics={},i.minX=void 0===i.options.minPos||Number.isNaN(+i.options.minPos)?-180:+i.options.minPos,i.maxX=+i.options.maxPos||180,i.maxX=void 0===i.options.maxPos||Number.isNaN(+i.options.maxPos)?180:+i.options.maxPos,i.minY=i.options.minY||i.minX,i.maxY=i.options.maxY||i.maxX,i.maxZoom=19,i.maxWidth=i.maxX-i.minX,i.animate=o,i.uuid=Ns.nice(),i.refreshTilesDebounced=hm(i.refreshTiles.bind(a(i)),10),i}return f(n,[{key:"visibleAndFetchedIds",value:function(){return Object.keys(this.fetchedTiles).filter((e=>this.visibleTileIds.has(e)))}},{key:"visibleAndFetchedTiles",value:function(){return this.visibleAndFetchedIds().map((e=>this.fetchedTiles[e]))}},{key:"setVisibleTiles",value:function(e){this.visibleTiles=e.map((e=>({tileId:this.tileToLocalId(e),remoteId:this.tileToRemoteId(e),mirrored:e.mirrored}))),this.visibleTileIds=new Set(this.visibleTiles.map((e=>e.tileId)))}},{key:"removeAllTiles",value:function(){const e=new Set(Object.keys(this.fetchedTiles));this.removeTiles([...e])}},{key:"refreshTiles",value:function(){this.calculateVisibleTiles();const e=new Set(Object.keys(this.fetchedTiles)),t=[...this.visibleTiles].filter((t=>!this.fetching.has(t.remoteId)&&!e.has(t.tileId)));for(let e=0;e<t.length;e++)this.fetching.add(t[e].remoteId);const n=[...e].filter((e=>!this.visibleTileIds.has(e)));this.removeTiles(n),this.fetchNewTiles(t)}},{key:"removeTiles",value:function(e){e.length&&this.areAllVisibleTilesLoaded()&&(e.forEach((e=>{const t=e;this.destroyTile(this.fetchedTiles[t]),t in this.tileGraphics&&(this.pMain.removeChild(this.tileGraphics[t]),delete this.tileGraphics[t]),delete this.fetchedTiles[t]})),this.synchronizeTilesAndGraphics(),this.draw())}},{key:"tileToLocalId",value:function(e){return e.join(".")}},{key:"tileToRemoteId",value:function(e){return e.join(".")}},{key:"localToRemoteId",value:function(e){const t=e.split(".");return t.slice(0,t.length-1).join(".")}},{key:"calculateZoomLevel",value:function(){const e=mg.calculateZoomLevel(this._xScale,this.minX,this.maxX),t=mg.calculateZoomLevel(this._xScale,this.minY,this.maxY);let n=Math.min(Math.max(e,t),this.maxZoom);return this.options.maxZoom&&(this.options.maxZoom>=0?n=Math.min(this.options.maxZoom,n):console.error("Invalid maxZoom on track:",this)),n}},{key:"calculateVisibleTiles",value:function(){this.zoomLevel=this.calculateZoomLevel(),this.xTiles=mg.calculateTiles(this.zoomLevel,this._xScale,this.minX,this.maxX,this.maxZoom,this.maxWidth),this.yTiles=mg.calculateTiles(this.zoomLevel,this._yScale,this.minY,this.maxY,this.maxZoom,this.maxWidth);const e=this.xTiles,t=this.yTiles,n=this.zoomLevel,r=[];for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++){const a=[n,e[i],t[o]];r.push(a)}this.setVisibleTiles(r)}},{key:"zoomed",value:function(e,t,i,o,a){r(h(n.prototype),"zoomed",this).call(this,e,t),this.xScale(e),this.yScale(t),this.pMain.position.x=o,this.pMain.position.y=a,this.pMain.scale.x=i,this.pMain.scale.y=i,this.refreshTilesDebounced(),this.draw()}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e)}},{key:"setDimensions",value:function(e){r(h(n.prototype),"setDimensions",this).call(this,e)}},{key:"areAllVisibleTilesLoaded",value:function(){const e=new Set(Object.keys(this.fetchedTiles)),t=[...this.visibleTileIds];for(let n=0;n<t.length;n++)if(!e.has(t[n]))return!1;return!0}},{key:"allTilesLoaded",value:function(){}},{key:"minValue",value:function(e){return e&&(this.scale.minValue=e),this.scale.minValue}},{key:"maxValue",value:function(e){return e&&(this.scale.maxValue=e),this.scale.maxValue}},{key:"minRawValue",value:function(){return this.scale.minRawValue}},{key:"maxRawValue",value:function(){return this.scale.maxRawValue}},{key:"getTilePosAndDimensions",value:function(e,t){const n=this.maxWidth/2**e,r=n;return{tileX:this.minX+t[0]*n,tileY:this.minY+t[1]*r,tileWidth:n,tileHeight:r}}},{key:"setSpriteProperties",value:function(e,t,n){const{tileX:r,tileY:i,tileWidth:o,tileHeight:a}=this.getTilePosAndDimensions(t,n);e.x=this._refXScale(r),e.y=this._refYScale(i);const s=r+o,l=i+a;e.width=this._refXScale(s)-this._refXScale(r),e.height=this._refYScale(l)-this._refYScale(i)}},{key:"initTile",value:function(e){const t=new Rf.PIXI.Texture(new Rf.PIXI.BaseTexture(e.tileData.img)),n=new Rf.PIXI.Sprite(t),r=e.graphics;e.sprite=n,this.setSpriteProperties(e.sprite,e.tileData.zoomLevel,e.tileData.tilePos),r.removeChildren(),r.addChild(e.sprite)}},{key:"updateTile",value:function(e){}},{key:"destroyTile",value:function(e){}},{key:"addMissingGraphics",value:function(){const e=Object.keys(this.fetchedTiles);for(let t=0;t<e.length;t++)if(!(e[t]in this.tileGraphics)){const n=new Rf.PIXI.Graphics;this.pMain.addChild(n),this.fetchedTiles[e[t]].graphics=n,this.initTile(this.fetchedTiles[e[t]]),this.tileGraphics[e[t]]=n}}},{key:"updateExistingGraphics",value:function(){const e=Object.keys(this.fetchedTiles);for(let t=0;t<e.length;t++)this.updateTile(this.fetchedTiles[e[t]])}},{key:"synchronizeTilesAndGraphics",value:function(){this.addMissingGraphics(),this.updateExistingGraphics()}},{key:"loadTileData",value:function(e,t){let n=this.lruCache.get(e.tileId);return n||(n=t(e.data,e.type),this.lruCache.put(e.tileId,n)),n}},{key:"getTileUrl",value:function(e){const t=["a","b","c"];return`https://${t[Math.floor(Math.random()*t.length)]}.tile.openstreetmap.org/${e[0]}/${e[1]}/${e[2]}.png`}},{key:"fetchNewTiles",value:function(e){if(e.length>0){const t=[...new Set(e.map((e=>e.remoteId)))];for(const e of t){const t=e.split("."),n=this.getTileUrl(t),r=new Image;r.crossOrigin="Anonymous",r.src=n,r.onload=()=>{const i={};i[e]={tileId:e,img:r,zoomLevel:+t[0],tilePos:[+t[1],+t[2]],tileSrc:n},this.receivedTiles(i)}}}}},{key:"receivedTiles",value:function(e){for(let t=0;t<this.visibleTiles.length;t++){const n=this.visibleTiles[t].tileId;e[this.visibleTiles[t].remoteId]&&this.visibleTiles[t].remoteId in e&&(n in this.fetchedTiles||(this.fetchedTiles[n]=this.visibleTiles[t]),this.fetchedTiles[n].tileData=e[this.visibleTiles[t].remoteId])}for(const t in e)e[t]&&this.fetching.has(t)&&this.fetching.delete(t);this.synchronizeTilesAndGraphics(),this.refreshTiles(),this.draw(),this.animate()}},{key:"draw",value:function(){this.delayDrawing||r(h(n.prototype),"draw",this).call(this)}},{key:"drawTile",value:function(){}},{key:"refScalesChanged",value:function(e,t){r(h(n.prototype),"refScalesChanged",this).call(this,e,t);for(const e in this.fetchedTiles){const t=this.fetchedTiles[e];t.sprite&&this.setSpriteProperties(t.sprite,t.tileData.zoomLevel,t.tileData.tilePos)}}}]),n}(BH),vq=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"initTile",value:function(e){sY.bind(this)(e),this.drawTile(e)}},{key:"drawTile",value:function(e){aY.bind(this)(e)}},{key:"areAllVisibleTilesLoaded",value:function(){return!0}},{key:"fetchNewTiles",value:function(e){e.forEach((e=>{const t=e.remoteId.split("."),n={zoomLevel:t[0],tilePos:t.slice(1,t.length).map((e=>+e))};this.fetchedTiles[e.tileId]=e,this.fetchedTiles[e.tileId].tileData=n,this.fetching.has(e.remoteId)&&this.fetching.delete(e.remoteId)})),this.synchronizeTilesAndGraphics(),this.draw(),this.animate()}},{key:"draw",value:function(){r(h(n.prototype),"draw",this).call(this)}}]),n}(bq),yq=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).style=r.style,i.options.accessToken||(i.errorTextText="No access token provided in the viewconf's track options ('accessToken' option).",i.drawError()),i}return f(n,[{key:"rerender",value:function(e){r(h(n.prototype),"rerender",this).call(this,e),e.style!==this.style&&(this.style=e.style,this.removeAllTiles(),this.refreshTiles())}},{key:"getTileUrl",value:function(e){return`https://api.mapbox.com/styles/v1/mapbox/${this.options&&this.options.style?this.options.style:"streets-v10"}/tiles/${this.options&&+this.options.tileSize?+this.options.tileSize:256}/${e[0]}/${e[1]}/${e[2]}?access_token=${this.options.accessToken}`}}]),n}(bq),Tq=function(e){i(n,e);var t=o(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).style=r.style,i.options.tileSource||(i.errorTextText="No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}",i.drawError()),i}return f(n,[{key:"getTileUrl",value:function(e){let t=this.options.tileSource.replace("{z}",e[0]);return t=t.replace("{x}",e[1]),t=t.replace("{y}",e[2]),t}}]),n}(bq);var _q=1e-6,Eq=1e-12,xq=Math.PI,wq=xq/2,Sq=xq/4,Aq=2*xq,kq=180/xq,Cq=xq/180,Iq=Math.abs,Oq=Math.atan,Dq=Math.atan2,Pq=Math.cos,Nq=Math.ceil,Rq=Math.exp,Mq=Math.hypot,Lq=Math.log,Bq=Math.pow,Fq=Math.sin,Uq=Math.sign||function(e){return e>0?1:e<0?-1:0},jq=Math.sqrt,Hq=Math.tan;function Gq(e){return e>1?0:e<-1?xq:Math.acos(e)}function zq(e){return e>1?wq:e<-1?-wq:Math.asin(e)}function Vq(e){return(e=Fq(e/2))*e}function Yq(){}function $q(e,t){e&&Wq.hasOwnProperty(e.type)&&Wq[e.type](e,t)}var Xq={Feature:function(e,t){$q(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)$q(n[r].geometry,t)}},Wq={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){qq(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)qq(n[r],t,0)},Polygon:function(e,t){Kq(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Kq(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)$q(n[r],t)}};function qq(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Kq(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)qq(e[n],t,1);t.polygonEnd()}function Zq(e,t){e&&Xq.hasOwnProperty(e.type)?Xq[e.type](e,t):$q(e,t)}var Qq,Jq,eK,tK,nK,rK,iK,oK,aK,sK,lK,cK,uK,hK,dK,pK,fK=new ot,mK=new ot,gK={point:Yq,lineStart:Yq,lineEnd:Yq,polygonStart:function(){fK=new ot,gK.lineStart=bK,gK.lineEnd=vK},polygonEnd:function(){var e=+fK;mK.add(e<0?Aq+e:e),this.lineStart=this.lineEnd=this.point=Yq},sphere:function(){mK.add(Aq)}};function bK(){gK.point=yK}function vK(){TK(Qq,Jq)}function yK(e,t){gK.point=TK,Qq=e,Jq=t,eK=e*=Cq,tK=Pq(t=(t*=Cq)/2+Sq),nK=Fq(t)}function TK(e,t){var n=(e*=Cq)-eK,r=n>=0?1:-1,i=r*n,o=Pq(t=(t*=Cq)/2+Sq),a=Fq(t),s=nK*a,l=tK*o+s*Pq(i),c=s*r*Fq(i);fK.add(Dq(c,l)),eK=e,tK=o,nK=a}function _K(e){return[Dq(e[1],e[0]),zq(e[2])]}function EK(e){var t=e[0],n=e[1],r=Pq(n);return[r*Pq(t),r*Fq(t),Fq(n)]}function xK(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function wK(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function SK(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function AK(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function kK(e){var t=jq(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var CK,IK,OK,DK,PK,NK,RK,MK,LK,BK,FK,UK,jK,HK,GK,zK,VK={point:YK,lineStart:XK,lineEnd:WK,polygonStart:function(){VK.point=qK,VK.lineStart=KK,VK.lineEnd=ZK,hK=new ot,gK.polygonStart()},polygonEnd:function(){gK.polygonEnd(),VK.point=YK,VK.lineStart=XK,VK.lineEnd=WK,fK<0?(rK=-(oK=180),iK=-(aK=90)):hK>_q?aK=90:hK<-_q&&(iK=-90),pK[0]=rK,pK[1]=oK},sphere:function(){rK=-(oK=180),iK=-(aK=90)}};function YK(e,t){dK.push(pK=[rK=e,oK=e]),t<iK&&(iK=t),t>aK&&(aK=t)}function $K(e,t){var n=EK([e*Cq,t*Cq]);if(uK){var r=wK(uK,n),i=wK([r[1],-r[0],0],r);kK(i),i=_K(i);var o,a=e-sK,s=a>0?1:-1,l=i[0]*kq*s,c=Iq(a)>180;c^(s*sK<l&&l<s*e)?(o=i[1]*kq)>aK&&(aK=o):c^(s*sK<(l=(l+360)%360-180)&&l<s*e)?(o=-i[1]*kq)<iK&&(iK=o):(t<iK&&(iK=t),t>aK&&(aK=t)),c?e<sK?QK(rK,e)>QK(rK,oK)&&(oK=e):QK(e,oK)>QK(rK,oK)&&(rK=e):oK>=rK?(e<rK&&(rK=e),e>oK&&(oK=e)):e>sK?QK(rK,e)>QK(rK,oK)&&(oK=e):QK(e,oK)>QK(rK,oK)&&(rK=e)}else dK.push(pK=[rK=e,oK=e]);t<iK&&(iK=t),t>aK&&(aK=t),uK=n,sK=e}function XK(){VK.point=$K}function WK(){pK[0]=rK,pK[1]=oK,VK.point=YK,uK=null}function qK(e,t){if(uK){var n=e-sK;hK.add(Iq(n)>180?n+(n>0?360:-360):n)}else lK=e,cK=t;gK.point(e,t),$K(e,t)}function KK(){gK.lineStart()}function ZK(){qK(lK,cK),gK.lineEnd(),Iq(hK)>_q&&(rK=-(oK=180)),pK[0]=rK,pK[1]=oK,uK=null}function QK(e,t){return(t-=e)<0?t+360:t}function JK(e,t){return e[0]-t[0]}function eZ(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var tZ={sphere:Yq,point:nZ,lineStart:iZ,lineEnd:sZ,polygonStart:function(){tZ.lineStart=lZ,tZ.lineEnd=cZ},polygonEnd:function(){tZ.lineStart=iZ,tZ.lineEnd=sZ}};function nZ(e,t){e*=Cq;var n=Pq(t*=Cq);rZ(n*Pq(e),n*Fq(e),Fq(t))}function rZ(e,t,n){++CK,OK+=(e-OK)/CK,DK+=(t-DK)/CK,PK+=(n-PK)/CK}function iZ(){tZ.point=oZ}function oZ(e,t){e*=Cq;var n=Pq(t*=Cq);HK=n*Pq(e),GK=n*Fq(e),zK=Fq(t),tZ.point=aZ,rZ(HK,GK,zK)}function aZ(e,t){e*=Cq;var n=Pq(t*=Cq),r=n*Pq(e),i=n*Fq(e),o=Fq(t),a=Dq(jq((a=GK*o-zK*i)*a+(a=zK*r-HK*o)*a+(a=HK*i-GK*r)*a),HK*r+GK*i+zK*o);IK+=a,NK+=a*(HK+(HK=r)),RK+=a*(GK+(GK=i)),MK+=a*(zK+(zK=o)),rZ(HK,GK,zK)}function sZ(){tZ.point=nZ}function lZ(){tZ.point=uZ}function cZ(){hZ(UK,jK),tZ.point=nZ}function uZ(e,t){UK=e,jK=t,e*=Cq,t*=Cq,tZ.point=hZ;var n=Pq(t);HK=n*Pq(e),GK=n*Fq(e),zK=Fq(t),rZ(HK,GK,zK)}function hZ(e,t){e*=Cq;var n=Pq(t*=Cq),r=n*Pq(e),i=n*Fq(e),o=Fq(t),a=GK*o-zK*i,s=zK*r-HK*o,l=HK*i-GK*r,c=Mq(a,s,l),u=zq(c),h=c&&-u/c;LK.add(h*a),BK.add(h*s),FK.add(h*l),IK+=u,NK+=u*(HK+(HK=r)),RK+=u*(GK+(GK=i)),MK+=u*(zK+(zK=o)),rZ(HK,GK,zK)}function dZ(e){return function(){return e}}function pZ(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function fZ(e,t){return[Iq(e)>xq?e+Math.round(-e/Aq)*Aq:e,t]}function mZ(e,t,n){return(e%=Aq)?t||n?pZ(bZ(e),vZ(t,n)):bZ(e):t||n?vZ(t,n):fZ}function gZ(e){return function(t,n){return[(t+=e)>xq?t-Aq:t<-xq?t+Aq:t,n]}}function bZ(e){var t=gZ(e);return t.invert=gZ(-e),t}function vZ(e,t){var n=Pq(e),r=Fq(e),i=Pq(t),o=Fq(t);function a(e,t){var a=Pq(t),s=Pq(e)*a,l=Fq(e)*a,c=Fq(t),u=c*n+s*r;return[Dq(l*i-u*o,s*n-c*r),zq(u*i+l*o)]}return a.invert=function(e,t){var a=Pq(t),s=Pq(e)*a,l=Fq(e)*a,c=Fq(t),u=c*i-l*o;return[Dq(l*i+c*o,s*n+u*r),zq(u*n-s*r)]},a}function yZ(e){function t(t){return(t=e(t[0]*Cq,t[1]*Cq))[0]*=kq,t[1]*=kq,t}return e=mZ(e[0]*Cq,e[1]*Cq,e.length>2?e[2]*Cq:0),t.invert=function(t){return(t=e.invert(t[0]*Cq,t[1]*Cq))[0]*=kq,t[1]*=kq,t},t}function TZ(e,t,n,r,i,o){if(n){var a=Pq(t),s=Fq(t),l=r*n;null==i?(i=t+r*Aq,o=t-l/2):(i=_Z(a,i),o=_Z(a,o),(r>0?i<o:i>o)&&(i+=r*Aq));for(var c,u=i;r>0?u>o:u<o;u-=l)c=_K([a,-s*Pq(u),-s*Fq(u)]),e.point(c[0],c[1])}}function _Z(e,t){(t=EK(t))[0]-=e,kK(t);var n=Gq(-t[1]);return((-t[2]<0?-n:n)+Aq-_q)%Aq}function EZ(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:Yq,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function xZ(e,t){return Iq(e[0]-t[0])<_q&&Iq(e[1]-t[1])<_q}function wZ(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function SZ(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(xZ(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*_q}s.push(n=new wZ(r,e,null,!0)),l.push(n.o=new wZ(r,null,n,!1)),s.push(n=new wZ(a,e,null,!1)),l.push(n.o=new wZ(a,null,n,!0))}})),s.length){for(l.sort(t),AZ(s),AZ(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var c,u,h=s[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(o=0,a=c.length;o<a;++o)i.point((u=c[o])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(c=d.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function AZ(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function kZ(e){return Iq(e[0])<=xq?e[0]:Uq(e[0])*((Iq(e[0])+xq)%Aq-xq)}function CZ(e,t){var n=kZ(t),r=t[1],i=Fq(r),o=[Fq(n),-Pq(n),0],a=0,s=0,l=new ot;1===i?r=wq+_q:-1===i&&(r=-wq-_q);for(var c=0,u=e.length;c<u;++c)if(d=(h=e[c]).length)for(var h,d,p=h[d-1],f=kZ(p),m=p[1]/2+Sq,g=Fq(m),b=Pq(m),v=0;v<d;++v,f=T,g=E,b=x,p=y){var y=h[v],T=kZ(y),_=y[1]/2+Sq,E=Fq(_),x=Pq(_),w=T-f,S=w>=0?1:-1,A=S*w,k=A>xq,C=g*E;if(l.add(Dq(C*S*Fq(A),b*x+C*Pq(A))),a+=k?w+S*Aq:w,k^f>=n^T>=n){var I=wK(EK(p),EK(y));kK(I);var O=wK(o,I);kK(O);var D=(k^w>=0?-1:1)*zq(O[2]);(r>D||r===D&&(I[0]||I[1]))&&(s+=k^w>=0?1:-1)}}return(a<-_q||a<_q&&l<-Eq)^1&s}function IZ(e,t,n,r){return function(i){var o,a,s,l=t(i),c=EZ(),u=t(c),h=!1,d={point:p,lineStart:m,lineEnd:g,polygonStart:function(){d.point=b,d.lineStart=v,d.lineEnd=y,a=[],o=[]},polygonEnd:function(){d.point=p,d.lineStart=m,d.lineEnd=g,a=Ut(a);var e=CZ(o,r);a.length?(h||(i.polygonStart(),h=!0),SZ(a,DZ,e,n,i)):e&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,n){e(t,n)&&i.point(t,n)}function f(e,t){l.point(e,t)}function m(){d.point=f,l.lineStart()}function g(){d.point=p,l.lineEnd()}function b(e,t){s.push([e,t]),u.point(e,t)}function v(){u.lineStart(),s=[]}function y(){b(s[0][0],s[0][1]),u.lineEnd();var e,t,n,r,l=u.clean(),d=c.result(),p=d.length;if(s.pop(),o.push(s),s=null,p)if(1&l){if((t=(n=d[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter(OZ))}return d}}function OZ(e){return e.length>1}function DZ(e,t){return((e=e.x)[0]<0?e[1]-wq-_q:wq-e[1])-((t=t.x)[0]<0?t[1]-wq-_q:wq-t[1])}fZ.invert=fZ;const PZ=IZ((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?xq:-xq,l=Iq(o-n);Iq(l-xq)<_q?(e.point(n,r=(r+a)/2>0?wq:-wq),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=xq&&(Iq(n-i)<_q&&(n-=i*_q),Iq(o-s)<_q&&(o-=s*_q),r=function(e,t,n,r){var i,o,a=Fq(e-n);return Iq(a)>_q?Oq((Fq(t)*(o=Pq(r))*Fq(n)-Fq(r)*(i=Pq(t))*Fq(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*wq,r.point(-xq,i),r.point(0,i),r.point(xq,i),r.point(xq,0),r.point(xq,-i),r.point(0,-i),r.point(-xq,-i),r.point(-xq,0),r.point(-xq,i);else if(Iq(e[0]-t[0])>_q){var o=e[0]<t[0]?xq:-xq;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-xq,-wq]);function NZ(e){var t=Pq(e),n=6*Cq,r=t>0,i=Iq(t)>_q;function o(e,n){return Pq(e)*Pq(n)>t}function a(e,n,r){var i=[1,0,0],o=wK(EK(e),EK(n)),a=xK(o,o),s=o[0],l=a-s*s;if(!l)return!r&&e;var c=t*a/l,u=-t*s/l,h=wK(i,o),d=AK(i,c);SK(d,AK(o,u));var p=h,f=xK(d,p),m=xK(p,p),g=f*f-m*(xK(d,d)-1);if(!(g<0)){var b=jq(g),v=AK(p,(-f-b)/m);if(SK(v,d),v=_K(v),!r)return v;var y,T=e[0],_=n[0],E=e[1],x=n[1];_<T&&(y=T,T=_,_=y);var w=_-T,S=Iq(w-xq)<_q;if(!S&&x<E&&(y=E,E=x,x=y),S||w<_q?S?E+x>0^v[1]<(Iq(v[0]-T)<_q?E:x):E<=v[1]&&v[1]<=x:w>xq^(T<=v[0]&&v[0]<=_)){var A=AK(p,(-f+b)/m);return SK(A,d),[v,_K(A)]}}}function s(t,n){var i=r?e:xq-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return IZ(o,(function(e){var t,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(h,d){var p,f=[h,d],m=o(h,d),g=r?m?0:s(h,d):m?s(h+(h<0?xq:-xq),d):0;if(!t&&(c=l=m)&&e.lineStart(),m!==l&&(!(p=a(t,f))||xZ(t,p)||xZ(f,p))&&(f[2]=1),m!==l)u=0,m?(e.lineStart(),p=a(f,t),e.point(p[0],p[1])):(p=a(t,f),e.point(p[0],p[1],2),e.lineEnd()),t=p;else if(i&&t&&r^m){var b;g&n||!(b=a(f,t,!0))||(u=0,r?(e.lineStart(),e.point(b[0][0],b[0][1]),e.point(b[1][0],b[1][1]),e.lineEnd()):(e.point(b[1][0],b[1][1]),e.lineEnd(),e.lineStart(),e.point(b[0][0],b[0][1],3)))}!m||t&&xZ(t,f)||e.point(f[0],f[1]),t=f,l=m,n=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}}),(function(t,r,i,o){TZ(o,e,n,i,t,r)}),r?[0,-e]:[-xq,e-xq])}var RZ,MZ,LZ,BZ,FZ=1e9,UZ=-FZ;function jZ(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,c){var u=0,h=0;if(null==i||(u=a(i,s))!==(h=a(o,s))||l(i,o)<0^s>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+s+4)%4)!==h);else c.point(o[0],o[1])}function a(r,i){return Iq(r[0]-e)<_q?i>0?0:3:Iq(r[0]-n)<_q?i>0?2:1:Iq(r[1]-t)<_q?i>0?1:0:i>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var l,c,u,h,d,p,f,m,g,b,v,y=a,T=EZ(),_={point:E,lineStart:function(){_.point=x,c&&c.push(u=[]),b=!0,g=!1,f=m=NaN},lineEnd:function(){l&&(x(h,d),p&&g&&T.rejoin(),l.push(T.result())),_.point=E,g&&y.lineEnd()},polygonStart:function(){y=T,l=[],c=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],l=1,u=s.length,h=s[0],d=h[0],p=h[1];l<u;++l)o=d,a=p,d=(h=s[l])[0],p=h[1],a<=r?p>r&&(d-o)*(r-a)>(p-a)*(e-o)&&++t:p<=r&&(d-o)*(r-a)<(p-a)*(e-o)&&--t;return t}(),n=v&&t,i=(l=Ut(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&SZ(l,s,t,o,a),a.polygonEnd()),y=a,l=c=u=null}};function E(e,t){i(e,t)&&y.point(e,t)}function x(o,a){var s=i(o,a);if(c&&u.push([o,a]),b)h=o,d=a,p=s,b=!1,s&&(y.lineStart(),y.point(o,a));else if(s&&g)y.point(o,a);else{var l=[f=Math.max(UZ,Math.min(FZ,f)),m=Math.max(UZ,Math.min(FZ,m))],T=[o=Math.max(UZ,Math.min(FZ,o)),a=Math.max(UZ,Math.min(FZ,a))];!function(e,t,n,r,i,o){var a,s=e[0],l=e[1],c=0,u=1,h=t[0]-s,d=t[1]-l;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>c&&(c=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<u&&(u=a)}if(a=r-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}return c>0&&(e[0]=s+c*h,e[1]=l+c*d),u<1&&(t[0]=s+u*h,t[1]=l+u*d),!0}}}}}(l,T,e,t,n,r)?s&&(y.lineStart(),y.point(o,a),v=!1):(g||(y.lineStart(),y.point(l[0],l[1])),y.point(T[0],T[1]),s||y.lineEnd(),v=!1)}f=o,m=a,g=s}return _}}var HZ={sphere:Yq,point:Yq,lineStart:function(){HZ.point=zZ,HZ.lineEnd=GZ},lineEnd:Yq,polygonStart:Yq,polygonEnd:Yq};function GZ(){HZ.point=HZ.lineEnd=Yq}function zZ(e,t){MZ=e*=Cq,LZ=Fq(t*=Cq),BZ=Pq(t),HZ.point=VZ}function VZ(e,t){e*=Cq;var n=Fq(t*=Cq),r=Pq(t),i=Iq(e-MZ),o=Pq(i),a=r*Fq(i),s=BZ*n-LZ*r*o,l=LZ*n+BZ*r*o;RZ.add(Dq(jq(a*a+s*s),l)),MZ=e,LZ=n,BZ=r}function YZ(e){return RZ=new ot,Zq(e,HZ),+RZ}var $Z=[null,null],XZ={type:"LineString",coordinates:$Z};function WZ(e,t){return $Z[0]=e,$Z[1]=t,YZ(XZ)}var qZ={Feature:function(e,t){return ZZ(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(ZZ(n[r].geometry,t))return!0;return!1}},KZ={Sphere:function(){return!0},Point:function(e,t){return QZ(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(QZ(n[r],t))return!0;return!1},LineString:function(e,t){return JZ(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(JZ(n[r],t))return!0;return!1},Polygon:function(e,t){return eQ(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(eQ(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(ZZ(n[r],t))return!0;return!1}};function ZZ(e,t){return!(!e||!KZ.hasOwnProperty(e.type))&&KZ[e.type](e,t)}function QZ(e,t){return 0===WZ(e,t)}function JZ(e,t){for(var n,r,i,o=0,a=e.length;o<a;o++){if(0===(r=WZ(e[o],t)))return!0;if(o>0&&(i=WZ(e[o],e[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Eq*i)return!0;n=r}return!1}function eQ(e,t){return!!CZ(e.map(tQ),nQ(t))}function tQ(e){return(e=e.map(nQ)).pop(),e}function nQ(e){return[e[0]*Cq,e[1]*Cq]}function rQ(e,t,n){var r=Gt(e,t-_q,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function iQ(e,t,n){var r=Gt(e,t-_q,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function oQ(){var e,t,n,r,i,o,a,s,l,c,u,h,d=10,p=d,f=90,m=360,g=2.5;function b(){return{type:"MultiLineString",coordinates:v()}}function v(){return Gt(Nq(r/f)*f,n,f).map(u).concat(Gt(Nq(s/m)*m,a,m).map(h)).concat(Gt(Nq(t/d)*d,e,d).filter((function(e){return Iq(e%f)>_q})).map(l)).concat(Gt(Nq(o/p)*p,i,p).filter((function(e){return Iq(e%m)>_q})).map(c))}return b.lines=function(){return v().map((function(e){return{type:"LineString",coordinates:e}}))},b.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(h(a).slice(1),u(n).reverse().slice(1),h(s).reverse().slice(1))]}},b.extent=function(e){return arguments.length?b.extentMajor(e).extentMinor(e):b.extentMinor()},b.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),b.precision(g)):[[r,s],[n,a]]},b.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),b.precision(g)):[[t,o],[e,i]]},b.step=function(e){return arguments.length?b.stepMajor(e).stepMinor(e):b.stepMinor()},b.stepMajor=function(e){return arguments.length?(f=+e[0],m=+e[1],b):[f,m]},b.stepMinor=function(e){return arguments.length?(d=+e[0],p=+e[1],b):[d,p]},b.precision=function(d){return arguments.length?(g=+d,l=rQ(o,i,90),c=iQ(t,e,g),u=rQ(s,a,90),h=iQ(r,n,g),b):g},b.extentMajor([[-180,-90+_q],[180,90-_q]]).extentMinor([[-180,-80-_q],[180,80+_q]])}const aQ=e=>e;var sQ,lQ,cQ,uQ,hQ=new ot,dQ=new ot,pQ={point:Yq,lineStart:Yq,lineEnd:Yq,polygonStart:function(){pQ.lineStart=fQ,pQ.lineEnd=bQ},polygonEnd:function(){pQ.lineStart=pQ.lineEnd=pQ.point=Yq,hQ.add(Iq(dQ)),dQ=new ot},result:function(){var e=hQ/2;return hQ=new ot,e}};function fQ(){pQ.point=mQ}function mQ(e,t){pQ.point=gQ,sQ=cQ=e,lQ=uQ=t}function gQ(e,t){dQ.add(uQ*e-cQ*t),cQ=e,uQ=t}function bQ(){gQ(sQ,lQ)}const vQ=pQ;var yQ=1/0,TQ=yQ,_Q=-yQ,EQ=_Q;const xQ={point:function(e,t){e<yQ&&(yQ=e),e>_Q&&(_Q=e),t<TQ&&(TQ=t),t>EQ&&(EQ=t)},lineStart:Yq,lineEnd:Yq,polygonStart:Yq,polygonEnd:Yq,result:function(){var e=[[yQ,TQ],[_Q,EQ]];return _Q=EQ=-(TQ=yQ=1/0),e}};var wQ,SQ,AQ,kQ,CQ=0,IQ=0,OQ=0,DQ=0,PQ=0,NQ=0,RQ=0,MQ=0,LQ=0,BQ={point:FQ,lineStart:UQ,lineEnd:GQ,polygonStart:function(){BQ.lineStart=zQ,BQ.lineEnd=VQ},polygonEnd:function(){BQ.point=FQ,BQ.lineStart=UQ,BQ.lineEnd=GQ},result:function(){var e=LQ?[RQ/LQ,MQ/LQ]:NQ?[DQ/NQ,PQ/NQ]:OQ?[CQ/OQ,IQ/OQ]:[NaN,NaN];return CQ=IQ=OQ=DQ=PQ=NQ=RQ=MQ=LQ=0,e}};function FQ(e,t){CQ+=e,IQ+=t,++OQ}function UQ(){BQ.point=jQ}function jQ(e,t){BQ.point=HQ,FQ(AQ=e,kQ=t)}function HQ(e,t){var n=e-AQ,r=t-kQ,i=jq(n*n+r*r);DQ+=i*(AQ+e)/2,PQ+=i*(kQ+t)/2,NQ+=i,FQ(AQ=e,kQ=t)}function GQ(){BQ.point=FQ}function zQ(){BQ.point=YQ}function VQ(){$Q(wQ,SQ)}function YQ(e,t){BQ.point=$Q,FQ(wQ=AQ=e,SQ=kQ=t)}function $Q(e,t){var n=e-AQ,r=t-kQ,i=jq(n*n+r*r);DQ+=i*(AQ+e)/2,PQ+=i*(kQ+t)/2,NQ+=i,RQ+=(i=kQ*e-AQ*t)*(AQ+e),MQ+=i*(kQ+t),LQ+=3*i,FQ(AQ=e,kQ=t)}const XQ=BQ;function WQ(e){this._context=e}WQ.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Aq)}},result:Yq};var qQ,KQ,ZQ,QQ,JQ,eJ=new ot,tJ={point:Yq,lineStart:function(){tJ.point=nJ},lineEnd:function(){qQ&&rJ(KQ,ZQ),tJ.point=Yq},polygonStart:function(){qQ=!0},polygonEnd:function(){qQ=null},result:function(){var e=+eJ;return eJ=new ot,e}};function nJ(e,t){tJ.point=rJ,KQ=QQ=e,ZQ=JQ=t}function rJ(e,t){QQ-=e,JQ-=t,eJ.add(jq(QQ*QQ+JQ*JQ)),QQ=e,JQ=t}const iJ=tJ;function oJ(){this._string=[]}function aJ(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function sJ(e){return function(t){var n=new lJ;for(var r in e)n[r]=e[r];return n.stream=t,n}}function lJ(){}function cJ(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Zq(n,e.stream(xQ)),t(xQ.result()),null!=r&&e.clipExtent(r),e}function uJ(e,t,n){return cJ(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+t[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function hJ(e,t,n){return uJ(e,[[0,0],t],n)}function dJ(e,t,n){return cJ(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];e.scale(150*i).translate([o,a])}),n)}function pJ(e,t,n){return cJ(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,a])}),n)}oJ.prototype={_radius:4.5,_circle:aJ(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=aJ(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},lJ.prototype={constructor:lJ,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var fJ=16,mJ=Pq(30*Cq);function gJ(e,t){return+t?function(e,t){function n(r,i,o,a,s,l,c,u,h,d,p,f,m,g){var b=c-r,v=u-i,y=b*b+v*v;if(y>4*t&&m--){var T=a+d,_=s+p,E=l+f,x=jq(T*T+_*_+E*E),w=zq(E/=x),S=Iq(Iq(E)-1)<_q||Iq(o-h)<_q?(o+h)/2:Dq(_,T),A=e(S,w),k=A[0],C=A[1],I=k-r,O=C-i,D=v*I-b*O;(D*D/y>t||Iq((b*I+v*O)/y-.5)>.3||a*d+s*p+l*f<mJ)&&(n(r,i,o,a,s,l,k,C,S,T/=x,_/=x,E,m,g),g.point(k,C),n(k,C,S,T,_,E,c,u,h,d,p,f,m,g))}}return function(t){var r,i,o,a,s,l,c,u,h,d,p,f,m={point:g,lineStart:b,lineEnd:y,polygonStart:function(){t.polygonStart(),m.lineStart=T},polygonEnd:function(){t.polygonEnd(),m.lineStart=b}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function b(){u=NaN,m.point=v,t.lineStart()}function v(r,i){var o=EK([r,i]),a=e(r,i);n(u,h,c,d,p,f,u=a[0],h=a[1],c=r,d=o[0],p=o[1],f=o[2],fJ,t),t.point(u,h)}function y(){m.point=g,t.lineEnd()}function T(){b(),m.point=_,m.lineEnd=E}function _(e,t){v(r=e,t),i=u,o=h,a=d,s=p,l=f,m.point=v}function E(){n(u,h,c,d,p,f,i,o,r,a,s,l,fJ,t),m.lineEnd=y,y()}return m}}(e,t):function(e){return sJ({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var bJ=sJ({point:function(e,t){this.stream.point(e*Cq,t*Cq)}});function vJ(e,t,n,r,i,o){if(!o)return function(e,t,n,r,i){function o(o,a){return[t+e*(o*=r),n-e*(a*=i)]}return o.invert=function(o,a){return[(o-t)/e*r,(n-a)/e*i]},o}(e,t,n,r,i);var a=Pq(o),s=Fq(o),l=a*e,c=s*e,u=a/e,h=s/e,d=(s*n-a*t)/e,p=(s*t+a*n)/e;function f(e,o){return[l*(e*=r)-c*(o*=i)+t,n-c*e-l*o]}return f.invert=function(e,t){return[r*(u*e-h*t+d),i*(p-h*e-u*t)]},f}function yJ(e){return TJ((function(){return e}))()}function TJ(e){var t,n,r,i,o,a,s,l,c,u,h=150,d=480,p=250,f=0,m=0,g=0,b=0,v=0,y=0,T=1,_=1,E=null,x=PZ,w=null,S=aQ,A=.5;function k(e){return l(e[0]*Cq,e[1]*Cq)}function C(e){return(e=l.invert(e[0],e[1]))&&[e[0]*kq,e[1]*kq]}function I(){var e=vJ(h,0,0,T,_,y).apply(null,t(f,m)),r=vJ(h,d-e[0],p-e[1],T,_,y);return n=mZ(g,b,v),s=pZ(t,r),l=pZ(n,s),a=gJ(s,A),O()}function O(){return c=u=null,k}return k.stream=function(e){return c&&u===e?c:c=bJ(function(e){return sJ({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(x(a(S(u=e)))))},k.preclip=function(e){return arguments.length?(x=e,E=void 0,O()):x},k.postclip=function(e){return arguments.length?(S=e,w=r=i=o=null,O()):S},k.clipAngle=function(e){return arguments.length?(x=+e?NZ(E=e*Cq):(E=null,PZ),O()):E*kq},k.clipExtent=function(e){return arguments.length?(S=null==e?(w=r=i=o=null,aQ):jZ(w=+e[0][0],r=+e[0][1],i=+e[1][0],o=+e[1][1]),O()):null==w?null:[[w,r],[i,o]]},k.scale=function(e){return arguments.length?(h=+e,I()):h},k.translate=function(e){return arguments.length?(d=+e[0],p=+e[1],I()):[d,p]},k.center=function(e){return arguments.length?(f=e[0]%360*Cq,m=e[1]%360*Cq,I()):[f*kq,m*kq]},k.rotate=function(e){return arguments.length?(g=e[0]%360*Cq,b=e[1]%360*Cq,v=e.length>2?e[2]%360*Cq:0,I()):[g*kq,b*kq,v*kq]},k.angle=function(e){return arguments.length?(y=e%360*Cq,I()):y*kq},k.reflectX=function(e){return arguments.length?(T=e?-1:1,I()):T<0},k.reflectY=function(e){return arguments.length?(_=e?-1:1,I()):_<0},k.precision=function(e){return arguments.length?(a=gJ(s,A=e*e),O()):jq(A)},k.fitExtent=function(e,t){return uJ(k,e,t)},k.fitSize=function(e,t){return hJ(k,e,t)},k.fitWidth=function(e,t){return dJ(k,e,t)},k.fitHeight=function(e,t){return pJ(k,e,t)},function(){return t=e.apply(this,arguments),k.invert=t.invert&&C,I()}}function _J(e){var t=0,n=xq/3,r=TJ(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Cq,n=e[1]*Cq):[t*kq,n*kq]},i}function EJ(e,t){var n=Fq(e),r=(n+Fq(t))/2;if(Iq(r)<_q)return function(e){var t=Pq(e);function n(e,n){return[e*t,Fq(n)/t]}return n.invert=function(e,n){return[e/t,zq(n*t)]},n}(e);var i=1+n*(2*r-n),o=jq(i)/r;function a(e,t){var n=jq(i-2*r*Fq(t))/r;return[n*Fq(e*=r),o-n*Pq(e)]}return a.invert=function(e,t){var n=o-t,a=Dq(e,Iq(n))*Uq(n);return n*r<0&&(a-=xq*Uq(e)*Uq(n)),[a/r,zq((i-(e*e+n*n)*r*r)/(2*r))]},a}function xJ(){return _J(EJ).scale(155.424).center([0,33.6442])}function wJ(){return xJ().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function SJ(e){return function(t,n){var r=Pq(t),i=Pq(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Fq(t),o*Fq(n)]}}function AJ(e){return function(t,n){var r=jq(t*t+n*n),i=e(r),o=Fq(i),a=Pq(i);return[Dq(t*o,r*a),zq(r&&n*o/r)]}}var kJ=SJ((function(e){return jq(2/(1+e))}));kJ.invert=AJ((function(e){return 2*zq(e/2)}));var CJ=SJ((function(e){return(e=Gq(e))&&e/Fq(e)}));function IJ(e,t){return[e,Lq(Hq((wq+t)/2))]}function OJ(e){var t,n,r,i=yJ(e),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,c=null;function u(){var o=xq*a(),s=i(yZ(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===IJ?[[Math.max(s[0]-o,c),t],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(e){return arguments.length?(a(e),u()):a()},i.translate=function(e){return arguments.length?(s(e),u()):s()},i.center=function(e){return arguments.length?(o(e),u()):o()},i.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==c?null:[[c,t],[n,r]]},u()}function DJ(e){return Hq((wq+e)/2)}function PJ(e,t){var n=Pq(e),r=e===t?Fq(e):Lq(n/Pq(t))/Lq(DJ(t)/DJ(e)),i=n*Bq(DJ(e),r)/r;if(!r)return IJ;function o(e,t){i>0?t<-wq+_q&&(t=-wq+_q):t>wq-_q&&(t=wq-_q);var n=i/Bq(DJ(t),r);return[n*Fq(r*e),i-n*Pq(r*e)]}return o.invert=function(e,t){var n=i-t,o=Uq(r)*jq(e*e+n*n),a=Dq(e,Iq(n))*Uq(n);return n*r<0&&(a-=xq*Uq(e)*Uq(n)),[a/r,2*Oq(Bq(i/o,1/r))-wq]},o}function NJ(e,t){return[e,t]}function RJ(e,t){var n=Pq(e),r=e===t?Fq(e):(n-Pq(t))/(t-e),i=n/r+e;if(Iq(r)<_q)return NJ;function o(e,t){var n=i-t,o=r*e;return[n*Fq(o),i-n*Pq(o)]}return o.invert=function(e,t){var n=i-t,o=Dq(e,Iq(n))*Uq(n);return n*r<0&&(o-=xq*Uq(e)*Uq(n)),[o/r,i-Uq(r)*jq(e*e+n*n)]},o}CJ.invert=AJ((function(e){return e})),IJ.invert=function(e,t){return[e,2*Oq(Rq(t))-wq]},NJ.invert=NJ;var MJ=1.340264,LJ=-.081106,BJ=893e-6,FJ=.003796,UJ=jq(3)/2;function jJ(e,t){var n=zq(UJ*Fq(t)),r=n*n,i=r*r*r;return[e*Pq(n)/(UJ*(MJ+3*LJ*r+i*(7*BJ+9*FJ*r))),n*(MJ+LJ*r+i*(BJ+FJ*r))]}function HJ(e,t){var n=Pq(t),r=Pq(e)*n;return[n*Fq(e)/r,Fq(t)/r]}function GJ(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function zJ(e,t){return[Pq(t)*Fq(e),Fq(t)]}function VJ(e,t){var n=Pq(t),r=1+Pq(e)*n;return[n*Fq(e)/r,Fq(t)/r]}function YJ(e,t){return[Lq(Hq((wq+t)/2)),-e]}jJ.invert=function(e,t){for(var n,r=t,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(MJ+LJ*i+o*(BJ+FJ*i))-t)/(MJ+3*LJ*i+o*(7*BJ+9*FJ*i)))*r)*i*i,!(Iq(n)<Eq));++a);return[UJ*e*(MJ+3*LJ*i+o*(7*BJ+9*FJ*i))/Pq(r),zq(Fq(r)/UJ)]},HJ.invert=AJ(Oq),GJ.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Iq(n)>_q&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},zJ.invert=AJ(zq),VJ.invert=AJ((function(e){return 2*Oq(e)})),YJ.invert=function(e,t){return[-t,2*Oq(Rq(e))-wq]};const $J=Object.freeze(Object.defineProperty({__proto__:null,geoArea:function(e){return mK=new ot,Zq(e,gK),2*mK},geoBounds:function(e){var t,n,r,i,o,a,s;if(aK=oK=-(rK=iK=1/0),dK=[],Zq(e,VK),n=dK.length){for(dK.sort(JK),t=1,o=[r=dK[0]];t<n;++t)eZ(r,(i=dK[t])[0])||eZ(r,i[1])?(QK(r[0],i[1])>QK(r[0],r[1])&&(r[1]=i[1]),QK(i[0],r[1])>QK(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)i=o[t],(s=QK(r[1],i[0]))>a&&(a=s,rK=i[0],oK=r[1])}return dK=pK=null,rK===1/0||iK===1/0?[[NaN,NaN],[NaN,NaN]]:[[rK,iK],[oK,aK]]},geoCentroid:function(e){CK=IK=OK=DK=PK=NK=RK=MK=0,LK=new ot,BK=new ot,FK=new ot,Zq(e,tZ);var t=+LK,n=+BK,r=+FK,i=Mq(t,n,r);return i<Eq&&(t=NK,n=RK,r=MK,IK<_q&&(t=OK,n=DK,r=PK),(i=Mq(t,n,r))<Eq)?[NaN,NaN]:[Dq(n,t)*kq,zq(r/i)*kq]},geoCircle:function(){var e,t,n=dZ([0,0]),r=dZ(90),i=dZ(6),o={point:function(n,r){e.push(n=t(n,r)),n[0]*=kq,n[1]*=kq}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*Cq,l=i.apply(this,arguments)*Cq;return e=[],t=mZ(-a[0]*Cq,-a[1]*Cq,0).invert,TZ(o,s,l,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:dZ([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"==typeof e?e:dZ(+e),a):r},a.precision=function(e){return arguments.length?(i="function"==typeof e?e:dZ(+e),a):i},a},geoClipAntimeridian:PZ,geoClipCircle:NZ,geoClipExtent:function(){var e,t,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return e&&t===n?e:e=jZ(r,i,o,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],e=t=null,n):[[r,i],[o,a]]}}},geoClipRectangle:jZ,geoContains:function(e,t){return(e&&qZ.hasOwnProperty(e.type)?qZ[e.type]:ZZ)(e,t)},geoDistance:WZ,geoGraticule:oQ,geoGraticule10:function(){return oQ()()},geoInterpolate:function(e,t){var n=e[0]*Cq,r=e[1]*Cq,i=t[0]*Cq,o=t[1]*Cq,a=Pq(r),s=Fq(r),l=Pq(o),c=Fq(o),u=a*Pq(n),h=a*Fq(n),d=l*Pq(i),p=l*Fq(i),f=2*zq(jq(Vq(o-r)+a*l*Vq(i-n))),m=Fq(f),g=f?function(e){var t=Fq(e*=f)/m,n=Fq(f-e)/m,r=n*u+t*d,i=n*h+t*p,o=n*s+t*c;return[Dq(i,r)*kq,Dq(o,jq(r*r+i*i))*kq]}:function(){return[n*kq,r*kq]};return g.distance=f,g},geoLength:YZ,geoPath:function(e,t){var n,r,i=4.5;function o(e){return e&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Zq(e,n(r))),r.result()}return o.area=function(e){return Zq(e,n(vQ)),vQ.result()},o.measure=function(e){return Zq(e,n(iJ)),iJ.result()},o.bounds=function(e){return Zq(e,n(xQ)),xQ.result()},o.centroid=function(e){return Zq(e,n(XQ)),XQ.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,aQ):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new oJ):new WQ(t=e),"function"!=typeof i&&r.pointRadius(i),o):t},o.pointRadius=function(e){return arguments.length?(i="function"==typeof e?e:(r.pointRadius(+e),+e),o):i},o.projection(e).context(t)},geoAlbers:wJ,geoAlbersUsa:function(){var e,t,n,r,i,o,a=wJ(),s=xJ().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=xJ().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){o=[e,t]}};function u(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(r.point(t,a),o)||(i.point(t,a),o)}function h(){return e=t=null,u}return u.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(e)},u.stream=function(n){return e&&t===n?e:(r=[a.stream(t=n),s.stream(n),l.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},u.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),l.precision(e),h()):a.precision()},u.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),l.scale(e),u.translate(a.translate())):a.scale()},u.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],u=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,u-.238*t],[o+.455*t,u+.238*t]]).stream(c),r=s.translate([o-.307*t,u+.201*t]).clipExtent([[o-.425*t+_q,u+.12*t+_q],[o-.214*t-_q,u+.234*t-_q]]).stream(c),i=l.translate([o-.205*t,u+.212*t]).clipExtent([[o-.214*t+_q,u+.166*t+_q],[o-.115*t-_q,u+.234*t-_q]]).stream(c),h()},u.fitExtent=function(e,t){return uJ(u,e,t)},u.fitSize=function(e,t){return hJ(u,e,t)},u.fitWidth=function(e,t){return dJ(u,e,t)},u.fitHeight=function(e,t){return pJ(u,e,t)},u.scale(1070)},geoAzimuthalEqualArea:function(){return yJ(kJ).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:kJ,geoAzimuthalEquidistant:function(){return yJ(CJ).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:CJ,geoConicConformal:function(){return _J(PJ).scale(109.5).parallels([30,30])},geoConicConformalRaw:PJ,geoConicEqualArea:xJ,geoConicEqualAreaRaw:EJ,geoConicEquidistant:function(){return _J(RJ).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:RJ,geoEqualEarth:function(){return yJ(jJ).scale(177.158)},geoEqualEarthRaw:jJ,geoEquirectangular:function(){return yJ(NJ).scale(152.63)},geoEquirectangularRaw:NJ,geoGnomonic:function(){return yJ(HJ).scale(144.049).clipAngle(60)},geoGnomonicRaw:HJ,geoIdentity:function(){var e,t,n,r,i,o,a,s=1,l=0,c=0,u=1,h=1,d=0,p=null,f=1,m=1,g=sJ({point:function(e,t){var n=y([e,t]);this.stream.point(n[0],n[1])}}),b=aQ;function v(){return f=s*u,m=s*h,o=a=null,y}function y(n){var r=n[0]*f,i=n[1]*m;if(d){var o=i*e-r*t;r=r*e+i*t,i=o}return[r+l,i+c]}return y.invert=function(n){var r=n[0]-l,i=n[1]-c;if(d){var o=i*e+r*t;r=r*e-i*t,i=o}return[r/f,i/m]},y.stream=function(e){return o&&a===e?o:o=g(b(a=e))},y.postclip=function(e){return arguments.length?(b=e,p=n=r=i=null,v()):b},y.clipExtent=function(e){return arguments.length?(b=null==e?(p=n=r=i=null,aQ):jZ(p=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),v()):null==p?null:[[p,n],[r,i]]},y.scale=function(e){return arguments.length?(s=+e,v()):s},y.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],v()):[l,c]},y.angle=function(n){return arguments.length?(t=Fq(d=n%360*Cq),e=Pq(d),v()):d*kq},y.reflectX=function(e){return arguments.length?(u=e?-1:1,v()):u<0},y.reflectY=function(e){return arguments.length?(h=e?-1:1,v()):h<0},y.fitExtent=function(e,t){return uJ(y,e,t)},y.fitSize=function(e,t){return hJ(y,e,t)},y.fitWidth=function(e,t){return dJ(y,e,t)},y.fitHeight=function(e,t){return pJ(y,e,t)},y},geoProjection:yJ,geoProjectionMutator:TJ,geoMercator:function(){return OJ(IJ).scale(961/Aq)},geoMercatorRaw:IJ,geoNaturalEarth1:function(){return yJ(GJ).scale(175.295)},geoNaturalEarth1Raw:GJ,geoOrthographic:function(){return yJ(zJ).scale(249.5).clipAngle(90+_q)},geoOrthographicRaw:zJ,geoStereographic:function(){return yJ(VJ).scale(250).clipAngle(142)},geoStereographicRaw:VJ,geoTransverseMercator:function(){var e=OJ(YJ),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:YJ,geoRotation:yZ,geoStream:Zq,geoTransform:function(e){return{stream:sJ(e)}}},Symbol.toStringTag,{value:"Module"}));var XJ=[].slice,WJ={};function qJ(e){this._size=e,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function KJ(e){if(!e._start)try{!function(e){for(;e._start=e._waiting&&e._active<e._size;){var t=e._ended+e._active,n=e._tasks[t],r=n.length-1,i=n[r];n[r]=ZJ(e,t),--e._waiting,++e._active,n=i.apply(null,n),e._tasks[t]&&(e._tasks[t]=n||WJ)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])QJ(e,t);else if(!e._data)throw t}}function ZJ(e,t){return function(n,r){e._tasks[t]&&(--e._active,++e._ended,e._tasks[t]=null,null==e._error&&(null!=n?QJ(e,n):(e._data[t]=r,e._waiting?KJ(e):JJ(e))))}}function QJ(e,t){var n,r=e._tasks.length;for(e._error=t,e._data=void 0,e._waiting=NaN;--r>=0;)if((n=e._tasks[r])&&(e._tasks[r]=null,n.abort))try{n.abort()}catch(e){}e._active=NaN,JJ(e)}function JJ(e){if(!e._active&&e._call){var t=e._data;e._data=void 0,e._call(e._error,t)}}function e0(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new qJ(e)}qJ.prototype=e0.prototype={constructor:qJ,defer:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var t=XJ.call(arguments,1);return t.push(e),++this._waiting,this._tasks.push(t),KJ(this),this},abort:function(){return null==this._error&&QJ(this,new Error("abort")),this},await:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,n){e.apply(null,[t].concat(n))},JJ(this),this},awaitAll:function(e){if("function"!=typeof e)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=e,JJ(this),this}};const t0=Object.freeze(Object.defineProperty({__proto__:null,queue:e0},Symbol.toStringTag,{value:"Module"}));var n0="$";function r0(){}function i0(e,t){var n=new r0;if(e instanceof r0)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}function o0(){}r0.prototype=i0.prototype={constructor:r0,has:function(e){return n0+e in this},get:function(e){return this[n0+e]},set:function(e,t){return this[n0+e]=t,this},remove:function(e){var t=n0+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===n0&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===n0&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===n0&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===n0&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===n0&&++e;return e},empty:function(){for(var e in this)if(e[0]===n0)return!1;return!0},each:function(e){for(var t in this)t[0]===n0&&e(this[t],t.slice(1),this)}};var a0=i0.prototype;o0.prototype={constructor:o0,has:a0.has,add:function(e){return this[n0+(e+="")]=e,this},remove:a0.remove,clear:a0.clear,values:a0.keys,size:a0.size,empty:a0.empty,each:a0.each};var s0={value:function(){}};function l0(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new c0(r)}function c0(e){this._=e}function u0(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function h0(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=s0,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function d0(e,t){var n,r,i,o,a=l0("beforesend","progress","load","error"),s=i0(),l=new XMLHttpRequest,c=null,u=null,h=0;function d(e){var t,r=l.status;if(!r&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(l)||r>=200&&r<300||304===r){if(i)try{t=i.call(n,l)}catch(e){return void a.call("error",n,e)}else t=l;a.call("load",n,t)}else a.call("error",n,e)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(e)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=d:l.onreadystatechange=function(e){l.readyState>3&&d(e)},l.onprogress=function(e){a.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s.get(e):(null==t?s.remove(e):s.set(e,t+""),n)},mimeType:function(e){return arguments.length?(r=null==e?null:e+"",n):r},responseType:function(e){return arguments.length?(o=e,n):o},timeout:function(e){return arguments.length?(h=+e,n):h},user:function(e){return arguments.length<1?c:(c=null==e?null:e+"",n)},password:function(e){return arguments.length<1?u:(u=null==e?null:e+"",n)},response:function(e){return i=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,i,d){return l.open(t,e,!0,c,u),null==r||s.has("accept")||s.set("accept",r+",*/*"),l.setRequestHeader&&s.each((function(e,t){l.setRequestHeader(t,e)})),null!=r&&l.overrideMimeType&&l.overrideMimeType(r),null!=o&&(l.responseType=o),h>0&&(l.timeout=h),null==d&&"function"==typeof i&&(d=i,i=null),null!=d&&1===d.length&&(d=function(e){return function(t,n){e(null==t?n:null)}}(d)),null!=d&&n.on("error",d).on("load",(function(e){d(null,e)})),a.call("beforesend",n,l),l.send(null==i?null:i),n},abort:function(){return l.abort(),n},on:function(){var e=a.on.apply(a,arguments);return e===a?n:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n}function p0(e,t){return function(n,r){var i=d0(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}}c0.prototype=l0.prototype={constructor:c0,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=h0(i[n],e.name,t);else if(null==t)for(n in i)i[n]=h0(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=u0(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new c0(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const f0=p0("text/html",(function(e){return document.createRange().createContextualFragment(e.responseText)})),m0=p0("application/json",(function(e){return JSON.parse(e.responseText)})),g0=p0("text/plain",(function(e){return e.responseText})),b0=p0("application/xml",(function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t}));var v0={},y0={};function T0(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function _0(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function E0(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function x0(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":((t=e.getUTCFullYear())<0?"-"+E0(-t,6):t>9999?"+"+E0(t,6):E0(t,4))+"-"+E0(e.getUTCMonth()+1,2)+"-"+E0(e.getUTCDate(),2)+(o?"T"+E0(n,2)+":"+E0(r,2)+":"+E0(i,2)+"."+E0(o,3)+"Z":i?"T"+E0(n,2)+":"+E0(r,2)+":"+E0(i,2)+"Z":r||n?"T"+E0(n,2)+":"+E0(r,2)+"Z":"")}function w0(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return y0;if(c)return c=!1,v0;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==y0;){for(var h=[];r!==v0&&r!==y0;)h.push(r),r=u();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?x0(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=T0(e);return function(r,i){return t(n(r),i,e)}}(e,t):T0(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=_0(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=_0(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}var S0=w0(",").parse,A0=w0("\t").parse;function k0(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=d0(n).mimeType(e);return o.row=function(e){return arguments.length?o.response(function(e,t){return function(n){return e(n.responseText,t)}}(t,r=e)):r},o.row(r),i?o.get(i):o}}const C0=k0("text/csv",S0),I0=k0("text/tab-separated-values",A0),O0=Object.freeze(Object.defineProperty({__proto__:null,request:d0,html:f0,json:m0,text:g0,xml:b0,csv:C0,tsv:I0},Symbol.toStringTag,{value:"Module"}));let D0=function(e){i(n,e);var t=o(n);function n({items:e}){var r;return d(this,n),(r=t.call(this)).state={items:e,isSorting:!1},r}return f(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({items:e.items})}},{key:"onSortStart",value:function({node:e,index:t,collection:n},r){r.stopImmediatePropagation();const{onSortStart:i}=this.props;this.setState({isSorting:!0}),i&&i(this.ref),this.sortingIndex=t,this.sortStartTop=r.offsetTop,this.sortStartLeft=r.offsetLeft}},{key:"onSortMove",value:function(){}},{key:"onSortEnd",value:function({oldIndex:e,newIndex:t}){const{onSortEnd:n}=this.props,{items:r}=this.state;var i,o,a;this.setState({items:(i=r,o=e,a=t,(i=i.slice()).splice(a<0?i.length+a:a,0,i.splice(o,1)[0]),i),isSorting:!1}),n&&n(this.state.items),this.sortingIndex=null}},{key:"render",value:function(){const e=this.props.component,{items:t,isSorting:n}=this.state,r={isSorting:n,items:t,onSortEnd:this.onSortEnd.bind(this),onSortStart:this.onSortStart.bind(this),onSortMove:this.onSortMove.bind(this)};return m.default.createElement(e,{...this.props,...r,ref:e=>{this.ref=e}})}}]),n}(m.default.Component);D0.propTypes={axis:S.exports.string,className:S.exports.string,component:S.exports.func,editable:S.exports.bool,handleConfigTrack:S.exports.func,handleResizeTrack:S.exports.func,height:S.exports.number,helperClass:S.exports.string,itemClass:S.exports.string,itemControlAlignLeft:S.exports.bool,itemReactClass:S.exports.func,items:S.exports.array,onAddSeries:S.exports.func,onCloseTrack:S.exports.func,onCloseTrackMenuOpened:S.exports.func,onConfigTrackMenuOpened:S.exports.func,onSortEnd:S.exports.func,onSortStart:S.exports.func,referenceAncestor:S.exports.string,resizeHandles:S.exports.object,useDragHandle:S.exports.bool,width:S.exports.number},D0.defaultProps={className:"list stylizedList",itemClass:"item stylizedItem",width:400,height:600};const P0={"top-right-handle":"_top-right-handle_cizw2_1","bottom-right-handle":"_bottom-right-handle_cizw2_2","top-left-handle":"_top-left-handle_cizw2_7","bottom-left-handle":"_bottom-left-handle_cizw2_8","top-draggable-handle":"_top-draggable-handle_cizw2_13","bottom-draggable-handle":"_bottom-draggable-handle_cizw2_14","left-draggable-handle":"_left-draggable-handle_cizw2_15","right-draggable-handle":"_right-draggable-handle_cizw2_16","draggable-div":"_draggable-div_cizw2_22","top-draggable-handle-grabber":"_top-draggable-handle-grabber_cizw2_27","bottom-draggable-handle-grabber":"_bottom-draggable-handle-grabber_cizw2_28","left-draggable-handle-grabber":"_left-draggable-handle-grabber_cizw2_43","right-draggable-handle-grabber":"_right-draggable-handle-grabber_cizw2_44"};let N0=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).dragTopRight=Lh().on("start",r.dragStart.bind(a(r))).on("drag",r.dragTopRightFunc.bind(a(r))),r.dragTopLeft=Lh().on("start",r.dragStart.bind(a(r))).on("drag",r.dragTopLeftFunc.bind(a(r))),r.dragBottomRight=Lh().on("start",r.dragStart.bind(a(r))).on("drag",r.dragBottomRightFunc.bind(a(r))),r.dragBottomLeft=Lh().on("start",r.dragStart.bind(a(r))).on("drag",r.dragBottomLeftFunc.bind(a(r))),r.dragBottom=Lh().on("start",r.dragStart.bind(a(r))).on("drag",r.dragBottomFunc.bind(a(r))),r.dragTop=Lh().on("start",r.dragStart.bind(a(r))).on("drag",r.dragTopFunc.bind(a(r))),r.dragLeft=Lh().on("start",r.dragStart.bind(a(r))).on("drag",r.dragLeftFunc.bind(a(r))),r.dragRight=Lh().on("start",r.dragStart.bind(a(r))).on("drag",r.dragRightFunc.bind(a(r))),r.minWidth=10,r.minHeight=10,r.bottomHandleWidth=20,r.state={uid:r.props.uid,width:r.props.width,height:r.props.height,top:r.props.top,left:r.props.left},r.domBody=Be("body").node(),r}return f(n,[{key:"componentDidMount",value:function(){Be(this.bottomHandle).call(this.dragBottom),Be(this.topHandle).call(this.dragTop),Be(this.leftHandle).call(this.dragLeft),Be(this.rightHandle).call(this.dragRight)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){"width"in e&&this.setState({width:e.width}),"height"in e&&this.setState({height:e.height})}},{key:"dragBottomFunc",value:function(e){const t=Ge(e,this.domBody);let n=this.dragStartHeight+(t[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight,this.setState({height:n}),e.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragLeftFunc",value:function(e){const t=Ge(e,this.domBody);let n=this.dragStartWidth-(t[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth;let r=this.dragStartLeft+t[0]-this.dragStartMousePos[0];r=n>this.minWidth?r:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:r,width:n}),e.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopFunc",value:function(e){const t=Ge(e,this.domBody);let n=this.dragStartHeight-(t[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight;let r=this.dragStartTop+t[1]-this.dragStartMousePos[1];r=n>this.minHeight?r:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:r,height:n}),e.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragRightFunc",value:function(e){const t=Ge(e,this.domBody);let n=this.dragStartWidth+(t[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth,this.setState({width:n}),e.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomLeftFunc",value:function(e){const t=Ge(e,this.domBody);let n=this.dragStartHeight+(t[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight;let r=this.dragStartWidth-(t[0]-this.dragStartMousePos[0]);r=r>this.minWidth?r:this.minWidth;let i=this.dragStartLeft+t[0]-this.dragStartMousePos[0];i=r>this.minWidth?i:this.dragStartLeft+this.dragStartWidth-this.minWidth,this.setState({left:i,width:r,height:n}),e.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragBottomRightFunc",value:function(e){const t=Ge(e,this.domBody);let n=this.dragStartWidth+(t[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth;let r=this.dragStartHeight+(t[1]-this.dragStartMousePos[1]);r=r>this.minHeight?r:this.minHeight,this.setState({width:n,height:r}),e.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopRightFunc",value:function(e){const t=Ge(e,this.domBody);let n=this.dragStartHeight-(t[1]-this.dragStartMousePos[1]);n=n>this.minHeight?n:this.minHeight;let r=this.dragStartTop+t[1]-this.dragStartMousePos[1];r=n>this.minHeight?r:this.dragStartTop+this.dragStartHeight-this.minHeight;let i=this.dragStartWidth+(t[0]-this.dragStartMousePos[0]);i=i>this.minWidth?i:this.minWidth,this.setState({top:r,width:i,height:n}),e.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragTopLeftFunc",value:function(e){const t=Ge(e,this.domBody);let n=this.dragStartWidth-(t[0]-this.dragStartMousePos[0]);n=n>this.minWidth?n:this.minWidth;let r=this.dragStartLeft+t[0]-this.dragStartMousePos[0];r=n>this.minWidth?r:this.dragStartLeft+this.dragStartWidth-this.minWidth;let i=this.dragStartHeight-(t[1]-this.dragStartMousePos[1]);i=i>this.minHeight?i:this.minHeight;let o=this.dragStartTop+t[1]-this.dragStartMousePos[1];o=i>this.minHeight?o:this.dragStartTop+this.dragStartHeight-this.minHeight,this.setState({top:o,left:r,width:n,height:i}),e.sourceEvent.stopPropagation(),this.sizeChanged()}},{key:"dragStart",value:function(e){this.dragStartMousePos=Ge(e,this.domBody),this.dragStartWidth=this.state.width,this.dragStartHeight=this.state.height,this.dragStartTop=this.state.top,this.dragStartLeft=this.state.left,e.sourceEvent.stopPropagation()}},{key:"sizeChanged",value:function(){this.props.sizeChanged&&this.props.sizeChanged(this.state)}},{key:"rotateClicked",value:function(){this.props.trackRotated(this.state.uid)}},{key:"closeClicked",value:function(){this.props.trackClosed(this.state.uid)}},{key:"render",value:function(){const e=this.props.theme===Pf?"white":"black",t={top:this.state.top,left:this.state.left,width:this.state.width,height:this.state.height,opacity:this.props.opacity},n={left:this.state.width/2-12,width:24},r={top:this.state.height/2-12,height:24},i={bottom:{...n,bottom:1},top:{...n,top:1},left:{...r,left:1},right:{...r,right:1}},o=[...this.props.resizeHandles].map((t=>m.default.createElement("div",{key:t,ref:e=>{this[`${t}Handle`]=e},className:P0[`${t}-draggable-handle`],style:i[t],title:"Resize track"},m.default.createElement("div",{className:P0[`${t}-draggable-handle-grabber`],style:{borderColor:e}}))));return m.default.createElement("div",{ref:e=>{this.divContainer=e},className:gl(this.props.className,P0["draggable-div"]),style:t},o)}}]),n}(m.default.Component);N0.propTypes={className:S.exports.string,height:S.exports.number,left:S.exports.number,opacity:S.exports.number,resizeHandles:S.exports.object,sizeChanged:S.exports.func,top:S.exports.number,trackClosed:S.exports.func,trackRotated:S.exports.func,uid:S.exports.string,width:S.exports.number,theme:S.exports.symbol};const R0=tH(N0);let M0=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={controlsVisible:!1},r}return f(n,[{key:"shouldComponentUpdate",value:function(){return!this.resizing}},{key:"handleMouseEnter",value:function(){this.setState({controlsVisible:!0})}},{key:"handleMouseLeave",value:function(){this.setState({controlsVisible:!1})}},{key:"handleMouseMove",value:function(){this.setState({controlsVisible:!0})}},{key:"getControls",value:function(){let e=null;return e=this.moveable?af((()=>m.default.createElement("svg",{className:"no-zoom",height:"10px",onClick:()=>{},style:this.getMoveImgStyle(),width:"10px"},m.default.createElement("use",{xlinkHref:"#move"})))):af((()=>m.default.createElement("div",null))),m.default.createElement("div",{style:{position:"absolute",backgroundColor:"rgba(255,255,255,0.7)",right:"3px",top:"3px",pointerEvents:"none",paddingLeft:"5px",paddingRight:"5px",borderRadius:"5px",border:"1px solid #dddddd"}},m.default.createElement(e,null),m.default.createElement("svg",{ref:e=>{this.imgConfig=e},className:"no-zoom",height:"10px",onClick:()=>{const e=g.default.findDOMNode(this.imgConfig).getBoundingClientRect();this.props.onConfigTrackMenuOpened(this.props.uid,e)},style:this.getSettingsImgStyle(),width:"10px"},m.default.createElement("use",{xlinkHref:"#cog"})),m.default.createElement("svg",{ref:e=>{this.imgAdd=e},className:"no-zoom",height:"10px",onClick:()=>this.props.onAddSeries(this.props.uid),style:this.getAddImgStyle(),width:"10px"},m.default.createElement("use",{xlinkHref:"#plus"})),m.default.createElement("svg",{ref:e=>{this.imgClose=e},className:"no-zoom",height:"10px",onClick:()=>{const e=g.default.findDOMNode(this.imgClose).getBoundingClientRect();this.props.onCloseTrackMenuOpened(this.props.uid,e)},style:this.getCloseImgStyle(),width:"10px"},m.default.createElement("use",{xlinkHref:"#cross"})))}}]),n}(m.default.Component);M0.propTypes={configMenuOpen:S.exports.bool,onConfigTrackMenuOpened:S.exports.func,onCloseTrackMenuOpened:S.exports.func,onAddSeries:S.exports.func,uid:S.exports.string};let L0=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).moveable=!0,r}return f(n,[{key:"render",value:function(){return m.default.createElement("div",{ref:e=>{this.el=e},className:this.props.className,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:()=>{this.handleMouseLeave()},style:{height:this.props.height,width:this.props.width}},m.default.createElement(R0,{key:this.props.uid,height:this.props.height,resizeHandles:this.props.editable?this.props.resizeHandles:new Set,sizeChanged:e=>this.props.handleResizeTrack(this.props.uid,e.width,e.height),style:{background:"transparent"},uid:this.props.uid,width:this.props.width}),this.props.editable&&this.getControls(this.state.controlsVisible||this.props.item.configMenuVisible))}}]),n}(M0);L0.propTypes={className:S.exports.string,uid:S.exports.string,item:S.exports.object,height:S.exports.number,width:S.exports.number};const B0={pointerEvents:"all"};let F0=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getControls",value:function(e){return m.default.createElement(mH,{configMenuVisible:this.props.item.configMenuVisible,imgStyleAdd:B0,imgStyleClose:B0,imgStyleMove:B0,imgStyleSettings:B0,isMoveable:this.moveable,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),n}(L0);const U0=mf((e=>m.default.createElement(F0,{className:e.className,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width}))),j0=function(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return r=t=function(t){function r(e){var t;return Sp(this,r),xp(Cp(Cp(t=Ip(this,Op(r).call(this,e)))),"state",{}),xp(Cp(Cp(t)),"handleStart",(function(e){var n=t.props,r=n.distance,i=n.shouldCancelStart;if(2!==e.button&&!i(e)){t.touched=!0,t.position=Wp(e);var o=zp(e.target,(function(e){return null!=e.sortableInfo}));if(o&&o.sortableInfo&&t.nodeIsChild(o)&&!t.state.sorting){var a=t.props.useDragHandle,s=o.sortableInfo,l=s.index,c=s.collection;if(s.disabled)return;if(a&&!zp(e.target,sf))return;t.manager.active={collection:c,index:l},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||e.target.tagName!==of.Anchor||e.preventDefault(),r||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),xp(Cp(Cp(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),xp(Cp(Cp(t)),"handleMove",(function(e){var n=t.props,r=n.distance,i=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var o=Wp(e),a={x:t.position.x-o.x,y:t.position.y-o.y},s=Math.abs(a.x)+Math.abs(a.y);t.delta=a,r||i&&!(s>=i)?r&&s>=r&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),xp(Cp(Cp(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),xp(Cp(Cp(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),xp(Cp(Cp(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),r=function(){if(n){var r=function(){var n,r,i,c,m,g,b=d.sortableInfo.index,v=(n=d,{bottom:Yp((r=window.getComputedStyle(n)).marginBottom),left:Yp(r.marginLeft),right:Yp(r.marginRight),top:Yp(r.marginTop)}),y=function(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:Yp(t.gridColumnGap),y:Yp(t.gridRowGap)}:{x:0,y:0}}(t.container),T=t.scrollContainer.getBoundingClientRect(),_=a({index:b,node:d,collection:p});if(t.node=d,t.margin=v,t.gridGap=y,t.width=_.width,t.height=_.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=d.getBoundingClientRect(),t.containerBoundingRect=T,t.index=b,t.newIndex=b,t.axis={x:o.indexOf("x")>=0,y:o.indexOf("y")>=0},t.offsetEdge=qp(d,t.container),t.initialOffset=Wp(f?wp({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild((c="input, textarea, select, canvas, [contenteditable]",m=(i=d).querySelectorAll(c),Rp((g=i.cloneNode(!0)).querySelectorAll(c)).forEach((function(e,t){"file"!==e.type&&(e.value=m[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===of.Canvas&&m[t].width>0&&m[t].height>0&&e.getContext("2d").drawImage(m[t],0,0)})),g)),jp(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-v.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-v.top,"px"),width:"".concat(t.width,"px")}),f&&t.helper.focus(),l&&(t.sortableGhost=d,jp(d,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},f){var E=h?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,x=E.top,w=E.left,S=E.width,A=x+E.height,k=w+S;t.axis.x&&(t.minTranslate.x=w-t.boundingClientRect.left,t.maxTranslate.x=k-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=x-t.boundingClientRect.top,t.maxTranslate.y=A-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(h?0:T.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(h?t.contentWindow.innerWidth:T.left+T.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(h?0:T.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(h?t.contentWindow.innerHeight:T.top+T.height)-t.boundingClientRect.top-t.height/2);s&&s.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?d:t.contentWindow,f?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(Fp.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),Fp.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:b}),u&&u({node:d,index:b,collection:p,isKeySorting:f,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),f&&t.keyMove(0)},i=t.props,o=i.axis,a=i.getHelperDimensions,s=i.helperClass,l=i.hideSortableGhost,c=i.updateBeforeSortStart,u=i.onSortStart,h=i.useWindowAsScrollContainer,d=n.node,p=n.collection,f=t.manager.isKeySorting,m=function(){if("function"==typeof c){t._awaitingUpdateBeforeSortStart=!0;var n=function(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}((function(){var t=d.sortableInfo.index;return Promise.resolve(c({collection:p,index:t,node:d,isKeySorting:f},e)).then((function(){}))}),(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return m&&m.then?m.then(r):r()}}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),xp(Cp(Cp(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),xp(Cp(Cp(t)),"handleSortEnd",(function(e){var n=t.props,r=n.hideSortableGhost,i=n.onSortEnd,o=t.manager,a=o.active.collection,s=o.isKeySorting,l=t.manager.getOrderedRefs();t.listenerNode&&(s?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(Fp.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),Fp.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),r&&t.sortableGhost&&jp(t.sortableGhost,{opacity:"",visibility:""});for(var c=0,u=l.length;c<u;c++){var h=l[c],d=h.node;h.edgeOffset=null,h.boundingClientRect=null,Hp(d,null),Gp(d,null),h.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof i&&i({collection:a,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:s,nodes:l},e),t.touched=!1})),xp(Cp(Cp(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var r=wp({},t.translate),i=0,o=0;return t.axis.x&&(r.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),i=t.translate.x-r.x),t.axis.y&&(r.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),o=t.translate.y-r.y),t.translate=r,Hp(t.helper,t.translate),t.scrollContainer.scrollLeft+=i,void(t.scrollContainer.scrollTop+=o)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),xp(Cp(Cp(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),xp(Cp(Cp(t)),"handleKeyDown",(function(e){var n=e.keyCode,r=t.props,i=r.shouldCancelStart,o=r.keyCodes,a=wp({},uf,void 0===o?{}:o);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||a.lift.includes(n)&&!i(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),a.lift.includes(n)&&!t.manager.active?t.keyLift(e):a.drop.includes(n)&&t.manager.active?t.keyDrop(e):a.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):a.up.includes(n)?t.keyMove(-1):a.down.includes(n)&&t.keyMove(1))})),xp(Cp(Cp(t)),"keyLift",(function(e){var n=e.target,r=zp(n,(function(e){return null!=e.sortableInfo})).sortableInfo,i=r.index,o=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:o},t.handlePress(e)})),xp(Cp(Cp(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),r=n[n.length-1].node.sortableInfo.index,i=t.newIndex+e,o=t.newIndex;if(!(i<0||i>r)){t.prevIndex=o,t.newIndex=i;var a=function(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}(t.newIndex,t.prevIndex,t.index),s=n.find((function(e){return e.node.sortableInfo.index===a})),l=s.node,c=t.containerScrollDelta,u=s.boundingClientRect||Xp(l,c),h=s.translate||{x:0,y:0},d={top:u.top+h.y-c.top,left:u.left+h.x-c.left},p=o<i,f={x:p&&t.axis.x?l.offsetWidth-t.width:0,y:p&&t.axis.y?l.offsetHeight-t.height:0};t.handleSortMove({pageX:d.left+f.x,pageY:d.top+f.y,ignoreTransition:0===e})}})),xp(Cp(Cp(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),xp(Cp(Cp(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),xp(Cp(Cp(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,r=e.target,i=zp(r,(function(e){return null!=e.sortableInfo}));return i&&i.sortableInfo&&!i.sortableInfo.disabled&&(n?sf(r):r.sortableInfo)})),function(e){Np(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(e),t.manager=new Mp,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return Pp(r,t),kp(r,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var r=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof r?r():r,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:Zp(e.container)||e.container,e.autoScroller=new lf(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return Fp[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return Fp[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,r=t.lockOffset,i=t.lockToContainerEdges,o=t.transitionDuration,a=t.keyboardSortingTransitionDuration,s=void 0===a?o:a,l=this.manager.isKeySorting,c=e.ignoreTransition,u=Wp(e),h={x:u.x-this.initialOffset.x,y:u.y-this.initialOffset.y};if(h.y-=window.pageYOffset-this.initialWindowScroll.top,h.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=h,i){var d=Tp(function(e){var t=e.height,n=e.width,r=e.lockOffset,i=Array.isArray(r)?r:[r,r];Np(2===i.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=Tp(i,2),a=o[0],s=o[1];return[Kp({height:t,lockOffset:a,width:n}),Kp({height:t,lockOffset:s,width:n})]}({height:this.height,lockOffset:r,width:this.width}),2),p=d[0],f=d[1],m={x:this.width/2-p.x,y:this.height/2-p.y},g={x:this.width/2-f.x,y:this.height/2-f.y};h.x=Vp(this.minTranslate.x+m.x,this.maxTranslate.x-g.x,h.x),h.y=Vp(this.minTranslate.y+m.y,this.maxTranslate.y-g.y,h.y)}"x"===n?h.y=0:"y"===n&&(h.x=0),l&&s&&!c&&Gp(this.helper,s),Hp(this.helper,h)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,r=e.onSortOver,i=this.containerScrollDelta,o=this.windowScrollDelta,a=this.manager.getOrderedRefs(),s=this.offsetEdge.left+this.translate.x+i.left,l=this.offsetEdge.top+this.translate.y+i.top,c=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var h=0,d=a.length;h<d;h++){var p=a[h].node,f=p.sortableInfo.index,m=p.offsetWidth,g=p.offsetHeight,b={height:this.height>g?g/2:this.height/2,width:this.width>m?m/2:this.width/2},v=c&&f>this.index&&f<=u,y=c&&f<this.index&&f>=u,T={x:0,y:0},_=a[h].edgeOffset;_||(_=qp(p,this.container),a[h].edgeOffset=_,c&&(a[h].boundingClientRect=Xp(p,i)));var E=h<a.length-1&&a[h+1],x=h>0&&a[h-1];E&&!E.edgeOffset&&(E.edgeOffset=qp(E.node,this.container),c&&(E.boundingClientRect=Xp(E.node,i))),f!==this.index?(t&&Gp(p,t),this.axis.x?this.axis.y?y||f<this.index&&(s+o.left-b.width<=_.left&&l+o.top<=_.top+b.height||l+o.top+b.height<=_.top)?(T.x=this.width+this.marginOffset.x,_.left+T.x>this.containerBoundingRect.width-b.width&&E&&(T.x=E.edgeOffset.left-_.left,T.y=E.edgeOffset.top-_.top),null===this.newIndex&&(this.newIndex=f)):(v||f>this.index&&(s+o.left+b.width>=_.left&&l+o.top+b.height>=_.top||l+o.top+b.height>=_.top+g))&&(T.x=-(this.width+this.marginOffset.x),_.left+T.x<this.containerBoundingRect.left+b.width&&x&&(T.x=x.edgeOffset.left-_.left,T.y=x.edgeOffset.top-_.top),this.newIndex=f):v||f>this.index&&s+o.left+b.width>=_.left?(T.x=-(this.width+this.marginOffset.x),this.newIndex=f):(y||f<this.index&&s+o.left<=_.left+b.width)&&(T.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=f)):this.axis.y&&(v||f>this.index&&l+o.top+b.height>=_.top?(T.y=-(this.height+this.marginOffset.y),this.newIndex=f):(y||f<this.index&&l+o.top<=_.top+b.height)&&(T.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=f))),Hp(p,T),a[h].translate=T):n&&(this.sortableGhost=p,jp(p,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=u);var w=c?this.prevIndex:u;r&&this.newIndex!==w&&r({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:w,isKeySorting:c,nodes:a,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return Np(i.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?l.findDOMNode(this):e(i.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=i.withRef?"wrappedInstance":null;return n.createElement(e,bp({ref:t},Bp(this.props,df)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),r}(n.Component),xp(t,"displayName",$p("sortableList",e)),xp(t,"defaultProps",hf),xp(t,"propTypes",cf),xp(t,"childContextTypes",{manager:S.exports.object.isRequired}),r}((({className:e,items:t,itemClass:n,itemControlAlignLeft:r,sortingIndex:i,useDragHandle:o,sortableHandlers:a,height:s,width:l,onCloseTrack:c,onCloseTrackMenuOpened:u,onConfigTrackMenuOpened:h,onAddSeries:d,handleConfigTrack:p,editable:f,itemReactClass:g,handleResizeTrack:b,resizeHandles:v})=>{const y=t.map(((e,t)=>m.default.createElement(g,{key:`sci-${e.uid}`,className:n,controlAlignLeft:r,sortingIndex:i,index:t,uid:e.uid,height:e.height,width:e.width,item:e,useDragHandle:o,onCloseTrack:c,onCloseTrackMenuOpened:u,onConfigTrackMenuOpened:h,onAddSeries:d,handleConfigTrack:p,editable:f,handleResizeTrack:b,resizeHandles:v})));return m.default.createElement("div",{className:e,style:{height:s,width:l,background:"transparent"},...a},y)})),H0="_horizontal-tiled-plot_1bqkg_1";function G0(e){return e&&e.sourceEvent}let z0=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).brushBehavior=dp().on("start",r.brushStarted.bind(a(r))).on("brush",r.brushed.bind(a(r))).on("end",r.brushedEnded.bind(a(r))),r}return f(n,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(e,t){return this.rangeSelectionTriggered?(this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==e.rangeSelection&&this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==t):this.props.rangeSelection===e.rangeSelection||(this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,e.rangeSelectionEnd),this.state!==t)}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,Jg(this.brushEl,bH["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(e){const t=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,G0(e)&&this.props.onRangeSelection&&!t&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(e.selection))}},{key:"brushStarted",value:function(e){G0(e)&&e.selection&&this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(e){if(!this.props.is1dRangeSelection)return;const t=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,e.selection&&e.sourceEvent&&this.props.onRangeSelection&&!t&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(e.selection)),e.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}},{key:"moveBrush",value:function(e,t=!1){if(!this.brushEl)return;const n=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){const e=this.props.tracks.map((e=>e.height)).reduce(ib,0),t=this.props.tracks.map((e=>wb(e))).reduce(Kg,!1),n=this.props.isRangeSelectionActive?bH["track-range-selection-active"]:bH["track-range-selection"];return m.default.createElement("div",{className:gl("horizontal-tiled-plot",H0)},t&&m.default.createElement("svg",{ref:e=>{this.brushEl=Be(e)},className:n,style:{height:e,width:this.props.width},xmlns:"http://www.w3.org/2000/svg"}),m.default.createElement(D0,{className:gl(PH.list,PH.stylizedList),component:j0,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:e,helperClass:PH.stylizedHelper,itemClass:PH.stylizedItem,itemReactClass:U0,items:this.props.tracks.map((e=>({configMenuVisible:e.uid===this.props.configTrackMenuId,uid:e.uid||Ns.nice(),width:this.props.width,height:e.height,value:e.value}))),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:this.props.width}))}}]),n}(m.default.Component);z0.propTypes={configTrackMenuId:S.exports.string,editable:S.exports.bool,handleConfigTrack:S.exports.func,handleResizeTrack:S.exports.func,handleSortEnd:S.exports.func,is1dRangeSelection:S.exports.bool,isRangeSelectionActive:S.exports.bool,onAddSeries:S.exports.func,onCloseTrack:S.exports.func,onCloseTrackMenuOpened:S.exports.func,onConfigTrackMenuOpened:S.exports.func,onRangeSelection:S.exports.func,onRangeSelectionEnd:S.exports.func,onRangeSelectionReset:S.exports.func,onRangeSelectionStart:S.exports.func,rangeSelection:S.exports.array,rangeSelectionEnd:S.exports.bool,referenceAncestor:S.exports.func,resizeHandles:S.exports.object,scale:S.exports.func,tracks:S.exports.array,width:S.exports.number};const V0={pointerEvents:"all"};let Y0=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getControls",value:function(e){return m.default.createElement(mH,{imgStyleAdd:V0,imgStyleClose:V0,imgStyleMove:V0,imgStyleSettings:V0,isAlignLeft:this.props.controlAlignLeft,isMoveable:this.moveable,isVertical:!0,isVisible:e,onAddSeries:this.props.onAddSeries,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,uid:this.props.uid})}}]),n}(L0),$0=function(e){i(n,e);var t=o(n);function n(e,r){var i;d(this,n),i=t.call(this,e,r);const{registerViewportChanged:o,removeViewportChanged:s}=e,l=Ns.nice();return i.uid=l,i.removeViewportChanged=s,i.viewportXDomain=null,i.viewportYDomain=null,o(l,i.viewportChanged.bind(a(i))),i}return f(n,[{key:"viewportChanged",value:function(e,t){const n=e.domain(),r=t.domain();this.viewportXDomain=n,this.viewportYDomain=r,this.draw()}},{key:"draw",value:function(){const e=this.pMain;if(!this.viewportXDomain||!this.viewportYDomain)return;e.clear(),e.lineStyle(1,255,1),e.beginFill(16740363,1);const t=this._xScale(this.viewportXDomain[0]),n=this._yScale(this.viewportYDomain[0]),r=this._xScale(this.viewportXDomain[1])-this._xScale(this.viewportXDomain[0]),i=this._yScale(this.viewportYDomain[1])-this._yScale(this.viewportYDomain[0]);this.pMain.drawRect(t,n,r,i)}},{key:"zoomed",value:function(e,t){this.xScale(e),this.yScale(t),this.draw()}},{key:"setPosition",value:function(e){r(h(n.prototype),"setPosition",this).call(this,e),this.pMain.position.y=this.position[1],this.pMain.position.x=this.position[0],this.draw()}}]),n}(BH);function X0(e){this.size=0,this.limit=e,this._keymap={}}Object.assign(X0.prototype,{put:function(e,t){const n={key:e,value:t};if(this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size+=1},get:function(e,t){const n=this._keymap[e];if(void 0!==n)return n===this.tail||(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=void 0,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n),t?n:n.value},find:function(e){return this._keymap[e]},keys:function(){return Object.keys(this._keymap)},set:function(e,t){const n=this.get(e,!0);let r;return n?(r=n.value,n.value=t):(r=this.put(e,t),r&&(r=r.value)),r},shift:function(){const e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):(this.head=void 0,this.tail=void 0),e.newer=void 0,e.older=void 0,delete this._keymap[e.key],this.size-=1),e},remove:function(e){const t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):(this.head=void 0,this.tail=void 0),this.size-=1,t.value},removeAll:function(){this.head=void 0,this.tail=void 0,this.size=0,this._keymap={}},forEach:function(e,t,n){let r;if(!0===t?(n=!0,t=void 0):"object"!=typeof t&&(t=this),n)for(r=this.tail;r;)e.call(t,r.key,r.value,this),r=r.older;else for(r=this.head;r;)e.call(t,r.key,r.value,this),r=r.newer},toJSON:function(){const e=[];let t=this.head;for(;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e},toString:function(){let e="",t=this.head;for(;t;)e+=`${String(t.key)}:${t.value}`,t=t.newer,t&&(e+=" < ");return e}});const W0="1.12.4",q0={button:"_button_1wnjn_1","button-shortcut":"_button-shortcut_1wnjn_35"},K0=m.default.forwardRef(((e,t)=>{var n;return m.default.createElement("button",{ref:t,className:null!=(n=q0[e.styleName])?n:q0.button,disabled:e.disable,onBlur:e.onBlur,onClick:e.onClick,onMouseDown:e.onMouseDown,onMouseOut:e.onMouseOut,onMouseUp:e.onMouseUp,type:"button"},e.children,e.shortcut&&m.default.createElement("span",{className:q0["button-shortcut"]},e.shortcut))}));K0.defaultProps={onClick:()=>{},styleName:"",type:"button"},K0.propTypes={children:S.exports.any,disable:S.exports.bool,onBlur:S.exports.func,onClick:S.exports.func,onMouseDown:S.exports.func,onMouseOut:S.exports.func,onMouseUp:S.exports.func,shortcut:S.exports.string,type:S.exports.string,styleName:S.exports.string};const Z0={cross:"_cross_2ke8w_1"};function Q0(){return m.default.createElement("div",{className:Z0.cross})}const{Provider:J0,Consumer:e1}=m.default.createContext({close:lb,open:lb}),t1=e=>m.default.forwardRef(((t,n)=>m.default.createElement(e1,null,(r=>m.default.createElement(e,{ref:n,...t,modal:r}))))),n1="_modal-background_zzhoe_1",r1="_modal-hide_zzhoe_13",i1="_modal-wrap_zzhoe_17",o1="_modal-window_zzhoe_25",a1="_modal-window-max-height_zzhoe_38",s1="_modal-content_zzhoe_42";function l1(e){return m.default.createElement("div",{className:gl(n1,{[r1]:e.hide})},m.default.createElement("div",{className:i1},m.default.createElement("div",{className:gl(o1,{[a1]:e.maxHeight})},e.closeButton&&m.default.createElement(K0,{onClick:()=>{e.modal.close(),e.onClose&&e.onClose()}},m.default.createElement(Q0,null)),m.default.createElement("div",{className:s1},e.children))))}l1.defaultProps={closeButton:!0,hide:!1,maxHeight:!1},l1.propTypes={children:S.exports.element.isRequired,closeButton:S.exports.bool,hide:S.exports.bool,maxHeight:S.exports.bool,modal:S.exports.object.isRequired,onClose:S.exports.func};const c1=t1(l1),u1={"dialog-header":"_dialog-header_wp50s_1","dialog-main-max-height":"_dialog-main-max-height_wp50s_20","dialog-footer":"_dialog-footer_wp50s_31","dialog-footer-max-height":"_dialog-footer-max-height_wp50s_31"};function h1(e){const t=()=>{e.modal.close(),e.onCancel&&e.onCancel()};return m.default.createElement(c1,{closeButton:!1,hide:e.hide,maxHeight:e.maxHeight},m.default.createElement(m.default.Fragment,null,m.default.createElement("header",{className:u1["dialog-header"]},m.default.createElement("h3",null,e.title),m.default.createElement(K0,{onClick:t},m.default.createElement(Q0,null))),e.maxHeight?m.default.createElement("main",{className:gl(e.maxHeight&&u1["dialog-main-max-height"])},e.children):m.default.createElement("main",null,e.children),m.default.createElement("footer",{className:u1[e.maxHeight?"dialog-footer-max-height":"dialog-footer"]},e.okayOnly?m.default.createElement("div",null):m.default.createElement(K0,{onClick:t,shortcut:e.cancelShortcut},e.cancelTitle),m.default.createElement(K0,{onClick:()=>{e.modal.close(),e.onOkay&&e.onOkay()},shortcut:e.okayShortcut},e.okayTitle))))}h1.defaultProps={cancelTitle:"Cancel",hide:!1,maxHeight:!1,okayOnly:!1,okayTitle:"Ok"},h1.propTypes={cancelShortcut:S.exports.string,cancelTitle:S.exports.string,children:S.exports.object,hide:S.exports.bool,maxHeight:S.exports.bool,modal:S.exports.object.isRequired,okayShortcut:S.exports.string,okayTitle:S.exports.string,okayOnly:S.exports.bool,onCancel:S.exports.func.isRequired,onOkay:S.exports.func.isRequired,title:S.exports.string.isRequired};const d1=t1(h1);var p1={},f1={};const m1="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;var g1="object"==typeof self&&self&&self.Object===Object&&self;const b1=m1||g1||Function("return this")(),v1=b1.Symbol;var y1=Object.prototype,T1=y1.hasOwnProperty,_1=y1.toString,E1=v1?v1.toStringTag:void 0;var x1=Object.prototype.toString;var w1="[object Null]",S1="[object Undefined]",A1=v1?v1.toStringTag:void 0;function k1(e){return null==e?void 0===e?S1:w1:A1&&A1 in Object(e)?function(e){var t=T1.call(e,E1),n=e[E1];try{e[E1]=void 0;var r=!0}catch(e){}var i=_1.call(e);return r&&(t?e[E1]=n:delete e[E1]),i}(e):function(e){return x1.call(e)}(e)}const C1=Array.isArray;function I1(e){return null!=e&&"object"==typeof e}const O1=T(Object.freeze(Object.defineProperty({__proto__:null,default:function(e){return"string"==typeof e||!C1(e)&&I1(e)&&"[object String]"==k1(e)}},Symbol.toStringTag,{value:"Module"})));const D1=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[P1?a:++r];if(!1===t(i[s],s,i))break}return e};var P1;function N1(e){return I1(e)&&"[object Arguments]"==k1(e)}var R1=Object.prototype,M1=R1.hasOwnProperty,L1=R1.propertyIsEnumerable,B1=N1(function(){return arguments}())?N1:function(e){return I1(e)&&M1.call(e,"callee")&&!L1.call(e,"callee")};const F1=B1;var U1="object"==typeof t&&t&&!t.nodeType&&t,j1=U1&&e&&!e.nodeType&&e,H1=j1&&j1.exports===U1?b1.Buffer:void 0;const G1=(H1?H1.isBuffer:void 0)||function(){return!1};var z1=9007199254740991,V1=/^(?:0|[1-9]\d*)$/;function Y1(e,t){var n=typeof e;return!!(t=null==t?z1:t)&&("number"==n||"symbol"!=n&&V1.test(e))&&e>-1&&e%1==0&&e<t}var $1=9007199254740991;function X1(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=$1}var W1={};function q1(e){return function(t){return e(t)}}W1["[object Float32Array]"]=W1["[object Float64Array]"]=W1["[object Int8Array]"]=W1["[object Int16Array]"]=W1["[object Int32Array]"]=W1["[object Uint8Array]"]=W1["[object Uint8ClampedArray]"]=W1["[object Uint16Array]"]=W1["[object Uint32Array]"]=!0,W1["[object Arguments]"]=W1["[object Array]"]=W1["[object ArrayBuffer]"]=W1["[object Boolean]"]=W1["[object DataView]"]=W1["[object Date]"]=W1["[object Error]"]=W1["[object Function]"]=W1["[object Map]"]=W1["[object Number]"]=W1["[object Object]"]=W1["[object RegExp]"]=W1["[object Set]"]=W1["[object String]"]=W1["[object WeakMap]"]=!1;var K1="object"==typeof t&&t&&!t.nodeType&&t,Z1=K1&&e&&!e.nodeType&&e,Q1=Z1&&Z1.exports===K1&&m1.process;const J1=function(){try{return Z1&&Z1.require&&Z1.require("util").types||Q1&&Q1.binding&&Q1.binding("util")}catch(e){}}();var e2=J1&&J1.isTypedArray;const t2=e2?q1(e2):function(e){return I1(e)&&X1(e.length)&&!!W1[k1(e)]};var n2=Object.prototype.hasOwnProperty;function r2(e,t){var n=C1(e),r=!n&&F1(e),i=!n&&!r&&G1(e),o=!n&&!r&&!i&&t2(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!n2.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Y1(c,l))||s.push(c);return s}var i2=Object.prototype;function o2(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||i2)}function a2(e,t){return function(n){return e(t(n))}}const s2=a2(Object.keys,Object);var l2=Object.prototype.hasOwnProperty;function c2(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var u2="[object AsyncFunction]",h2="[object Function]",d2="[object GeneratorFunction]",p2="[object Proxy]";function f2(e){if(!c2(e))return!1;var t=k1(e);return t==h2||t==d2||t==u2||t==p2}function m2(e){return null!=e&&X1(e.length)&&!f2(e)}function g2(e){return m2(e)?r2(e):function(e){if(!o2(e))return s2(e);var t=[];for(var n in Object(e))l2.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}function b2(e,t){return e&&D1(e,t,g2)}function v2(e){return e}function y2(e){return"function"==typeof e?e:v2}const T2=T(Object.freeze(Object.defineProperty({__proto__:null,default:function(e,t){return e&&b2(e,y2(t))}},Symbol.toStringTag,{value:"Module"}))),_2=a2(Object.getPrototypeOf,Object);var E2="[object Object]",x2=Function.prototype,w2=Object.prototype,S2=x2.toString,A2=w2.hasOwnProperty,k2=S2.call(Object);function C2(e){if(!I1(e)||k1(e)!=E2)return!1;var t=_2(e);if(null===t)return!0;var n=A2.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&S2.call(n)==k2}const I2=T(Object.freeze(Object.defineProperty({__proto__:null,default:C2},Symbol.toStringTag,{value:"Module"})));function O2(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function D2(e,t){return e===t||e!=e&&t!=t}function P2(e,t){for(var n=e.length;n--;)if(D2(e[n][0],t))return n;return-1}var N2=Array.prototype.splice;function R2(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}R2.prototype.clear=function(){this.__data__=[],this.size=0},R2.prototype.delete=function(e){var t=this.__data__,n=P2(t,e);return!(n<0||(n==t.length-1?t.pop():N2.call(t,n,1),--this.size,0))},R2.prototype.get=function(e){var t=this.__data__,n=P2(t,e);return n<0?void 0:t[n][1]},R2.prototype.has=function(e){return P2(this.__data__,e)>-1},R2.prototype.set=function(e,t){var n=this.__data__,r=P2(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const M2=b1["__core-js_shared__"];var L2,B2=(L2=/[^.]+$/.exec(M2&&M2.keys&&M2.keys.IE_PROTO||""))?"Symbol(src)_1."+L2:"";var F2=Function.prototype.toString;function U2(e){if(null!=e){try{return F2.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var j2=/^\[object .+?Constructor\]$/,H2=Function.prototype,G2=Object.prototype,z2=H2.toString,V2=G2.hasOwnProperty,Y2=RegExp("^"+z2.call(V2).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $2(e){return!(!c2(e)||(t=e,B2&&B2 in t))&&(f2(e)?Y2:j2).test(U2(e));var t}function X2(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return $2(n)?n:void 0}const W2=X2(b1,"Map"),q2=X2(Object,"create");var K2=Object.prototype.hasOwnProperty;var Z2=Object.prototype.hasOwnProperty;function Q2(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J2(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function e5(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Q2.prototype.clear=function(){this.__data__=q2?q2(null):{},this.size=0},Q2.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Q2.prototype.get=function(e){var t=this.__data__;if(q2){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return K2.call(t,e)?t[e]:void 0},Q2.prototype.has=function(e){var t=this.__data__;return q2?void 0!==t[e]:Z2.call(t,e)},Q2.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q2&&void 0===t?"__lodash_hash_undefined__":t,this},e5.prototype.clear=function(){this.size=0,this.__data__={hash:new Q2,map:new(W2||R2),string:new Q2}},e5.prototype.delete=function(e){var t=J2(this,e).delete(e);return this.size-=t?1:0,t},e5.prototype.get=function(e){return J2(this,e).get(e)},e5.prototype.has=function(e){return J2(this,e).has(e)},e5.prototype.set=function(e,t){var n=J2(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function t5(e){var t=this.__data__=new R2(e);this.size=t.size}t5.prototype.clear=function(){this.__data__=new R2,this.size=0},t5.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},t5.prototype.get=function(e){return this.__data__.get(e)},t5.prototype.has=function(e){return this.__data__.has(e)},t5.prototype.set=function(e,t){var n=this.__data__;if(n instanceof R2){var r=n.__data__;if(!W2||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new e5(r)}return n.set(e,t),this.size=n.size,this};function n5(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new e5;++t<n;)this.add(e[t])}function r5(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}n5.prototype.add=n5.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},n5.prototype.has=function(e){return this.__data__.has(e)};var i5=1,o5=2;function a5(e,t,n,r,i,o){var a=n&i5,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,p=n&o5?new n5:void 0;for(o.set(e,t),o.set(t,e);++h<s;){var f=e[h],m=t[h];if(r)var g=a?r(m,f,h,t,e,o):r(f,m,h,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(p){if(!r5(t,(function(e,t){if(a=t,!p.has(a)&&(f===e||i(f,e,n,r,o)))return p.push(t);var a}))){d=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}const s5=b1.Uint8Array;function l5(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function c5(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var u5=1,h5=2,d5="[object Boolean]",p5="[object Date]",f5="[object Error]",m5="[object Map]",g5="[object Number]",b5="[object RegExp]",v5="[object Set]",y5="[object String]",T5="[object Symbol]",_5="[object ArrayBuffer]",E5="[object DataView]",x5=v1?v1.prototype:void 0,w5=x5?x5.valueOf:void 0;function S5(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function A5(e,t,n){var r=t(e);return C1(e)?r:S5(r,n(e))}function k5(){return[]}var C5=Object.prototype.propertyIsEnumerable,I5=Object.getOwnPropertySymbols;const O5=I5?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(I5(e),(function(t){return C5.call(e,t)})))}:k5;function D5(e){return A5(e,g2,O5)}var P5=1,N5=Object.prototype.hasOwnProperty;const R5=X2(b1,"DataView"),M5=X2(b1,"Promise"),L5=X2(b1,"Set"),B5=X2(b1,"WeakMap");var F5="[object Map]",U5="[object Promise]",j5="[object Set]",H5="[object WeakMap]",G5="[object DataView]",z5=U2(R5),V5=U2(W2),Y5=U2(M5),$5=U2(L5),X5=U2(B5),W5=k1;(R5&&W5(new R5(new ArrayBuffer(1)))!=G5||W2&&W5(new W2)!=F5||M5&&W5(M5.resolve())!=U5||L5&&W5(new L5)!=j5||B5&&W5(new B5)!=H5)&&(W5=function(e){var t=k1(e),n="[object Object]"==t?e.constructor:void 0,r=n?U2(n):"";if(r)switch(r){case z5:return G5;case V5:return F5;case Y5:return U5;case $5:return j5;case X5:return H5}return t});const q5=W5;var K5=1,Z5="[object Arguments]",Q5="[object Array]",J5="[object Object]",e3=Object.prototype.hasOwnProperty;function t3(e,t,n,r,i,o){var a=C1(e),s=C1(t),l=a?Q5:q5(e),c=s?Q5:q5(t),u=(l=l==Z5?J5:l)==J5,h=(c=c==Z5?J5:c)==J5,d=l==c;if(d&&G1(e)){if(!G1(t))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new t5),a||t2(e)?a5(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case E5:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _5:return!(e.byteLength!=t.byteLength||!o(new s5(e),new s5(t)));case d5:case p5:case g5:return D2(+e,+t);case f5:return e.name==t.name&&e.message==t.message;case b5:case y5:return e==t+"";case m5:var s=l5;case v5:var l=r&u5;if(s||(s=c5),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=h5,a.set(e,t);var u=a5(s(e),s(t),r,i,o,a);return a.delete(e),u;case T5:if(w5)return w5.call(e)==w5.call(t)}return!1}(e,t,l,n,r,i,o);if(!(n&K5)){var p=u&&e3.call(e,"__wrapped__"),f=h&&e3.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,g=f?t.value():t;return o||(o=new t5),i(m,g,n,r,o)}}return!!d&&(o||(o=new t5),function(e,t,n,r,i,o){var a=n&P5,s=D5(e),l=s.length;if(l!=D5(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:N5.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<l;){var m=e[u=s[c]],g=t[u];if(r)var b=a?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===b?m===g||i(m,g,n,r,o):b)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o))}function n3(e,t,n,r,i){return e===t||(null==e||null==t||!I1(e)&&!I1(t)?e!=e&&t!=t:t3(e,t,n,r,n3,i))}var r3=1,i3=2;function o3(e){return e==e&&!c2(e)}function a3(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}function s3(e){var t=function(e){for(var t=g2(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,o3(i)]}return t}(e);return 1==t.length&&t[0][2]?a3(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=n[i])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var h=new t5;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?n3(u,c,r3|i3,r,h):d))return!1}}return!0}(n,e,t)}}var l3="[object Symbol]";function c3(e){return"symbol"==typeof e||I1(e)&&k1(e)==l3}var u3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h3=/^\w*$/;function d3(e,t){if(C1(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!c3(e))||h3.test(e)||!u3.test(e)||null!=t&&e in Object(t)}var p3="Expected a function";function f3(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(p3);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(f3.Cache||e5),n}f3.Cache=e5;var m3=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g3=/\\(\\)?/g;const b3=(v3=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(m3,(function(e,n,r,i){t.push(r?i.replace(g3,"$1"):n||e)})),t},y3=f3(v3,(function(e){return 500===T3.size&&T3.clear(),e})),T3=y3.cache,y3);var v3,y3,T3,_3=1/0,E3=v1?v1.prototype:void 0,x3=E3?E3.toString:void 0;function w3(e){if("string"==typeof e)return e;if(C1(e))return O2(e,w3)+"";if(c3(e))return x3?x3.call(e):"";var t=e+"";return"0"==t&&1/e==-_3?"-0":t}function S3(e,t){return C1(e)?e:d3(e,t)?[e]:b3(function(e){return null==e?"":w3(e)}(e))}var A3=1/0;function k3(e){if("string"==typeof e||c3(e))return e;var t=e+"";return"0"==t&&1/e==-A3?"-0":t}function C3(e,t){for(var n=0,r=(t=S3(t,e)).length;null!=e&&n<r;)e=e[k3(t[n++])];return n&&n==r?e:void 0}function I3(e,t){return null!=e&&t in Object(e)}function O3(e,t){return null!=e&&function(e,t,n){for(var r=-1,i=(t=S3(t,e)).length,o=!1;++r<i;){var a=k3(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&X1(i)&&Y1(a,i)&&(C1(e)||F1(e))}(e,t,I3)}var D3=1,P3=2;function N3(e,t){return d3(e)&&o3(t)?a3(k3(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:C3(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?O3(n,e):n3(t,r,D3|P3)}}function R3(e){return d3(e)?(t=k3(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return C3(t,e)}}(e);var t}const M3=function(e,t){return function(n,r){if(null==n)return n;if(!m2(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}(b2);function L3(e,t){var n=-1,r=m2(e)?Array(e.length):[];return M3(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function B3(e,t){return(C1(e)?O2:L3)(e,"function"==typeof(n=t)?n:null==n?v2:"object"==typeof n?C1(n)?N3(n[0],n[1]):s3(n):R3(n));var n}const F3=T(Object.freeze(Object.defineProperty({__proto__:null,default:B3},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(f1,"__esModule",{value:!0}),f1.flattenNames=void 0;var U3=z3(O1),j3=z3(T2),H3=z3(I2),G3=z3(F3);function z3(e){return e&&e.__esModule?e:{default:e}}var V3=f1.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,G3.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,H3.default)(t)?(0,j3.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,U3.default)(t)&&n.push(t)})),n};f1.default=V3;var Y3={};function $3(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}const X3=function(){try{var e=X2(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function W3(e,t,n){"__proto__"==t&&X3?X3(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var q3=Object.prototype.hasOwnProperty;function K3(e,t,n){var r=e[t];q3.call(e,t)&&D2(r,n)&&(void 0!==n||t in e)||W3(e,t,n)}function Z3(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?W3(n,s,l):K3(n,s,l)}return n}var Q3=Object.prototype.hasOwnProperty;function J3(e){if(!c2(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=o2(e),n=[];for(var r in e)("constructor"!=r||!t&&Q3.call(e,r))&&n.push(r);return n}function e6(e){return m2(e)?r2(e,!0):J3(e)}var t6="object"==typeof t&&t&&!t.nodeType&&t,n6=t6&&e&&!e.nodeType&&e,r6=n6&&n6.exports===t6?b1.Buffer:void 0,i6=r6?r6.allocUnsafe:void 0;function o6(e,t){if(t)return e.slice();var n=e.length,r=i6?i6(n):new e.constructor(n);return e.copy(r),r}function a6(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}const s6=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)S5(t,O5(e)),e=_2(e);return t}:k5;function l6(e){return A5(e,e6,s6)}var c6=Object.prototype.hasOwnProperty;function u6(e){var t=new e.constructor(e.byteLength);return new s5(t).set(new s5(e)),t}var h6=/\w*$/;var d6=v1?v1.prototype:void 0,p6=d6?d6.valueOf:void 0;function f6(e,t){var n=t?u6(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var m6="[object Boolean]",g6="[object Date]",b6="[object Map]",v6="[object Number]",y6="[object RegExp]",T6="[object Set]",_6="[object String]",E6="[object Symbol]",x6="[object ArrayBuffer]",w6="[object DataView]",S6="[object Float32Array]",A6="[object Float64Array]",k6="[object Int8Array]",C6="[object Int16Array]",I6="[object Int32Array]",O6="[object Uint8Array]",D6="[object Uint8ClampedArray]",P6="[object Uint16Array]",N6="[object Uint32Array]";function R6(e,t,n){var r,i=e.constructor;switch(t){case x6:return u6(e);case m6:case g6:return new i(+e);case w6:return function(e,t){var n=t?u6(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case S6:case A6:case k6:case C6:case I6:case O6:case D6:case P6:case N6:return f6(e,n);case b6:return new i;case v6:case _6:return new i(e);case y6:return function(e){var t=new e.constructor(e.source,h6.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T6:return new i;case E6:return r=e,p6?Object(p6.call(r)):{}}}var M6=Object.create;const L6=function(){function e(){}return function(t){if(!c2(t))return{};if(M6)return M6(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function B6(e){return"function"!=typeof e.constructor||o2(e)?{}:L6(_2(e))}var F6=J1&&J1.isMap;const U6=F6?q1(F6):function(e){return I1(e)&&"[object Map]"==q5(e)};var j6=J1&&J1.isSet;const H6=j6?q1(j6):function(e){return I1(e)&&"[object Set]"==q5(e)};var G6=1,z6=2,V6=4,Y6="[object Arguments]",$6="[object Function]",X6="[object GeneratorFunction]",W6="[object Object]",q6={};function K6(e,t,n,r,i,o){var a,s=t&G6,l=t&z6,c=t&V6;if(n&&(a=i?n(e,r,i,o):n(e)),void 0!==a)return a;if(!c2(e))return e;var u=C1(e);if(u){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&c6.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return a6(e,a)}else{var h=q5(e),d=h==$6||h==X6;if(G1(e))return o6(e,s);if(h==W6||h==Y6||d&&!i){if(a=l||d?{}:B6(e),!s)return l?function(e,t){return Z3(e,s6(e),t)}(e,function(e,t){return e&&Z3(t,e6(t),e)}(a,e)):function(e,t){return Z3(e,O5(e),t)}(e,function(e,t){return e&&Z3(t,g2(t),e)}(a,e))}else{if(!q6[h])return i?e:{};a=R6(e,h,s)}}o||(o=new t5);var p=o.get(e);if(p)return p;o.set(e,a),H6(e)?e.forEach((function(r){a.add(K6(r,t,n,r,e,o))})):U6(e)&&e.forEach((function(r,i){a.set(i,K6(r,t,n,i,e,o))}));var f=u?void 0:(c?l?l6:D5:l?e6:g2)(e);return $3(f||e,(function(r,i){f&&(r=e[i=r]),K3(a,i,K6(r,t,n,i,e,o))})),a}q6[Y6]=q6["[object Array]"]=q6["[object ArrayBuffer]"]=q6["[object DataView]"]=q6["[object Boolean]"]=q6["[object Date]"]=q6["[object Float32Array]"]=q6["[object Float64Array]"]=q6["[object Int8Array]"]=q6["[object Int16Array]"]=q6["[object Int32Array]"]=q6["[object Map]"]=q6["[object Number]"]=q6[W6]=q6["[object RegExp]"]=q6["[object Set]"]=q6["[object String]"]=q6["[object Symbol]"]=q6["[object Uint8Array]"]=q6["[object Uint8ClampedArray]"]=q6["[object Uint16Array]"]=q6["[object Uint32Array]"]=!0,q6["[object Error]"]=q6[$6]=q6["[object WeakMap]"]=!1;const Z6=T(Object.freeze(Object.defineProperty({__proto__:null,default:function(e){return K6(e,5)}},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(Y3,"__esModule",{value:!0}),Y3.mergeClasses=void 0;var Q6=t4(T2),J6=t4(Z6),e4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function t4(e){return e&&e.__esModule?e:{default:e}}var n4=Y3.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,J6.default)(e.default)||{};return t.map((function(t){var r=e[t];return r&&(0,Q6.default)(r,(function(e,t){n[t]||(n[t]={}),n[t]=e4({},n[t],r[t])})),t})),n};Y3.default=n4;var r4={};Object.defineProperty(r4,"__esModule",{value:!0}),r4.autoprefix=void 0;var i4=function(e){return e&&e.__esModule?e:{default:e}}(T2),o4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var a4={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){return t[e]||{extend:e}}},s4=r4.autoprefix=function(e){var t={};return(0,i4.default)(e,(function(e,n){var r={};(0,i4.default)(e,(function(e,t){var n=a4[t];n?r=o4({},r,n(e)):r[t]=e})),t[n]=r})),t};r4.default=s4;var l4={};Object.defineProperty(l4,"__esModule",{value:!0}),l4.hover=void 0;var c4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u4=function(e){return e&&e.__esModule?e:{default:e}}(m.default);function h4(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d4=l4.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return i=o=h4(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(s))),o.state={hover:!1},o.handleMouseOver=function(){return o.setState({hover:!0})},o.handleMouseOut=function(){return o.setState({hover:!1})},o.render=function(){return u4.default.createElement(t,{onMouseOver:o.handleMouseOver,onMouseOut:o.handleMouseOut},u4.default.createElement(e,c4({},o.props,o.state)))},h4(o,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(u4.default.Component)};l4.default=d4;var p4={};Object.defineProperty(p4,"__esModule",{value:!0}),p4.active=void 0;var f4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m4=function(e){return e&&e.__esModule?e:{default:e}}(m.default);function g4(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b4=p4.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return i=o=g4(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(s))),o.state={active:!1},o.handleMouseDown=function(){return o.setState({active:!0})},o.handleMouseUp=function(){return o.setState({active:!1})},o.render=function(){return m4.default.createElement(t,{onMouseDown:o.handleMouseDown,onMouseUp:o.handleMouseUp},m4.default.createElement(e,f4({},o.props,o.state)))},g4(o,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(m4.default.Component)};p4.default=b4;var v4={};Object.defineProperty(v4,"__esModule",{value:!0});v4.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n},Object.defineProperty(p1,"__esModule",{value:!0}),p1.ReactCSS=p1.loop=p1.handleActive=A4=p1.handleHover=p1.hover=void 0;var y4=S4(f1),T4=S4(Y3),_4=S4(r4),E4=S4(l4),x4=S4(p4),w4=S4(v4);function S4(e){return e&&e.__esModule?e:{default:e}}p1.hover=E4.default;var A4=p1.handleHover=E4.default;p1.handleActive=x4.default,p1.loop=w4.default;var k4=p1.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=(0,y4.default)(n),o=(0,T4.default)(e,i);return(0,_4.default)(o)},C4=p1.default=k4,I4={},O4=function(e,t,n,r){var i=e+"-"+t+"-"+n+(r?"-server":"");if(I4[i])return I4[i];var o=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var i=r?new r:document.createElement("canvas");i.width=2*n,i.height=2*n;var o=i.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,i.width,i.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),i.toDataURL()):null}(e,t,n,r);return I4[i]=o,o},D4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P4=function(e){var t=e.white,r=e.grey,i=e.size,o=e.renderers,a=e.borderRadius,s=e.boxShadow,l=e.children,c=C4({default:{grid:{borderRadius:a,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+O4(t,r,i,o.canvas)+") center left"}}});return n.isValidElement(l)?m.default.cloneElement(l,D4({},l.props,{style:D4({},l.props.style,c.grid)})):m.default.createElement("div",{style:c.grid})};P4.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var N4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R4=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function M4(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L4=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=M4(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=function(e,t,n,r,i){var o,a,s=i.clientWidth,l=i.clientHeight,c="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,h=c-(i.getBoundingClientRect().left+window.pageXOffset),d=u-(i.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){if(o=d<0?0:d>l?1:Math.round(100*d/l)/100,t.a!==o)return{h:t.h,s:t.s,l:t.l,a:o,source:"rgb"}}else if(r!==(a=h<0?0:h>s?1:Math.round(100*h/s)/100))return{h:t.h,s:t.s,l:t.l,a,source:"rgb"};return null}(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},M4(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),R4(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=C4({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:N4({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return m.default.createElement("div",{style:n.alpha},m.default.createElement("div",{style:n.checkboard},m.default.createElement(P4,{renderers:this.props.renderers})),m.default.createElement("div",{style:n.gradient}),m.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},m.default.createElement("div",{style:n.pointer},this.props.pointer?m.default.createElement(this.props.pointer,this.props):m.default.createElement("div",{style:n.slider}))))}}]),t}(n.PureComponent||n.Component),B4=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var F4=[38,40],U4=1,j4=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,F4.indexOf(t)>-1)){var i=n.getArrowOffset(),o=38===e.keyCode?r+i:r-i;n.setUpdatedValue(o,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+U4++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),B4(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=C4({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return m.default.createElement("div",{style:t.wrap},m.default.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?m.default.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(n.PureComponent||n.Component),H4=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function G4(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var z4=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=G4(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleChange=function(e){var t=function(e,t,n,r){var i,o,a=r.clientWidth,s=r.clientHeight,l="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,c="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=l-(r.getBoundingClientRect().left+window.pageXOffset),h=c-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){if(i=h<0?359:h>s?0:360*(-100*h/s+100)/100,n.h!==i)return{h:i,s:n.s,l:n.l,a:n.a,source:"hsl"}}else if(o=u<0?0:u>a?359:100*u/a*360/100,n.h!==o)return{h:o,s:n.s,l:n.l,a:n.a,source:"hsl"};return null}(e,r.props.direction,r.props.hsl,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},G4(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),H4(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=C4({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return m.default.createElement("div",{style:r.hue},m.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},m.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),m.default.createElement("div",{style:r.pointer},this.props.pointer?m.default.createElement(this.props.pointer,this.props):m.default.createElement("div",{style:r.slider}))))}}]),t}(n.PureComponent||n.Component);function V4(e,t,n){(void 0!==n&&!D2(e[t],n)||void 0===n&&!(t in e))&&W3(e,t,n)}function Y4(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function $4(e,t,n,r,i,o,a){var s,l=Y4(e,n),c=Y4(t,n),u=a.get(c);if(u)V4(e,n,u);else{var h=o?o(l,c,n+"",e,t,a):void 0,d=void 0===h;if(d){var p=C1(c),f=!p&&G1(c),m=!p&&!f&&t2(c);h=c,p||f||m?C1(l)?h=l:I1(s=l)&&m2(s)?h=a6(l):f?(d=!1,h=o6(c,!0)):m?(d=!1,h=f6(c,!0)):h=[]:C2(c)||F1(c)?(h=l,F1(l)?h=function(e){return Z3(e,e6(e))}(l):c2(l)&&!f2(l)||(h=B6(c))):d=!1}d&&(a.set(c,h),i(h,c,r,o,a),a.delete(c)),V4(e,n,h)}}function X4(e,t,n,r,i){e!==t&&D1(t,(function(o,a){if(i||(i=new t5),c2(o))$4(e,t,a,n,X4,r,i);else{var s=r?r(Y4(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),V4(e,a,s)}}),e6)}var W4=Math.max;const q4=X3?function(e,t){return X3(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:v2;var K4=Date.now;const Z4=function(e){var t=0,n=0;return function(){var r=K4(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(q4);function Q4(e,t){return Z4(function(e,t,n){return t=W4(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=W4(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,v2),e+"")}const J4=(e8=function(e,t,n){X4(e,t,n)},Q4((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=e8.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!c2(n))return!1;var r=typeof t;return!!("number"==r?m2(n)&&Y1(t,n.length):"string"==r&&t in n)&&D2(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&e8(e,a,n,i)}return e})));var e8,t8=function(e){var t=e.zDepth,n=e.radius,r=e.background,i=e.children,o=e.styles,a=C4(J4({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},void 0===o?{}:o),{"zDepth-1":1===t});return m.default.createElement("div",{style:a.wrap},m.default.createElement("div",{style:a.bg}),m.default.createElement("div",{style:a.content},i))};t8.propTypes={background:S.exports.string,zDepth:S.exports.oneOf([0,1,2,3,4,5]),radius:S.exports.number,styles:S.exports.object},t8.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};const n8=function(){return b1.Date.now()};var r8=/\s/;var i8=/^\s+/;function o8(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&r8.test(e.charAt(t)););return t}(e)+1).replace(i8,""):e}var a8=NaN,s8=/^[-+]0x[0-9a-f]+$/i,l8=/^0b[01]+$/i,c8=/^0o[0-7]+$/i,u8=parseInt;function h8(e){if("number"==typeof e)return e;if(c3(e))return a8;if(c2(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c2(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o8(e);var n=l8.test(e);return n||c8.test(e)?u8(e.slice(2),n?2:8):s8.test(e)?a8:+e}var d8="Expected a function",p8=Math.max,f8=Math.min;function m8(e,t,n){var r,i,o,a,s,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError(d8);function p(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=o}function m(){var e=n8();if(f(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return h?f8(n,o-(e-c)):n}(e))}function g(e){return s=void 0,d&&r?p(e):(r=i=void 0,a)}function b(){var e=n8(),n=f(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?p(e):a}(l);if(h)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=h8(t)||0,c2(n)&&(u=!!n.leading,o=(h="maxWait"in n)?p8(h8(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},b.flush=function(){return void 0===s?a:g(n8())},b}var g8=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b8=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"==typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),i=r.width,o=r.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(n.getBoundingClientRect().left+window.pageXOffset),c=s-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>i&&(l=i),c<0?c=0:c>o&&(c=o);var u=l/i,h=1-c/o;return{h:t.h,s:u,v:h,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return c2(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),m8(e,t,{leading:r,maxWait:t,trailing:i})}((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),g8(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,o=t.pointer,a=t.circle,s=C4({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:i,pointer:o,circle:a}},{custom:!!this.props.style});return m.default.createElement("div",{style:s.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},m.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),m.default.createElement("div",{style:s.white,className:"saturation-white"},m.default.createElement("div",{style:s.black,className:"saturation-black"}),m.default.createElement("div",{style:s.pointer},this.props.pointer?m.default.createElement(this.props.pointer,this.props):m.default.createElement("div",{style:s.circle}))))}}]),t}(n.PureComponent||n.Component);const v8=/^\s+/,y8=/\s+$/;function T8(e,t){if(t=t||{},(e=e||"")instanceof T8)return e;if(!(this instanceof T8))return new T8(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"==typeof e&&(e=function(e){e=e.replace(v8,"").replace(y8,"").toLowerCase();var t,n=!1;if(B8[e])e=B8[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=K8.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=K8.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=K8.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=K8.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=K8.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=K8.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=K8.hex8.exec(e))?{r:G8(t[1]),g:G8(t[2]),b:G8(t[3]),a:$8(t[4]),format:n?"name":"hex8"}:(t=K8.hex6.exec(e))?{r:G8(t[1]),g:G8(t[2]),b:G8(t[3]),format:n?"name":"hex"}:(t=K8.hex4.exec(e))?{r:G8(t[1]+""+t[1]),g:G8(t[2]+""+t[2]),b:G8(t[3]+""+t[3]),a:$8(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=K8.hex3.exec(e))&&{r:G8(t[1]+""+t[1]),g:G8(t[2]+""+t[2]),b:G8(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&(Z8(e.r)&&Z8(e.g)&&Z8(e.b)?(l=e.r,c=e.g,u=e.b,t={r:255*j8(l,255),g:255*j8(c,255),b:255*j8(u,255)},a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Z8(e.h)&&Z8(e.s)&&Z8(e.v)?(r=V8(e.s),i=V8(e.v),t=function(e,t,n){e=6*j8(e,360),t=j8(t,100),n=j8(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}(e.h,r,i),a=!0,s="hsv"):Z8(e.h)&&Z8(e.s)&&Z8(e.l)&&(r=V8(e.s),o=V8(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=j8(e,360),t=j8(t,100),n=j8(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=U8(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n};var l,c,u}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function _8(e,t,n){e=j8(e,255),t=j8(t,255),n=j8(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function E8(e,t,n){e=j8(e,255),t=j8(t,255),n=j8(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function x8(e,t,n,r){var i=[z8(Math.round(e).toString(16)),z8(Math.round(t).toString(16)),z8(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function w8(e,t,n,r){return[z8(Y8(r)),z8(Math.round(e).toString(16)),z8(Math.round(t).toString(16)),z8(Math.round(n).toString(16))].join("")}function S8(e,t){t=0===t?0:t||10;var n=T8(e).toHsl();return n.s-=t/100,n.s=H8(n.s),T8(n)}function A8(e,t){t=0===t?0:t||10;var n=T8(e).toHsl();return n.s+=t/100,n.s=H8(n.s),T8(n)}function k8(e){return T8(e).desaturate(100)}function C8(e,t){t=0===t?0:t||10;var n=T8(e).toHsl();return n.l+=t/100,n.l=H8(n.l),T8(n)}function I8(e,t){t=0===t?0:t||10;var n=T8(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),T8(n)}function O8(e,t){t=0===t?0:t||10;var n=T8(e).toHsl();return n.l-=t/100,n.l=H8(n.l),T8(n)}function D8(e,t){var n=T8(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,T8(n)}function P8(e){var t=T8(e).toHsl();return t.h=(t.h+180)%360,T8(t)}function N8(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=T8(e).toHsl(),r=[T8(e)],i=360/t,o=1;o<t;o++)r.push(T8({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function R8(e){var t=T8(e).toHsl(),n=t.h;return[T8(e),T8({h:(n+72)%360,s:t.s,l:t.l}),T8({h:(n+216)%360,s:t.s,l:t.l})]}function M8(e,t,n){t=t||6,n=n||30;var r=T8(e).toHsl(),i=360/n,o=[T8(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(T8(r));return o}function L8(e,t){t=t||6;for(var n=T8(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(T8({h:r,s:i,v:o})),o=(o+s)%1;return a}T8.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=U8(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=E8(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=E8(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=_8(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=_8(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return x8(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[z8(Math.round(e).toString(16)),z8(Math.round(t).toString(16)),z8(Math.round(n).toString(16)),z8(Y8(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*j8(this._r,255))+"%",g:Math.round(100*j8(this._g,255))+"%",b:Math.round(100*j8(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*j8(this._r,255))+"%, "+Math.round(100*j8(this._g,255))+"%, "+Math.round(100*j8(this._b,255))+"%)":"rgba("+Math.round(100*j8(this._r,255))+"%, "+Math.round(100*j8(this._g,255))+"%, "+Math.round(100*j8(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(F8[x8(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+w8(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=T8(e);n="#"+w8(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return T8(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(C8,arguments)},brighten:function(){return this._applyModification(I8,arguments)},darken:function(){return this._applyModification(O8,arguments)},desaturate:function(){return this._applyModification(S8,arguments)},saturate:function(){return this._applyModification(A8,arguments)},greyscale:function(){return this._applyModification(k8,arguments)},spin:function(){return this._applyModification(D8,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(M8,arguments)},complement:function(){return this._applyCombination(P8,arguments)},monochromatic:function(){return this._applyCombination(L8,arguments)},splitcomplement:function(){return this._applyCombination(R8,arguments)},triad:function(){return this._applyCombination(N8,[3])},tetrad:function(){return this._applyCombination(N8,[4])}},T8.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:V8(e[r]));e=n}return T8(e,t)},T8.equals=function(e,t){return!(!e||!t)&&T8(e).toRgbString()==T8(t).toRgbString()},T8.random=function(){return T8.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},T8.mix=function(e,t,n){n=0===n?0:n||50;var r=T8(e).toRgb(),i=T8(t).toRgb(),o=n/100;return T8({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},T8.readability=function(e,t){var n=T8(e),r=T8(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},T8.isReadable=function(e,t,n){var r,i,o,a,s,l=T8.readability(e,t);switch(i=!1,(o=n,"AA"!==(a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(s=(o.size||"small").toLowerCase())&&"large"!==s&&(s="small"),r={level:a,size:s}).level+r.size){case"AAsmall":case"AAAlarge":i=l>=4.5;break;case"AAlarge":i=l>=3;break;case"AAAsmall":i=l>=7}return i},T8.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=T8.readability(e,t[c]))>l&&(l=r,s=T8(t[c]));return T8.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,T8.mostReadable(e,["#fff","#000"],n))};var B8=T8.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F8=T8.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(B8);function U8(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function j8(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function H8(e){return Math.min(1,Math.max(0,e))}function G8(e){return parseInt(e,16)}function z8(e){return 1==e.length?"0"+e:""+e}function V8(e){return e<=1&&(e=100*e+"%"),e}function Y8(e){return Math.round(255*parseFloat(e)).toString(16)}function $8(e){return G8(e)/255}var X8,W8,q8,K8=(W8="[\\s|\\(]+("+(X8="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+X8+")[,|\\s]+("+X8+")\\s*\\)?",q8="[\\s|\\(]+("+X8+")[,|\\s]+("+X8+")[,|\\s]+("+X8+")[,|\\s]+("+X8+")\\s*\\)?",{CSS_UNIT:new RegExp(X8),rgb:new RegExp("rgb"+W8),rgba:new RegExp("rgba"+q8),hsl:new RegExp("hsl"+W8),hsla:new RegExp("hsla"+q8),hsv:new RegExp("hsv"+W8),hsva:new RegExp("hsva"+q8),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Z8(e){return!!K8.CSS_UNIT.exec(e)}var Q8=function(e){var t,n,r=0,i=0;return n=function(t){e[t]&&(r+=1,isNaN(e[t])||(i+=1),("s"===t||"l"===t)&&/^\d+%$/.test(e[t])&&(i+=1))},(C1(t=["r","g","b","a","h","s","l","v"])?$3:M3)(t,y2(n)),r===i&&e},J8=function(e,t){var n=e.hex?T8(e.hex):T8(e),r=n.toHsl(),i=n.toHsv(),o=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===a&&0===o.a?"transparent":"#"+a,rgb:o,hsv:i,oldHue:e.h||t||r.h,source:e.source}},e7=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&T8(e).isValid()},t7=function(e){if(!e)return"#fff";var t=J8(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},n7=function(e,t){return T8(t+" ("+e.replace("°","")+")")._ok},r7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i7=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o7=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(Q8(e)){var r=J8(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(Q8(e)){var r=J8(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r7({},J8(e.color,0)),t.debounce=m8((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i7(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),m.default.createElement(e,r7({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return r7({},J8(e.color,t.oldHue))}}]),n}(n.PureComponent||n.Component);return t.propTypes=r7({},e.propTypes),t.defaultProps=r7({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},a7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s7=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l7(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const u7=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=l7(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},l7(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),s7(r,[{key:"render",value:function(){return m.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},m.default.createElement(e,a7({},this.props,this.state)))}}]),r}(m.default.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,i=void 0===r?function(){}:r,o=e.onHover,a=e.title,s=void 0===a?t:a,l=e.children,c=e.focus,u=e.focusStyle,h="transparent"===t,d=C4({default:{swatch:c7({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?void 0===u?{}:u:{})}}),p={};return o&&(p.onMouseOver=function(e){return o(t,e)}),m.default.createElement("div",c7({style:d.swatch,onClick:function(e){return i(t,e)},title:s,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&i(t,e)}},p),l,h&&m.default.createElement(P4,{borderRadius:d.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))}));var h7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d7=function(e){var t=e.rgb,n=e.hsl,r=e.width,i=e.height,o=e.onChange,a=e.direction,s=e.style,l=e.renderers,c=e.pointer,u=e.className,h=void 0===u?"":u,d=C4({default:{picker:{position:"relative",width:r,height:i},alpha:{radius:"2px",style:s}}});return m.default.createElement("div",{style:d.picker,className:"alpha-picker "+h},m.default.createElement(L4,h7({},d.alpha,{rgb:t,hsl:n,pointer:c,renderers:l,onChange:o,direction:a})))};d7.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,n=C4({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return m.default.createElement("div",{style:n.picker})}},o7(d7);var p7=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,i=C4({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return m.default.createElement("div",{style:i.swatches},B3(t,(function(e){return m.default.createElement(u7,{key:e,color:e,style:i.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),m.default.createElement("div",{style:i.clear}))},f7=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,o=e.width,a=e.triangle,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,h="transparent"===r,d=function(e,n){e7(e)&&t({hex:e,source:"hex"},n)},p=C4(J4({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:t7(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},l),{"hide-triangle":"hide"===a});return m.default.createElement("div",{style:p.card,className:"block-picker "+u},m.default.createElement("div",{style:p.triangle}),m.default.createElement("div",{style:p.head},h&&m.default.createElement(P4,{borderRadius:"6px 6px 0 0"}),m.default.createElement("div",{style:p.label},r)),m.default.createElement("div",{style:p.body},m.default.createElement(p7,{colors:i,onClick:d,onSwatchHover:n}),m.default.createElement(j4,{style:{input:p.input},value:r,onChange:d})))};f7.propTypes={width:S.exports.oneOfType([S.exports.string,S.exports.number]),colors:S.exports.arrayOf(S.exports.string),triangle:S.exports.oneOf(["top","hide"]),styles:S.exports.object},f7.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},o7(f7);var m7="#ffcdd2",g7="#e57373",b7="#f44336",v7="#d32f2f",y7="#b71c1c",T7="#f8bbd0",_7="#f06292",E7="#e91e63",x7="#c2185b",w7="#880e4f",S7="#e1bee7",A7="#ba68c8",k7="#9c27b0",C7="#7b1fa2",I7="#4a148c",O7="#d1c4e9",D7="#9575cd",P7="#673ab7",N7="#512da8",R7="#311b92",M7="#c5cae9",L7="#7986cb",B7="#3f51b5",F7="#303f9f",U7="#1a237e",j7="#bbdefb",H7="#64b5f6",G7="#2196f3",z7="#1976d2",V7="#0d47a1",Y7="#b3e5fc",$7="#4fc3f7",X7="#03a9f4",W7="#0288d1",q7="#01579b",K7="#b2ebf2",Z7="#4dd0e1",Q7="#00bcd4",J7="#0097a7",e9="#006064",t9="#b2dfdb",n9="#4db6ac",r9="#009688",i9="#00796b",o9="#004d40",a9="#c8e6c9",s9="#81c784",l9="#4caf50",c9="#388e3c",u9="#dcedc8",h9="#aed581",d9="#8bc34a",p9="#689f38",f9="#33691e",m9="#f0f4c3",g9="#dce775",b9="#cddc39",v9="#afb42b",y9="#827717",T9="#fff9c4",_9="#fff176",E9="#ffeb3b",x9="#fbc02d",w9="#f57f17",S9="#ffecb3",A9="#ffd54f",k9="#ffc107",C9="#ffa000",I9="#ff6f00",O9="#ffe0b2",D9="#ffb74d",P9="#ff9800",N9="#f57c00",R9="#e65100",M9="#ffccbc",L9="#ff8a65",B9="#ff5722",F9="#e64a19",U9="#bf360c",j9="#d7ccc8",H9="#a1887f",G9="#795548",z9="#5d4037",V9="#3e2723",Y9="#cfd8dc",$9="#90a4ae",X9="#607d8b",W9="#455a64",q9="#263238",K9=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,i=e.hover,o=e.active,a=e.circleSize,s=e.circleSpacing,l=C4({default:{swatch:{width:a,height:a,marginRight:s,marginBottom:s,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:i,active:o});return m.default.createElement("div",{style:l.swatch},m.default.createElement(u7,{style:l.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:l.Swatch.boxShadow+", 0 0 5px "+t}}))};K9.defaultProps={circleSize:28,circleSpacing:14};const Z9=A4(K9);var Q9=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,a=e.circleSize,s=e.styles,l=void 0===s?{}:s,c=e.circleSpacing,u=e.className,h=void 0===u?"":u,d=C4(J4({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},l)),p=function(e,t){return n({hex:e,source:"hex"},t)};return m.default.createElement("div",{style:d.card,className:"circle-picker "+h},B3(i,(function(e){return m.default.createElement(Z9,{key:e,color:e,onClick:p,onSwatchHover:r,active:o===e.toLowerCase(),circleSize:a,circleSpacing:c})})))};function J9(e){return void 0===e}Q9.propTypes={width:S.exports.oneOfType([S.exports.string,S.exports.number]),circleSize:S.exports.number,circleSpacing:S.exports.number,styles:S.exports.object},Q9.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[b7,E7,k7,P7,B7,G7,X7,Q7,r9,l9,d9,b9,E9,k9,P9,B9,G9,X9],styles:{}},o7(Q9);var eee={};Object.defineProperty(eee,"__esModule",{value:!0});var tee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nee=function(e){return e&&e.__esModule?e:{default:e}}(m.default);var ree=eee.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,i=void 0===r?24:r,o=e.height,a=void 0===o?24:o,s=e.style,l=void 0===s?{}:s,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return nee.default.createElement("svg",tee({viewBox:"0 0 24 24",style:tee({fill:n,width:i,height:a},l)},c),nee.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},iee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var oee=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?e7(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(J9(e.s)?n.props.hsl.s:e.s),l:Number(J9(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),iee(t,[{key:"render",value:function(){var e=this,t=C4({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=m.default.createElement("div",{style:t.fields,className:"flexbox-fix"},m.default.createElement("div",{style:t.field},m.default.createElement(j4,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=m.default.createElement("div",{style:t.fields,className:"flexbox-fix"},m.default.createElement("div",{style:t.field},m.default.createElement(j4,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),m.default.createElement("div",{style:t.field},m.default.createElement(j4,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),m.default.createElement("div",{style:t.field},m.default.createElement(j4,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),m.default.createElement("div",{style:t.alpha},m.default.createElement(j4,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=m.default.createElement("div",{style:t.fields,className:"flexbox-fix"},m.default.createElement("div",{style:t.field},m.default.createElement(j4,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),m.default.createElement("div",{style:t.field},m.default.createElement(j4,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),m.default.createElement("div",{style:t.field},m.default.createElement(j4,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),m.default.createElement("div",{style:t.alpha},m.default.createElement(j4,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),m.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,m.default.createElement("div",{style:t.toggle},m.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},m.default.createElement(ree,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(m.default.Component);oee.defaultProps={view:"hex"};var aee=function(){var e=C4({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return m.default.createElement("div",{style:e.picker})},see=function(){var e=C4({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return m.default.createElement("div",{style:e.picker})},lee=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,i=e.rgb,o=e.hsl,a=e.hsv,s=e.hex,l=e.renderers,c=e.styles,u=void 0===c?{}:c,h=e.className,d=void 0===h?"":h,p=e.defaultView,f=C4(J4({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},u),{disableAlpha:r});return m.default.createElement("div",{style:f.picker,className:"chrome-picker "+d},m.default.createElement("div",{style:f.saturation},m.default.createElement(b8,{style:f.Saturation,hsl:o,hsv:a,pointer:see,onChange:n})),m.default.createElement("div",{style:f.body},m.default.createElement("div",{style:f.controls,className:"flexbox-fix"},m.default.createElement("div",{style:f.color},m.default.createElement("div",{style:f.swatch},m.default.createElement("div",{style:f.active}),m.default.createElement(P4,{renderers:l}))),m.default.createElement("div",{style:f.toggles},m.default.createElement("div",{style:f.hue},m.default.createElement(z4,{style:f.Hue,hsl:o,pointer:aee,onChange:n})),m.default.createElement("div",{style:f.alpha},m.default.createElement(L4,{style:f.Alpha,rgb:i,hsl:o,pointer:aee,renderers:l,onChange:n})))),m.default.createElement(oee,{rgb:i,hsl:o,hex:s,view:p,onChange:n,disableAlpha:r})))};lee.propTypes={width:S.exports.oneOfType([S.exports.string,S.exports.number]),disableAlpha:S.exports.bool,styles:S.exports.object,defaultView:S.exports.oneOf(["hex","rgb","hsl"])},lee.defaultProps={width:225,disableAlpha:!1,styles:{}},o7(lee);var cee=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,o=e.active,a=C4({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:t7(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return m.default.createElement(u7,{style:a.color,color:t,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},m.default.createElement("div",{style:a.dot}))},uee=function(e){var t=e.hex,n=e.rgb,r=e.onChange,i=C4({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return m.default.createElement("div",{style:i.fields,className:"flexbox-fix"},m.default.createElement("div",{style:i.active}),m.default.createElement(j4,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:t,onChange:o}),m.default.createElement(j4,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:o}),m.default.createElement(j4,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:o}),m.default.createElement(j4,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:o}))},hee=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,i=e.hex,o=e.rgb,a=e.styles,s=void 0===a?{}:a,l=e.className,c=void 0===l?"":l,u=C4(J4({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},s)),h=function(e,n){e.hex?e7(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return m.default.createElement(t8,{style:u.Compact,styles:s},m.default.createElement("div",{style:u.compact,className:"compact-picker "+c},m.default.createElement("div",null,B3(r,(function(e){return m.default.createElement(cee,{key:e,color:e,active:e.toLowerCase()===i,onClick:h,onSwatchHover:n})})),m.default.createElement("div",{style:u.clear})),m.default.createElement(uee,{hex:i,rgb:o,onChange:h})))};hee.propTypes={colors:S.exports.arrayOf(S.exports.string),styles:S.exports.object},hee.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},o7(hee);const dee=A4((function(e){var t=e.hover,n=e.color,r=e.onClick,i=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=C4({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return m.default.createElement("div",{style:a.swatch},m.default.createElement(u7,{color:n,onClick:r,onHover:i,focusStyle:o}))}));var pee=function(e){var t=e.width,n=e.colors,r=e.onChange,i=e.onSwatchHover,o=e.triangle,a=e.styles,s=void 0===a?{}:a,l=e.className,c=void 0===l?"":l,u=C4(J4({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},s),{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o,"bottom-left-triangle":"bottom-left"===o,"bottom-right-triangle":"bottom-right"===o}),h=function(e,t){return r({hex:e,source:"hex"},t)};return m.default.createElement("div",{style:u.card,className:"github-picker "+c},m.default.createElement("div",{style:u.triangleShadow}),m.default.createElement("div",{style:u.triangle}),B3(n,(function(e){return m.default.createElement(dee,{color:e,key:e,onClick:h,onSwatchHover:i})})))};pee.propTypes={width:S.exports.oneOfType([S.exports.string,S.exports.number]),colors:S.exports.arrayOf(S.exports.string),triangle:S.exports.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:S.exports.object},pee.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},o7(pee);var fee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mee=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.hsl,o=e.direction,a=e.pointer,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,h=C4(J4({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},l));return m.default.createElement("div",{style:h.picker,className:"hue-picker "+u},m.default.createElement(z4,fee({},h.hue,{hsl:i,pointer:a,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:o})))};mee.propTypes={styles:S.exports.object},mee.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,n=C4({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return m.default.createElement("div",{style:n.picker})},styles:{}},o7(mee),o7((function(e){var t=e.onChange,n=e.hex,r=e.rgb,i=e.styles,o=void 0===i?{}:i,a=e.className,s=void 0===a?"":a,l=C4(J4({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(e,n){e.hex?e7(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return m.default.createElement(t8,{styles:o},m.default.createElement("div",{style:l.material,className:"material-picker "+s},m.default.createElement(j4,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:c}),m.default.createElement("div",{style:l.split,className:"flexbox-fix"},m.default.createElement("div",{style:l.third},m.default.createElement(j4,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:c})),m.default.createElement("div",{style:l.third},m.default.createElement(j4,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:c})),m.default.createElement("div",{style:l.third},m.default.createElement(j4,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:c})))))}));var gee=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,i=e.hex,o=C4({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(e,i){e["#"]?e7(e["#"])&&t({hex:e["#"],source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},i):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},i)};return m.default.createElement("div",{style:o.fields},m.default.createElement(j4,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(r.h),onChange:a}),m.default.createElement(j4,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:a}),m.default.createElement(j4,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:a}),m.default.createElement("div",{style:o.divider}),m.default.createElement(j4,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:a}),m.default.createElement(j4,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:a}),m.default.createElement(j4,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:a}),m.default.createElement("div",{style:o.divider}),m.default.createElement(j4,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:i.replace("#",""),onChange:a}),m.default.createElement("div",{style:o.fieldSymbols},m.default.createElement("div",{style:o.symbol},"°"),m.default.createElement("div",{style:o.symbol},"%"),m.default.createElement("div",{style:o.symbol},"%")))},bee=function(e){var t=e.hsl,n=C4({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return m.default.createElement("div",{style:n.picker})},vee=function(){var e=C4({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return m.default.createElement("div",{style:e.pointer},m.default.createElement("div",{style:e.left},m.default.createElement("div",{style:e.leftInside})),m.default.createElement("div",{style:e.right},m.default.createElement("div",{style:e.rightInside})))},yee=function(e){var t=e.onClick,n=e.label,r=e.children,i=e.active,o=C4({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return m.default.createElement("div",{style:o.button,onClick:t},n||r)},Tee=function(e){var t=e.rgb,n=e.currentColor,r=C4({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return m.default.createElement("div",null,m.default.createElement("div",{style:r.label},"new"),m.default.createElement("div",{style:r.swatches},m.default.createElement("div",{style:r.new}),m.default.createElement("div",{style:r.current})),m.default.createElement("div",{style:r.label},"current"))},_ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Eee=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_ee(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,i=void 0===r?"":r,o=C4(J4({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return m.default.createElement("div",{style:o.picker,className:"photoshop-picker "+i},m.default.createElement("div",{style:o.head},this.props.header),m.default.createElement("div",{style:o.body,className:"flexbox-fix"},m.default.createElement("div",{style:o.saturation},m.default.createElement(b8,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:bee,onChange:this.props.onChange})),m.default.createElement("div",{style:o.hue},m.default.createElement(z4,{direction:"vertical",hsl:this.props.hsl,pointer:vee,onChange:this.props.onChange})),m.default.createElement("div",{style:o.controls},m.default.createElement("div",{style:o.top,className:"flexbox-fix"},m.default.createElement("div",{style:o.previews},m.default.createElement(Tee,{rgb:this.props.rgb,currentColor:this.state.currentColor})),m.default.createElement("div",{style:o.actions},m.default.createElement(yee,{label:"OK",onClick:this.props.onAccept,active:!0}),m.default.createElement(yee,{label:"Cancel",onClick:this.props.onCancel}),m.default.createElement(gee,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(m.default.Component);Eee.propTypes={header:S.exports.string,styles:S.exports.object},Eee.defaultProps={header:"Color Picker",styles:{}},o7(Eee);var xee=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,o=e.disableAlpha,a=C4({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),s=function(e,i){e.hex?e7(e.hex)&&t({hex:e.hex,source:"hex"},i):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},i):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},i))};return m.default.createElement("div",{style:a.fields,className:"flexbox-fix"},m.default.createElement("div",{style:a.double},m.default.createElement(j4,{style:{input:a.input,label:a.label},label:"hex",value:i.replace("#",""),onChange:s})),m.default.createElement("div",{style:a.single},m.default.createElement(j4,{style:{input:a.input,label:a.label},label:"r",value:n.r,onChange:s,dragLabel:"true",dragMax:"255"})),m.default.createElement("div",{style:a.single},m.default.createElement(j4,{style:{input:a.input,label:a.label},label:"g",value:n.g,onChange:s,dragLabel:"true",dragMax:"255"})),m.default.createElement("div",{style:a.single},m.default.createElement(j4,{style:{input:a.input,label:a.label},label:"b",value:n.b,onChange:s,dragLabel:"true",dragMax:"255"})),m.default.createElement("div",{style:a.alpha},m.default.createElement(j4,{style:{input:a.input,label:a.label},label:"a",value:Math.round(100*n.a),onChange:s,dragLabel:"true",dragMax:"100"})))},wee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},See=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,o=C4({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(e,t){r({hex:e,source:"hex"},t)};return m.default.createElement("div",{style:o.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return m.default.createElement("div",{key:n,style:o.swatchWrap},m.default.createElement(u7,wee({},t,{style:o.swatch,onClick:a,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};See.propTypes={colors:S.exports.arrayOf(S.exports.oneOfType([S.exports.string,S.exports.shape({color:S.exports.string,title:S.exports.string})])).isRequired};var Aee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kee=function(e){var t=e.width,n=e.rgb,r=e.hex,i=e.hsv,o=e.hsl,a=e.onChange,s=e.onSwatchHover,l=e.disableAlpha,c=e.presetColors,u=e.renderers,h=e.styles,d=void 0===h?{}:h,p=e.className,f=void 0===p?"":p,g=C4(J4({default:Aee({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},d),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},d),{disableAlpha:l});return m.default.createElement("div",{style:g.picker,className:"sketch-picker "+f},m.default.createElement("div",{style:g.saturation},m.default.createElement(b8,{style:g.Saturation,hsl:o,hsv:i,onChange:a})),m.default.createElement("div",{style:g.controls,className:"flexbox-fix"},m.default.createElement("div",{style:g.sliders},m.default.createElement("div",{style:g.hue},m.default.createElement(z4,{style:g.Hue,hsl:o,onChange:a})),m.default.createElement("div",{style:g.alpha},m.default.createElement(L4,{style:g.Alpha,rgb:n,hsl:o,renderers:u,onChange:a}))),m.default.createElement("div",{style:g.color},m.default.createElement(P4,null),m.default.createElement("div",{style:g.activeColor}))),m.default.createElement(xee,{rgb:n,hsl:o,hex:r,onChange:a,disableAlpha:l}),m.default.createElement(See,{colors:c,onClick:a,onSwatchHover:s}))};kee.propTypes={disableAlpha:S.exports.bool,width:S.exports.oneOfType([S.exports.string,S.exports.number]),styles:S.exports.object},kee.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const Cee=o7(kee);var Iee=function(e){var t=e.hsl,n=e.offset,r=e.onClick,i=void 0===r?function(){}:r,o=e.active,a=e.first,s=e.last,l=C4({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:s});return m.default.createElement("div",{style:l.swatch,onClick:function(e){return i({h:t.h,s:.5,l:n,source:"hsl"},e)}})},Oee=function(e){var t=e.onClick,n=e.hsl,r=C4({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return m.default.createElement("div",{style:r.swatches},m.default.createElement("div",{style:r.swatch},m.default.createElement(Iee,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<i&&Math.abs(n.s-.5)<i,onClick:t,first:!0})),m.default.createElement("div",{style:r.swatch},m.default.createElement(Iee,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<i&&Math.abs(n.s-.5)<i,onClick:t})),m.default.createElement("div",{style:r.swatch},m.default.createElement(Iee,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<i&&Math.abs(n.s-.5)<i,onClick:t})),m.default.createElement("div",{style:r.swatch},m.default.createElement(Iee,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<i&&Math.abs(n.s-.5)<i,onClick:t})),m.default.createElement("div",{style:r.swatch},m.default.createElement(Iee,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<i&&Math.abs(n.s-.5)<i,onClick:t,last:!0})),m.default.createElement("div",{style:r.clear}))},Dee=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,i=e.styles,o=void 0===i?{}:i,a=e.className,s=void 0===a?"":a,l=C4(J4({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return m.default.createElement("div",{style:l.wrap||{},className:"slider-picker "+s},m.default.createElement("div",{style:l.hue},m.default.createElement(z4,{style:l.Hue,hsl:t,pointer:r,onChange:n})),m.default.createElement("div",{style:l.swatches},m.default.createElement(Oee,{hsl:t,onClick:n})))};Dee.propTypes={styles:S.exports.object},Dee.defaultProps={pointer:function(){var e=C4({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return m.default.createElement("div",{style:e.picker})},styles:{}},o7(Dee);var Pee={};Object.defineProperty(Pee,"__esModule",{value:!0});var Nee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ree=function(e){return e&&e.__esModule?e:{default:e}}(m.default);var Mee=Pee.default=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,i=void 0===r?24:r,o=e.height,a=void 0===o?24:o,s=e.style,l=void 0===s?{}:s,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return Ree.default.createElement("svg",Nee({viewBox:"0 0 24 24",style:Nee({fill:n,width:i,height:a},l)},c),Ree.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},Lee=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,o=e.first,a=e.last,s=e.active,l=C4({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:t7(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:s,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return m.default.createElement(u7,{color:t,style:l.color,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+t}},m.default.createElement("div",{style:l.check},m.default.createElement(Mee,null)))},Bee=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,i=e.active,o=C4({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return m.default.createElement("div",{style:o.group},B3(r,(function(e,o){return m.default.createElement(Lee,{key:e,color:e,active:e.toLowerCase()===i,first:0===o,last:o===r.length-1,onClick:t,onSwatchHover:n})})))},Fee=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.onSwatchHover,o=e.colors,a=e.hex,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,h=C4(J4({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},l)),d=function(e,t){return r({hex:e,source:"hex"},t)};return m.default.createElement("div",{style:h.picker,className:"swatches-picker "+u},m.default.createElement(t8,null,m.default.createElement("div",{style:h.overflow},m.default.createElement("div",{style:h.body},B3(o,(function(e){return m.default.createElement(Bee,{key:e.toString(),group:e,active:a,onClick:d,onSwatchHover:i})})),m.default.createElement("div",{style:h.clear})))))};Fee.propTypes={width:S.exports.oneOfType([S.exports.string,S.exports.number]),height:S.exports.oneOfType([S.exports.string,S.exports.number]),colors:S.exports.arrayOf(S.exports.arrayOf(S.exports.string)),styles:S.exports.object},Fee.defaultProps={width:320,height:240,colors:[[y7,v7,b7,g7,m7],[w7,x7,E7,_7,T7],[I7,C7,k7,A7,S7],[R7,N7,P7,D7,O7],[U7,F7,B7,L7,M7],[V7,z7,G7,H7,j7],[q7,W7,X7,$7,Y7],[e9,J7,Q7,Z7,K7],[o9,i9,r9,n9,t9],["#194D33",c9,l9,s9,a9],[f9,p9,d9,h9,u9],[y9,v9,b9,g9,m9],[w9,x9,E9,_9,T9],[I9,C9,k9,A9,S9],[R9,N9,P9,D9,O9],[U9,F9,B9,L9,M9],[V9,z9,G9,H9,j9],[q9,W9,X9,$9,Y9],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},o7(Fee);var Uee=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,i=e.colors,o=e.width,a=e.triangle,s=e.styles,l=void 0===s?{}:s,c=e.className,u=void 0===c?"":c,h=C4(J4({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},l),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a}),d=function(e,n){e7(e)&&t({hex:e,source:"hex"},n)};return m.default.createElement("div",{style:h.card,className:"twitter-picker "+u},m.default.createElement("div",{style:h.triangleShadow}),m.default.createElement("div",{style:h.triangle}),m.default.createElement("div",{style:h.body},B3(i,(function(e,t){return m.default.createElement(u7,{key:t,color:e,hex:e,style:h.swatch,onClick:d,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),m.default.createElement("div",{style:h.hash},"#"),m.default.createElement(j4,{label:null,style:{input:h.input},value:r.replace("#",""),onChange:d}),m.default.createElement("div",{style:h.clear})))};Uee.propTypes={width:S.exports.oneOfType([S.exports.string,S.exports.number]),triangle:S.exports.oneOf(["hide","top-left","top-right"]),colors:S.exports.arrayOf(S.exports.string),styles:S.exports.object},Uee.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},o7(Uee);var jee=function(e){var t=C4({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return m.default.createElement("div",{style:t.picker})};jee.propTypes={hsl:S.exports.shape({h:S.exports.number,s:S.exports.number,l:S.exports.number,a:S.exports.number})},jee.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Hee=function(e){var t=C4({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return m.default.createElement("div",{style:t.picker})};Hee.propTypes={hsl:S.exports.shape({h:S.exports.number,s:S.exports.number,l:S.exports.number,a:S.exports.number})},Hee.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Gee=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,i=e.hex,o=e.hsv,a=function(e,n){if(e.hex)e7(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");n7(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var i=e.hsv.split(",");n7(e.hsv,"hsv")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("°",""),1==i[1]?i[1]=.01:1==i[2]&&(i[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsv"},n))}else if(e.hsl){var o=e.hsl.split(",");n7(e.hsl,"hsl")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("°",""),1==u[1]?u[1]=.01:1==u[2]&&(u[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsl"},n))}},s=C4({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),l=n.r+", "+n.g+", "+n.b,c=Math.round(r.h)+"°, "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",u=Math.round(o.h)+"°, "+Math.round(100*o.s)+"%, "+Math.round(100*o.v)+"%";return m.default.createElement("div",{style:s.wrap,className:"flexbox-fix"},m.default.createElement("div",{style:s.fields},m.default.createElement("div",{style:s.double},m.default.createElement(j4,{style:{input:s.input,label:s.label},label:"hex",value:i,onChange:a})),m.default.createElement("div",{style:s.column},m.default.createElement("div",{style:s.single},m.default.createElement(j4,{style:{input:s.input2,label:s.label2},label:"rgb",value:l,onChange:a})),m.default.createElement("div",{style:s.single},m.default.createElement(j4,{style:{input:s.input2,label:s.label2},label:"hsv",value:u,onChange:a})),m.default.createElement("div",{style:s.single},m.default.createElement(j4,{style:{input:s.input2,label:s.label2},label:"hsl",value:c,onChange:a})))))},zee=function(e){var t=e.width,n=e.onChange,r=e.rgb,i=e.hsl,o=e.hsv,a=e.hex,s=e.header,l=e.styles,c=void 0===l?{}:l,u=e.className,h=void 0===u?"":u,d=C4(J4({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return m.default.createElement("div",{style:d.picker,className:"google-picker "+h},m.default.createElement("div",{style:d.head},s),m.default.createElement("div",{style:d.swatch}),m.default.createElement("div",{style:d.saturation},m.default.createElement(b8,{hsl:i,hsv:o,pointer:jee,onChange:n})),m.default.createElement("div",{style:d.body},m.default.createElement("div",{style:d.controls,className:"flexbox-fix"},m.default.createElement("div",{style:d.hue},m.default.createElement(z4,{style:d.Hue,hsl:i,radius:"4px",pointer:Hee,onChange:n}))),m.default.createElement(Gee,{rgb:r,hsl:i,hex:a,hsv:o,onChange:n})))};zee.propTypes={width:S.exports.oneOfType([S.exports.string,S.exports.number]),styles:S.exports.object,header:S.exports.string},zee.defaultProps={width:652,styles:{},header:"Color picker"},o7(zee);let Vee=function(e){i(n,e);var t=o(n);function n(e){var r;d(this,n),r=t.call(this,e);const i=kn(e.color);return r.state={displayColorPicker:!1,color:{r:i.r,g:i.g,b:i.b,a:i.opacity}},r}return f(n,[{key:"handleClick",value:function(){this.setState((e=>({displayColorPicker:!e.displayColorPicker})))}},{key:"handleClose",value:function(){this.setState({displayColorPicker:!1})}},{key:"handleChange",value:function(e){const t=e.rgb,n=`rgba(${t.r},${t.g},${t.b},${t.a})`;this.props.onChange(n),this.setState({color:e.rgb})}},{key:"render",value:function(){const e=C4({default:{color:{width:"32px",height:"14px",borderRadius:"2px",background:`rgba(${this.state.color.r}, ${this.state.color.g}, ${this.state.color.b}, ${this.state.color.a})`},swatch:{padding:"5px",background:"#fff",cursor:"pointer",borderRadius:"1px"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return m.default.createElement("div",null,m.default.createElement("div",{onClick:this.handleClick.bind(this),style:e.swatch},m.default.createElement("div",{style:e.color})),this.state.displayColorPicker?m.default.createElement("div",{style:e.popover},m.default.createElement("div",{onClick:this.handleClose.bind(this),style:e.cover}),m.default.createElement(Cee,{color:this.state.color,onChange:this.handleChange.bind(this)})):null)}}]),n}(m.default.Component);Vee.propTypes={color:S.exports.string,onChange:S.exports.func};let Yee=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={colors:e.track.options.colorRange.slice()},r}return f(n,[{key:"handleColorsChanged",value:function(e){this.setState({colors:e})}},{key:"handleSubmit",value:function(){this.props.track.options.colorRange=this.state.colors,this.props.onSubmit(this.props.track.options)}},{key:"handleAddColor",value:function(){this.setState((e=>({colors:e.colors.concat(e.colors[e.colors.length-1])})))}},{key:"handleRemoveColor",value:function(e){this.setState((t=>({colors:t.colors.slice(0,e).concat(t.colors.slice(e+1))})))}},{key:"render",value:function(){const e=JSON.parse(JSON.stringify(this.props.track)),t=Object.assign(e,{options:{colorRange:this.state.colors}}),n={editable:!1,zoomFixed:!0,views:[{uid:`hmo-${this.props.track.uid}`,initialXDomain:this.props.xScale?this.props.xScale.domain():[0,1],initialYDomain:this.props.yScale?this.props.yScale.domain():[0,1],tracks:{center:[t]},layout:{x:0,y:0,h:12,w:12,i:`hmo-${this.props.track.id}`}}]},r=this.state.colors.map(((e,t)=>{const n=this.state.colors.length>2&&t===this.state.colors.length-1?m.default.createElement("div",{onClick:()=>this.handleRemoveColor(t),style:{background:"white",position:"absolute",top:0,right:0,opacity:1,width:14,height:14,borderRadius:2,cursor:"pointer"}},m.default.createElement("svg",{height:"10px",style:{position:"absolute",top:2,right:2,opacity:.5,width:10,height:10}},m.default.createElement("use",{xlinkHref:"#cross"}))):null;return m.default.createElement("div",{key:`l${t}`,style:{borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",position:"relative",outline:"none"}},n,m.default.createElement(Vee,{key:t,color:this.state.colors[t],onChange:e=>{this.setState((n=>{const r=n.colors.slice();return r[t]=e,{colors:r}}),(()=>{this.handleColorsChanged(this.state.colors)}))}}))})).reverse(),i=this.state.colors.length<10?m.default.createElement("div",{onClick:this.handleAddColor.bind(this),style:{position:"relative",outline:"none",height:"25px",padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px #E5E5E5",cursor:"pointer"}},m.default.createElement("div",{style:{textAlign:"center",width:"32px",height:"14px"}},m.default.createElement("svg",{height:"100%",style:{opacity:.5,margin:"auto",display:"block"},width:"10px"},m.default.createElement("use",{xlinkHref:"#plus"})))):null;return m.default.createElement(d1,{okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmit.bind(this),title:"Custom Color Map"},m.default.createElement("table",{className:"table-track-options"},m.default.createElement("thead",null),m.default.createElement("tbody",{style:{verticalAlign:"top"}},m.default.createElement("tr",null,m.default.createElement("td",{className:"td-track-options"},m.default.createElement("table",null,m.default.createElement("tbody",null,m.default.createElement("tr",null,m.default.createElement("td",{className:"td-track-options"},"Preview")),m.default.createElement("tr",null,m.default.createElement("td",{className:"td-track-options"},m.default.createElement("div",{style:{width:200}},m.default.createElement(woe,{options:{bounded:!1},viewConfig:n}))))))),m.default.createElement("td",{className:"td-track-options"},m.default.createElement("table",null,m.default.createElement("tbody",null,m.default.createElement("tr",null,m.default.createElement("td",{className:"td-track-options"},"Colors")),m.default.createElement("tr",null,m.default.createElement("td",{className:"td-track-options"},i,m.default.createElement("div",{style:{position:"relative"}},r))))))))))}}]),n}(m.default.Component);Yee.propTypes={handleCancel:S.exports.func,onCancel:S.exports.func,onSubmit:S.exports.func,track:S.exports.object,xScale:S.exports.object,yScale:S.exports.object};const $ee=e=>{if(!e.header)return[];const t=e.header.split("\t"),n=[];for(let e=0;e<t.length;e++)n.push({name:t[e],value:e+1});return n},Xee=(e,t="",n=1)=>e.reduce(((e,r)=>(e[r]={name:`${r*n}${t}`,value:r},e)),{}),Wee={yes:{name:"Yes",value:!0},no:{name:"No",value:!1}},qee={black:{name:"Black",value:"black"},blue:{name:"Blue",value:"blue"},brown:{name:"Brown",value:"brown"},cyan:{name:"Cyan",value:"cyan"},green:{name:"Green",value:"green"},grey:{name:"Grey",value:"grey"},orange:{name:"Orange",value:"orange"},purple:{name:"Purple",value:"purple"},turquoise:{name:"Turquoise",value:"turquoise"},red:{name:"Red",value:"red"},white:{name:"White",value:"white"}},Kee=Xee([1,2,3,5,8,13,21]),Zee=Object.assign(Kee,{none:{name:"none",value:"none"}}),Qee=Xee([0,2,4,8,16,32,64,128,256]),Jee=Xee([0,.2,.4,.6,.8,1],"%",100),ete={axisLabelFormatting:{name:"Axis Label Formatting",inlineOptions:{normal:{name:"normal",value:"normal"},scientific:{name:"scientific",value:"scientific"}}},flipDiagonal:{name:"Flip Across Diagonal",inlineOptions:{none:{name:"No",value:"none"},yes:{name:"Yes",value:"yes"},copy:{name:"Copy",value:"copy"}}},heatmapValueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},valueScaling:{name:"Value Scaling",inlineOptions:{linear:{name:"Linear",value:"linear"},log:{name:"Log",value:"log"}}},extent:{name:"Extent",inlineOptions:{full:{name:"Full",value:"full"},upperRight:{name:"Upper Right",value:"upper-right"},lowerLeft:{name:"Lower Left",value:"lower-left"}}},labelLeftMargin:{name:"Label Left Margin",inlineOptions:Qee},labelRightMargin:{name:"Label Right Margin",inlineOptions:Qee},labelTopMargin:{name:"Label Top Margin",inlineOptions:Qee},labelBottomMargin:{name:"Label Bottom Margin",inlineOptions:Qee},labelShowResolution:{name:"Label Show Resolution",inlineOptions:Wee},labelShowAssembly:{name:"Label Show Assembly",inlineOptions:Wee},lineStrokeWidth:{name:"Stroke Width",inlineOptions:Kee},strokeWidth:{name:"Stroke Width",inlineOptions:Kee},trackBorderWidth:{name:"Track Border Width",inlineOptions:Kee},separatePlusMinusStrands:{name:"Separate +/- strands",inlineOptions:Wee},sortLargestOnTop:{name:"Sort Largest On Top",inlineOptions:Wee},showTexts:{name:"Show texts",inlineOptions:Wee},staggered:{name:"Staggered",inlineOptions:Wee},minSquareSize:{name:"Minimum size",inlineOptions:Zee},pointSize:{name:"Point Size",inlineOptions:Kee},pointColor:{name:"Point Color",inlineOptions:qee},trackBorderColor:{name:"Track Border Color",inlineOptions:qee},backgroundColor:{name:"Background Color",inlineOptions:{white:{name:"White",value:"white"},lightGrey:{name:"Light Grey",value:"#eeeeee"},grey:{name:"Grey",value:"#cccccc"},black:{name:"Black",value:"black"},transparent:{name:"Transparent",value:"transparent"}}},colorScale:{name:"Color Scale",inlineOptions:{epilogos:{name:"Epilogos",values:["#FF0000","#FF4500","#32CD32","#008000","#006400","#C2E105","#FFFF00","#66CDAA","#8A91D0","#CD5C5C","#E9967A","#BDB76B","#808080","#C0C0C0","#FFFFFF"]},category10:{name:"D3 Category10",values:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]}}},minusStrandColor:{name:"- Strand Color",inlineOptions:qee},plusStrandColor:{name:"+ Strand Color",inlineOptions:qee},lineStrokeColor:{name:"Stroke color",inlineOptions:qee},projectionStrokeColor:{name:"Stroke color",inlineOptions:qee},projectionFillColor:{name:"Fill color",inlineOptions:qee},stroke:{name:"Stroke Color",inlineOptions:qee},strokeColor:{name:"Stroke color",inlineOptions:qee},fill:{name:"Fill Color",inlineOptions:qee},color:{name:"Color",inlineOptions:qee},fontColor:{name:"Font color",inlineOptions:qee},fillColor:{name:"Fill color",inlineOptions:qee},barFillColor:{name:"Fill color",inlineOptions:qee},barFillColorTop:{name:"Top Fill color",inlineOptions:qee},barFillColorBottom:{name:"Bottom Fill color",inlineOptions:qee},barOpacity:{name:"Bar opacity",inlineOptions:Jee},zeroLineVisible:{name:"Zero line visible",inlineOptions:Wee},zeroLineColor:{name:"Zero line color",inlineOptions:qee},zeroLineOpacity:{name:"Zero line opacity",inlineOptions:Xee([.2,.4,.6,.8,1],"%",100)},fillOpacity:{name:"Fill Opacity",inlineOptions:Jee},strokeOpacity:{name:"Stroke Opacity",inlineOptions:Jee},strokePos:{name:"Stroke Position",inlineOptions:{aroundInner:{name:"Around Inner",value:"around"},aroundCenter:{name:"Around Center",value:null},hidden:{name:"Hidden",value:"hidden"},top:{name:"Top",value:"top"},right:{name:"Right",value:"right"},bottom:{name:"Bottom",value:"bottom"},left:{name:"Left",value:"left"}}},barBorder:{name:"Bar border",inlineOptions:Wee},scaledHeight:{name:"Scaled height",inlineOptions:Wee},rectangleDomainStrokeColor:{name:"Stroke color",inlineOptions:qee},rectangleDomainFillColor:{name:"Fill color",inlineOptions:qee},rectangleDomainFillOpacity:{name:"Fill opacity",inlineOptions:Jee},rectangleDomainOpacity:{name:"Opacity",inlineOptions:Jee},mapboxStyle:{name:"Map style",inlineOptions:{streets:{name:"streets",value:"mapbox.streets"},light:{name:"light",value:"mapbox.light"},dark:{name:"dark",value:"mapbox.dark"},satellite:{name:"satellite",value:"mapbox.satellite"},"streets-satellite":{name:"streets-satellite",value:"mapbox.streets-satellite"},wheatpaste:{name:"wheatpaste",value:"mapbox.wheatpaste"},"streets-basic":{name:"streets-basic",value:"mapbox.streets-basic"},comic:{name:"comic",value:"mapbox.comic"},outdoors:{name:"outdoors",value:"mapbox.outdoors"},"run-bike-hike":{name:"run-bike-hike",value:"mapbox.run-bike-hike"},pencil:{name:"pencil",value:"mapbox.pencil"},pirates:{name:"pirates",value:"mapbox.pirates"},emerald:{name:"emerald",value:"mapbox.emerald"},"high-contrast":{name:"high-contrast",value:"mapbox.high-contrast"}}},oneDHeatmapFlipped:{name:"Flip Heatmap",inlineOptions:{yes:{name:"Yes",value:"yes"},no:{name:"No",value:null}}},showMousePosition:{name:"Show Mouse Position",inlineOptions:Wee},showTooltip:{name:"Show Tooltip",inlineOptions:Wee},fontSize:{name:"Font Size",inlineOptions:Xee([8,9,10,11,12,14,16,18,24],"px")},tickPositions:{name:"Tick Positions",inlineOptions:{even:{name:"Even",value:"even"},ends:{name:"Ends",value:"ends"}}},tickFormat:{name:"Tick Format",inlineOptions:{plain:{name:"Plain",value:"plain"},si:{name:"SI",value:"si"}}},colorEncoding:{name:"Color Encode Annotations",inlineOptions:{none:{name:"None",value:null},itemRgb:{name:"itemRgb",value:"itemRgb"}},generateOptions:$ee},fontIsAligned:{name:"Left-Align Font",inlineOptions:Wee},axisPositionHorizontal:{name:"Axis Position",inlineOptions:{left:{name:"Left",value:"left"},outsideLeft:{name:"Outside left",value:"outsideLeft"},right:{name:"Right",value:"right"},outsideRight:{name:"Outside right",value:"outsideRight"},hidden:{name:"Hidden",value:null}}},axisPositionVertical:{name:"Axis Position",inlineOptions:{top:{name:"Top",value:"top"},outsideTop:{name:"Outside top",value:"outsideTop"},bottom:{name:"Bottom",value:"bottom"},outsideBottom:{name:"Outside bottom",value:"outsideBottom"},hidden:{name:"Hidden",value:null}}},axisMargin:{name:"Axis Margin",inlineOptions:Xee([0,10,20,30,40,50,100,200,400],"px")},colorbarPosition:{name:"Colorbar Position",inlineOptions:{topLeft:{name:"Top Left",value:"topLeft"},topRight:{name:"Top Right",value:"topRight"},bottomLeft:{name:"Bottom Left",value:"bottomLeft"},bottomRight:{name:"Bottom Right",value:"bottomRight"},hidden:{name:"Hidden",value:null}}},colorbarBackgroundColor:{name:"Colorbar Background Color",inlineOptions:qee},colorbarBackgroundOpacity:{name:"Colorbar Background Opacity",inlineOptions:Jee},colorbarLabelsPosition:{name:"Colorbar Labels Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},labelColor:{name:"Label Color",inlineOptions:{...qee,use_stroke:{name:"Glyph color",value:"[glyph-color]"}}},labelPosition:{name:"Label Position",inlineOptions:{ol:{name:"Outer left",value:"outerLeft"},or:{name:"Outer right",value:"outerRight"},ot:{name:"Outer top",value:"outerTop"},ob:{name:"Outer bottom",value:"outerBottom"},tl:{name:"Top left",value:"topLeft"},tr:{name:"Top right",value:"topRight"},bl:{name:"Bottom left",value:"bottomLeft"},br:{name:"Bottom right",value:"bottomRight"},hidden:{name:"Hidden",value:"hidden"}}},labelTextOpacity:{name:"Label Text Opacity",inlineOptions:Jee},geneAnnotationHeight:{name:"Gene Annotation Height",inlineOptions:{8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16}}},annotationHeight:{name:"Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},scaled:{name:"scaled",value:"scaled"}}},maxAnnotationHeight:{name:"Max Annotation Height",inlineOptions:{5:{name:"5px",value:5},8:{name:"8px",value:8},10:{name:"10px",value:10},12:{name:"12px",value:12},16:{name:"16px",value:16},20:{name:"20px",value:20},none:{name:"none",value:null}}},annotationStyle:{name:"Annotation Style",inlineOptions:{box:{name:"Box",value:"box"},segment:{name:"Segment",value:"segment"}}},geneLabelPosition:{name:"Gene Label Position",inlineOptions:{inside:{name:"Inside",value:"inside"},outside:{name:"Outside",value:"outside"}}},geneStrandSpacing:{name:"Gene Strand Spacing",inlineOptions:{2:{name:"2px",value:2},4:{name:"4px",value:4},8:{name:"8px",value:8}}},labelBackgroundColor:{name:"Label Background Color",inlineOptions:qee},labelBackgroundOpacity:{name:"Label Background Opacity",inlineOptions:Jee},viewResolution:{name:"View Resolution",inlineOptions:{high:{name:"High",value:384},medium:{name:"Medium",value:1024},low:{name:"Low",value:2048}}},colorRange:{name:"Color map",inlineOptions:{afmhot:{name:"afmhot",value:["rgba(0,0,0,1.0)","rgba(128,0,0,1.0)","rgba(256,129,1,1.0)","rgba(256,256,129,1.0)","rgba(256,256,256,1.0)"]},fall:{name:"fall",value:["white","rgba(245,166,35,1.0)","rgba(208,2,27,1.0)","black"]},hot:{name:"hot",value:["rgba(10,0,0,1.0)","rgba(179,0,0,1.0)","rgba(256,91,0,1.0)","rgba(256,256,6,1.0)","rgba(256,256,256,1.0)"]},jet:{name:"jet",value:["rgba(0,0,128,1.0)","rgba(0,129,256,1.0)","rgba(125,256,122,1.0)","rgba(256,148,0,1.0)","rgba(128,0,0,1.0)"]},bwr:{name:"bwr",value:["rgba(0,0,256,1.0)","rgba(128,128,256,1.0)","rgba(256,254,254,1.0)","rgba(256,126,126,1.0)","rgba(256,0,0,1.0)"]},cubehelix:{name:"cubehelix",value:["rgba(0,0,0,1.0)","rgba(21,83,76,1.0)","rgba(162,121,74,1.0)","rgba(199,180,238,1.0)","rgba(256,256,256,1.0)"]},rainbow:{name:"rainbow",value:["rgba(128,0,256,1.0)","rgba(0,181,236,1.0)","rgba(129,255,180,1.0)","rgba(256,179,96,1.0)","rgba(256,0,0,1.0)"]},gray:{name:"greys",value:["rgba(255,255,255,1)","rgba(0,0,0,1)"]},red:{name:"White to red",value:["rgba(255,255,255,1)","rgba(255,0,0,1)"]},green:{name:"White to green",value:["rgba(255,255,255,1)","rgba(0,255,0,1)"]},blue:{name:"White to blue",value:["rgba(255,255,255,1)","rgba(0,0,255,1)"]},custard:{name:"custard",value:["#FFFFFF","#F8E71C","rgba(245,166,35,1)","rgba(0,0,0,1)"]},magma:{name:"magma",value:["rgba(0,0,3,1)","rgba(0,0,4,1)","rgba(0,0,6,1)","rgba(1,0,7,1)","rgba(1,1,9,1)","rgba(1,1,11,1)","rgba(2,2,13,1)","rgba(2,2,15,1)","rgba(3,3,17,1)","rgba(4,3,19,1)","rgba(4,4,21,1)","rgba(5,4,23,1)","rgba(6,5,25,1)","rgba(7,5,27,1)","rgba(8,6,29,1)","rgba(9,7,32,1)","rgba(10,7,34,1)","rgba(11,8,36,1)","rgba(12,9,38,1)","rgba(13,10,40,1)","rgba(14,10,42,1)","rgba(15,11,45,1)","rgba(16,12,47,1)","rgba(17,12,49,1)","rgba(19,13,51,1)","rgba(20,13,54,1)","rgba(21,14,56,1)","rgba(22,14,58,1)","rgba(23,15,61,1)","rgba(25,15,63,1)","rgba(26,16,66,1)","rgba(27,16,68,1)","rgba(28,16,70,1)","rgba(30,17,73,1)","rgba(31,17,75,1)","rgba(33,17,78,1)","rgba(34,17,80,1)","rgba(36,17,83,1)","rgba(37,17,85,1)","rgba(39,17,87,1)","rgba(40,17,90,1)","rgba(42,17,92,1)","rgba(43,17,94,1)","rgba(45,17,97,1)","rgba(47,16,99,1)","rgba(49,16,101,1)","rgba(50,16,103,1)","rgba(52,16,105,1)","rgba(54,15,107,1)","rgba(55,15,108,1)","rgba(57,15,110,1)","rgba(59,15,112,1)","rgba(61,15,113,1)","rgba(62,15,114,1)","rgba(64,15,116,1)","rgba(66,15,117,1)","rgba(67,15,118,1)","rgba(69,15,119,1)","rgba(71,15,120,1)","rgba(72,16,120,1)","rgba(74,16,121,1)","rgba(76,16,122,1)","rgba(77,17,123,1)","rgba(79,17,123,1)","rgba(81,18,124,1)","rgba(82,18,124,1)","rgba(84,19,125,1)","rgba(85,20,125,1)","rgba(87,20,126,1)","rgba(88,21,126,1)","rgba(90,21,126,1)","rgba(92,22,127,1)","rgba(93,23,127,1)","rgba(95,23,127,1)","rgba(96,24,128,1)","rgba(98,25,128,1)","rgba(99,25,128,1)","rgba(101,26,128,1)","rgba(103,26,128,1)","rgba(104,27,129,1)","rgba(106,28,129,1)","rgba(107,28,129,1)","rgba(109,29,129,1)","rgba(110,30,129,1)","rgba(112,30,129,1)","rgba(113,31,129,1)","rgba(115,32,129,1)","rgba(117,32,129,1)","rgba(118,33,129,1)","rgba(120,33,129,1)","rgba(121,34,130,1)","rgba(123,35,130,1)","rgba(124,35,130,1)","rgba(126,36,130,1)","rgba(128,36,130,1)","rgba(129,37,129,1)","rgba(131,37,129,1)","rgba(132,38,129,1)","rgba(134,39,129,1)","rgba(136,39,129,1)","rgba(137,40,129,1)","rgba(139,40,129,1)","rgba(140,41,129,1)","rgba(142,41,129,1)","rgba(144,42,129,1)","rgba(145,42,129,1)","rgba(147,43,128,1)","rgba(148,43,128,1)","rgba(150,44,128,1)","rgba(152,44,128,1)","rgba(153,45,128,1)","rgba(155,46,127,1)","rgba(157,46,127,1)","rgba(158,47,127,1)","rgba(160,47,127,1)","rgba(161,48,126,1)","rgba(163,48,126,1)","rgba(165,49,126,1)","rgba(166,49,125,1)","rgba(168,50,125,1)","rgba(170,50,125,1)","rgba(171,51,124,1)","rgba(173,51,124,1)","rgba(175,52,123,1)","rgba(176,52,123,1)","rgba(178,53,123,1)","rgba(180,53,122,1)","rgba(181,54,122,1)","rgba(183,55,121,1)","rgba(185,55,121,1)","rgba(186,56,120,1)","rgba(188,56,120,1)","rgba(189,57,119,1)","rgba(191,57,118,1)","rgba(193,58,118,1)","rgba(194,59,117,1)","rgba(196,59,117,1)","rgba(198,60,116,1)","rgba(199,61,115,1)","rgba(201,61,115,1)","rgba(202,62,114,1)","rgba(204,63,113,1)","rgba(206,63,113,1)","rgba(207,64,112,1)","rgba(209,65,111,1)","rgba(210,66,110,1)","rgba(212,67,110,1)","rgba(213,67,109,1)","rgba(215,68,108,1)","rgba(216,69,107,1)","rgba(218,70,107,1)","rgba(219,71,106,1)","rgba(221,72,105,1)","rgba(222,73,104,1)","rgba(223,74,103,1)","rgba(225,75,103,1)","rgba(226,76,102,1)","rgba(227,78,101,1)","rgba(229,79,100,1)","rgba(230,80,100,1)","rgba(231,81,99,1)","rgba(232,83,98,1)","rgba(233,84,97,1)","rgba(234,85,97,1)","rgba(236,87,96,1)","rgba(237,88,95,1)","rgba(238,90,95,1)","rgba(239,91,94,1)","rgba(239,93,94,1)","rgba(240,95,93,1)","rgba(241,96,93,1)","rgba(242,98,93,1)","rgba(243,100,92,1)","rgba(243,101,92,1)","rgba(244,103,92,1)","rgba(245,105,92,1)","rgba(246,107,92,1)","rgba(246,108,92,1)","rgba(247,110,92,1)","rgba(247,112,92,1)","rgba(248,114,92,1)","rgba(248,116,92,1)","rgba(249,118,92,1)","rgba(249,120,92,1)","rgba(250,121,93,1)","rgba(250,123,93,1)","rgba(250,125,94,1)","rgba(251,127,94,1)","rgba(251,129,95,1)","rgba(251,131,95,1)","rgba(252,133,96,1)","rgba(252,135,97,1)","rgba(252,137,97,1)","rgba(252,139,98,1)","rgba(253,140,99,1)","rgba(253,142,100,1)","rgba(253,144,101,1)","rgba(253,146,102,1)","rgba(253,148,103,1)","rgba(254,150,104,1)","rgba(254,152,105,1)","rgba(254,154,106,1)","rgba(254,156,107,1)","rgba(254,157,108,1)","rgba(254,159,109,1)","rgba(254,161,110,1)","rgba(254,163,111,1)","rgba(254,165,112,1)","rgba(255,167,114,1)","rgba(255,169,115,1)","rgba(255,171,116,1)","rgba(255,172,118,1)","rgba(255,174,119,1)","rgba(255,176,120,1)","rgba(255,178,122,1)","rgba(255,180,123,1)","rgba(255,182,124,1)","rgba(255,184,126,1)","rgba(255,185,127,1)","rgba(255,187,129,1)","rgba(255,189,130,1)","rgba(255,191,132,1)","rgba(255,193,133,1)","rgba(255,195,135,1)","rgba(255,197,136,1)","rgba(255,198,138,1)","rgba(255,200,140,1)","rgba(255,202,141,1)","rgba(255,204,143,1)","rgba(254,206,144,1)","rgba(254,208,146,1)","rgba(254,209,148,1)","rgba(254,211,149,1)","rgba(254,213,151,1)","rgba(254,215,153,1)","rgba(254,217,155,1)","rgba(254,219,156,1)","rgba(254,220,158,1)","rgba(254,222,160,1)","rgba(254,224,162,1)","rgba(254,226,163,1)","rgba(253,228,165,1)","rgba(253,230,167,1)","rgba(253,231,169,1)","rgba(253,233,171,1)","rgba(253,235,172,1)","rgba(253,237,174,1)","rgba(253,239,176,1)","rgba(253,241,178,1)","rgba(253,242,180,1)","rgba(253,244,182,1)","rgba(253,246,184,1)","rgba(252,248,186,1)","rgba(252,250,188,1)","rgba(252,251,189,1)","rgba(252,253,191,1)"]},viridis:{name:"viridis",value:["rgba(68,1,84,1)","rgba(68,2,85,1)","rgba(69,3,87,1)","rgba(69,5,88,1)","rgba(69,6,90,1)","rgba(70,8,91,1)","rgba(70,9,93,1)","rgba(70,11,94,1)","rgba(70,12,96,1)","rgba(71,14,97,1)","rgba(71,15,98,1)","rgba(71,17,100,1)","rgba(71,18,101,1)","rgba(71,20,102,1)","rgba(72,21,104,1)","rgba(72,22,105,1)","rgba(72,24,106,1)","rgba(72,25,108,1)","rgba(72,26,109,1)","rgba(72,28,110,1)","rgba(72,29,111,1)","rgba(72,30,112,1)","rgba(72,32,113,1)","rgba(72,33,115,1)","rgba(72,34,116,1)","rgba(72,36,117,1)","rgba(72,37,118,1)","rgba(72,38,119,1)","rgba(72,39,120,1)","rgba(71,41,121,1)","rgba(71,42,121,1)","rgba(71,43,122,1)","rgba(71,44,123,1)","rgba(71,46,124,1)","rgba(70,47,125,1)","rgba(70,48,126,1)","rgba(70,49,126,1)","rgba(70,51,127,1)","rgba(69,52,128,1)","rgba(69,53,129,1)","rgba(69,54,129,1)","rgba(68,56,130,1)","rgba(68,57,131,1)","rgba(68,58,131,1)","rgba(67,59,132,1)","rgba(67,60,132,1)","rgba(67,62,133,1)","rgba(66,63,133,1)","rgba(66,64,134,1)","rgba(65,65,134,1)","rgba(65,66,135,1)","rgba(65,67,135,1)","rgba(64,69,136,1)","rgba(64,70,136,1)","rgba(63,71,136,1)","rgba(63,72,137,1)","rgba(62,73,137,1)","rgba(62,74,137,1)","rgba(61,75,138,1)","rgba(61,77,138,1)","rgba(60,78,138,1)","rgba(60,79,138,1)","rgba(59,80,139,1)","rgba(59,81,139,1)","rgba(58,82,139,1)","rgba(58,83,139,1)","rgba(57,84,140,1)","rgba(57,85,140,1)","rgba(56,86,140,1)","rgba(56,87,140,1)","rgba(55,88,140,1)","rgba(55,89,140,1)","rgba(54,91,141,1)","rgba(54,92,141,1)","rgba(53,93,141,1)","rgba(53,94,141,1)","rgba(52,95,141,1)","rgba(52,96,141,1)","rgba(51,97,141,1)","rgba(51,98,141,1)","rgba(51,99,141,1)","rgba(50,100,142,1)","rgba(50,101,142,1)","rgba(49,102,142,1)","rgba(49,103,142,1)","rgba(48,104,142,1)","rgba(48,105,142,1)","rgba(47,106,142,1)","rgba(47,107,142,1)","rgba(47,108,142,1)","rgba(46,109,142,1)","rgba(46,110,142,1)","rgba(45,111,142,1)","rgba(45,112,142,1)","rgba(45,112,142,1)","rgba(44,113,142,1)","rgba(44,114,142,1)","rgba(43,115,142,1)","rgba(43,116,142,1)","rgba(43,117,142,1)","rgba(42,118,142,1)","rgba(42,119,142,1)","rgba(41,120,142,1)","rgba(41,121,142,1)","rgba(41,122,142,1)","rgba(40,123,142,1)","rgba(40,124,142,1)","rgba(40,125,142,1)","rgba(39,126,142,1)","rgba(39,127,142,1)","rgba(38,128,142,1)","rgba(38,129,142,1)","rgba(38,130,142,1)","rgba(37,131,142,1)","rgba(37,131,142,1)","rgba(37,132,142,1)","rgba(36,133,142,1)","rgba(36,134,142,1)","rgba(35,135,142,1)","rgba(35,136,142,1)","rgba(35,137,142,1)","rgba(34,138,141,1)","rgba(34,139,141,1)","rgba(34,140,141,1)","rgba(33,141,141,1)","rgba(33,142,141,1)","rgba(33,143,141,1)","rgba(32,144,141,1)","rgba(32,145,140,1)","rgba(32,146,140,1)","rgba(32,147,140,1)","rgba(31,147,140,1)","rgba(31,148,140,1)","rgba(31,149,139,1)","rgba(31,150,139,1)","rgba(31,151,139,1)","rgba(30,152,139,1)","rgba(30,153,138,1)","rgba(30,154,138,1)","rgba(30,155,138,1)","rgba(30,156,137,1)","rgba(30,157,137,1)","rgba(30,158,137,1)","rgba(30,159,136,1)","rgba(30,160,136,1)","rgba(31,161,136,1)","rgba(31,162,135,1)","rgba(31,163,135,1)","rgba(31,163,134,1)","rgba(32,164,134,1)","rgba(32,165,134,1)","rgba(33,166,133,1)","rgba(33,167,133,1)","rgba(34,168,132,1)","rgba(35,169,131,1)","rgba(35,170,131,1)","rgba(36,171,130,1)","rgba(37,172,130,1)","rgba(38,173,129,1)","rgba(39,174,129,1)","rgba(40,175,128,1)","rgba(41,175,127,1)","rgba(42,176,127,1)","rgba(43,177,126,1)","rgba(44,178,125,1)","rgba(46,179,124,1)","rgba(47,180,124,1)","rgba(48,181,123,1)","rgba(50,182,122,1)","rgba(51,183,121,1)","rgba(53,183,121,1)","rgba(54,184,120,1)","rgba(56,185,119,1)","rgba(57,186,118,1)","rgba(59,187,117,1)","rgba(61,188,116,1)","rgba(62,189,115,1)","rgba(64,190,114,1)","rgba(66,190,113,1)","rgba(68,191,112,1)","rgba(70,192,111,1)","rgba(72,193,110,1)","rgba(73,194,109,1)","rgba(75,194,108,1)","rgba(77,195,107,1)","rgba(79,196,106,1)","rgba(81,197,105,1)","rgba(83,198,104,1)","rgba(85,198,102,1)","rgba(88,199,101,1)","rgba(90,200,100,1)","rgba(92,201,99,1)","rgba(94,201,98,1)","rgba(96,202,96,1)","rgba(98,203,95,1)","rgba(101,204,94,1)","rgba(103,204,92,1)","rgba(105,205,91,1)","rgba(108,206,90,1)","rgba(110,206,88,1)","rgba(112,207,87,1)","rgba(115,208,85,1)","rgba(117,208,84,1)","rgba(119,209,82,1)","rgba(122,210,81,1)","rgba(124,210,79,1)","rgba(127,211,78,1)","rgba(129,212,76,1)","rgba(132,212,75,1)","rgba(134,213,73,1)","rgba(137,213,72,1)","rgba(139,214,70,1)","rgba(142,215,68,1)","rgba(144,215,67,1)","rgba(147,216,65,1)","rgba(149,216,63,1)","rgba(152,217,62,1)","rgba(155,217,60,1)","rgba(157,218,58,1)","rgba(160,218,57,1)","rgba(163,219,55,1)","rgba(165,219,53,1)","rgba(168,220,51,1)","rgba(171,220,50,1)","rgba(173,221,48,1)","rgba(176,221,46,1)","rgba(179,221,45,1)","rgba(181,222,43,1)","rgba(184,222,41,1)","rgba(187,223,39,1)","rgba(189,223,38,1)","rgba(192,223,36,1)","rgba(195,224,35,1)","rgba(197,224,33,1)","rgba(200,225,32,1)","rgba(203,225,30,1)","rgba(205,225,29,1)","rgba(208,226,28,1)","rgba(211,226,27,1)","rgba(213,226,26,1)","rgba(216,227,25,1)","rgba(219,227,24,1)","rgba(221,227,24,1)","rgba(224,228,24,1)","rgba(226,228,24,1)","rgba(229,228,24,1)","rgba(232,229,25,1)","rgba(234,229,25,1)","rgba(237,229,26,1)","rgba(239,230,27,1)","rgba(242,230,28,1)","rgba(244,230,30,1)","rgba(247,230,31,1)","rgba(249,231,33,1)","rgba(251,231,35,1)","rgba(254,231,36,1)"]},custom:{name:"Custom...",componentPickers:{heatmap:Yee,"horizontal-heatmap":Yee}}}},align:{name:"Align",inlineOptions:{white:{name:"Top",value:"top"},lightGrey:{name:"Bottom",value:"bottom"}}},colorRangeGradient:{name:"Color Gradient",inlineOptions:Wee},dataTransform:{name:"Transforms",inlineOptions:{default:{name:"Default",value:"default"},None:{name:"None",value:"None"}},generateOptions:e=>{const t=[];if(e.transforms)for(const n of e.transforms)t.push({name:n.name,value:n.value});return t}},aggregationMode:{name:"Aggregation Mode",inlineOptions:{},generateOptions:e=>{const t=[];return e.aggregationModes?Object.values(e.aggregationModes).forEach((({name:e,value:n})=>{t.push({name:e,value:n})})):t.push({name:"Default",value:"default"}),t}},maxZoom:{name:"Zoom limit",inlineOptions:{none:{name:"None",value:null}},generateOptions:e=>{if(e.maxZoom){const t=[];for(let n=0;n<=e.maxZoom;n++){const{maxWidth:r,binsPerDimension:i,maxZoom:o}=e;let a=1,s=1;if(e.resolutions){const t=e.resolutions.map((e=>+e)).sort(((e,t)=>t-e));[a]=t,s=t[n]}else s=e.maxWidth/(2**n*e.binsPerDimension),a=r/(2**o*i);const l=ci(a,s),c=ri(`.${l}`,s)(s);t.push({name:c,value:n.toString()})}return t}return[]}},valueColumn:{name:"Value column",inlineOptions:{none:{name:"None",value:null}},generateOptions:$ee},zeroValueColor:{name:"Zero Value Color",inlineOptions:qee}},tte={...sm,IS_TRACK_RANGE_SELECTABLE:wb,OPTIONS_INFO:ete},nte={d3Array:Zt,d3Axis:IY,d3Brush:gp,d3Color:pr,d3Drag:Bh,d3Dsv:Xm,d3Format:hi,d3Geo:$J,d3Queue:t0,d3Request:O0,d3Scale:ns,d3Selection:ze,d3Transition:Pj,d3Zoom:Xj,PIXI:tte.GLOBALS.PIXI,mix:uq,slugid:Ns},rte={chromosomes:{ChromosomeInfo:HW,SearchField:GW},libraries:nte,tracks:{Annotations1dTrack:FW,Annotations2dTrack:BW,ArrowheadDomainsTrack:LW,BarTrack:bW,BedLikeTrack:lW,CNVIntervalTrack:TW,Chromosome2DAnnotations:YW,Chromosome2DLabels:zW,ChromosomeGrid:VW,CombinedTrack:Ig,CrossRule:gq,DivergentBarTrack:vW,HeatmapTiledPixiTrack:oY,Horizontal1dHeatmapTrack:yW,Horizontal2DDomainsTrack:UW,HorizontalChromosomeLabels:XW,HorizontalGeneAnnotationsTrack:RW,HorizontalHeatmapTrack:WW,HorizontalLine1DPixiTrack:dW,HorizontalMultivecTrack:mW,HorizontalPoint1DPixiTrack:pW,HorizontalRule:pq,HorizontalTiled1DPixiTrack:uY,HorizontalTiledPlot:z0,HorizontalTrack:F0,Id2DTiledPixiTrack:lY,IdHorizontal1DTiledPixiTrack:hY,IdVertical1DTiledPixiTrack:pY,LeftAxisTrack:PY,MapboxTilesTrack:yq,MoveableTrack:L0,OSMTileIdsTrack:vq,OSMTilesTrack:bq,OverlayTrack:hW,PixiTrack:BH,RasterTilesTrack:Tq,SVGTrack:OY,SquareMarkersTrack:jW,Tiled1DPixiTrack:cY,TiledPixiTrack:tY,TopAxisTrack:DY,Track:MH,ValueIntervalTrack:KW,VerticalRule:mq,VerticalTiled1DPixiTrack:dY,VerticalTrack:Y0,ViewportTracker2D:ZW,ViewportTracker2DPixi:$0,ViewportTrackerHorizontal:QW,ViewportTrackerVertical:JW},dataFetchers:{DataFetcher:FH,GBKDataFetcher:QV,LocalDataFetcher:JV,getDataFetcher:(e,t,n,r=rte)=>{const i=n[e.type];return i?new i.dataFetcher(r,e,t):"genbank"===e.type?new QV(e,t):"local-tiles"===e.type?new JV(e,t):new FH(e,t)}},factories:{ContextMenuItem:Th,DataFetcher:FH,LruCache:X0},services:gg,utils:Qj,configs:tte,VERSION:W0},ite="_track-renderer_11dwb_1",ote="_track-renderer-element_11dwb_5",ate="_track-renderer-events_11dwb_6",{getDataFetcher:ste}=rte.dataFetchers;let lte=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).dragging=!1,r.element=null,r.closing=!1,r.yPositionOffset=0,r.xPositionOffset=0,r.scrollTop=0,r.scrollTimeout=null,r.activeTransitions=0,r.zoomTransform=Lj,r.windowScrolledBound=r.windowScrolled.bind(a(r)),r.zoomStartedBound=r.zoomStarted.bind(a(r)),r.zoomedBound=r.zoomed.bind(a(r)),r.zoomEndedBound=r.zoomEnded.bind(a(r)),r.uid=Ns.nice(),r.viewUid=r.props.uid,r.availableForPlugins={...rte,services:{...rte.services,pubSub:r.props.pubSub,pixiRenderer:r.props.pixiRenderer}},r.mounted=!1,r.emptyZoomBehavior=$j(),r.currentProps=e,r.prevPropsStr="",r.zoomBehavior=$j().filter((e=>!e.target.classList.contains("no-zoom")&&!e.target.classList.contains("react-resizable-handle"))).on("start",r.zoomStartedBound).on("zoom",r.zoomedBound).on("end",r.zoomEndedBound),r.zoomTransform=Lj,r.prevZoomTransform=Lj,r.initialXDomain=[0,1],r.initialYDomain=[0,1],r.xDomainLimits=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],r.yDomainLimits=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],r.zoomLimits=[0,Number.MAX_SAFE_INTEGER],r.prevCenterX=r.currentProps.paddingLeft+r.currentProps.leftWidth+r.currentProps.centerWidth/2,r.prevCenterY=r.currentProps.paddingTop+r.currentProps.topHeight+r.currentProps.centerHeight/2,r.cumCenterXOffset=0,r.cumCenterYOffset=0,r.setUpInitialScales(r.currentProps.initialXDomain,r.currentProps.initialYDomain,r.currentProps.xDomainLimits,r.currentProps.yDomainLimits,r.currentProps.zoomLimits),r.setUpScales(),r.trackDefObjects={},r.metaTracks={},r.pubSubs=[],window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach((e=>{rm[e]=window.higlassTracksByType[e].config})),r.boundForwardEvent=r.forwardEvent.bind(a(r)),r.boundScrollEvent=r.scrollEvent.bind(a(r)),r.boundForwardContextMenu=r.forwardContextMenu.bind(a(r)),r.dispatchEventBound=r.dispatchEvent.bind(a(r)),r.zoomToDataPosHandlerBound=r.zoomToDataPosHandler.bind(a(r)),r.onScrollHandlerBound=r.onScrollHandler.bind(a(r)),r}return f(n,[{key:"UNSAFE_componentWillMount",value:function(){this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("scroll",this.windowScrolledBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.event",this.dispatchEventBound)),this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos",this.zoomToDataPosHandlerBound)),this.pubSubs.push(this.props.pubSub.subscribe("app.scroll",this.onScrollHandlerBound))}},{key:"componentDidMount",value:function(){if(this.elementPos=this.element.getBoundingClientRect(),this.elementSelection=Be(this.element),this.svgTrackAreaSelection=Be(this.svgTrackArea),this.pStage=new Rf.PIXI.Graphics,this.pMask=new Rf.PIXI.Graphics,this.pOutline=new Rf.PIXI.Graphics,this.pBackground=new Rf.PIXI.Graphics,this.pStage.addChild(this.pMask),this.pStage.addChild(this.pOutline),this.currentProps.pixiStage.addChild(this.pStage),this.pStage.mask=this.pMask,this.props.isRangeSelection||this.addZoom(),!this.currentProps.svgElement||!this.currentProps.canvasElement)return;this.svgElement=this.currentProps.svgElement,this.syncTrackObjects(this.currentProps.positionedTracks),this.syncMetaTracks(this.currentProps.metaTracks),this.currentProps.setCentersFunction(this.setCenter.bind(this)),this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)),this.draggingChanged(!0),this.addEventTracker();const e=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],t=this.svgElement.getBoundingClientRect(),n=[[Math.max(e[0][0],0),Math.max(e[0][1],0)],[Math.min(e[1][0],t.width),Math.min(e[1][1],t.height)]];this.zoomBehavior.extent(n).translateExtent(e).scaleExtent(this.zoomLimits)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!e.svgElement||!e.canvasElement)return;const t=this.updatablePropsToString(e);if(this.currentProps=e,this.prevPropsStr===t)return;this.setBackground();for(const e in this.trackDefObjects)this.trackDefObjects[e].trackObject.delayDrawing=!0;this.prevPropsStr=t,this.setUpInitialScales(e.initialXDomain,e.initialYDomain,e.xDomainLimits,e.yDomainLimits,e.zoomLimits),this.setUpScales(e.width!==this.props.width||e.height!==this.props.height),this.svgElement=e.svgElement;const n=[[this.xScale(this.xDomainLimits[0]),this.yScale(this.yDomainLimits[0])],[this.xScale(this.xDomainLimits[1]),this.yScale(this.yDomainLimits[1])]],r=this.svgElement.getBoundingClientRect(),i=[[Math.max(n[0][0],0),Math.max(n[0][1],0)],[Math.min(n[1][0],r.width),Math.min(n[1][1],r.height)]];this.zoomBehavior.extent(i).translateExtent(n).scaleExtent(this.zoomLimits),this.syncTrackObjects(e.positionedTracks),this.syncMetaTracks(e.metaTracks);for(const t of e.positionedTracks){const e=t.track.options,n=this.trackDefObjects[t.track.uid].trackObject;if(n.rerender(e),t.track.hasOwnProperty("contents")){const e={};for(const n of t.track.contents)e[n.uid]=n;for(const t in n.createdTracks)n.createdTracks[t].rerender(e[t].options)}}this.props.onNewTilesLoaded();for(const e in this.trackDefObjects){const t=this.trackDefObjects[e].trackObject;t.delayDrawing=!1,t.draw()}}},{key:"componentDidUpdate",value:function(e){this.props.initialXDomain[0]===e.initialXDomain[0]&&this.props.initialXDomain[1]===e.initialXDomain[1]&&this.props.initialYDomain[0]===e.initialYDomain[0]&&this.props.initialYDomain[1]===e.initialYDomain[1]||(this.element.__zoom=Lj),e.isRangeSelection!==this.props.isRangeSelection&&(this.props.isRangeSelection?this.removeZoom():this.addZoom()),e.zoomable!==this.props.zoomable&&(this.props.zoomable?this.addZoom():this.removeZoom()),this.addEventTracker()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.removeTracks(Object.keys(this.trackDefObjects)),this.removeMetaTracks(Object.keys(this.metaTracks)),this.currentProps.removeDraggingChangedListener(this.draggingChanged),this.currentProps.pixiStage.removeChild(this.pStage),this.pMask.destroy(!0),this.pStage.destroy(!0),this.pubSubs.forEach((e=>this.props.pubSub.unsubscribe(e))),this.pubSubs=[],this.removeEventTracker()}},{key:"dispatchEvent",value:function(e){e.sourceUid===this.uid&&"contextmenu"!==e.type&&_m(e,this.element)}},{key:"isWithin",value:function(e,t){if(!this.element)return!1;const n=e>=this.elementPos.left&&e<=this.elementPos.width+this.elementPos.left,r=t>=this.elementPos.top&&t<=this.elementPos.height+this.elementPos.top;return n&&r}},{key:"zoomToDataPosHandler",value:function({pos:e,animateTime:t,isMercator:n}){this.zoomToDataPos(...e,t,n)}},{key:"addZoom",value:function(){this.elementSelection&&this.currentProps.zoomable&&(this.elementSelection.call(this.zoomBehavior),this.zoomBehavior.transform(this.elementSelection,this.zoomTransform))}},{key:"removeZoom",value:function(){this.elementSelection&&(this.zoomEnded(),this.elementSelection.on(".zoom",null))}},{key:"setMask",value:function(){this.pMask.clear(),this.pMask.beginFill(),this.pMask.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pMask.endFill()}},{key:"setBackground",value:function(){const e=this.props.theme===Pf?"black":"white",t=lm(this.currentProps.viewOptions&&this.currentProps.viewOptions.backgroundColor||e);this.pBackground.clear(),this.pBackground.beginFill(t),this.pBackground.drawRect(this.xPositionOffset,this.yPositionOffset,this.currentProps.width,this.currentProps.height),this.pBackground.endFill()}},{key:"windowScrolled",value:function(){this.removeZoom(),this.scrollTimeout&&clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((()=>{this.addZoom()}),100)}},{key:"setUpInitialScales",value:function(e=[0,1],t=[0,1],n=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],r=[-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],i=[0,Number.MAX_SAFE_INTEGER]){i[0]=null===i[0]?0:i[0],i[1]=null===i[1]?1/0:i[1];const o=e[1]-e[0],a=(t[0]+t[1])/2;if(t[0]=a-o/2,t[1]=a+o/2,e[0]===this.initialXDomain[0]&&e[1]===this.initialXDomain[1]&&t[0]===this.initialYDomain[0]&&t[1]===this.initialYDomain[1]&&n[0]===this.xDomainLimits[0]&&n[1]===this.xDomainLimits[1]&&r[0]===this.yDomainLimits[0]&&r[1]===this.yDomainLimits[1]&&i[0]===this.zoomLimits[0]&&i[1]===this.zoomLimits[1])return;let s,l;this.initialXDomain=e,this.initialYDomain=t,this.xDomainLimits=n,this.yDomainLimits=r,this.zoomLimits=i,this.zoomTransform=Lj,this.prevZoomTransform=Lj,this.cumCenterYOffset=0,this.cumCenterXOffset=0,this.drawableToDomainX=fi().domain([this.currentProps.paddingLeft+this.currentProps.leftWidth,this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth]).range([e[0],e[1]]),0===this.currentProps.centerWidth?(s=this.currentProps.paddingTop+this.currentProps.topHeight,l=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight):(s=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2-this.currentProps.centerWidth/2,l=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2+this.currentProps.centerWidth/2),this.drawableToDomainY=fi().domain([s,l]).range([t[0],t[1]]),this.prevCenterX=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,this.prevCenterY=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2}},{key:"updatablePropsToString",value:function(e){return JSON.stringify({positionedTracks:e.positionedTracks,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,width:e.width,height:e.height,paddingLeft:e.paddingLeft,paddingTop:e.paddingTop,leftWidth:e.leftWidth,topHeight:e.topHeight,dragging:e.dragging,viewOptions:e.viewOptions})}},{key:"draggingChanged",value:function(e){this.dragging=e,this.timedUpdatePositionAndDimensions()}},{key:"setUpScales",value:function(e=!1){const t=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,n=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,r=(this.drawableToDomainX(t)-this.drawableToDomainX(this.prevCenterX))/this.zoomTransform.k,i=(this.drawableToDomainY(n)-this.drawableToDomainY(this.prevCenterY))/this.zoomTransform.k;this.cumCenterYOffset+=i,this.cumCenterXOffset+=r,this.prevCenterY=n,this.prevCenterX=t;const o=[this.drawableToDomainX(0)-this.cumCenterXOffset,this.drawableToDomainX(this.currentProps.width)-this.cumCenterXOffset],a=[this.drawableToDomainY(0)-this.cumCenterYOffset,this.drawableToDomainY(this.currentProps.height)-this.cumCenterYOffset];this.xScale=fi().domain(o).range([0,this.currentProps.width]),this.yScale=fi().domain(a).range([0,this.currentProps.height]);for(const e in this.trackDefObjects)this.trackDefObjects[e].trackObject.refScalesChanged(this.xScale,this.yScale);this.applyZoomTransform(e)}},{key:"getTrackDef",value:function(e){const t=fm(this.trackDefObjects);for(const[,{trackDef:n,trackObject:r}]of t){if(r===e)return n.track;if(n.track.contents)for(const t of n.track.contents)if(r.createdTracks[t.uid]===e)return t}return null}},{key:"getTrackObject",value:function(e){const t=fm(this.trackDefObjects);for(let n=0;n<t.length;n++){const r=t[n][0],i=t[n][1].trackObject;if(r===e)return i;if(i.createdTracks){const t=fm(i.createdTracks);for(let n=0;n<t.length;n++){const r=t[n][0],i=t[n][1];if(r===e)return i}}}}},{key:"timedUpdatePositionAndDimensions",value:function(){!this.closing&&this.element&&(this.elementPos=this.element.getBoundingClientRect(),this.dragging)&&(this.yPositionOffset=this.element.getBoundingClientRect().top-this.currentProps.canvasElement.getBoundingClientRect().top+this.scrollTop,this.xPositionOffset=this.element.getBoundingClientRect().left-this.currentProps.canvasElement.getBoundingClientRect().left,this.setMask(),this.setBackground(),this.updateTrackPositions()&&this.applyZoomTransform(!0),requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this)))}},{key:"syncMetaTracks",value:function(e){const t=Object.keys(this.metaTracks),n=new Set(e.map((e=>e.uid)));this.addMetaTracks(e.filter((e=>!this.metaTracks[e.uid]))),this.updateMetaTracks(e.filter((e=>this.metaTracks[e.uid]))),this.removeMetaTracks(t.filter((e=>!n.has(e))))}},{key:"syncTrackObjects",value:function(e){this.prevTrackDefinitions=JSON.stringify(e);const t={};for(let n=0;n<e.length;n++)t[e[n].track.uid]=e[n];const n=new Set(Object.keys(this.trackDefObjects)),r=new Set(Object.keys(t)),i=new Set([...r].filter((e=>!n.has(e)))),o=new Set([...n].filter((e=>!r.has(e)))),a=new Set([...r].filter((e=>n.has(e))));this.updateExistingTrackDefs([...a].map((e=>t[e]))),this.addNewTracks([...i].map((e=>t[e]))),this.updateExistingTrackDefs([...i].map((e=>t[e]))),this.removeTracks([...o])}},{key:"addMetaTracks",value:function(e){e.filter((e=>!this.metaTracks[e.uid])).forEach((e=>{this.metaTracks[e.uid]={trackDef:e,trackObject:this.createMetaTrack(e)}}))}},{key:"addNewTracks",value:function(e){if(this.currentProps.pixiStage){for(let t=0;t<e.length;t++){const n=e[t],r=this.createTrackObject(n.track);r.refScalesChanged(this.xScale,this.yScale),this.trackDefObjects[n.track.uid]={trackDef:n,trackObject:r};const i=this.zoomTransform.rescaleX(this.xScale),o=this.zoomTransform.rescaleY(this.yScale);r.setDimensions([n.width,n.height]),r.zoomed(i,o)}this.applyZoomTransform(!1)}}},{key:"updateMetaTracks",value:function(){}},{key:"updateExistingTrackDefs",value:function(e){for(let t=0;t<e.length;t++)this.trackDefObjects[e[t].track.uid].trackDef=e[t],"combined"===e[t].track.type&&this.trackDefObjects[e[t].track.uid].trackObject.updateContents(e[t].track.contents,this.createTrackObject.bind(this)).refScalesChanged(this.xScale,this.yScale);this.updateTrackPositions()&&this.applyZoomTransform(!1)}},{key:"updateTrackPositions",value:function(){let e=!1;for(const t in this.trackDefObjects){const n=this.trackDefObjects[t].trackDef,r=this.trackDefObjects[t].trackObject,i=r.position,o=r.dimensions,a=[this.xPositionOffset+n.left,this.yPositionOffset+n.top],s=[n.width,n.height];i&&a[0]===i[0]&&a[1]===i[1]||(r.setPosition(a),e=!0),o&&s[0]===o[0]&&s[1]===o[1]||(r.setDimensions(s),e=!0)}return e}},{key:"removeMetaTracks",value:function(e){e.forEach((e=>{this.metaTracks[e].trackObject.remove(),this.metaTracks[e]=void 0,delete this.metaTracks[e]}))}},{key:"removeTracks",value:function(e){for(let t=0;t<e.length;t++)this.trackDefObjects[e[t]].trackObject.remove(),delete this.trackDefObjects[e[t]]}},{key:"setCenter",value:function(e,t,n,r=!1,i=0,o=this.xScale,a=this.yScale){const s=(this.xScale.invert(1)-this.xScale.invert(0))/n,l=this.currentProps.paddingLeft+this.currentProps.leftWidth+this.currentProps.centerWidth/2,c=this.currentProps.paddingTop+this.currentProps.topHeight+this.currentProps.centerHeight/2,u=l-o(e)*s,h=c-a(t)*s;let d;const p=()=>{const e=Lj.translate(u,h).scale(s);this.zoomTransform=e,this.emptyZoomBehavior.transform(this.elementSelection,e),d=this.applyZoomTransform(r)};if(i){let e=this.elementSelection;this.activeTransitions+=1,document.hidden||(e=e.transition().duration(i)),e.call(this.zoomBehavior.transform,Lj.translate(u,h).scale(s)).on("end",(()=>{p(),this.activeTransitions-=1}))}else p();return d}},{key:"valueScaleMove",value:function(e){for(const t of this.getTracksAtPosition(...this.zoomStartPos))t.movedY(e);this.zoomTransform=this.zoomStartTransform}},{key:"valueScaleZoom",value:function(e,t){const n=e.sourceEvent.deltaY*(e.sourceEvent.deltaMode?120:1)/500,r=Ge(e.sourceEvent,this.props.canvasElement);for(const e of this.getTracksAtPosition(...r)){const i="1d-horizontal"===t?r[1]-e.position[1]:r[0]-e.position[0];e.zoomedY(i,2**n)}this.zoomTransform=this.zoomStartTransform}},{key:"zoomed",value:function(e){let t=null;if(this.zoomStartPos){const e=this.getTracksAtPosition(...this.zoomStartPos);if(e.length){const n=e[0],r=this.getTrackDef(n);rm[r.type]&&(t=rm[r.type].orientation),n instanceof _W&&(t="1d-vertical")}}if(t&&e.sourceEvent){if(e.shiftKey||this.valueScaleZooming){if(void 0!==e.sourceEvent.deltaY)return void this.valueScaleZoom(e,t);"1d-horizontal"===t?this.valueScaleMove(e.sourceEvent.movementY):"1d-vertical"===t&&this.valueScaleMove(e.sourceEvent.movementX)}"1d-horizontal"===t&&e.sourceEvent.movementY?this.valueScaleMove(e.sourceEvent.movementY):"1d-vertical"===t&&e.sourceEvent.movementX&&this.valueScaleMove(e.sourceEvent.movementX)}this.zoomTransform=this.currentProps.zoomable?e.transform:Lj,this.prevZoomTransform.k!==this.zoomTransform.k||("1d-horizontal"===t?this.zoomTransform=Lj.translate(this.zoomTransform.x,this.prevZoomTransform.y).scale(this.zoomTransform.k):"1d-vertical"===t&&(this.zoomTransform=Lj.translate(this.prevZoomTransform.x,this.zoomTransform.y).scale(this.zoomTransform.k)),this.element.__zoom=this.zoomTransform),this.applyZoomTransform(!0),this.prevZoomTransform=this.zoomTransform,this.props.pubSub.publish("app.zoom",e),e.sourceEvent&&(e.sourceEvent.stopPropagation(),e.sourceEvent.preventDefault())}},{key:"getTracksAtPosition",value:function(e,t){const n=[];let r=[];for(const e in this.trackDefObjects){const t=this.trackDefObjects[e].trackObject;t.childTracks?r=r.concat(t.childTracks):r.push(t)}for(const i of r){const r=i.position[0]<=e&&e<=i.position[0]+i.dimensions[0],o=i.position[1]<=t&&t<=i.position[1]+i.dimensions[1];r&&o&&n.push(i)}return n}},{key:"zoomStarted",value:function(e){this.zooming=!0,e&&e.sourceEvent&&(this.zoomStartPos=Ge(e.sourceEvent,this.props.canvasElement),e.sourceEvent.shiftKey&&(this.valueScaleZooming=!0)),this.zoomStartTransform=this.zoomTransform,this.props.pubSub.publish("app.zoomStart")}},{key:"zoomEnded",value:function(){this.zooming=!1,this.zoomStartPos=null,this.valueScaleZooming&&(this.valueScaleZooming=!1,this.element.__zoom=this.zoomStartTransform),this.props.pubSub.publish("app.zoomEnd")}},{key:"applyZoomTransform",value:function(e=!0){const t=this.currentProps,n=t.paddingLeft+t.leftWidth,r=t.paddingTop+t.topHeight;this.zoomedXScale=this.zoomTransform.rescaleX(this.xScale),this.zoomedYScale=this.zoomTransform.rescaleY(this.yScale);const i=fi().domain([n,n+t.centerWidth].map(this.zoomedXScale.invert)).range([0,t.centerWidth]),o=fi().domain([r,r+t.centerHeight].map(this.zoomedYScale.invert)).range([0,t.centerHeight]);for(const e in this.trackDefObjects){const n=this.trackDefObjects[e].trackObject,r=this.trackDefObjects[e].trackDef;let a="unknown";if(rm[r.track.type]&&(a=rm[r.track.type].orientation),"whole"!==a)if("gallery"!==this.trackDefObjects[e].trackDef.track.position)n.zoomed(i.copy(),o.copy(),this.zoomTransform.k,this.zoomTransform.x+this.xPositionOffset,this.zoomTransform.y+this.yPositionOffset,t.paddingLeft+t.leftWidth,t.paddingTop+t.topHeight);else{const e=fi().domain([t.paddingLeft+t.leftWidthNoGallery,t.paddingLeft+t.leftWidth+t.centerWidth+t.galleryDim].map(this.zoomedXScale.invert)).range([0,t.centerWidth+2*t.galleryDim]),r=fi().domain([t.paddingTop+t.topHeightNoGallery,t.paddingTop+t.topHeight+t.centerHeight+t.galleryDim].map(this.zoomedYScale.invert)).range([0,t.centerHeight-2*t.galleryDim]);n.zoomed(e.copy(),r.copy(),this.zoomTransform.k)}else{const e=fi().domain([t.paddingLeft,t.width-t.paddingLeft].map(this.zoomedXScale.invert)).range([0,t.width-2*t.paddingLeft]),r=fi().domain([t.paddingTop,t.height-t.paddingTop].map(this.zoomedYScale.invert)).range([0,t.height-2*t.paddingTop]);n.zoomed(e,r)}}return this.currentXScale=i,this.currentYScale=o,e&&this.currentProps.onScalesChanged(i,o),[i,o]}},{key:"createMetaTrack",value:function(e){e.type;{const t=this.props.pluginTracks[e.type];if(t&&t.isMetaTrack){const n={getTrackObject:this.getTrackObject.bind(this),onNewTilesLoaded:()=>{this.currentProps.onNewTilesLoaded(e.uid)},definition:e};try{return new t.track(this.availableForPlugins,n,e.options)}catch(t){console.error("Plugin meta track",e.type,"failed to instantiate.",t)}}return console.warn(`Unknown meta track of type: ${e.type}`),new qW(this.pStage,{name:"Unknown Track Type",type:e.type},(()=>this.currentProps.onNewTilesLoaded(e.uid)))}}},{key:"createTrackObject",value:function(e){const t=this.createLocationAgnosticTrackObject(e);return"left"!==e.position&&"right"!==e.position||"1d-horizontal"!==rm[e.type].orientation?t:new _W(t)}},{key:"createLocationAgnosticTrackObject",value:function(e){let t=e.data;t||(t={server:cb(e.server),tilesetUid:e.tilesetUid}),e.coordSystem&&(t.coordSystem=e.coordSystem);const n=ste(t,this.props.pubSub,this.props.pluginDataFetchers,this.availableForPlugins),r={id:e.uid,trackUid:e.uid,trackType:e.type,viewUid:this.viewUid,pubSub:this.props.pubSub,scene:this.pStage,dataConfig:t,dataFetcher:n,getLockGroupExtrema:()=>this.currentProps.getLockGroupExtrema(e.uid),handleTilesetInfoReceived:t=>{this.currentProps.onTilesetInfoReceived(e.uid,t)},animate:()=>{this.currentProps.onNewTilesLoaded(e.uid)},svgElement:this.svgElement,isValueScaleLocked:()=>this.currentProps.isValueScaleLocked(e.uid),onValueScaleChanged:()=>{this.currentProps.onValueScaleChanged(e.uid)},onTrackOptionsChanged:t=>{this.currentProps.onTrackOptionsChanged(e.uid,t)},onMouseMoveZoom:this.props.onMouseMoveZoom,chromInfoPath:e.chromInfoPath,isShowGlobalMousePosition:()=>this.props.isShowGlobalMousePosition,getTheme:()=>this.props.theme};e.y&&(r.yPosition=e.y),e.x&&(r.xPosition=e.x),e.projectionXDomain&&(r.projectionXDomain=e.projectionXDomain),e.projectionYDomain&&(r.projectionYDomain=e.projectionYDomain);const i=e.options;switch(e.type){case"left-axis":return new PY(r,i);case"top-axis":return new DY(r,i);case"heatmap":return new oY(r,i);case"multivec":case"vector-heatmap":case"horizontal-multivec":case"horizontal-vector-heatmap":case"vertical-multivec":case"vertical-vector-heatmap":return new mW(r,i);case"1d-heatmap":case"horizontal-1d-heatmap":case"vertical-1d-heatmap":return new yW(r,i);case"line":case"horizontal-line":case"vertical-line":return new dW(r,i);case"point":case"horizontal-point":case"vertical-point":return new pW(r,i);case"bar":case"horizontal-bar":case"vertical-bar":return new bW(r,i);case"divergent-bar":case"horizontal-divergent-bar":case"vertical-divergent-bar":return new vW(r,i);case"horizontal-1d-tiles":return new hY(r,i);case"vertical-1d-tiles":return new pY(r,i);case"2d-tiles":return new lY(r,i);case"stacked-interval":case"top-stacked-interval":case"left-stacked-interval":return new TW(r,i);case"viewport-projection-center":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(r.registerViewportChanged=e.registerViewportChanged,r.removeViewportChanged=e.removeViewportChanged,r.setDomainsCallback=e.setDomainsCallback,new ZW(r,i)):new MH(r,i);case"viewport-projection-horizontal":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(r.registerViewportChanged=e.registerViewportChanged,r.removeViewportChanged=e.removeViewportChanged,r.setDomainsCallback=e.setDomainsCallback,new QW(r,i)):new MH(r,i);case"viewport-projection-vertical":return e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback?(r.registerViewportChanged=e.registerViewportChanged,r.removeViewportChanged=e.removeViewportChanged,r.setDomainsCallback=e.setDomainsCallback,new JW(r,i)):new MH(r,i);case"gene-annotations":case"horizontal-gene-annotations":case"vertical-gene-annotations":return new RW(r,i);case"2d-rectangle-domains":case"arrowhead-domains":return new LW(r,i);case"horizontal-1d-annotations":return new FW(r,i);case"vertical-1d-annotations":return new FW(r,i,!0);case"2d-annotations":return new BW(r,i);case"linear-2d-rectangle-domains":case"horizontal-2d-rectangle-domains":case"vertical-2d-rectangle-domains":return new UW(r,i);case"square-markers":return new jW(r,i);case"combined":return r.tracks=e.contents,r.createTrackObject=this.createTrackObject.bind(this),new Ig(r,i);case"2d-chromosome-labels":return new zW(r,i);case"horizontal-chromosome-grid":return r.orientation="1d-horizontal",new VW(r,i);case"vertical-chromosome-grid":return r.orientation="1d-vertical",new VW(r,i);case"2d-chromosome-grid":return new VW(r,i);case"chromosome-labels":case"horizontal-chromosome-labels":case"vertical-chromosome-labels":return new XW(r,i);case"linear-heatmap":case"horizontal-heatmap":case"vertical-heatmap":return new WW(r,i);case"2d-chromosome-annotations":return new YW(r,i);case"1d-value-interval":case"horizontal-1d-value-interval":case"vertical-1d-value-interval":return new KW(r,i);case"osm":case"osm-tiles":return new bq(r,i);case"osm-2d-tile-ids":return new vq(r,i);case"mapbox":case"mapbox-tiles":return new yq(r,i);case"raster-tiles":return new Tq(r,i);case"bedlike":case"vertical-bedlike":return new lW(r,i);case"overlay-track":return new hW(r,i);case"overlay-chromosome-grid-track":return r.isOverlay=!0,new VW(r,i);case"horizontal-rule":return new pq(r,i);case"vertical-rule":return new mq(r,i);case"cross-rule":return r.x=e.x,r.y=e.y,new gq(r,i);case"simple-svg":return new OY(r,i);case"empty":return new BH(r,i);default:{const t=this.props.pluginTracks[e.type];if(t&&!t.isMetaTrack){r.AVAILABLE_FOR_PLUGINS=this.availableForPlugins,r.baseEl=this.baseEl,r.definition=e,e.registerViewportChanged&&e.removeViewportChanged&&e.setDomainsCallback&&(r.registerViewportChanged=e.registerViewportChanged,r.removeViewportChanged=e.removeViewportChanged,r.setDomainsCallback=e.setDomainsCallback);try{return new t.track(this.availableForPlugins,r,i)}catch(t){console.error("Plugin track",e.type,"failed to instantiate.",t)}}return console.warn("Unknown track type:",e.type),new qW(r,{name:"Unknown Track Type",type:e.type})}}}},{key:"zoomToDataPos",value:function(e,t,n,r,i=3e3,o=null){const[a,s,l]=tb(this.xScale.copy().domain([e,t]),this.yScale.copy().domain([n,r])),c=o?o(this.xScale,this.yScale):[this.xScale,this.yScale];this.setCenter(a,s,l,!1,i,c[0],c[1])}},{key:"forwardContextMenu",value:function(e){this.props.disableTrackMenu||e.altKey||(e.preventDefault(),setTimeout((()=>{this.props.pubSub.publish("contextmenu",e)}),0))}},{key:"addEventTracker",value:function(){this.eventTracker&&this.eventTracker!==this.eventTrackerOld&&(this.eventTrackerOld||(this.eventTrackerOld=this.eventTracker),this.eventTracker=this.eventTrackerOld,this.eventTracker.addEventListener("click",this.boundForwardEvent),this.eventTracker.addEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.addEventListener("dblclick",this.boundForwardEvent),this.eventTracker.addEventListener("wheel",this.boundForwardEvent),this.eventTracker.addEventListener("dragstart",this.boundForwardEvent),this.eventTracker.addEventListener("selectstart",this.boundForwardEvent),this.eventTracker.addEventListener("mouseover",this.boundForwardEvent),this.eventTracker.addEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.addEventListener("mousedown",this.boundForwardEvent),this.eventTracker.addEventListener("mouseup",this.boundForwardEvent),this.eventTracker.addEventListener("mouseout",this.boundForwardEvent),this.eventTracker.addEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.addEventListener("touchstart",this.boundForwardEvent),this.eventTracker.addEventListener("touchend",this.boundForwardEvent),this.eventTracker.addEventListener("touchmove",this.boundForwardEvent),this.eventTracker.addEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerover",this.boundForwardEvent),this.eventTracker.addEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.addEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.addEventListener("pointerup",this.boundForwardEvent),this.eventTracker.addEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.addEventListener("pointerout",this.boundForwardEvent),this.eventTracker.addEventListener("pointerleave",this.boundForwardEvent),window.addEventListener("scroll",this.boundScrollEvent))}},{key:"removeEventTracker",value:function(){this.eventTracker&&(this.eventTracker.removeEventListener("click",this.boundForwardEvent),this.eventTracker.removeEventListener("contextmenu",this.boundForwardContextMenu),this.eventTracker.removeEventListener("dblclick",this.boundForwardEvent),this.eventTracker.removeEventListener("wheel",this.boundForwardEvent),this.eventTracker.removeEventListener("dragstart",this.boundForwardEvent),this.eventTracker.removeEventListener("selectstart",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseover",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseenter",this.boundForwardEvent),this.eventTracker.removeEventListener("mousedown",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseup",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseout",this.boundForwardEvent),this.eventTracker.removeEventListener("mouseleave",this.boundForwardEvent),this.eventTracker.removeEventListener("touchstart",this.boundForwardEvent),this.eventTracker.removeEventListener("touchend",this.boundForwardEvent),this.eventTracker.removeEventListener("touchcancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerover",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerenter",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerdown",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerup",this.boundForwardEvent),this.eventTracker.removeEventListener("pointercancel",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerout",this.boundForwardEvent),this.eventTracker.removeEventListener("pointerleave",this.boundForwardEvent),window.removeEventListener("scroll",this.boundScrollEvent))}},{key:"scrollEvent",value:function(){this.elementPos=this.element.getBoundingClientRect()}},{key:"forwardEvent",value:function(e){e.sourceUid=this.uid,e.forwarded=!0,this.props.pubSub.publish("app.event",e)}},{key:"onScrollHandler",value:function(e){this.scrollTop=e}},{key:"render",value:function(){return m.default.createElement("div",{ref:e=>{this.baseEl=e},className:gl("track-renderer-div",ite),style:{height:this.currentProps.height,width:this.currentProps.width}},m.default.createElement("div",{ref:e=>{this.element=e},className:gl("track-renderer-element",ote)}),m.default.createElement("div",{ref:e=>{this.eventTracker=e},className:gl("track-renderer-events",ate)},this.currentProps.children))}}]),n}(m.default.Component);lte.defaultProps={pluginDataFetchers:{},pluginTracks:{},canvasElement:null,centerHeight:0,centerWidth:0,children:[],galleryDim:0,height:0,initialXDomain:[],initialYDomain:[],isShowGlobalMousePosition:!1,isRangeSelection:!1,leftWidth:0,leftWidthNoGallery:0,paddingLeft:0,paddingTop:0,positionedTracks:[],topHeight:0,topHeightNoGallery:0,width:0,metaTracks:[]},lte.propTypes={canvasElement:S.exports.object,centerHeight:S.exports.number,centerWidth:S.exports.number,children:S.exports.array,disableTrackMenu:S.exports.bool,galleryDim:S.exports.number,height:S.exports.number,initialXDomain:S.exports.array,initialYDomain:S.exports.array,isShowGlobalMousePosition:S.exports.bool,isRangeSelection:S.exports.bool,leftWidth:S.exports.number,leftWidthNoGallery:S.exports.number,paddingLeft:S.exports.number,paddingTop:S.exports.number,metaTracks:S.exports.array,onMouseMoveZoom:S.exports.func,onNewTilesLoaded:S.exports.func.isRequired,onScalesChanged:S.exports.func.isRequired,pixiRenderer:S.exports.object.isRequired,pixiStage:S.exports.object.isRequired,pluginDataFetchers:S.exports.object,pluginTracks:S.exports.object,positionedTracks:S.exports.array,pubSub:S.exports.object.isRequired,setCentersFunction:S.exports.func,svgElement:S.exports.object.isRequired,theme:S.exports.symbol.isRequired,topHeight:S.exports.number,topHeightNoGallery:S.exports.number,viewOptions:S.exports.object,width:S.exports.number,xDomainLimits:S.exports.array,yDomainLimits:S.exports.array,valueScaleZoom:S.exports.bool,zoomable:S.exports.bool.isRequired,zoomDomain:S.exports.array};const cte=wH(tH(lte));var ute={exports:{}};!function(e){var t;self,t=e=>(()=>{var t={4184:(e,t)=>{var n;!function(){var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8552:(e,t,n)=>{var r=n(852)(n(5639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(1789),i=n(401),o=n(7667),a=n(1327),s=n(1866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8407:(e,t,n)=>{var r=n(7040),i=n(4125),o=n(2117),a=n(7518),s=n(4705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},7071:(e,t,n)=>{var r=n(852)(n(5639),"Map");e.exports=r},3369:(e,t,n)=>{var r=n(4785),i=n(1285),o=n(6e3),a=n(9916),s=n(5265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},3818:(e,t,n)=>{var r=n(852)(n(5639),"Promise");e.exports=r},8525:(e,t,n)=>{var r=n(852)(n(5639),"Set");e.exports=r},8668:(e,t,n)=>{var r=n(3369),i=n(619),o=n(2385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},6384:(e,t,n)=>{var r=n(8407),i=n(7465),o=n(3779),a=n(7599),s=n(4758),l=n(4309);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},1149:(e,t,n)=>{var r=n(5639).Uint8Array;e.exports=r},577:(e,t,n)=>{var r=n(852)(n(5639),"WeakMap");e.exports=r},4963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},4636:(e,t,n)=>{var r=n(2545),i=n(5694),o=n(1469),a=n(4144),s=n(5776),l=n(6719),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),h=!n&&!u&&a(e),d=!n&&!u&&!h&&l(e),p=n||u||h||d,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},2488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},8866:(e,t,n)=>{var r=n(2488),i=n(1469);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4239:(e,t,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},9454:(e,t,n)=>{var r=n(4239),i=n(7005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},939:(e,t,n)=>{var r=n(2492),i=n(7005);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},2492:(e,t,n)=>{var r=n(6384),i=n(7114),o=n(8351),a=n(6096),s=n(4160),l=n(1469),c=n(4144),u=n(6719),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,b){var v=l(e),y=l(t),T=v?d:s(e),_=y?d:s(t),E=(T=T==h?p:T)==p,x=(_=_==h?p:_)==p,w=T==_;if(w&&c(e)){if(!c(t))return!1;v=!0,E=!1}if(w&&!E)return b||(b=new r),v||u(e)?i(e,t,n,m,g,b):o(e,t,T,n,m,g,b);if(!(1&n)){var S=E&&f.call(e,"__wrapped__"),A=x&&f.call(t,"__wrapped__");if(S||A){var k=S?e.value():e,C=A?t.value():t;return b||(b=new r),g(k,C,n,m,b)}}return!!w&&(b||(b=new r),a(e,t,n,m,g,b))}},8458:(e,t,n)=>{var r=n(3560),i=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},8749:(e,t,n)=>{var r=n(4239),i=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},280:(e,t,n)=>{var r=n(5726),i=n(6916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,n)=>{var r=n(5639)["__core-js_shared__"];e.exports=r},7114:(e,t,n)=>{var r=n(8668),i=n(2908),o=n(4757);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var b=e[f],v=t[f];if(a)var y=c?a(v,b,f,t,e,l):a(b,v,f,e,t,l);if(void 0!==y){if(y)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(b===e||s(b,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(b!==v&&!s(b,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},8351:(e,t,n)=>{var r=n(2705),i=n(1149),o=n(7813),a=n(7114),s=n(8776),l=n(1814),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,h,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=d.get(e);if(m)return m==t;r|=2,d.set(e,t);var g=a(p(e),p(t),r,c,h,d);return d.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in t:i.call(t,d)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++h<u;){var b=e[d=c[h]],v=t[d];if(o)var y=l?o(v,b,d,t,e,s):o(b,v,d,e,t,s);if(!(void 0===y?b===v||a(b,v,n,o,s):y)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var T=e.constructor,_=t.constructor;T==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof T&&T instanceof T&&"function"==typeof _&&_ instanceof _||(m=!1)}return s.delete(e),s.delete(t),m}},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8234:(e,t,n)=>{var r=n(8866),i=n(9551),o=n(3674);e.exports=function(e){return r(e,o,i)}},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var r=n(8458),i=n(7801);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},9607:(e,t,n)=>{var r=n(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},9551:(e,t,n)=>{var r=n(4963),i=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},4160:(e,t,n)=>{var r=n(8552),i=n(7071),o=n(3818),a=n(8525),s=n(577),l=n(4239),c=n(346),u="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(i),b=c(o),v=c(a),y=c(s),T=l;(r&&T(new r(new ArrayBuffer(1)))!=f||i&&T(new i)!=u||o&&T(o.resolve())!=h||a&&T(new a)!=d||s&&T(new s)!=p)&&(T=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case b:return h;case v:return d;case y:return p}return t}),e.exports=T},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var r,i=n(4429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},4705:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),i=n(8407),o=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4536:(e,t,n)=>{var r=n(852)(Object,"create");e.exports=r},6916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},1167:(e,t,n)=>{e=n.nmd(e);var r=n(1957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7465:(e,t,n)=>{var r=n(8407);e.exports=function(){this.__data__=new r,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var r=n(8407),i=n(7071),o=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,n)=>{var r=n(9454),i=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var r=n(3560),i=n(1780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},4144:(e,t,n)=>{e=n.nmd(e);var r=n(5639),i=n(5062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},8446:(e,t,n)=>{var r=n(939);e.exports=function(e,t){return r(e,t)}},3560:(e,t,n)=>{var r=n(4239),i=n(3218);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6719:(e,t,n)=>{var r=n(8749),i=n(1717),o=n(1167),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},3674:(e,t,n)=>{var r=n(4636),i=n(280),o=n(8612);e.exports=function(e){return o(e)?r(e):i(e)}},8306:(e,t,n)=>{var r=n(3369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},2703:(e,t,n)=>{var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9787:t=>{t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e](o,o.exports,r),o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var i={};return(()=>{r.r(i),r.d(i,{default:()=>ce,expandNodesToLevel:()=>le});var e=r(4184),t=r.n(e),n=r(8446),o=r.n(n),a=r(8306),s=r.n(a);let l=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"");var c=r(5697),u=r.n(c),h=r(9787),d=r.n(h);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=["children","title"];function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(i){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,f);return d().createElement("button",m({"aria-label":n,title:n,type:"button"},r),t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(d().PureComponent);v(y,"propTypes",{children:u().node.isRequired,title:u().string}),v(y,"defaultProps",{title:null});const T=y,_={ALL:"all",PARENT:"parent",LEAF:"leaf"};function E(e){this.message=e,this.stack=Error().stack}E.prototype=Object.create(Error.prototype),E.prototype.name="CheckboxTreeError";const x=E;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=_;const k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.props=t,this.flatNodes=n}var t,n;return t=e,n=[{key:"setProps",value:function(e){this.props=e}},{key:"clone",value:function(){var t=this,n={};return Object.keys(this.flatNodes).forEach((function(e){var r=t.flatNodes[e];n[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r)})),new e(this.props,n)}},{key:"getNode",value:function(e){return this.flatNodes[e]}},{key:"reset",value:function(){this.flatNodes={}}},{key:"flattenNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var i=this.props,o=i.disabled,a=i.noCascade;e.forEach((function(e,i){var s=t.nodeHasChildren(e);if(void 0!==t.flatNodes[e.value])throw new x("Duplicate value '".concat(e.value,"' detected. All node values must be unique."));t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:n,isChild:void 0!==n.value,isParent:s,isLeaf:!s,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,n,o,a),treeDepth:r,index:i},t.flattenNodes(e.children,e,r+1)}))}}},{key:"nodeHasChildren",value:function(e){return Array.isArray(e.children)}},{key:"getDisabledState",value:function(e,t,n,r){return!!n||!(r||!t.disabled)||Boolean(e.disabled)}},{key:"deserializeLists",value:function(e){var t=this,n=["checked","expanded"];Object.keys(this.flatNodes).forEach((function(e){n.forEach((function(n){t.flatNodes[e][n]=!1}))})),n.forEach((function(n){e[n].forEach((function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][n]=!0)}))}))}},{key:"serializeList",value:function(e){var t=this,n=[];return Object.keys(this.flatNodes).forEach((function(r){t.flatNodes[r][e]&&n.push(r)})),n}},{key:"expandAllNodes",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach((function(n){t.flatNodes[n].isParent&&(t.flatNodes[n].expanded=e)})),this}},{key:"toggleChecked",value:function(e,t,n,r){var i=this,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.flatNodes[e.value],s=[A.PARENT,A.ALL].indexOf(n)>-1,l=[A.LEAF,A.ALL].indexOf(n)>-1;if(a.isLeaf||r){if(e.disabled)return this;this.toggleNode(e.value,"checked",t)}else(s||0===a.children.length)&&this.toggleNode(e.value,"checked",t),l&&a.children.forEach((function(e){i.toggleChecked(e,t,n,r,!1)}));return o&&!r&&a.isChild&&s&&this.toggleParentStatus(a.parent,n),this}},{key:"toggleParentStatus",value:function(e,t){var n=this.flatNodes[e.value];n.isChild?(t===A.ALL&&this.toggleNode(e.value,"checked",this.isEveryChildChecked(n)),this.toggleParentStatus(n.parent,t)):this.toggleNode(e.value,"checked",this.isEveryChildChecked(n))}},{key:"isEveryChildChecked",value:function(e){var t=this;return e.children.every((function(e){return t.getNode(e.value).checked}))}},{key:"toggleNode",value:function(e,t,n){return this.flatNodes[e][t]=n,this}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(i){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return t=a,n=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props);return delete t.indeterminate,d().createElement("input",I({},t,{ref:function(t){e.checkbox=t},type:"checkbox"}))}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(d().PureComponent);N(R,"propTypes",{indeterminate:u().bool}),N(R,"defaultProps",{indeterminate:!1});const M=R,L=u().shape({check:u().node,uncheck:u().node,halfCheck:u().node,expandClose:u().node,expandOpen:u().node,expandAll:u().node,collapseAll:u().node,parentClose:u().node,parentOpen:u().node,leaf:u().node}),B=u().shape({collapseAll:u().string.isRequired,expandAll:u().string.isRequired,toggle:u().string.isRequired});function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){return(U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(s,e);var n,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(i);if(o){var n=H(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).onCheck=t.onCheck.bind(j(t)),t.onCheckboxKeyPress=t.onCheckboxKeyPress.bind(j(t)),t.onCheckboxKeyUp=t.onCheckboxKeyUp.bind(j(t)),t.onClick=t.onClick.bind(j(t)),t.onExpand=t.onExpand.bind(j(t)),t}return n=s,(r=[{key:"onCheck",value:function(){var e=this.props,t=e.value;(0,e.onCheck)({value:t,checked:this.getCheckState({toggle:!0})})}},{key:"onCheckboxKeyPress",value:function(e){32===e.which&&e.preventDefault()}},{key:"onCheckboxKeyUp",value:function(e){var t=e.keyCode;[13,32].includes(t)&&this.onCheck()}},{key:"onClick",value:function(){var e=this.props,t=e.expandOnClick,n=e.isParent,r=e.value,i=e.onClick;n&&t&&this.onExpand(),i({value:r,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var e=this.props,t=e.expanded,n=e.value;(0,e.onExpand)({value:n,expanded:!t})}},{key:"getCheckState",value:function(e){var t=e.toggle,n=this.props,r=n.checked,i=n.optimisticToggle;return!(0!==r||!t)||1===r&&!t||2===r&&i}},{key:"renderCollapseButton",value:function(){var e=this.props,t=e.expandDisabled,n=e.isLeaf,r=e.lang;return n?d().createElement("span",{className:"rct-collapse"},d().createElement("span",{className:"rct-icon"})):d().createElement(T,{className:"rct-collapse rct-collapse-btn",disabled:t,title:r.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var e=this.props,t=e.expanded,n=e.icons,r=n.expandClose,i=n.expandOpen;return t?i:r}},{key:"renderCheckboxIcon",value:function(){var e=this.props,t=e.checked,n=e.icons,r=n.uncheck,i=n.check,o=n.halfCheck;return 0===t?r:1===t?i:o}},{key:"renderNodeIcon",value:function(){var e=this.props,t=e.expanded,n=e.icon,r=e.icons,i=r.leaf,o=r.parentClose,a=r.parentOpen,s=e.isLeaf;return null!==n?n:s?i:t?a:o}},{key:"renderBareLabel",value:function(e){var t=this.props,n=t.onClick,r=t.title,i=null!==n;return d().createElement("span",{className:"rct-bare-label",title:r},i?d().createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},e):e)}},{key:"renderCheckboxLabel",value:function(e){var t=this.props,n=t.checked,r=t.disabled,i=t.title,o=t.treeId,a=t.value,s=null!==t.onClick,l="".concat(o,"-").concat(String(a).split(" ").join("_")),c=[d().createElement("label",{key:0,htmlFor:l,title:i},d().createElement(M,{checked:1===n,disabled:r,id:l,indeterminate:2===n,onClick:this.onCheck,onChange:function(){}}),d().createElement("span",{"aria-checked":1===n,"aria-disabled":r,className:"rct-checkbox",role:"checkbox",tabIndex:0,onKeyPress:this.onCheckboxKeyPress,onKeyUp:this.onCheckboxKeyUp},this.renderCheckboxIcon()),s?null:e)];return s&&c.push(d().createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},e)),c}},{key:"renderLabel",value:function(){var e=this.props,t=e.label,n=e.showCheckbox,r=[e.showNodeIcon?d().createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,d().createElement("span",{key:1,className:"rct-title"},t)];return n?this.renderCheckboxLabel(r):this.renderBareLabel(r)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.disabled,i=e.expanded,o=e.isLeaf,a=t()({"rct-node":!0,"rct-node-leaf":o,"rct-node-parent":!o,"rct-node-expanded":!o&&i,"rct-node-collapsed":!o&&!i,"rct-disabled":r},n);return d().createElement("li",{className:a},d().createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),s}(d().PureComponent);G(z,"propTypes",{checked:u().number.isRequired,disabled:u().bool.isRequired,expandDisabled:u().bool.isRequired,expanded:u().bool.isRequired,icons:L.isRequired,isLeaf:u().bool.isRequired,isParent:u().bool.isRequired,label:u().node.isRequired,lang:B.isRequired,optimisticToggle:u().bool.isRequired,showNodeIcon:u().bool.isRequired,treeId:u().string.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,onCheck:u().func.isRequired,onExpand:u().func.isRequired,children:u().node,className:u().string,expandOnClick:u().bool,icon:u().node,showCheckbox:u().bool,title:u().string,onClick:u().func}),G(z,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});const V=z,Y=u().oneOfType([u().arrayOf(u().string),u().arrayOf(u().number)]);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={label:u().node.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,disabled:u().bool,icon:u().node,showCheckbox:u().bool,title:u().string};const K=u().oneOfType([u().shape(q),u().shape(X(X({},q),{},{children:u().arrayOf(q).isRequired}))]);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return(te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(h,e);var n,r,i,a,c,u=(a=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=re(a);if(c){var n=re(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}(this,e)});function h(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),t=u.call(this,e);var n=new k(e);return n.flattenNodes(e.nodes),n.deserializeLists({checked:e.checked,expanded:e.expanded}),t.state={id:e.id||"rct-".concat(l()),model:n,prevProps:e},t.onCheck=t.onCheck.bind(ne(t)),t.onExpand=t.onExpand.bind(ne(t)),t.onNodeClick=t.onNodeClick.bind(ne(t)),t.onExpandAll=t.onExpandAll.bind(ne(t)),t.onCollapseAll=t.onCollapseAll.bind(ne(t)),t.combineMemorized=s()((function(e,t){return J(J({},e),t)})).bind(ne(t)),t}return n=h,r=[{key:"onCheck",value:function(e){var t=this.props,n=t.checkModel,r=t.noCascade,i=t.onCheck,o=this.state.model.clone(),a=o.getNode(e.value);o.toggleChecked(e,e.checked,n,r),i(o.serializeList("checked"),J(J({},a),e))}},{key:"onExpand",value:function(e){var t=this.props.onExpand,n=this.state.model.clone(),r=n.getNode(e.value);n.toggleNode(e.value,"expanded",e.expanded),t(n.serializeList("expanded"),J(J({},r),e))}},{key:"onNodeClick",value:function(e){(0,this.props.onClick)(J(J({},this.state.model.getNode(e.value)),e))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,this.props.onExpand)(this.state.model.clone().expandAllNodes(e).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(e,t){var n=this.state.model.getNode(e.value);return n.isLeaf||t||0===e.children.length?n.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:"isEveryChildChecked",value:function(e){var t=this;return e.children.every((function(e){return 1===t.state.model.getNode(e.value).checkState}))}},{key:"isSomeChildChecked",value:function(e){var t=this;return e.children.some((function(e){return t.state.model.getNode(e.value).checkState>0}))}},{key:"renderTreeNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.props,i=r.expandDisabled,o=r.expandOnClick,a=r.icons,s=r.lang,l=r.noCascade,c=r.onClick,u=r.onlyLeafCheckboxes,p=r.optimisticToggle,f=r.showNodeTitle,m=r.showNodeIcon,g=this.state,b=g.id,v=g.model,y=h.defaultProps.icons,T=e.map((function(e){var r=e.value,h=v.getNode(e.value),g=h.isParent?t.renderTreeNodes(e.children,e):null;h.checkState=t.determineShallowCheckState(e,l);var T=u?h.isLeaf:h.showCheckbox;return!n.value||v.getNode(n.value).expanded?d().createElement(V,{key:r,checked:h.checkState,className:e.className,disabled:h.disabled,expandDisabled:i,expandOnClick:o,expanded:h.expanded,icon:e.icon,icons:t.combineMemorized(y,a),label:e.label,lang:s,optimisticToggle:p,isLeaf:h.isLeaf,isParent:h.isParent,showCheckbox:T,showNodeIcon:m,title:f?e.title||e.label:e.title,treeId:b,value:e.value,onCheck:t.onCheck,onClick:c&&t.onNodeClick,onExpand:t.onExpand},g):null}));return d().createElement("ol",null,T)}},{key:"renderExpandAll",value:function(){var e=this.props,t=e.icons,n=t.expandAll,r=t.collapseAll,i=e.lang;return e.showExpandAll?d().createElement("div",{className:"rct-options"},d().createElement(T,{className:"rct-option rct-option-expand-all",title:i.expandAll,onClick:this.onExpandAll},n),d().createElement(T,{className:"rct-option rct-option-collapse-all",title:i.collapseAll,onClick:this.onCollapseAll},r)):null}},{key:"renderHiddenInput",value:function(){var e=this.props,t=e.name,n=e.nameAsArray;return void 0===t?null:n?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name;return t.map((function(e){var t="".concat(n,"[]");return d().createElement("input",{key:e,name:t,type:"hidden",value:e})}))}},{key:"renderJoinedHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name,r=t.join(",");return d().createElement("input",{name:n,type:"hidden",value:r})}},{key:"render",value:function(){var e,n=this.props,r=n.direction,i=n.disabled,o=n.iconsClass,a=n.nodes,s=n.nativeCheckboxes,l=this.state.id,c=this.renderTreeNodes(a),u=t()((ie(e={"react-checkbox-tree":!0,"rct-disabled":i},"rct-icons-".concat(o),!0),ie(e,"rct-native-display",s),ie(e,"rct-direction-rtl","rtl"===r),e));return d().createElement("div",{className:u,id:l},this.renderExpandAll(),this.renderHiddenInput(),c)}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.model,r=t.prevProps,i=e.disabled,a=e.id,s=e.nodes,l=J(J({},t),{},{prevProps:e});return n.setProps(e),o()(r.nodes,s)&&r.disabled===i||(n.reset(),n.flattenNodes(s)),null!==a&&(l=J(J({},l),{},{id:a})),n.deserializeLists({checked:e.checked,expanded:e.expanded}),l}}],r&&ee(n.prototype,r),i&&ee(n,i),Object.defineProperty(n,"prototype",{writable:!1}),h}(d().Component);function ae(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>t)return[];var r=[];return e.forEach((function(e){e.children&&(r=[].concat(ae(r),[e.value],ae(le(e.children,t,n+1))))})),r}ie(oe,"propTypes",{nodes:u().arrayOf(K).isRequired,checkModel:u().oneOf([_.LEAF,_.ALL]),checked:Y,direction:u().string,disabled:u().bool,expandDisabled:u().bool,expandOnClick:u().bool,expanded:Y,icons:L,iconsClass:u().string,id:u().string,lang:B,name:u().string,nameAsArray:u().bool,nativeCheckboxes:u().bool,noCascade:u().bool,onlyLeafCheckboxes:u().bool,optimisticToggle:u().bool,showExpandAll:u().bool,showNodeIcon:u().bool,showNodeTitle:u().bool,onCheck:u().func,onClick:u().func,onExpand:u().func}),ie(oe,"defaultProps",{checkModel:_.LEAF,checked:[],direction:"ltr",disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:d().createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:d().createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:d().createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:d().createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:d().createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:d().createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:d().createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:d().createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:d().createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:d().createElement("span",{className:"rct-icon rct-icon-leaf"})},iconsClass:"fa4",id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}});const ce=oe})(),i})(),e.exports=t(m.default)}(ute);const hte=y(ute.exports);let dte=function(e){i(n,e);var t=o(n);function n(e){var r;d(this,n),(r=t.call(this,e)).localTracks=em.filter((e=>e.local&&!e.hidden)).map((e=>{const t={...e};return t.datatype=e.datatype[0],t})),r.augmentedTracksInfo=em,window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach((e=>{r.augmentedTracksInfo.push(window.higlassTracksByType[e].config)})),e.datatype?r.localTracks=r.localTracks.filter((t=>t.datatype[0]===e.datatype)):r.localTracks=r.localTracks.filter((e=>e.orientation===r.props.orientation)),r.localTracks.forEach((e=>{e.uuid=Ns.nice()}));const i=r.prepareNewEntries("",r.localTracks,{}),o=Object.keys(i),a=o.length?[o[0]]:null;return r.mounted=!1,r.state={selectedUuid:a,options:i,filter:"",checked:[],expanded:[]},r.requestTilesetLists(),r}return f(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.requestTilesetLists(),this.searchBox.focus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"prepareNewEntries",value:function(e,t,n){const r=n;return t.map((t=>({...t,server:e,tilesetUid:t.uuid,serverUidKey:this.serverUidKey(e,t.uuid),datatype:t.datatype,name:t.name,uid:Ns.nice()}))).forEach((e=>{r[e.serverUidKey]=e})),r}},{key:"serverUidKey",value:function(e,t){return`${e}/${t}`}},{key:"requestTilesetLists",value:function(){let e=null;if(this.props.datatype)e=`dt=${this.props.datatype}`;else{const t=new Set([].concat(...this.augmentedTracksInfo.filter((e=>e.datatype)).filter((e=>e.orientation===this.props.orientation||"1d-vertical"===this.props.orientation&&"1d-horizontal"===e.orientation)).map((e=>e.datatype))));e=[...t].map((e=>`dt=${e}`)).join("&")}this.props.trackSourceServers?this.props.trackSourceServers.forEach((t=>{mg.json(`${t}/tilesets/?limit=10000&${e}`,((e,n)=>{if(e)console.error("ERROR:",e);else{const e=this.prepareNewEntries(t,n.results,this.state.options),r=Object.keys(e);let{selectedUuid:i}=this.state;if(!i){i=r.length?[r[0]]:null;const e=this.state.options[i[0]];this.props.selectedTilesetChanged([e])}this.mounted&&this.setState({selectedUuid:i,options:e})}}),this.props.pubSub)})):console.warn("No track source servers specified in the viewconf")}},{key:"handleOptionDoubleClick",value:function(e){const t=this.state.options[e.target.value];this.props.onDoubleClick(t)}},{key:"handleSelectedOptions",value:function(e){const t=[],n=[];for(let r=0;r<e.length;r++)t.push(e[r]),n.push(this.state.options[e[r]]);this.props.selectedTilesetChanged(n),this.setState({selectedUuid:t})}},{key:"handleSelect",value:function(){const{selectedOptions:e}=this.multiSelect,t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r.value)}this.handleSelectedOptions(t)}},{key:"handleSearchChange",value:function(){const e=this.searchBox;this.setState({filter:e.value})}},{key:"partitionByGroup",value:function(e,t){const n={"":{name:"",value:"",children:[]}};for(const r of Object.keys(e)){const i=e[r];if(i.name.toLowerCase().includes(t))if("project_name"in i){const e=i.project_name;e in n||(n[e]={value:e,label:e,children:[]}),n[e].children.push({label:i.name,value:r})}else n[""].children.push({label:i.name,value:r})}const r=n[""].children;for(const e of Object.keys(n))""!==e&&(n[e].children.sort(((e,t)=>e.label.toLowerCase().localeCompare(t.label.toLowerCase(),"en"))),r.push(n[e]));return r.sort(((e,t)=>e.label.toLowerCase().localeCompare(t.label.toLowerCase(),"en"))),r}},{key:"handleChecked",value:function(e){this.handleSelectedOptions(e),this.setState({checked:e})}},{key:"handleExpanded",value:function(e){this.setState({expanded:e})}},{key:"render",value:function(){const e=[];for(const t in this.state.options)e.push(this.state.options[t]);const t=this.partitionByGroup(this.state.options,this.state.filter),n={width:15,height:15,top:2,right:2,position:"relative"},r=JSON.parse(JSON.stringify(n));r.opacity=.5;const i=m.default.createElement("form",{onSubmit:e=>{e.preventDefault()}},m.default.createElement("div",{className:"tileset-finder-search-bar"},m.default.createElement("span",{className:"tileset-finder-label"},"Select tileset:"),m.default.createElement("input",{ref:e=>{this.searchBox=e},className:"tileset-finder-search-box",onChange:this.handleSearchChange.bind(this),placeholder:"Search Term",type:"text"})),m.default.createElement("div",{className:"tileset-finder-checkbox-tree"},m.default.createElement(hte,{checked:this.state.checked,expanded:this.state.expanded,icons:{uncheck:m.default.createElement("svg",{style:n},m.default.createElement("use",{xlinkHref:"#square_o"})),check:m.default.createElement("svg",{style:n},m.default.createElement("use",{xlinkHref:"#check_square_o"})),halfCheck:m.default.createElement("svg",{style:r},m.default.createElement("use",{xlinkHref:"#check_square_o"})),leaf:m.default.createElement("svg",{style:n},m.default.createElement("use",{xlinkHref:"#file_o"})),expandClose:m.default.createElement("svg",{style:n},m.default.createElement("use",{xlinkHref:"#chevron_right"})),expandOpen:m.default.createElement("svg",{style:n},m.default.createElement("use",{xlinkHref:"#chevron_down"})),parentClose:m.default.createElement("svg",{style:n},m.default.createElement("use",{xlinkHref:"#folder_o"})),parentOpen:m.default.createElement("svg",{style:n},m.default.createElement("use",{xlinkHref:"#folder_open_o"}))},nodes:t,onCheck:this.handleChecked.bind(this),onExpand:this.handleExpanded.bind(this)})));return m.default.createElement("div",null,i)}}]),n}(m.default.Component);dte.propTypes={datatype:S.exports.string,orientation:S.exports.string,onDoubleClick:S.exports.func,pubSub:S.exports.object.isRequired,selectedTilesetChanged:S.exports.func,trackSourceServers:S.exports.array};const pte=wH(dte);let fte=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).DATATYPE_TO_TRACK_TYPE=tm(r.props.orientation),r.AVAILABLE_TRACK_TYPES=am(r.props.datatypes,r.props.orientation),r.state={selectedPlotType:r.AVAILABLE_TRACK_TYPES[0]},r}return f(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.AVAILABLE_TRACK_TYPES=am(e.datatypes,this.props.orientation),this.AVAILABLE_TRACK_TYPES&&e.allTracksSameDatatype&&this.AVAILABLE_TRACK_TYPES.length>0&&!this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)){const t=Em(e.datatypes[0][0],this.props.position,this.AVAILABLE_TRACK_TYPES);this.handlePlotTypeSelected(t)}}},{key:"handlePlotTypeSelected",value:function(e){this.setState({selectedPlotType:e}),this.props.onPlotTypeSelected(e.type)}},{key:"render",value:function(){let e="No plot types available for track";const t={};return em.forEach((e=>{t[e.type]=e})),this.AVAILABLE_TRACK_TYPES&&(e=this.AVAILABLE_TRACK_TYPES.sort(((e,t)=>e.type<t.type)).map((e=>{const n=t[e.type].thumbnail,r=this.state.selectedPlotType.type===e.type?"plot-type-item plot-type-selected":"plot-type-item",i=t[e.type].thumbnail?m.default.createElement("div",{className:"track-thumbnail",dangerouslySetInnerHTML:{__html:n.outerHTML}}):m.default.createElement("div",{className:"track-thumbnail"},m.default.createElement("svg",{height:20,width:30}));return m.default.createElement("li",{key:e.type,className:r,onClick:t=>{this.setState({selectedPlotType:e}),this.props.onPlotTypeSelected(e.type)},style:{listStyle:"none",paddingLeft:5,paddingBottom:0}},i,m.default.createElement("span",{style:{verticalAlign:"middle"}},e.type))}))),m.default.createElement("div",null,e.length>0&&this.props.allTracksSameDatatype&&m.default.createElement("div",{className:"plot-type-container"},e),!this.props.allTracksSameDatatype&&m.default.createElement("div",{className:"plot-type-container-empty"},"Datasets with multiple datatypes chosen. They will be added with their default track types."))}}]),n}(m.default.Component);fte.propTypes={allTracksSameDatatype:S.exports.bool,datatypes:S.exports.array,orientation:S.exports.string,onPlotTypeSelected:S.exports.func,position:S.exports.string};let mte=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).options={},r.state={selectedTilesets:[{datatype:"none"}],allTracksSameDatatype:!0},r.handleSubmitBound=r.handleSubmit.bind(a(r)),r.handleTilesetPickerDoubleClickBound=r.handleTilesetPickerDoubleClick.bind(a(r)),r.selectedTilesetsChangedBound=r.selectedTilesetsChanged.bind(a(r)),r}return f(n,[{key:"getOrientation",value:function(e){let t=null;return t="top"===e||"bottom"===e?"1d-horizontal":"left"===e||"right"===e?"1d-vertical":"2d",t}},{key:"handleSubmit",value:function(e){e&&e.preventDefault(),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleTilesetPickerDoubleClick",value:function(e){this.selectedTilesetsChanged([e]),this.props.onTracksChosen(this.state.selectedTilesets,this.props.position,this.props.host)}},{key:"handleOptionsChanged",value:function(e){this.options=e}},{key:"handlePlotTypeSelected",value:function(e){const{selectedTilesets:t}=this.state;for(const n of t)n.type=e;this.selectedPlotType=e,this.setState({selectedTilesets:t})}},{key:"selectedTilesetsChanged",value:function(e){let t=null;t=0===e.length?[{datatype:"none"}]:e;let n=!0;const r=t[0].datatype;for(const e of t)e.datatype!==r&&(n=!1);if(n)for(const e of t)e.type=this.selectedPlotType;else for(const e of t){let t=[e.datatype];const n=this.getOrientation(this.props.position);"cooler"===e.filetype&&(t=[e.datatype,"chromsizes"]);const r=am([t],n),i=Em(t[0],this.props.position,r);e.type=i.type}this.setState({selectedTilesets:t,allTracksSameDatatype:n})}},{key:"render",value:function(){const e=this.getOrientation(this.props.position),t=m.default.createElement("div",null,m.default.createElement(pte,{ref:e=>{this.tilesetFinder=e},datatype:this.props.datatype,onDoubleClick:this.handleTilesetPickerDoubleClick.bind(this),onTracksChosen:e=>this.props.onTracksChosen(e,this.props.position),orientation:e,selectedTilesetChanged:this.selectedTilesetsChanged.bind(this),trackSourceServers:this.props.trackSourceServers}));return m.default.createElement(d1,{maxHeight:!0,okayTitle:"Submit",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Add Track"},m.default.createElement(m.default.Fragment,null,t,m.default.createElement(fte,{ref:e=>{this.plotTypeChooser=e},allTracksSameDatatype:this.state.allTracksSameDatatype,datatypes:this.state.selectedTilesets.map((e=>"cooler"===e.filetype?[e.datatype,"chromsizes"]:[e.datatype])),onPlotTypeSelected:this.handlePlotTypeSelected.bind(this),orientation:e,position:this.props.position})))}}]),n}(m.default.Component);mte.defaultProps={position:"top"},mte.propTypes={datatype:S.exports.string,host:S.exports.string,onCancel:S.exports.func.isRequired,onTracksChosen:S.exports.func.isRequired,position:S.exports.string,trackSourceServers:S.exports.array.isRequired};let gte=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){const e=[];return this.props.children.forEach(((t,n)=>{const r=`customTrackDialog_${n}`;e.push(m.default.createElement(t,{key:r,...this.props.bodyProps[n]}))})),m.default.createElement(d1,{maxHeight:!0,okayOnly:!0,okayTitle:"Close",onCancel:this.props.onCancel,onOkay:this.props.onCancel,title:this.props.title},e)}}]),n}(m.default.PureComponent);gte.defaultProps={},gte.propTypes={onCancel:S.exports.func.isRequired};let bte=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).adjusted=!1,r.state={orientation:r.props.orientation?r.props.orientation:"right",left:r.props.position.left,top:r.props.position.top,submenuShown:null},r}return f(n,[{key:"componentDidMount",value:function(){this.updateOrientation()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.adjusted=!1,this.setState({left:e.position.left,top:e.position.top})}},{key:"componentDidUpdate",value:function(){this.updateOrientation()}},{key:"handleItemMouseEnterWithRect",value:function(e,t){this.setState({submenuShown:t,submenuSourceBbox:e})}},{key:"handleItemMouseEnter",value:function(e,t){this.handleItemMouseEnterWithRect(e.currentTarget.getBoundingClientRect(),t)}},{key:"handleMouseLeave",value:function(){}},{key:"handleOtherMouseEnter",value:function(){this.setState({submenuShown:null})}},{key:"updateOrientation",value:function(){if(this.adjusted)return;this.adjusted=!0,this.divDom=g.default.findDOMNode(this.div);const e=this.divDom.getBoundingClientRect(),t=this.props.parentBbox?this.props.parentBbox:{top:this.props.position.top,left:this.props.position.left,width:0,height:0};let n=this.state.orientation,r=t.top;if(t.top+e.height>window.innerHeight&&(t.top-e.height>0?r=t.top-e.height+20:(r=t.top-e.height+20,r-=r+e.height-window.innerHeight)),"left"===this.state.orientation){let i=t.left-e.width;i<0&&(t.left+t.width+e.width>window.innerWidth?i=0:(i=t.left+t.width,n="right")),this.setState({left:i,top:r,orientation:n})}else{let i=t.left+t.width;t.left+t.width+e.width>window.innerWidth&&(t.left-e.width<0?(i=0,n="right"):(i=t.left-e.width,n="left")),this.setState({left:i,top:r,orientation:n})}}},{key:"render",value:function(){const e=this.state.left?{left:this.state.left}:{right:this.state.right},t={top:this.state.top},n=Object.assign(e,t);return m.default.createElement("div",{ref:e=>{this.div=e},className:gl("context-menu-item",yh["context-menu"],{[yh["context-menu-dark"]]:this.props.theme===Pf}),style:n},this.props.children)}}]),n}(m.default.Component);bte.propTypes={children:S.exports.node,orientation:S.exports.string,parentBbox:S.exports.object,position:S.exports.object,theme:S.exports.symbol.isRequired};let vte=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){const e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},r=this.state.submenuShown;return m.default.createElement(n,{menuItems:r.children,orientation:this.state.orientation,parentBbox:e,position:t,theme:this.props.theme})}return m.default.createElement("div",null)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){const e=[];for(const t in this.props.menuItems){const n=this.props.menuItems[t];e.push(m.default.createElement(Th,{key:t,onClick:n.handler?n.handler:()=>null,onMouseEnter:n.children?e=>this.handleItemMouseEnter(e,n):this.handleOtherMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave},n.name,n.children&&m.default.createElement("svg",{className:yh["play-icon"]},m.default.createElement("use",{xlinkHref:"#play"}))))}return m.default.createElement("div",{ref:e=>{this.div=e},className:gl(yh["context-menu"],{[yh["context-menu-dark"]]:this.props.theme===Pf}),style:{left:this.state.left,top:this.state.top}},e,this.getSubmenu())}}]),n}(bte),yte=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getConfigureSeriesMenu",value:function(e,t,n){const r={},i=window.higlassTracksByType&&window.higlassTracksByType[n.type]&&window.higlassTracksByType[n.type].config&&window.higlassTracksByType[n.type].config.optionsInfo;if(i)for(const e of Object.keys(i))ete[e]=i[e];if(!rm[n.type]||!rm[n.type].availableOptions)return null;for(const e of rm[n.type].availableOptions)if(e in ete){if(r[e]={name:ete[e].name},ete[e].generateOptions){const t=ete[e].generateOptions(n);r[e].children||(r[e].children={});for(const i of t){const t={name:i.name,value:i.value,handler:()=>{n.options[e]=i.value,this.props.onTrackOptionsChanged(n.uid,n.options),this.props.closeMenu()}};r[e].children[i.value]=t}}if(ete[e].inlineOptions)for(const t in ete[e].inlineOptions){const i=ete[e].inlineOptions[t];r[e].children||(r[e].children={});const o={name:i.name,value:i.value};i.componentPickers&&i.componentPickers[n.type]?o.handler=()=>{this.props.onConfigureTrack(n,i.componentPickers[n.type]),this.props.closeMenu()}:o.handler=()=>{n.options[e]=i.value,this.props.onTrackOptionsChanged(n.uid,n.options),this.props.closeMenu()},r[e].children[t]=o}else ete[e].componentPickers&&ete[e].componentPickers[n.type]&&(r[e].handler=()=>{this.props.onConfigureTrack(n,ete[e].componentPickers[n.type]),this.props.closeMenu()})}return m.default.createElement(vte,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:r,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getTrackTypeItems",value:function(e,t,n){window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach((e=>{rm[e]=window.higlassTracksByType[e].config}));let{datatype:r}=n,i=null;n.type in rm&&(r||(r=rm[n.type].datatype[0]),({orientation:i}=rm[n.type]));const o=Object.values(rm).filter((e=>e.datatype)).filter((e=>e.orientation)).filter((e=>e.datatype.includes(r))).filter((e=>e.orientation===i)).map((e=>e.type)),a={};for(let e=0;e<o.length;e++)a[o[e]]={value:o[e],name:o[e],handler:()=>{this.props.onChangeTrackType(n.uid,o[e])}};return m.default.createElement(vte,{key:"track-type-items",closeMenu:this.props.closeMenu,menuItems:a,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){const e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top},n=this.state.submenuShown,r=n.value;return"track-type"===n.option?this.getTrackTypeItems(t,e,r):this.getConfigureSeriesMenu(t,e,r)}return m.default.createElement("div",null)}},{key:"getDivideByMenuItem",value:function(){if(this.props.series.data&&"divided"===this.props.series.data.type){const e={tilesetUid:this.props.series.data.children[0].tilesetUid,server:this.props.series.data.children[0].server};return m.default.createElement(Th,{className:yh["context-menu-item"],onClick:()=>this.props.onChangeTrackData(this.props.series.uid,e),onMouseEnter:e=>this.handleOtherMouseEnter(e)},m.default.createElement("span",{className:yh["context-menu-span"]},"Remove divisor"))}return m.default.createElement(Th,{className:yh["context-menu-item"],onClick:()=>this.props.onAddDivisor(this.props.series),onMouseEnter:e=>this.handleOtherMouseEnter(e)},m.default.createElement("span",{className:yh["context-menu-span"]},"Divide by"))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){let e=null;rm[this.props.series.type]&&rm[this.props.series.type].exportable&&(e=m.default.createElement(Th,{className:yh["context-menu-item"],onClick:()=>this.props.onExportData(this.props.hostTrack.uid,this.props.track.uid),onMouseEnter:e=>this.handleOtherMouseEnter(e)},m.default.createElement("span",{className:yh["context-menu-span"]},"Export Data")));const t=this.props.onAddSeries?m.default.createElement(Th,{className:yh["context-menu-item"],onClick:()=>{this.props.onCloseTrack(this.props.series.uid),this.props.onAddSeries(this.props.hostTrack.uid)},onMouseEnter:e=>this.handleOtherMouseEnter(e)},m.default.createElement("span",{className:yh["context-menu-span"]},"Replace Series")):null;return m.default.createElement("div",{ref:e=>{this.div=e},className:gl(yh["context-menu"],{[yh["context-menu-dark"]]:this.props.theme===Pf}),"data-menu-type":"SeriesListMenu",onMouseLeave:this.props.handleMouseLeave,style:{left:this.state.left,top:this.state.top}},m.default.createElement(Th,{onClick:()=>{},onMouseEnter:e=>this.handleItemMouseEnter(e,{option:"configure-series",value:this.props.track}),onMouseLeave:e=>this.handleMouseLeave(e)},"Configure Series",m.default.createElement("svg",{className:yh["play-icon"]},m.default.createElement("use",{xlinkHref:"#play"}))),m.default.createElement(Th,{className:yh["context-menu-item"],onClick:()=>{},onMouseEnter:e=>this.handleItemMouseEnter(e,{option:"track-type",value:this.props.track}),onMouseLeave:e=>this.handleMouseLeave(e)},m.default.createElement("span",{className:yh["context-menu-span"]},"Track Type",m.default.createElement("svg",{className:yh["play-icon"]},m.default.createElement("use",{xlinkHref:"#play"})))),e,this.getDivideByMenuItem(),m.default.createElement(Th,{className:yh["context-menu-item"],onClick:this.props.onCloseTrack,onMouseEnter:e=>this.handleOtherMouseEnter(e)},m.default.createElement("span",{className:yh["context-menu-span"]},"Close Series")),t,this.getSubmenu())}}]),n}(bte);const Tte=e=>{let t=[];for(const n of e)n.contents?t=t.concat(n.contents):t.push(n);return t},_te=(e,t,n,r)=>e?(window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach((e=>{rm[e]=window.higlassTracksByType[e].config})),Tte(e).map((e=>{const i=rm[e.type]?rm[e.type].thumbnail:null,o=i?m.default.createElement("div",{className:yh["context-menu-icon"],dangerouslySetInnerHTML:{__html:i.outerHTML}}):m.default.createElement("div",{className:yh["context-menu-icon"]},m.default.createElement("svg",null));return m.default.createElement(Th,{key:e.uid,className:yh["context-menu-item"],onClick:()=>{r&&r(e.uid)},onMouseEnter:n=>{t&&t(n,e)},onMouseLeave:e=>{n&&n(e)}},o,m.default.createElement("span",{className:yh["context-menu-span"]},e.options&&e.options.name&&e.options.name.length?e.options.name:e.type,t&&n?m.default.createElement("svg",{className:yh["play-icon"]},m.default.createElement("use",{xlinkHref:"#play"})):null))}))):null,Ete=lq((e=>function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"getSubmenu",value:function(){if(this.state.submenuShown){const e=this.state.submenuSourceBbox;let t=null;t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top};const n=Tte(this.props.tracks).filter((e=>e.uid===this.state.submenuShown.uid))[0],r=n&&!("whole"===n.position);return m.default.createElement(yte,{key:`series-list-menu-${n.uid}`,ref:e=>{this.seriesListMenu=e},closeMenu:this.props.closeMenu,hostTrack:this.props.tracks[0],onAddDivisor:this.props.onAddDivisor,onAddSeries:r?this.props.onAddSeries:null,onChangeTrackData:this.props.onChangeTrackData,onChangeTrackType:this.props.onChangeTrackType,onCloseTrack:()=>this.props.onCloseTrack(this.state.submenuShown.uid),onConfigureTrack:this.props.onConfigureTrack,onDivideSeries:this.props.onDivideSeries,onExportData:this.props.onExportData,onLockScales:this.props.onLockScales,onTrackOptionsChanged:this.props.onTrackOptionsChanged,orientation:this.state.orientation,parentBbox:e,position:t,series:this.state.submenuShown,theme:this.props.theme,track:n,trackOrientation:this.props.trackOrientation,trackSourceServers:this.props.trackSourceServers})}return m.default.createElement("div",null)}}]),n}(e)));let xte=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).seriesRefs={},r.seriesListMenu=null,r}return f(n,[{key:"componentDidMount",value:function(){r(h(n.prototype),"componentDidMount",this).call(this)}},{key:"render",value:function(){return m.default.createElement("div",{ref:e=>{this.div=e},className:gl(yh["context-menu"],{[yh["context-menu-dark"]]:this.props.theme===Pf}),"data-menu-type":"ConfigTrackMenu",style:{left:this.state.left,top:this.state.top}},_te(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this),null),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{contextMenu:this,onClick:()=>this.props.onLockValueScale(this.props.tracks[0].uid),onMouseEnter:e=>this.handleOtherMouseEnter(e)},"Lock Value Scale With"),m.default.createElement(Th,{contextMenu:this,onClick:()=>this.props.onUnlockValueScale(this.props.tracks[0].uid),onMouseEnter:e=>this.handleOtherMouseEnter(e)},"Unlock Value Scale"),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{contextMenu:this,onClick:()=>this.props.onAddSeries(this.props.tracks[0].uid),onMouseEnter:e=>this.handleOtherMouseEnter(e)},"Add Series"),m.default.createElement(Th,{onClick:()=>this.props.onCloseTrack(this.props.tracks[0].uid)},"Close Track"),m.default.createElement(Th,{onClick:()=>{this.props.onReplaceTrack(this.props.tracks[0].uid,this.props.trackOrientation)}},"Replace Track"),this.getSubmenu())}}]),n}(uq(bte).with(Ete));function wte(e){return m.default.createElement("div",null,_te(e.tracks,null,null,e.onCloseTrack),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{onClick:()=>e.onCloseTrack(e.tracks[0].uid)},"Close all series"))}wte.propTypes={onCloseTrack:S.exports.func.isRequired,tracks:S.exports.array.isRequired};let Ste=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).clickHandlerBound=r.clickHandler.bind(a(r)),r.contextMenuHandlerBound=r.contextMenuHandler.bind(a(r)),r.resizeHandlerBound=r.resizeHandler.bind(a(r)),r}return f(n,[{key:"componentDidMount",value:function(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.zIndex=99,this.popup.style.position="absolute",this.popup.className="hg-popup",document.addEventListener("click",this.clickHandlerBound,!0),document.addEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.addEventListener("resize",this.resizeHandlerBound,!0),this._renderLayer()}},{key:"componentDidUpdate",value:function(){this._renderLayer()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickHandlerBound,!0),document.removeEventListener("contextmenu",this.contextMenuHandlerBound,!0),window.removeEventListener("resize",this.resizeHandlerBound,!0),g.default.unmountComponentAtNode(this.popup),document.body.removeChild(this.popup)}},{key:"_renderLayer",value:function(){g.default.render(this.props.children,this.popup)}},{key:"clickHandler",value:function(e){this.popup.contains(e.target)||this.props.onMenuClosed&&this.props.onMenuClosed(e)}},{key:"contextMenuHandler",value:function(e){e.altKey||(e.preventDefault(),this.clickHandler(e))}},{key:"resizeHandler",value:function(){this.props.onMenuClosed(null)}},{key:"render",value:function(){return m.default.createElement("div",null)}}]),n}(m.default.Component);Ste.defaultProps={onMenuClosed:Cg},Ste.propTypes={children:S.exports.node.isRequired,onMenuClosed:S.exports.func};const Ate=mf((e=>m.default.createElement(Y0,{className:e.className,controlAlignLeft:e.controlAlignLeft,editable:e.editable,handleConfigTrack:e.handleConfigTrack,handleResizeTrack:e.handleResizeTrack,height:e.height,item:e.item,onAddSeries:e.onAddSeries,onCloseTrack:e.onCloseTrack,onCloseTrackMenuOpened:e.onCloseTrackMenuOpened,onConfigTrackMenuOpened:e.onConfigTrackMenuOpened,resizeHandles:e.resizeHandles,uid:e.uid,width:e.width}))),kte="_vertical-tiled-plot_f3ho8_1";function Cte(e){return e&&e.sourceEvent}let Ite=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).brushBehavior=pp().on("start",r.brushStarted.bind(a(r))).on("brush",r.brushed.bind(a(r))).on("end",r.brushedEnded.bind(a(r))),r}return f(n,[{key:"componentDidMount",value:function(){this.props.isRangeSelectionActive&&this.addBrush()}},{key:"shouldComponentUpdate",value:function(e,t){if(this.rangeSelectionTriggered)return this.rangeSelectionTriggered=!1,this.rangeSelectionTriggeredEnd&&this.props.rangeSelection!==e.rangeSelection&&this.moveBrush(e.rangeSelection[0]?e.rangeSelection[0]:null,!0),this.rangeSelectionTriggeredEnd=!1,this.state!==t;if(this.props.rangeSelection!==e.rangeSelection){const n=this.props.is1dRangeSelection?0:1;return this.moveBrush(e.rangeSelection[n]?e.rangeSelection[n]:null,e.rangeSelectionEnd),this.state!==t}return!0}},{key:"componentDidUpdate",value:function(){this.props.isRangeSelectionActive?this.addBrush():this.removeBrush()}},{key:"addBrush",value:function(){this.brushEl&&this.brushElAddedBefore!==this.brushEl&&(this.brushElAddedBefore&&this.brushElAddedBefore.on(".brush",null),this.brushEl.call(this.brushBehavior),this.brushElAddedBefore=this.brushEl,Jg(this.brushEl,bH["track-range-selection-group-brush-selection"]))}},{key:"brushed",value:function(e){const t=this.rangeSelectionMoved;this.rangeSelectionMoved=!1,Cte(e)&&this.props.onRangeSelection&&!t&&(this.rangeSelectionTriggered=!0,this.props.onRangeSelection(e.selection))}},{key:"brushStarted",value:function(e){Cte(e)&&e.selection&&this.props.onRangeSelectionStart()}},{key:"brushedEnded",value:function(e){if(!this.props.is1dRangeSelection)return;const t=this.rangeSelectionMovedEnd;this.rangeSelectionMovedEnd=!1,e.selection&&e.sourceEvent&&this.props.onRangeSelection&&!t&&(this.rangeSelectionTriggered=!0,this.rangeSelectionTriggeredEnd=!0,this.props.onRangeSelectionEnd(e.selection)),e.selection||(this.rangeSelectionTriggered=!0,this.props.onRangeSelectionReset())}},{key:"moveBrush",value:function(e,t=!1){if(!this.brushEl)return;const n=e?[this.props.scale(e[0]),this.props.scale(e[1])]:null;this.rangeSelectionMoved=!0,this.rangeSelectionMovedEnd=!0,t?this.brushEl.transition().call(this.brushBehavior.move,n):this.brushEl.call(this.brushBehavior.move,n)}},{key:"removeBrush",value:function(){this.brushElAddedBefore&&(this.brushElAddedBefore.call(this.brushBehavior.move,null),this.brushElAddedBefore.on(".brush",null),this.brushElAddedBefore=void 0,this.props.onRangeSelectionReset())}},{key:"render",value:function(){const e=this.props.tracks.map((e=>e.width)).reduce(ib,0),t=this.props.tracks.map((e=>wb(e))).reduce(Kg,!1),n=bH[this.props.isRangeSelectionActive?"track-range-selection-active":"track-range-selection"];return m.default.createElement("div",{className:kte},t&&m.default.createElement("svg",{ref:e=>{this.brushEl=Be(e)},className:n,style:{height:this.props.height,width:e},xmlns:"http://www.w3.org/2000/svg"}),m.default.createElement(D0,{axis:"x",className:gl(PH.list,PH.stylizedList,PH.horizontalList),component:j0,editable:this.props.editable,handleConfigTrack:this.props.handleConfigTrack,handleResizeTrack:this.props.handleResizeTrack,height:this.props.height,helperClass:PH.stylizedHelper,itemClass:gl(PH.stylizedItem,PH.horizontalItem),itemControlAlignLeft:this.props.tracksControlAlignLeft,itemReactClass:Ate,items:this.props.tracks.map((e=>({configMenuVisible:e.uid===this.props.configTrackMenuId,uid:e.uid||Ns.nice(),height:this.props.height,width:e.width,value:e.value}))),onAddSeries:this.props.onAddSeries,onCloseTrack:this.props.onCloseTrack,onCloseTrackMenuOpened:this.props.onCloseTrackMenuOpened,onConfigTrackMenuOpened:this.props.onConfigTrackMenuOpened,onSortEnd:this.props.handleSortEnd,referenceAncestor:this.props.referenceAncestor,resizeHandles:this.props.resizeHandles,useDragHandle:!0,width:e}))}}]),n}(m.default.Component);Ite.propTypes={configTrackMenuId:S.exports.string,editable:S.exports.bool,handleConfigTrack:S.exports.func,handleResizeTrack:S.exports.func,handleSortEnd:S.exports.func,is1dRangeSelection:S.exports.bool,isRangeSelectionActive:S.exports.bool,height:S.exports.number,onAddSeries:S.exports.func,onCloseTrack:S.exports.func,onCloseTrackMenuOpened:S.exports.func,onConfigTrackMenuOpened:S.exports.func,onRangeSelection:S.exports.func,onRangeSelectionEnd:S.exports.func,onRangeSelectionReset:S.exports.func,onRangeSelectionStart:S.exports.func,rangeSelection:S.exports.array,rangeSelectionEnd:S.exports.bool,referenceAncestor:S.exports.func,resizeHandles:S.exports.object,scale:S.exports.func,tracks:S.exports.array,tracksControlAlignLeft:S.exports.bool};let Ote=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){const e=_te(this.props.tracks,this.handleItemMouseEnter.bind(this),this.handleMouseLeave.bind(this)),t=this.props.customItems?m.default.Children.map(this.props.customItems,(e=>m.default.cloneElement(e,{onMouseEnter:e=>{this.handleOtherMouseEnter(e)}}))):null;return m.default.createElement("div",{ref:e=>{this.div=e},className:gl(yh["context-menu"],{[yh["context-menu-dark"]]:this.props.theme===Pf}),"data-menu-type":"ViewContextMenu",style:{left:this.state.left,top:this.state.top}},t,t&&m.default.createElement("hr",{className:yh["context-menu-hr"]}),e,e&&m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{onClick:()=>this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),onMouseEnter:e=>this.handleOtherMouseEnter(e)},"Add Horizontal Rule"),m.default.createElement(Th,{onClick:()=>this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),onMouseEnter:e=>this.handleOtherMouseEnter(e)},"Add Vertical Rule"),m.default.createElement(Th,{onClick:()=>this.props.onAddTrack({type:"cross-rule",x:this.props.coords[0],y:this.props.coords[1],position:"whole"}),onMouseEnter:e=>this.handleOtherMouseEnter(e)},"Add Cross Rule"),m.default.createElement("hr",{className:yh["context-menu-hr"]}),this.hasMatrixTrack(this.props.tracks)&&m.default.createElement(Th,{onClick:this.handleAddHorizontalSection.bind(this),onMouseEnter:e=>this.handleOtherMouseEnter(e)},"Add Horizontal Cross Section"),this.hasMatrixTrack(this.props.tracks)&&m.default.createElement(Th,{onClick:this.handleAddVerticalSection.bind(this),onMouseEnter:e=>this.handleOtherMouseEnter(e)},"Add Vertical Cross Section"),this.getSubmenu())}},{key:"hasMatrixTrack",value:function(e){return hb(this.props.tracks).filter((e=>"heatmap"===e.type)).length>0}},{key:"handleAddHorizontalSection",value:function(){const e=hb(this.props.tracks).filter((e=>"heatmap"===e.type))[0];this.props.onAddTrack({type:"horizontal-rule",y:this.props.coords[1],position:"whole"}),this.props.onAddTrack({data:{type:"horizontal-section",server:e.server,tilesetUid:e.tilesetUid,slicePos:this.props.coords[1]},options:{valueScaling:"log"},type:"horizontal-bar",height:30,position:"top"})}},{key:"handleAddVerticalSection",value:function(){const e=hb(this.props.tracks).filter((e=>"heatmap"===e.type))[0];this.props.onAddTrack({type:"vertical-rule",x:this.props.coords[0],position:"whole"}),this.props.onAddTrack({data:{type:"vertical-section",server:e.server,tilesetUid:e.tilesetUid,slicePos:this.props.coords[0]},options:{valueScaling:"log"},type:"vertical-bar",height:30,position:"left"})}}]),n}(uq(bte).with(Ete));Ote.propTypes={coords:S.exports.array,customItems:S.exports.array};let Dte=function(e){i(n,e);var t=o(n);function n(e){var r;d(this,n),(r=t.call(this,e)).closing=!1;const{tracks:i}=r.props;return r.canvasElement=null,r.tracksByUidInit={},[...r.props.tracks.top||[],...r.props.tracks.right||[],...r.props.tracks.bottom||[],...r.props.tracks.left||[],...r.props.tracks.gallery||[],...r.props.tracks.center||[]].forEach((e=>{"combined"===e.type?e.contents.forEach((e=>{r.tracksByUidInit[e.uid]=!1})):r.tracksByUidInit[e.uid]=!1})),r.xScale=null,r.yScale=null,r.addUidsToTracks(i),r.trackToReplace=null,r.trackRenderer=null,r.configTrackMenu=null,r.state={sizeMeasured:!1,height:10,width:10,tracks:i,init:!1,addTrackPosition:null,customDialog:null,mouseOverOverlayUid:null,forceUpdate:0,rangeSelection:[null,null],rangeSelectionEnd:!1,chromInfo:null,defaultChromSizes:null,contextMenuCustomItems:null,contextMenuPosition:null,addDivisorDialog:null},r.reset=!0,window.higlassTracksByType&&Object.keys(window.higlassTracksByType).forEach((e=>{rm[e]=window.higlassTracksByType[e].config})),r.topHeight=0,r.bottomHeight=0,r.leftWidth=0,r.rightWidth=0,r.centerHeight=0,r.centerWidth=0,r.dragTimeout=null,r.previousPropsStr="",r.contextMenuHandlerBound=r.contextMenuHandler.bind(a(r)),r.handleNoTrackAddedBound=r.handleNoTrackAdded.bind(a(r)),r.handleTracksAddedBound=r.handleTracksAdded.bind(a(r)),r.closeMenusBound=r.closeMenus.bind(a(r)),r.handleAddDivisorBound=r.handleAddDivisor.bind(a(r)),r.handleAddSeriesBound=r.handleAddSeries.bind(a(r)),r.handleChangeTrackDataBound=r.handleChangeTrackData.bind(a(r)),r.handleChangeTrackTypeBound=r.handleChangeTrackType.bind(a(r)),r.handleCloseTrackBound=r.handleCloseTrack.bind(a(r)),r.handleConfigureTrackBound=r.handleConfigureTrack.bind(a(r)),r.handleExportTrackDataBound=r.handleExportTrackData.bind(a(r)),r.handleLockValueScaleBound=r.handleLockValueScale.bind(a(r)),r.handleReplaceTrackBound=r.handleReplaceTrack.bind(a(r)),r.handleTrackOptionsChangedBound=r.handleTrackOptionsChanged.bind(a(r)),r.handleUnlockValueScaleBound=r.handleUnlockValueScale.bind(a(r)),r.onAddTrack=r.handleAddTrack.bind(a(r)),r}return f(n,[{key:"waitForDOMAttachment",value:function(e){if(!this.mounted)return;const t=g.default.findDOMNode(this);document.body.contains(t)?e():requestAnimationFrame((()=>this.waitForDOMAttachment(e)))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.element=g.default.findDOMNode(this),this.canvasElement=g.default.findDOMNode(this.props.canvasElement),this.waitForDOMAttachment((()=>{Bu.ElementQueries.listen(),this.resizeSensor=new Bu.ResizeSensor(this.element.parentNode,this.measureSize.bind(this)),this.measureSize()})),this.addEventListeners(),this.pubSubs=[],this.pubSubs.push(this.props.pubSub.subscribe("contextmenu",this.contextMenuHandlerBound))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.addUidsToTracks(e.tracks),this.setState({tracks:e.tracks})}},{key:"shouldComponentUpdate",value:function(e,t){const n=this.previousPropsStr,r=this.updatablePropsToString(e),i=JSON.stringify(this.state),o=JSON.stringify(t),a=n!==r||i!==o||this.props.chooseTrackHandler!==e.chooseTrackHandler||this.props.customDialog!==e.customDialog;a&&(this.previousPropsStr=r);const s=this.numTracks;return this.numTracks=0,_g(this.props.tracks,(()=>this.numTracks++)),this.reset=this.reset||0===s&&this.numTracks>0,this.numTracks||(this.tracksByUidInit={}),a}},{key:"UNSAFE_componentWillUpdate",value:function(){}},{key:"componentDidUpdate",value:function(e,t){if(t.rangeSelection!==this.state.rangeSelection){let e=[null,null];this.state.defaultChromSizes&&this.state.rangeSelection.every((e=>e&&e.length))&&(e=this.state.rangeSelection.map((e=>um(...e,this.state.defaultChromSizes)))),this.props.onRangeSelection({dataRange:this.state.rangeSelection,genomicRange:e})}if(this.state.customDialog||this.props.customDialog){const e=this.state.customDialog||this.props.customDialog;if(e.length>0){const t=[],n=[];e.forEach((e=>{t.push(e.bodyComponent),n.push(e.bodyProps)})),this.props.modal.open(m.default.createElement(gte,{children:t,bodyProps:n,onCancel:this.props.closeCustomDialog,title:e[0].title}))}}if(e.tracks.center,this.props.tracks.center,(this.state.addTrackPosition||this.props.addTrackPosition)&&this.props.modal.open(m.default.createElement(mte,{host:this.state.addTrackHost,onCancel:this.handleNoTrackAddedBound,onTracksChosen:this.handleTracksAddedBound,position:this.state.addTrackPosition||this.props.addTrackPosition,trackSourceServers:this.props.trackSourceServers})),this.state.addDivisorDialog){const e=this.state.addDivisorDialog;this.props.modal.open(m.default.createElement(mte,{datatype:rm[e.type].datatype[0],host:this.state.addTrackHost,onCancel:()=>{this.setState({addDivisorDialog:null})},onTracksChosen:t=>{this.handleDivisorChosen(e,t)},trackSourceServers:this.props.trackSourceServers}))}}},{key:"componentWillUnmount",value:function(){this.closing=!0,this.removeEventListeners(),this.pubSubs.forEach((e=>this.props.pubSub.unsubscribe(e)))}},{key:"addUidsToTracks",value:function(e){Object.keys(e).forEach((t=>{e[t].forEach((e=>{e.uid=e.uid||Ns.nice()}))}))}},{key:"contextMenuHandler",value:function(e){if(!this.divTiledPlot)return;const t=this.divTiledPlot.getBoundingClientRect();if(!Dg(e.clientX,e.clientY,t.left,t.left+t.width,t.top,t.top+t.height))return;const n=[e.clientX,e.clientY],r=Ge(e,this.divTiledPlot),i=this.trackRenderer.zoomedXScale.invert(r[0]),o=this.trackRenderer.zoomedYScale.invert(r[1]);let a=null;e.hgCustomItems&&(a=e.hgCustomItems.map((e=>m.default.createElement(Th,{key:e.key,onClick:e.onClick},e.text)))),this.setState({contextMenuCustomItems:a,contextMenuPosition:{left:n[0],top:n[1],canvasLeft:r[0]+this.trackRenderer.xPositionOffset,canvasTop:r[1]+this.trackRenderer.yPositionOffset},contextMenuDataX:i,contextMenuDataY:o})}},{key:"measureSize",value:function(){this.element.clientWidth>0&&this.element.clientHeight>0&&this.setState({sizeMeasured:!0,width:this.element.clientWidth,height:this.element.clientHeight})}},{key:"handleTrackOptionsChanged",value:function(e,t){return this.props.onTrackOptionsChanged(e,t)}},{key:"handleScalesChanged",value:function(e,t){this.xScale=e,this.yScale=t,this.props.onScalesChanged(e,t)}},{key:"handleTilesetInfoReceived",value:function(e,t){const n=vg(this.props.tracks,e);n?(this.tracksByUidInit[n.uid]=!0,this.checkAllTilesetInfoReceived(),n.options||(n.options={}),n.name=t.name,n.maxWidth=t.max_width,n.transforms=t.transforms,n.aggregationModes=t.aggregation_modes,n.header=t.header,n.binsPerDimension=t.bins_per_dimension,t.resolutions?(n.maxZoom=t.resolutions.length-1,n.resolutions=t.resolutions):n.maxZoom=t.max_zoom,n.coordSystem=t.coordSystem,n.datatype=t.datatype):console.warn("Strange, track not found:",e)}},{key:"checkAllTilesetInfoReceived",value:function(){if(this.state.init&&!this.reset||!this.trackRenderer||!this.props.zoomToDataExtentOnInit())return;const e=Object.keys(this.trackRenderer.trackDefObjects).map((e=>{const t=this.trackRenderer.trackDefObjects[e].trackObject;return t.childTracks?t.childTracks:t})).reduce(((e,t)=>e.concat(t)),[]).filter((({tilesetInfo:e})=>void 0!==e&&!0!==e)),t=Object.values(this.tracksByUidInit).filter((e=>e)).length;e.length===t&&(this.setState({init:!0}),this.reset=!1,this.handleZoomToData())}},{key:"handleOverlayMouseEnter",value:function(e){this.setState({mouseOverOverlayUid:e})}},{key:"handleOverlayMouseLeave",value:function(e){e===this.state.mouseOverOverlayUid&&this.setState({mouseOverOverlayUid:null})}},{key:"handleTrackPositionChosen",value:function(e){this.setState({mouseOverOverlayUid:null}),this.props.chooseTrackHandler(e.track.uid)}},{key:"handleNoTrackAdded",value:function(){this.trackToReplace=null,this.props.onNoTrackAdded(),this.setState({addTrackPosition:null,addTrackHost:null})}},{key:"handleAddDivisor",value:function(e){this.setState({addDivisorDialog:e})}},{key:"handleDivisorChosen",value:function(e,t){this.setState({addDivisorDialog:null});const n=e.data?{server:e.data.server,tilesetUid:e.data.tilesetUid}:{server:e.server,tilesetUid:e.tilesetUid},r={server:t[0].server,tilesetUid:t[0].uuid};this.handleChangeTrackData(e.uid,{type:"divided",children:[n,r]})}},{key:"handleDivideSeries",value:function(e){}},{key:"handleAddSeries",value:function(e){const t=Eg(this.props.tracks,e),n=vg(this.props.tracks,e);this.setState({addTrackPosition:t,addTrackHost:n})}},{key:"handleReplaceTrack",value:function(e,t){this.trackToReplace=e,this.handleAddTrack(t)}},{key:"handleAddTrack",value:function(e){this.setState({addTrackPosition:e,addTrackHost:null})}},{key:"handleResizeTrack",value:function(e,t,n){const{tracks:r}=this.state;for(const i in r){const o=r[i].filter((t=>t.uid===e));o.length>0&&(o[0].width=t,o[0].height=n)}this.setState({tracks:r,forceUpdate:Math.random()}),this.props.onResizeTrack()}},{key:"closeMenus",value:function(){this.setState({closeTrackMenuId:null,configTrackMenuId:null,contextMenuPosition:null,contextMenuCustomItems:null})}},{key:"handleLockValueScale",value:function(e){this.closeMenus(),this.props.onLockValueScale(e)}},{key:"handleUnlockValueScale",value:function(e){this.closeMenus(),this.props.onUnlockValueScale(e)}},{key:"handleCloseTrack",value:function(e){this.closeMenus(),this.props.onCloseTrack(e)}},{key:"handleChangeTrackType",value:function(e,t){this.closeMenus(),this.props.onChangeTrackType(e,t)}},{key:"handleChangeTrackData",value:function(e,t){this.closeMenus(),this.props.onChangeTrackData(e,t)}},{key:"handleTracksAdded",value:function(e,t,n){return this.trackToReplace&&(this.handleCloseTrack(this.trackToReplace),this.trackToReplace=null),this.props.onTracksAdded(e,t,n),this.setState({addTrackPosition:null,addTrackHost:null}),e}},{key:"handleCloseTrackMenuOpened",value:function(e,t){this.setState({closeTrackMenuId:e,closeTrackMenuLocation:t})}},{key:"handleCloseContextMenu",value:function(){this.setState({contextMenuCustomItems:null,contextMenuPosition:null,contextMenuDataX:null,contextMenuDataY:null})}},{key:"handleCloseTrackMenuClosed",value:function(){this.setState({closeTrackMenuId:null})}},{key:"handleConfigTrackMenuOpened",value:function(e,t){this.closeMenus(),this.setState({configTrackMenuId:e,configTrackMenuLocation:t})}},{key:"handleConfigureTrack",value:function(e,t){this.setState({configTrackMenuId:null,trackOptions:{track:e,configComponent:t}}),this.closeMenus()}},{key:"handleSortEnd",value:function(e){this.setState((t=>{const n=t.tracks,r={};for(let t=0;t<e.length;t++)r[e[t].uid]=t;for(const e in n){const t=n[e];if(t.length&&t[0].uid in r){const i=new Array(t.length);for(let e=0;e<t.length;e++)i[r[t[e].uid]]=t[e];n[e]=i}}return{tracks:n,forceUpdate:Math.random()}}))}},{key:"createTracksAndLocations",value:function(){const e=[],{tracks:t}=this.state;return Of.forEach((n=>{t[n]&&t[n].forEach((t=>{t.contents&&t.contents.forEach((e=>{e.position=n})),t.position=n,e.push({track:t,location:n})}))})),e}},{key:"calculateTrackPosition",value:function(e,t){let n=this.props.paddingTop,r=this.props.paddingBottom,i=this.props.paddingLeft,o=this.props.paddingRight,a=this.centerWidth,s=e.height,l=0,c=0;switch(t){case"top":i+=this.leftWidth;for(let t=0;t<this.state.tracks.top.length&&this.state.tracks.top[t].uid!==e.uid;t++)n+=this.state.tracks.top[t].height;break;case"bottom":i+=this.leftWidth,n+=this.topHeight+this.centerHeight+this.galleryDim;for(let t=0;t<this.state.tracks.bottom.length&&this.state.tracks.bottom[t].uid!==e.uid;t++)n+=this.state.tracks.bottom[t].height;break;case"left":n+=this.topHeight,a=e.width,s=this.centerHeight;for(let t=0;t<this.state.tracks.left.length&&this.state.tracks.left[t].uid!==e.uid;t++)i+=this.state.tracks.left[t].width;break;case"right":i+=this.leftWidth+this.centerWidth+this.galleryDim,n+=this.topHeight,a=e.width,s=this.centerHeight;for(let t=0;t<this.state.tracks.right.length&&this.state.tracks.right[t].uid!==e.uid;t++)i+=this.state.tracks.right[t].width;break;case"center":i+=this.leftWidth,n+=this.topHeight,s=this.centerHeight;break;case"gallery":i+=this.leftWidthNoGallery,n+=this.topHeightNoGallery,a=this.state.width-this.leftWidthNoGallery-this.rightWidthNoGallery-this.props.paddingLeft,s=this.state.height-this.topHeightNoGallery-this.bottomHeightNoGallery-this.props.paddingTop,l=this.galleryDim,c=this.galleryDim;for(let t=0;t<this.state.tracks.gallery.length&&this.state.tracks.gallery[t].uid!==e.uid;t++)a-=2*this.state.tracks.gallery[t].height,s-=2*this.state.tracks.gallery[t].height,i+=this.state.tracks.gallery[t].height,n+=this.state.tracks.gallery[t].height,l-=this.state.tracks.gallery[t].height,c-=this.state.tracks.gallery[t].height;for(let e=0;e<this.state.tracks.right.length;e++)o+=this.state.tracks.right[e].width;for(let e=0;e<this.state.tracks.bottom.length;e++)r+=this.state.tracks.bottom[e].height;e.offsetX=l,e.offsetY=c,e.offsetTop=n,e.offsetRight=o,e.offsetBottom=r,e.offsetLeft=i;break;default:a=this.leftWidth+this.centerWidth+this.rightWidth,s=this.topHeight+this.centerHeight+this.bottomHeight}return-1===Of.indexOf(t)&&console.warn("Track with unknown position present:",t,e),{left:i,top:n,width:a,height:s,track:e}}},{key:"findCentralHeatmapTrack",value:function(e){for(let t=0;t<e.length;t++){if("combined"===e[t].type)return this.findCentralHeatmapTrack(e[t].contents);if("heatmap"===e[t].type)return e[t]}}},{key:"trackUuidToOrientation",value:function(e){}},{key:"overlayTracks",value:function(e){return this.props.overlays?this.props.overlays.filter((e=>e.includes&&e.includes.length)).map((t=>{const n=t.type?`overlay-${t.type}-track`:"overlay-track",r={...t,uid:t.uid||Ns.nice(),includes:t.includes,type:n,options:Object.assign(t.options,{orientationsAndPositions:t.includes.map((t=>{const n=vg(this.props.tracks,t);if(!n)return console.warn(`OverlayTrack included uid (${t}) not found in the track list`),null;const r=Eg(this.props.tracks,n.uid);let i;if("top"!==r&&"bottom"!==r||(i="1d-horizontal"),"left"!==r&&"right"!==r||(i="1d-vertical"),"center"===r&&(i="2d"),!i)return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"),null;const o=e.filter((e=>e.track.uid===t));return o.length?{orientation:i,position:{left:o[0].left-this.props.paddingLeft,top:o[0].top-this.props.paddingTop,width:o[0].width,height:o[0].height}}:null})).filter((e=>e))})};return{top:this.props.paddingTop,left:this.props.paddingLeft,width:this.leftWidth+this.centerWidth+this.rightWidth,height:this.topHeight+this.centerHeight+this.bottomHeight+this.props.marginTop+this.props.marginBottom,track:r}})):[]}},{key:"positionedTracks",value:function(){return this.createTracksAndLocations().map((({track:e,location:t})=>this.calculateTrackPosition(e,t)))}},{key:"createTrackPositionTexts",value:function(){const e=this.positionedTracks();return this.createTracksAndLocations(),e.map((e=>{const{track:t}=e;return m.default.createElement("div",{key:t.uid,style:{left:e.left,top:e.top,width:e.width,height:e.height,position:"absolute"}},t.uid.slice(0,2))}))}},{key:"handleExportTrackData",value:function(e,t){const n=vg(this.props.tracks,t);let r=null;e!==t?r=this.trackRenderer.trackDefObjects[e].trackObject.createdTracks[n.uid]:({trackObject:r}=this.trackRenderer.trackDefObjects[e]),r.exportData(),this.closeMenus()}},{key:"listTracksAtPosition",value:function(e,t,n=!1){const r=[];if(!this.trackRenderer)return[];for(const i in this.trackRenderer.trackDefObjects){const o=this.trackRenderer.trackDefObjects[i].trackObject;if(o.respondsToPosition(e,t))if(n){if(this.props.tracks.center)if(this.props.tracks.center.contents)for(let e=0;e<this.props.tracks.center.contents.length;e++)this.props.tracks.center.contents[e].uid===i&&(o.is2d=!0);else this.props.tracks.center&&this.props.tracks.center.length&&this.props.tracks.center[0].uid===i&&(o.is2d=!0);r.push(o)}else r.push(this.trackRenderer.trackDefObjects[i].trackDef.track)}return r}},{key:"listAllTrackObjects",value:function(){const e=[];for(const t in this.trackRenderer.trackDefObjects){const n=this.trackRenderer.trackDefObjects[t];if(n.trackObject.createdTracks)for(const t in n.trackObject.createdTracks){const r=n.trackObject.createdTracks[t];e.push(r)}else e.push(n.trackObject)}return e}},{key:"handleZoomToData",value:function(){const e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER,n=[e,e],r=[t,t],i=this.listAllTrackObjects();for(const e of i)if(e.tilesetInfo&&e.tilesetInfo.min_pos)for(let t=0;t<e.tilesetInfo.min_pos.length;t++)e.tilesetInfo.min_pos[t]<n[t]&&(n[t]=e.tilesetInfo.min_pos[t]),e.tilesetInfo.max_pos[t]>r[t]&&(r[t]=e.tilesetInfo.max_pos[t]);const o=this.trackRenderer.currentProps.paddingLeft+this.trackRenderer.currentProps.leftWidth;let a=[o,o+this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert);const s=this.trackRenderer.currentProps.paddingTop+this.trackRenderer.currentProps.topHeight;let l=[s,s+this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),n[0]<Number.MAX_SAFE_INTEGER&&r[0]>Number.MIN_SAFE_INTEGER&&(a=[n[0],r[0]]),n[1]<Number.MAX_SAFE_INTEGER&&r[1]>Number.MIN_SAFE_INTEGER&&(l=[n[1],r[1]]),this.props.onDataDomainChanged(a,l)}},{key:"resetViewport",value:function(){this.trackRenderer.zoomTransform.k=1,this.trackRenderer.zoomTransform.x=0,this.trackRenderer.zoomTransform.y=0,this.trackRenderer.applyZoomTransform(),this.props.onDataDomainChanged(this.props.initialXDomain,this.props.initialYDomain)}},{key:"updatablePropsToString",value:function(e){return JSON.stringify({tracks:e.tracks,overlays:e.overlays,viewOptions:e.viewOptions,uid:e.uid,addTrackPosition:e.addTrackPosition,editable:e.editable,marginTop:e.marginTop,marginBottom:e.marginBottom,marginLeft:e.marginLeft,marginRight:e.marginRight,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,paddingLeft:e.paddingLeft,paddingRight:e.paddingRight,mouseTool:e.mouseTool,initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,trackSourceServers:e.trackSourceServers,zoomable:e.zoomable,draggingHappening:e.draggingHappening})}},{key:"getXYScales",value:function(){this.trackRenderer&&(this.xScale=this.trackRenderer.currentXScale,this.yScale=this.trackRenderer.currentYScale)}},{key:"rangeViewToDataLoci",value:function(e,t){return t?[parseInt(t.invert(e[0]),10),parseInt(t.invert(e[1]),10)]:[null,null]}},{key:"rangeSelectionResetHandler",value:function(){this.state.rangeSelectionMaster&&this.setState({is1dRangeSelection:null,rangeSelection:[null,null],rangeSelectionMaster:null,rangeSelectionEnd:!1})}},{key:"rangeSelection1dEndHandler",value:function(e){this.xScale&&this.yScale||this.getXYScales();const t="x"===e?this.xScale:this.yScale;return n=>{this.setState((r=>{const i=r.is1dRangeSelection?[null,null]:r.rangeSelection.slice(),o=this.state.is1dRangeSelection||"y"!==e?0:1;let a=this.rangeViewToDataLoci(n,t);const s=a[1]-a[0];if(this.props.rangeSelection1dSize[0]>s){const e=a[0]+s/2;a=[e-this.props.rangeSelection1dSize[0]/2,e+this.props.rangeSelection1dSize[0]/2]}else if(this.props.rangeSelection1dSize[1]<s){const e=a[0]+s/2;a=[e-this.props.rangeSelection1dSize[1]/2,e+this.props.rangeSelection1dSize[1]/2]}return i[o]=a,this.props.rangeSelectionToInt&&(i[o]=i[o].map((e=>Math.round(e)))),{rangeSelection:i,rangeSelectionEnd:!0}}))}}},{key:"rangeSelection1dHandler",value:function(e){this.xScale&&this.yScale||this.getXYScales();const t="x"===e?this.xScale:this.yScale;return n=>{this.setState((r=>{const i=r.is1dRangeSelection?[null,null]:r.rangeSelection.slice();return i[r.is1dRangeSelection||"y"!==e?0:1]=this.rangeViewToDataLoci(n,t),{rangeSelection:i,rangeSelectionEnd:!1}}))}}},{key:"rangeSelection1dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!0,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dHandler",value:function(e){this.xScale&&this.yScale||this.getXYScales(),this.setState({rangeSelection:[this.rangeViewToDataLoci(e[0],this.xScale),this.rangeViewToDataLoci(e[1],this.yScale)],rangeSelectionEnd:!1})}},{key:"rangeSelection2dStartHandler",value:function(){this.state.rangeSelectionMaster||this.setState({is1dRangeSelection:!1,rangeSelectionMaster:!0,rangeSelectionEnd:!1})}},{key:"rangeSelection2dEndHandler",value:function(e){this.xScale&&this.yScale||this.getXYScales();const t=this.rangeViewToDataLoci(e[0],this.xScale),n=this.rangeViewToDataLoci(e[1],this.yScale);let r=[t,n];const i=[t[1]-t[0],n[1]-n[0]];r.forEach(((e,t)=>{if(this.props.rangeSelection1dSize[0]>i[t]){const n=e[0]+Math.round(i[t]/2);e[0]=n-this.props.rangeSelection1dSize[0]/2,e[1]=n+this.props.rangeSelection1dSize[0]/2}else if(this.props.rangeSelection1dSize[1]<i[t]){const n=e[0]+Math.round(i[t]/2);e[0]=n-this.props.rangeSelection1dSize[1]/2,e[1]=n+this.props.rangeSelection1dSize[1]/2}})),this.props.rangeSelectionToInt&&(r=r.map((e=>e.map((e=>Math.round(e)))))),this.setState({rangeSelection:r,rangeSelectionEnd:!0})}},{key:"getContextMenu",value:function(){if(this.state.contextMenuPosition){const e=this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft,this.state.contextMenuPosition.canvasTop);return m.default.createElement(Ste,{onMenuClosed:this.closeMenusBound},m.default.createElement(Ote,{closeMenu:this.closeMenusBound,coords:[this.state.contextMenuDataX,this.state.contextMenuDataY],customItems:this.state.contextMenuCustomItems,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:e=>{this.props.onTracksAdded([e],e.position,null),this.handleCloseContextMenu()},onChangeTrackData:this.handleChangeTrackDataBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,orientation:"right",position:this.state.contextMenuPosition,theme:this.props.theme,tracks:e,trackSourceServers:this.props.trackSourceServers}))}return null}},{key:"getIdealizedTrackPositionsOverlay",value:function(){const e=this.props.draggingHappening,t=e.datatype;if(!(t in om)&&!e.defaultTracks)return void console.warn("unknown data type:",e.higlassTrack);const n={"1d-horizontal":["top","bottom","left","right"],"2d":["center"],"1d-vertical":["left","right"]},r=om[t]||{};if(e.defaultTracks)for(const t of e.defaultTracks)if(rm[t])for(const e of n[rm[t].orientation])r[e]=t;else console.warn("unknown track type",t);const i=new Set(["top","left","right","center","bottom"].filter((e=>e in this.state.tracks&&this.state.tracks[e].length))),o="top"in r,a="left"in r,s="right"in r,l="bottom"in r,c="center"in r,u="center"in r||i.has("left")||i.has("right")||i.has("center"),h="top"in r,d="bottom"in r&&u,p="left"in r&&u,f="right"in r&&u,g=Object.keys(r).length&&("center"in r||u),b=m.default.createElement("div",{style:{flexGrow:1}}),v=m.default.cloneElement(b),y=m.default.createElement("div",{style:{display:"flex",flexGrow:1}},h&&(g||p)?b:null,m.default.createElement(kH,{defaultTrackType:r.top,draggingHappening:this.props.draggingHappening,enabled:o,onTrackDropped:e=>this.handleTracksAdded([e],"top"),style:{border:"1px solid black",flexGrow:1}}),h&&(g||p)?v:null),T=m.default.createElement("div",{style:{display:"flex",flexGrow:1}},h&&(g||p)?b:null,m.default.createElement(kH,{defaultTrackType:r.bottom,draggingHappening:this.props.draggingHappening,enabled:l,onTrackDropped:e=>this.handleTracksAdded([e],"bottom"),style:{border:"1px solid black",flexGrow:1}}),h&&(g||p)?v:null),_=m.default.createElement(kH,{defaultTrackType:r.left,draggingHappening:this.props.draggingHappening,enabled:a,onTrackDropped:e=>this.handleTracksAdded([e],"left"),style:{border:"1px solid black",flexGrow:1}}),E=m.default.createElement(kH,{defaultTrackType:r.center,draggingHappening:this.props.draggingHappening,enabled:c,onTrackDropped:e=>this.handleTracksAdded([e],"center"),position:"center",style:{border:"1px solid black",flexGrow:1}}),x=m.default.cloneElement(_,{defaultTrackType:r.right,enabled:s,onTrackDropped:e=>this.handleTracksAdded([e],"right")});return m.default.createElement("div",{style:{position:"absolute",left:"0px",top:"0px",width:this.state.width,height:this.state.height}},m.default.createElement("div",{style:{position:"absolute",width:this.state.width,height:this.state.height,background:"white",opacity:.4}}),m.default.createElement("div",{style:{width:this.state.width,height:this.state.height,position:"absolute",display:"flex",flexDirection:"column"}},h?y:null,u&&m.default.createElement("div",{style:{display:"flex",height:h||d?"40%":"100%",width:"100%"}},p?_:null,g?E:null,f?x:null),d?T:null))}},{key:"render",value:function(){this.galleryDim=this.props.tracks.gallery?this.props.tracks.gallery.map((e=>e.height)).reduce(ib,0):0,this.topHeightNoGallery=this.props.tracks.top.map((e=>e.height)).reduce(ib,0),this.topHeight=this.topHeightNoGallery+this.galleryDim,this.bottomHeightNoGallery=this.props.tracks.bottom.map((e=>e.height)).reduce(ib,0),this.bottomHeight=this.bottomHeightNoGallery+this.galleryDim,this.leftWidthNoGallery=this.props.tracks.left.map((e=>e.width)).reduce(ib,0),this.leftWidth=this.leftWidthNoGallery+this.galleryDim,this.rightWidthNoGallery=this.props.tracks.right.map((e=>e.width)).reduce(ib,0),this.rightWidth=this.rightWidthNoGallery+this.galleryDim;const e=this.props.paddingTop+this.props.paddingBottom,t=this.props.paddingLeft+this.props.paddingRight;this.centerHeight=Math.max(0,this.state.height-this.topHeight-this.bottomHeight-e),this.centerWidth=Math.max(0,this.state.width-this.leftWidth-this.rightWidth-t);const n="none",r=m.default.createElement("div",{className:"top-track-container",style:{left:this.leftWidth+this.props.paddingLeft,top:this.props.paddingTop,width:this.centerWidth,height:this.topHeightNoGallery,outline:n,position:"absolute"}},m.default.createElement(z0,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===Af,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["bottom"]),scale:this.xScale,tracks:this.props.tracks.top,width:this.centerWidth})),i=m.default.createElement("div",{className:"left-track-container",style:{left:this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.leftWidthNoGallery,height:this.centerHeight,outline:n,position:"absolute"}},m.default.createElement(Ite,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===Af,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["right"]),scale:this.yScale,tracks:this.props.tracks.left})),o=m.default.createElement("div",{className:"right-track-container",style:{right:this.props.paddingRight,top:this.topHeight+this.props.paddingTop,width:this.rightWidthNoGallery,height:this.centerHeight,outline:n,position:"absolute"}},m.default.createElement(Ite,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===Af,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("y").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["left"]),scale:this.yScale,tracks:this.props.tracks.right,tracksControlAlignLeft:!0})),a=m.default.createElement("div",{className:"bottom-track-container",style:{left:this.leftWidth+this.props.paddingLeft,bottom:this.props.paddingBottom,width:this.centerWidth,height:this.bottomHeightNoGallery,outline:n,position:"absolute"}},m.default.createElement(z0,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,handleConfigTrack:this.handleConfigTrackMenuOpened.bind(this),handleResizeTrack:this.handleResizeTrack.bind(this),handleSortEnd:this.handleSortEnd.bind(this),is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===Af,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelection:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection1dStartHandler.bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,resizeHandles:new Set(["top"]),scale:this.xScale,tracks:this.props.tracks.bottom,width:this.centerWidth})),s=m.default.createElement("div",{key:"galleryTracksDiv",className:"gallery-track-container",style:{left:this.leftWidthNoGallery+this.props.paddingLeft,top:this.topHeightNoGallery+this.props.paddingTop,width:this.centerWidth+2*this.galleryDim,height:this.centerHeight+2*this.galleryDim,outline:n,position:"absolute"}},m.default.createElement(RH,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight+2*this.galleryDim,onAddSeries:this.handleAddSeries.bind(this),onCloseTrack:this.handleCloseTrack.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),tracks:this.props.tracks.gallery,width:this.centerWidth+2*this.galleryDim}));let l=m.default.createElement("div",{className:["center-track-container",gH["center-track-container"]].join(" "),style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.bottomHeight,outline:n}});this.props.tracks.center.length&&(l=m.default.createElement("div",{className:["center-track-container",gH["center-track-container"]].join(" "),style:{left:this.leftWidth+this.props.paddingLeft,top:this.topHeight+this.props.paddingTop,width:this.centerWidth,height:this.centerHeight,outline:n}},m.default.createElement(TH,{configTrackMenuId:this.state.configTrackMenuId,editable:this.props.editable,height:this.centerHeight,is1dRangeSelection:this.state.is1dRangeSelection,isRangeSelectionActive:this.props.mouseTool===Af,onAddSeries:this.handleAddSeries.bind(this),onCloseTrackMenuOpened:this.handleCloseTrackMenuOpened.bind(this),onConfigTrackMenuOpened:this.handleConfigTrackMenuOpened.bind(this),onRangeSelectionReset:this.rangeSelectionResetHandler.bind(this),onRangeSelectionStart:this.rangeSelection2dStartHandler.bind(this),onRangeSelectionX:this.rangeSelection1dHandler("x").bind(this),onRangeSelectionXEnd:this.rangeSelection1dEndHandler("x").bind(this),onRangeSelectionXY:this.rangeSelection2dHandler.bind(this),onRangeSelectionXYEnd:this.rangeSelection2dEndHandler.bind(this),onRangeSelectionY:this.rangeSelection1dHandler("y").bind(this),onRangeSelectionYEnd:this.rangeSelection1dEndHandler("y").bind(this),rangeSelection:this.state.rangeSelection,rangeSelectionEnd:this.state.rangeSelectionEnd,scaleX:this.xScale,scaleY:this.yScale,tracks:this.props.tracks.center,uid:this.props.tracks.center[0].uid,width:this.centerWidth}))),this.createTrackPositionTexts();let c=this.positionedTracks();c=c.concat(this.overlayTracks(c));let u=null;this.state.sizeMeasured&&(u=m.default.createElement(cte,{ref:e=>{this.trackRenderer=e,this.checkAllTilesetInfoReceived()},canvasElement:this.canvasElement,centerHeight:this.centerHeight,centerWidth:this.centerWidth,disableTrackMenu:this.props.disableTrackMenu,dragging:this.props.dragging,galleryDim:this.galleryDim,getLockGroupExtrema:this.props.getLockGroupExtrema,height:this.state.height,initialXDomain:this.props.initialXDomain,initialYDomain:this.props.initialYDomain,isRangeSelection:this.props.mouseTool===Af,isShowGlobalMousePosition:this.props.isShowGlobalMousePosition,isValueScaleLocked:this.props.isValueScaleLocked,leftWidth:this.leftWidth,leftWidthNoGallery:this.leftWidthNoGallery,metaTracks:this.props.metaTracks,onMouseMoveZoom:this.props.onMouseMoveZoom,onNewTilesLoaded:this.props.onNewTilesLoaded,onScalesChanged:this.handleScalesChanged.bind(this),onTilesetInfoReceived:this.handleTilesetInfoReceived.bind(this),onTrackOptionsChanged:this.handleTrackOptionsChanged.bind(this),onValueScaleChanged:this.props.onValueScaleChanged,paddingLeft:this.props.paddingLeft,paddingTop:this.props.paddingTop,pixiRenderer:this.props.pixiRenderer,pixiStage:this.props.pixiStage,pluginDataFetchers:this.props.pluginDataFetchers,pluginTracks:this.props.pluginTracks,positionedTracks:c,registerDraggingChangedListener:this.props.registerDraggingChangedListener,removeDraggingChangedListener:this.props.removeDraggingChangedListener,setCentersFunction:this.props.setCentersFunction,svgElement:this.props.svgElement,topHeight:this.topHeight,topHeightNoGallery:this.topHeightNoGallery,uid:this.props.uid,viewOptions:this.props.viewOptions,width:this.state.width,xDomainLimits:this.props.xDomainLimits,yDomainLimits:this.props.yDomainLimits,zoomable:this.props.zoomable,zoomLimits:this.props.zoomLimits},r,i,o,a,s,l));let h=null,d=null;this.state.configTrackMenuId&&(h=m.default.createElement(Ste,{onMenuClosed:this.closeMenusBound},m.default.createElement(xte,{ref:e=>{this.configTrackMenu=e},closeMenu:this.closeMenusBound,onAddDivisor:this.handleAddDivisorBound,onAddSeries:this.handleAddSeriesBound,onAddTrack:this.handleAddTrackBound,onChangeTrackType:this.handleChangeTrackTypeBound,onCloseTrack:this.handleCloseTrackBound,onConfigureTrack:this.handleConfigureTrackBound,onExportData:this.handleExportTrackDataBound,onLockValueScale:this.handleLockValueScaleBound,onReplaceTrack:this.handleReplaceTrackBound,onTrackOptionsChanged:this.handleTrackOptionsChangedBound,onUnlockValueScale:this.handleUnlockValueScaleBound,position:this.state.configTrackMenuLocation,theme:this.props.theme,trackOrientation:Eg(this.props.tracks,this.state.configTrackMenuId),tracks:[vg(this.props.tracks,this.state.configTrackMenuId)]}))),this.state.closeTrackMenuId&&(d=m.default.createElement(Ste,{onMenuClosed:this.handleCloseTrackMenuClosed.bind(this)},m.default.createElement(bte,{position:this.state.closeTrackMenuLocation,theme:this.props.theme},m.default.createElement(wte,{onCloseTrack:this.handleCloseTrack.bind(this),tracks:[vg(this.props.tracks,this.state.closeTrackMenuId)]}))));let p=null;this.props.chooseTrackHandler&&(p=c.filter((e=>"whole"!==e.track.position)).map((e=>{let t="transparent",n="none";return this.state.mouseOverOverlayUid===e.track.uid&&(t="yellow",n="1px solid black"),m.default.createElement("div",{key:e.track.uid,className:"tiled-plot-track-overlay",onClick:()=>this.handleTrackPositionChosen(e),onDragEnter:t=>{this.handleOverlayMouseEnter(e.track.uid),t.preventDefault()},onDragLeave:()=>this.handleOverlayMouseLeave(e.track.uid),onDragOver:e=>e.preventDefault(),onDrop:()=>this.handleTrackPositionChosen(e),onMouseEnter:()=>this.handleOverlayMouseEnter(e.track.uid),onMouseLeave:()=>this.handleOverlayMouseLeave(e.track.uid),style:{position:"absolute",left:e.left,top:e.top,width:e.width,height:e.height,background:t,opacity:.4,border:n,zIndex:1}})})));let f=null;if(this.xScale&&this.yScale&&this.props.editable&&this.state.trackOptions){const e=this.state.trackOptions.configComponent,t=this.state.trackOptions.track;f=m.default.createElement(e,{track:t,xScale:this.xScale,yScale:this.yScale,onCancel:()=>{this.setState({trackOptions:null})},onTrackOptionsChanged:e=>e,onSubmit:e=>{this.handleTrackOptionsChanged(this.state.trackOptions.track.uid,e),this.setState({trackOptions:null})}})}return m.default.createElement("div",{ref:e=>{this.divTiledPlot=e},className:["tiled-plot-div",PH["tiled-plot"]].join(" "),style:{marginBottom:this.props.marginBottom,marginLeft:this.props.marginLeft,marginRight:this.props.marginRight,marginTop:this.props.marginTop}},u,p,h,d,f,this.getContextMenu(),this.props.draggingHappening&&this.getIdealizedTrackPositionsOverlay())}},{key:"addEventListeners",value:function(){this.eventListeners=[],this.eventListeners.forEach((e=>document.addEventListener(e.name,e.callback,!1)))}},{key:"removeEventListeners",value:function(){this.eventListeners.forEach((e=>document.removeEventListener(e.name,e.callback)))}}]),n}(m.default.Component);Dte.defaultProps={isShowGlobalMousePosition:!1,pluginDataFetchers:{},pluginTracks:{},metaTracks:[],zoomable:!0},Dte.propTypes={addTrackPosition:S.exports.string,canvasElement:S.exports.object,chooseTrackHandler:S.exports.func,chromInfoPath:S.exports.string,disableTrackMenu:S.exports.bool,dragging:S.exports.bool,draggingHappening:S.exports.bool,editable:S.exports.bool,getLockGroupExtrema:S.exports.func,initialXDomain:S.exports.array,initialYDomain:S.exports.array,isShowGlobalMousePosition:S.exports.bool,isValueScaleLocked:S.exports.func,marginBottom:S.exports.number.isRequired,marginLeft:S.exports.number.isRequired,marginRight:S.exports.number.isRequired,marginTop:S.exports.number.isRequired,paddingBottom:S.exports.number.isRequired,paddingLeft:S.exports.number.isRequired,paddingRight:S.exports.number.isRequired,paddingTop:S.exports.number.isRequired,metaTracks:S.exports.array,modal:S.exports.object,mouseTool:S.exports.string,onCloseTrack:S.exports.func,onChangeTrackData:S.exports.func,onChangeTrackType:S.exports.func,onDataDomainChanged:S.exports.func,onLockValueScale:S.exports.func,onMouseMoveZoom:S.exports.func,onNewTilesLoaded:S.exports.func,onNoTrackAdded:S.exports.func,onRangeSelection:S.exports.func.isRequired,onScalesChanged:S.exports.func,onTrackOptionsChanged:S.exports.func,onTrackPositionChosen:S.exports.func,onTracksAdded:S.exports.func,onUnlockValueScale:S.exports.func,onValueScaleChanged:S.exports.func,onResizeTrack:S.exports.func,overlays:S.exports.array,openModal:S.exports.func,pixiRenderer:S.exports.object,pixiStage:S.exports.object,pluginDataFetchers:S.exports.object,pluginTracks:S.exports.object,pubSub:S.exports.object.isRequired,rangeSelection1dSize:S.exports.array,rangeSelectionToInt:S.exports.bool,registerDraggingChangedListener:S.exports.func,removeDraggingChangedListener:S.exports.func,setCentersFunction:S.exports.func,svgElement:S.exports.object,theme:S.exports.symbol.isRequired,tracks:S.exports.object,trackSourceServers:S.exports.array,uid:S.exports.string,viewOptions:S.exports.object,xDomainLimits:S.exports.array,yDomainLimits:S.exports.array,zoomable:S.exports.bool,zoomLimits:S.exports.array,zoomToDataExtentOnInit:S.exports.func};const Pte=wH(t1(tH(Dte)));var Nte={exports:{}},Rte=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mte="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Lte(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function Bte(e){return Lte(e)}function Fte(e){return Lte(e,!0)}function Ute(e){var t=function(e){var t,n=void 0,r=void 0,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=Bte(r),t.top+=Fte(r),t}var jte=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),Hte=/^(top|right|bottom|left)$/,Gte="currentStyle",zte="runtimeStyle",Vte="left";var Yte=void 0;function $te(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Xte(e){return"border-box"===Yte(e,"boxSizing")}"undefined"!=typeof window&&(Yte=window.getComputedStyle?function(e,t,n){var r="",i=e.ownerDocument,o=n||i.defaultView.getComputedStyle(e,null);return o&&(r=o.getPropertyValue(t)||o[t]),r}:function(e,t){var n=e[Gte]&&e[Gte][t];if(jte.test(n)&&!Hte.test(t)){var r=e.style,i=r[Vte],o=e[zte][Vte];e[zte][Vte]=e[Gte][Vte],r[Vte]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[Vte]=i,e[zte][Vte]=o}return""===n?"auto":n});var Wte=["margin","border","padding"],qte=-1,Kte=2,Zte=1;function Qte(e,t,n){var r=0,i=void 0,o=void 0,a=void 0;for(o=0;o<t.length;o++)if(i=t[o])for(a=0;a<n.length;a++){var s;s="border"===i?i+n[a]+"Width":i+n[a],r+=parseFloat(Yte(e,s))||0}return r}function Jte(e){return null!=e&&e==e.window}var ene={};function tne(e,t,n){if(Jte(e))return"width"===t?ene.viewportWidth(e):ene.viewportHeight(e);if(9===e.nodeType)return"width"===t?ene.docWidth(e):ene.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight;Yte(e);var o=Xte(e),a=0;(null==i||i<=0)&&(i=void 0,(null==(a=Yte(e,t))||Number(a)<0)&&(a=e.style[t]||0),a=parseFloat(a)||0),void 0===n&&(n=o?Zte:qte);var s=void 0!==i||o,l=i||a;if(n===qte)return s?l-Qte(e,["border","padding"],r):a;if(s){var c=n===Kte?-Qte(e,["border"],r):Qte(e,["margin"],r);return l+(n===Zte?0:c)}return a+Qte(e,Wte.slice(n),r)}$te(["Width","Height"],(function(e){ene["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],ene["viewport"+e](n))},ene["viewport"+e]=function(t){var n="client"+e,r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var nne={position:"absolute",visibility:"hidden",display:"block"};function rne(e){var t=void 0,n=arguments;return 0!==e.offsetWidth?t=tne.apply(void 0,n):function(e,t,n){var r={},i=e.style,o=void 0;for(o in t)t.hasOwnProperty(o)&&(r[o]=i[o],i[o]=t[o]);for(o in n.call(e),t)t.hasOwnProperty(o)&&(i[o]=r[o])}(e,nne,(function(){t=tne.apply(void 0,n)})),t}function ine(e,t,n){var r=n;if("object"!==(void 0===t?"undefined":Mte(t)))return void 0!==r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):Yte(e,t);for(var i in t)t.hasOwnProperty(i)&&ine(e,i,t[i])}$te(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);ene["outer"+t]=function(t,n){return t&&rne(t,e,n?0:Zte)};var n="width"===e?["Left","Right"]:["Top","Bottom"];ene[e]=function(t,r){return void 0!==r?t?(Yte(t),Xte(t)&&(r+=Qte(t,["padding","border"],n)),ine(t,e,r)):void 0:t&&rne(t,e,qte)}}));var one=Rte({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return Ute(e);!function(e,t){"static"===ine(e,"position")&&(e.style.position="relative");var n=Ute(e),r={},i=void 0,o=void 0;for(o in t)t.hasOwnProperty(o)&&(i=parseFloat(ine(e,o))||0,r[o]=i+t[o]-n[o]);ine(e,r)}(e,t)},isWindow:Jte,each:$te,css:ine,clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(Jte(e)){if(void 0===t)return Bte(e);window.scrollTo(t,Fte(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(Jte(e)){if(void 0===t)return Fte(e);window.scrollTo(Bte(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},ene);var ane=function(e,t,n){n=n||{},9===t.nodeType&&(t=one.getWindow(t));var r=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,o=n.alignWithTop,a=n.alignWithLeft,s=n.offsetTop||0,l=n.offsetLeft||0,c=n.offsetBottom||0,u=n.offsetRight||0;r=void 0===r||r;var h=one.isWindow(t),d=one.offset(e),p=one.outerHeight(e),f=one.outerWidth(e),m=void 0,g=void 0,b=void 0,v=void 0,y=void 0,T=void 0,_=void 0,E=void 0,x=void 0,w=void 0;h?(_=t,w=one.height(_),x=one.width(_),E={left:one.scrollLeft(_),top:one.scrollTop(_)},y={left:d.left-E.left-l,top:d.top-E.top-s},T={left:d.left+f-(E.left+x)+u,top:d.top+p-(E.top+w)+c},v=E):(m=one.offset(t),g=t.clientHeight,b=t.clientWidth,v={left:t.scrollLeft,top:t.scrollTop},y={left:d.left-(m.left+(parseFloat(one.css(t,"borderLeftWidth"))||0))-l,top:d.top-(m.top+(parseFloat(one.css(t,"borderTopWidth"))||0))-s},T={left:d.left+f-(m.left+b+(parseFloat(one.css(t,"borderRightWidth"))||0))+u,top:d.top+p-(m.top+g+(parseFloat(one.css(t,"borderBottomWidth"))||0))+c}),y.top<0||T.top>0?!0===o?one.scrollTop(t,v.top+y.top):!1===o?one.scrollTop(t,v.top+T.top):y.top<0?one.scrollTop(t,v.top+y.top):one.scrollTop(t,v.top+T.top):i||((o=void 0===o||!!o)?one.scrollTop(t,v.top+y.top):one.scrollTop(t,v.top+T.top)),r&&(y.left<0||T.left>0?!0===a?one.scrollLeft(t,v.left+y.left):!1===a?one.scrollLeft(t,v.left+T.left):y.left<0?one.scrollLeft(t,v.left+y.left):one.scrollLeft(t,v.left+T.left):i||((a=void 0===a||!!a)?one.scrollLeft(t,v.left+y.left):one.scrollLeft(t,v.left+T.left)))};!function(e){e.exports=ane}(Nte);const sne=y(Nte.exports),lne=[];let cne=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={highlightedIndex:null,menuTop:0,menuLeft:0,menuWidth:0,isOpen:!1},r.keyDownHandlers={ArrowDown(e){e.preventDefault();const t=this.getFilteredItems().length;if(!t)return;const{highlightedIndex:n}=this.state,r=null===n||n===t-1?0:n+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})},ArrowUp(e){e.preventDefault();const t=this.getFilteredItems().length;if(!t)return;const{highlightedIndex:n}=this.state,r=0===n||null===n?t-1:n-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:r,isOpen:!0})},Enter(e){if(!1===this.state.isOpen);else if(null===this.state.highlightedIndex)this.setState({isOpen:!1},(()=>{this.inputEl.select()}));else{e.preventDefault();const t=this.getFilteredItems()[this.state.highlightedIndex],n=this.props.getItemValue(t);this.setState({isOpen:!1,highlightedIndex:null},(()=>{this.inputEl.setSelectionRange(n.length,n.length),this.props.onSelect(n,t)}))}},Escape(){this.setState({highlightedIndex:null,isOpen:!1})}},r}return f(n,[{key:"getInitialState",value:function(){return{isOpen:!1,highlightedIndex:null}}},{key:"UNSAFE_componentWillMount",value:function(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._performAutoCompleteOnUpdate=!0,(this.props.items!==e.items||this.state.highlightedIndex>=e.items.length)&&this.setState({highlightedIndex:null})}},{key:"componentDidUpdate",value:function(e,t){!0===this.state.isOpen&&!1===t.isOpen&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen,this.inputEl)}},{key:"maybeScrollItemIntoView",value:function(){if(!0===this.state.isOpen&&null!==this.state.highlightedIndex){const e=this.refs[`item-${this.state.highlightedIndex}`],t=this.refs.menu;e&&sne(l.findDOMNode(e),l.findDOMNode(t),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(e){this.keyDownHandlers[e.key]?this.keyDownHandlers[e.key].call(this,e):this.setState({highlightedIndex:null,isOpen:!0})}},{key:"handleChange",value:function(e){this._performAutoCompleteOnKeyUp=!0,this.props.onChange(e,e.target.value)}},{key:"handleKeyUp",value:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())}},{key:"getFilteredItems",value:function(){let e=this.props.items;return this.props.shouldItemRender&&(e=e.filter((e=>this.props.shouldItemRender(e,this.props.value)))),this.props.sortItems&&e.sort(((e,t)=>this.props.sortItems(e,t,this.props.value))),e}},{key:"maybeAutoCompleteText",value:function(){if(!this.props.autoHighlight||""===this.props.value)return;const{highlightedIndex:e}=this.state,t=this.getFilteredItems();if(0===t.length)return;const n=null!==e?t[e]:t[0];0===this.props.getItemValue(n).toLowerCase().indexOf(this.props.value.toLowerCase())&&null===e&&this.setState({highlightedIndex:0})}},{key:"setMenuPositions",value:function(){const e=this.inputEl,t=e.getBoundingClientRect(),n=globalThis.window.getComputedStyle(e),r=parseInt(n.marginBottom,10)||0,i=parseInt(n.marginLeft,10)||0,o=parseInt(n.marginRight,10)||0;this.setState({menuTop:t.bottom+r,menuLeft:t.left+i,menuWidth:t.width+i+o})}},{key:"highlightItemFromMouse",value:function(e){this.setState({highlightedIndex:e})}},{key:"selectItemFromMouse",value:function(e){const t=this.props.getItemValue(e);this.setState({isOpen:!1,highlightedIndex:null},(()=>{this.props.onSelect(t,e),this.inputEl.focus()}))}},{key:"setIgnoreBlur",value:function(e){this._ignoreBlur=e}},{key:"renderMenu",value:function(){const e=this.getFilteredItems().map(((e,t)=>{const n=this.props.renderItem(e,this.state.highlightedIndex===t,{cursor:"default"});return m.default.cloneElement(n,{onMouseDown:()=>this.setIgnoreBlur(!0),onMouseEnter:()=>this.highlightItemFromMouse(t),onClick:()=>this.selectItemFromMouse(e),ref:`item-${t}`})})),t={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth};if(!e.length)return null;const n=this.props.renderMenu(e,this.props.value,t);return m.default.cloneElement(n,{ref:"menu"})}},{key:"handleInputBlur",value:function(){this.props.onFocus&&this.props.onFocus(),this._ignoreBlur||this.setState({isOpen:!1,highlightedIndex:null})}},{key:"handleInputFocus",value:function(){this.props.onFocus&&this.props.onFocus(!0),this._ignoreBlur?this.setIgnoreBlur(!1):(this._ignoreClick=!0,this.setState({isOpen:!0}))}},{key:"isInputFocused",value:function(){return this.inputEl.ownerDocument&&this.inputEl===this.inputEl.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!1===this.state.isOpen?this.setState({isOpen:!0}):null===this.state.highlightedIndex||this._ignoreClick||this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]),this._ignoreClick=!1}},{key:"composeEventHandlers",value:function(e,t){return t?n=>{e(n),t(n)}:e}},{key:"render",value:function(){this.props.debug&&lne.push({id:lne.length,state:this.state});const{inputProps:e}=this.props;return m.default.createElement("div",{style:{...this.props.wrapperStyle},...this.props.wrapperProps},m.default.createElement("input",{...e,ref:e=>{this.inputEl=e},"aria-autocomplete":"list",autoComplete:"off",onBlur:this.composeEventHandlers(this.handleInputBlur.bind(this),e.onBlur&&e.onBlur.bind(this)),onChange:this.handleChange.bind(this),onClick:this.composeEventHandlers(this.handleInputClick.bind(this),e.onClick&&e.onClick.bind(this)),onFocus:this.composeEventHandlers(this.handleInputFocus.bind(this),e.onFocus&&e.onFocus.bind(this)),onKeyDown:this.composeEventHandlers(this.handleKeyDown.bind(this),e.onKeyDown&&e.onKeyDown.bind(this)),onKeyUp:this.composeEventHandlers(this.handleKeyUp.bind(this),e.onKeyUp&&e.onKeyUp.bind(this)),role:"combobox",value:this.props.value}),("open"in this.props?this.props.open:this.state.isOpen)&&this.renderMenu(),this.props.debug&&m.default.createElement("pre",{style:{marginLeft:300}},JSON.stringify(lne.slice(lne.length-5,lne.length),null,2)))}}]),n}(m.default.Component);cne.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},onChange(){},onSelect(){},renderMenu(e,t,n){return m.default.createElement("div",{style:{...n,...this.menuStyle}},e)},shouldItemRender:()=>!0,menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,onMenuVisibilityChange(){}},cne.propTypes={autoHighlight:S.exports.bool,debug:S.exports.bool,getItemValue:S.exports.func.isRequired,inputProps:S.exports.object,items:S.exports.array,menuStyle:S.exports.object,onChange:S.exports.func,onFocus:S.exports.func,onMenuVisibilityChange:S.exports.func,onSelect:S.exports.func,open:S.exports.bool,renderItem:S.exports.func.isRequired,renderMenu:S.exports.func,shouldItemRender:S.exports.func,sortItems:S.exports.func,value:S.exports.any,wrapperProps:S.exports.object,wrapperStyle:S.exports.object};const une="_genome-position-search_1l2sx_1",hne="_genome-position-search-focus_1l2sx_2",dne="_genome-position-search-bar_1l2sx_16",pne="_genome-position-search-dark_1l2sx_34",fne="_genome-position-search-bar-button_1l2sx_38",mne="_genome-position-search-bar-suggestions_1l2sx_83";let gne=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).mounted=!1,r.uid=Ns.nice(),r.chromInfo=null,r.searchField=null,r.autocompleteMenu=null,r.xScale=null,r.yScale=null,r.prevParts=[],r.props.registerViewportChangedListener(r.scalesChanged.bind(a(r))),r.menuPosition={left:0,top:0},r.positionText="chr4:190,998,876-191,000,255",r.state={genes:[],isFocused:!1,autocompleteServer:r.props.autocompleteServer,autocompleteId:r.props.autocompleteId,availableAssemblies:[],selectedAssembly:null},r.styles={item:{padding:"2px 6px",cursor:"default"},highlightedItem:{color:"white",background:"hsl(200, 50%, 50%)",padding:"2px 6px",cursor:"default"},menu:{border:"solid 1px #ccc"}},r.availableAutocompletes={},r.props.autocompleteId&&(r.availableAutocompletes[r.props.chromInfoId]=new Set([{server:r.props.autocompleteServer,acId:r.props.autocompleteId}])),r.availableChromSizes={},r}return f(n,[{key:"componentDidMount",value:function(){this.mounted=!0,Be(this.autocompleteMenu.inputEl).on("keypress",this.autocompleteKeyPress.bind(this)),this.findAvailableAutocompleteSources(),this.findAvailableChromSizes(),this.props.chromInfoPath&&(this.searchPosition=!0,HW(this.props.chromInfoPath,(e=>{e?(this.chromInfo=e,this.searchField=new GW(this.chromInfo),this.setPositionText()):this.searchPosition=null}))),this.setPositionText()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.props.removeViewportChangedListener()}},{key:"onAutocompleteChange",value:function(e,t){this.positionText=t,this.setState({value:t,loading:!0}),this.changedPart=null;const n=t.split(/ /);let r=0;const i=[];let o=!1;for(let e=0;e<n.length;e++){const t=n[e].split(/-/);for(let e=0;e<t.length;e++){if(r+=1,i.push(t[e]),o=0===e,e===this.prevParts.length){this.changedPart=r-1;break}if(t[e]!==this.prevParts[e]){this.changedPart=r-1;break}}}if(this.prevParts=i,this.state.autocompleteServer&&this.state.autocompleteId&&null!==this.changedPart){this.setState({loading:!0});let e=`${this.state.autocompleteServer}/suggest/`;e+=`?d=${this.state.autocompleteId}&ac=${i[this.changedPart].toLowerCase()}`,mg.json(e,((e,t)=>{if(e)this.setState({loading:!1,genes:[]});else if(this.changedPart>0&&!o){const e=`${this.state.autocompleteServer}/suggest/?d=${this.state.autocompleteId}&ac=${i[this.changedPart-1].toLowerCase()}-${i[this.changedPart].toLowerCase()}`;mg.json(e,((e,n)=>{e?this.setState({loading:!1,genes:t}):this.setState({loading:!1,genes:n.concat(t)})}),this.props.pubSub)}else this.setState({loading:!1,genes:t})}),this.props.pubSub)}}},{key:"setAvailableAssemblies",value:function(){const e=new Set(mm(this.availableChromSizes)),t=new Set([...e]);this.gpsbForm&&this.setState({availableAssemblies:[...t]})}},{key:"setSelectedAssembly",value:function(e){if(!this.mounted)return;if(!this.availableChromSizes[e])return;const t=[...this.availableChromSizes[e]][0];this.setState({autocompleteServer:t.server});const{server:n}=t;if(this.availableAutocompletes[e]){const t=[...this.availableAutocompletes[e]][0].acId;this.props.onSelectedAssemblyChanged(e,t,n),this.gpsbForm&&this.setState({autocompleteId:t})}else this.props.onSelectedAssemblyChanged(e,null,n),this.gpsbForm&&this.setState({autocompleteId:null});this.fetchChromInfo(t.uuid,t.server)}},{key:"setPositionText",value:function(){if(!this.mounted)return;if(!this.searchField)return;const e=this.searchField.scalesToPositionText(this.xScale,this.yScale,this.props.twoD);this.prevParts=e.split(/[ -]/),this.gpsbForm&&(this.positionText=e,this.origPositionText=e,this.autocompleteMenu.inputEl.value=e)}},{key:"scalesChanged",value:function(e,t){this.xScale=e,this.yScale=t,this.setPositionText()}},{key:"findAvailableChromSizes",value:function(){this.props.trackSourceServers&&this.props.trackSourceServers.forEach((e=>{mg.json(`${e}/available-chrom-sizes/`,((t,n)=>{t?console.error(t):(n.results.forEach((t=>{t.coordSystem in this.availableChromSizes||(this.availableChromSizes[t.coordSystem]=new Set),this.availableChromSizes[t.coordSystem].add({server:e,uuid:t.uuid}),this.setAvailableAssemblies()})),this.searchField||this.fetchChromInfo(this.props.chromInfoId in this.availableChromSizes?[...this.availableChromSizes[this.props.chromInfoId]][0].uuid:this.props.chromInfoId,this.props.chromInfoId in this.availableChromSizes?[...this.availableChromSizes[this.props.chromInfoId]][0].server:this.props.chromInfoServer))}),this.props.pubSub)}))}},{key:"findAvailableAutocompleteSources",value:function(){this.props.trackSourceServers&&this.props.trackSourceServers.forEach((e=>{mg.json(`${e}/tilesets/?limit=100&dt=gene-annotation`,((t,n)=>{t?console.error(t):(n.results.forEach((t=>{t.coordSystem in this.availableAutocompletes||(this.availableAutocompletes[t.coordSystem]=new Set),this.availableAutocompletes[t.coordSystem].add({server:e,acId:t.uuid}),this.setAvailableAssemblies()})),this.state.autocompleteId||this.gpsbForm&&this.availableAutocompletes[this.props.chromInfoId]&&this.setState({autocompleteId:[...this.availableAutocompletes[this.props.chromInfoId]][0].acId}))}),this.props.pubSub)}))}},{key:"fetchChromInfo",value:function(e,t){HW(`${t}/chrom-sizes/?id=${e}`,(n=>{n&&(mg.json(`${t}/tileset_info/?d=${e}`,((t,n)=>{t||this.gpsbForm&&this.setState({selectedAssembly:n[e].coordSystem})}),this.props.pubSub),this.chromInfo=n,this.searchField=new GW(this.chromInfo),this.setPositionText())}),this.props.pubSub)}},{key:"autocompleteKeyPress",value:function(e){13===e.keyCode&&this.buttonClick()}},{key:"genePositionToSearchBarText",value:function(e){}},{key:"replaceGenesWithLoadedPositions",value:function(e){const t=this.positionText,n=t.split(" ");let r=!1;for(let t=0;t<n.length;t++){const i=n[t].split("-");let o=0,a=0,s="";for(;o<i.length;){for(a=i.length;a>o;){const t=i.slice(o,a).join("-");if(e[t.toLowerCase()]){const n=e[t.toLowerCase()],l=Math.floor((n.txEnd-n.txStart)/4);0===o&&a<i.length?s=`${n.chr}:${n.txStart-l}`:0===o&&a===i.length?s=`${n.chr}:${n.txStart-l}-${n.txEnd+l}`:s+=`- ${n.chr}:${n.txEnd+l}`,r=!0;break}a===o+1&&(s.length&&(s+="-"),s+=t),a-=1}o=a+1}n[t]=s}const i=n.join(" ");return this.prevParts=i.split(/[ -]/),this.positionText=i,this.setState({value:i}),r?t:null}},{key:"replaceGenesWithPositions",value:function(e){const t=this.positionText.split(/[ -]/),n=[];for(let e=0;e<t.length;e++){if(0===t[e].length)continue;const r=this.searchField.parsePosition(t[e])[2];if(null===r||Number.isNaN(+r)){const r=`${this.state.autocompleteServer}/suggest/?d=${this.state.autocompleteId}&ac=${t[e].toLowerCase()}`;n.push(mg.json(r,lb,this.props.pubSub))}}Promise.all(n).then((t=>{if(t){const n={};for(let e=0;e<t.length;e++)if(t[e][0])for(let r=0;r<t[e].length;r++)n[t[e][r].geneName.toLowerCase()]=t[e][r];const r=this.replaceGenesWithLoadedPositions(n);e(r)}})).catch((e=>console.error(e)))}},{key:"buttonClick",value:function(){this.setState({genes:[]}),this.replaceGenesWithPositions((e=>{const t=this.positionText;if(null!==this.searchField){const n=this.searchField.searchPosition(t),r=n[0];let i=n[1];if(!r)return void this.setPositionText();if(r&&(Number.isNaN(+r[0])||Number.isNaN(+r[1]))||i&&(Number.isNaN(+i[0])||Number.isNaN(+i[1])))return;i||(i=r);const o=this.xScale.copy().domain(r),a=this.yScale.copy().domain(i),[s,l,c]=tb(o,a);e&&this.props.onGeneSearch({geneSymbol:e,range:r,centerX:s,centerY:l}),this.props.setCenters(s,l,c,1e3)}}))}},{key:"searchFieldSubmit",value:function(){this.buttonClick()}},{key:"pathJoin",value:function(e,t){const n=t||"/",r=new RegExp(`${n}{1,}`,"g");return e.join(n).replace(r,n)}},{key:"geneSelected",value:function(e,t){const n=this.positionText.split(" ");let r=this.changedPart;for(let e=0;e<n.length;e++){const i=n[e].split("-"),o=t.geneName.split("-");if(!(r>i.length-1)){if(i[r]=t.geneName,2===o.length&&r>0&&i[r-1].toLowerCase()===o[0].toLowerCase()){const t=i.slice(0,r-1);t.push(o.join("-")),r<i.length-1&&t.push(i.slice(r+1)),n[e]=t.join("-")}else n[e]=i.join("-");break}r-=i.length}this.prevParts=n.join(" ").split(/[ -]/),this.positionText=n.join(" "),this.setState({value:n.join(" "),genes:[]})}},{key:"handleMenuVisibilityChange",value:function(e,t){const n=t.getBoundingClientRect();this.menuPosition={left:n.left,top:n.top+n.height},this.setState({menuOpened:e})}},{key:"handleRenderMenu",value:function(e){return m.default.createElement(Ste,null,m.default.createElement("div",{className:mne,style:{left:this.menuPosition.left,top:this.menuPosition.top}},e))}},{key:"handleAssemblySelectEvt",value:function(e){this.handleAssemblySelect(e.target.value)}},{key:"handleAssemblySelect",value:function(e){this.setSelectedAssembly(e),this.setState({selectedAssembly:e})}},{key:"focusHandler",value:function(e){this.setState({isFocused:e})}},{key:"render",value:function(){const e=this.state.availableAssemblies.map((e=>m.default.createElement("option",{key:e,value:e},e)));return m.default.createElement("div",{ref:e=>{this.gpsbForm=e},className:gl({[hne]:this.state.isFocused,[une]:!this.state.isFocused,[pne]:this.props.theme===Pf})},!this.props.hideAvailableAssemblies&&m.default.createElement("select",{ref:e=>{this.assemblyPickButton=e},className:fne,id:this.uid,onChange:this.handleAssemblySelectEvt.bind(this),value:this.state.selectedAssembly||void 0},e),m.default.createElement(cne,{ref:e=>{this.autocompleteMenu=e},getItemValue:e=>e.geneName,inputProps:{className:dne,title:"Current location: enter a symbol or location to change the position of the current view"},items:this.state.genes,menuStyle:{position:"absolute",left:this.menuPosition.left,top:this.menuPosition.top,border:"1px solid black"},onChange:this.onAutocompleteChange.bind(this),onFocus:this.focusHandler.bind(this),onMenuVisibilityChange:this.handleMenuVisibilityChange.bind(this),onSelect:(e,t)=>this.geneSelected(e,t),onSubmit:this.searchFieldSubmit.bind(this),renderItem:(e,t)=>m.default.createElement("div",{key:e.refseqid,id:e.refseqid,style:t?this.styles.highlightedItem:this.styles.item},e.geneName),renderMenu:this.handleRenderMenu.bind(this),value:this.state.selectedAssembly?this.positionText:"No valid assembly selected",wrapperStyle:{width:"100%"}}),m.default.createElement(Zf,{onClick:this.buttonClick.bind(this),theStyle:"multitrack-header-icon"}))}}]),n}(m.default.Component);gne.propTypes={autocompleteId:S.exports.string,autocompleteServer:S.exports.string,chromInfoId:S.exports.string,chromInfoServer:S.exports.string,hideAvailableAssemblies:S.exports.bool,isFocused:S.exports.bool,pubSub:S.exports.object,onFocus:S.exports.func,onGeneSearch:S.exports.func,onSelectedAssemblyChanged:S.exports.func,registerViewportChangedListener:S.exports.func,removeViewportChangedListener:S.exports.func,setCenters:S.exports.func,theme:S.exports.symbol.isRequired,trackSourceServers:S.exports.array,twoD:S.exports.bool};const bne=wH(tH(gne)),vne="_export-link-dialog-wrapper_p9gxw_1";let yne=function(e){i(n,e);var t=o(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"render",value:function(){return m.default.createElement(d1,{okayOnly:!0,okayTitle:"Done",onOkay:this.props.onDone,title:"Share view link"},m.default.createElement("div",{className:vne},m.default.createElement("input",{ref:e=>{e&&(this.input=e,e.focus(),e.select())},onClick:e=>{e.target.select()},placeholder:"Generating the link...",readOnly:!0,value:this.props.url}),m.default.createElement(K0,{onClick:e=>{this.input.select(),document.execCommand("copy")}},"Copy")))}}]),n}(m.default.Component);yne.defaultProps={onDone:()=>{},url:""},yne.propTypes={onDone:S.exports.func,url:S.exports.string};let Tne=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={submenuShown:!1},r}return f(n,[{key:"getConfigureViewMenu",value:function(e,t){const n=["backgroundColor"],r={},i={};for(const e of n)if(e in Object.keys(ete)&&(r[e]={name:ete[e].name},ete[e].inlineOptions))for(const t in ete[e].inlineOptions){const n=ete[e].inlineOptions[t];r[e].children||(r[e].children={});const o={name:n.name,value:n.value};o.handler=()=>{i[e]=n.value,this.props.onOptionsChanged(i)},r[e].children[t]=o}return m.default.createElement(vte,{key:"config-series-menu",closeMenu:this.props.closeMenu,menuItems:r,orientation:this.state.orientation,parentBbox:t,position:e,theme:this.props.theme})}},{key:"getSubmenu",value:function(){if(this.state.submenuShown){const e=this.state.submenuSourceBbox,t="left"===this.state.orientation?{left:this.state.left,top:e.top}:{left:this.state.left+e.width+7,top:e.top};return"options"===this.state.submenuShown.option?this.getConfigureViewMenu(t,e):m.default.createElement("div",null)}return m.default.createElement("div",null)}},{key:"render",value:function(){return m.default.createElement("div",{ref:e=>{this.div=e},className:gl(yh["context-menu"],{[yh["context-menu-dark"]]:this.props.theme===Pf}),"data-menu-type":"ConfigViewMenu",style:{left:this.state.left,top:this.state.top}},m.default.createElement(Th,{onClick:e=>this.props.onTogglePositionSearchBox(e)},"Toggle position search box"),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{onClick:e=>this.props.onZoomToData(e)},"Zoom to data extent"),m.default.createElement(Th,{onClick:e=>this.props.onClearView(e)},"Clear View"),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{onClick:e=>this.props.onYankZoom(e)},"Take zoom from"),m.default.createElement(Th,{onClick:e=>this.props.onYankLocation(e)},"Take location from"),m.default.createElement(Th,{onClick:e=>this.props.onYankZoomAndLocation(e)},"Take zoom and location from"),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{onClick:this.props.onLockZoom},"Lock zoom with"),m.default.createElement(Th,{onClick:this.props.onLockLocation},"Lock location with"),m.default.createElement(Th,{onClick:this.props.onLockZoomAndLocation},"Lock zoom and location with"),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{onClick:this.props.onTakeAndLockZoomAndLocation},"Take and lock zoom and location with"),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{onClick:e=>this.props.onUnlockZoom(e)},"Unlock zoom"),m.default.createElement(Th,{onClick:e=>this.props.onUnlockLocation(e)},"Unlock location"),m.default.createElement(Th,{onClick:e=>this.props.onUnlockZoomAndLocation(e)},"Unlock zoom and location"),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{onClick:e=>this.props.onProjectViewport(e)},"Show this viewport on"),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{onClick:e=>this.props.onEditViewConfig(e)},"Edit view config"),m.default.createElement("hr",{className:yh["context-menu-hr"]}),m.default.createElement(Th,{onClick:()=>this.props.onExportSVG()},"Export views as SVG"),m.default.createElement(Th,{onClick:()=>this.props.onExportPNG()},"Export views as PNG"),m.default.createElement(Th,{onClick:()=>this.props.onExportViewAsJSON()},"Export views as JSON"),m.default.createElement(Th,{onClick:()=>this.props.onExportViewAsLink()},"Export views as Link"),this.getSubmenu())}}]),n}(bte);Tne.propTypes={onEditViewConfig:S.exports.func.isRequired,onExportSVG:S.exports.func,onExportPNG:S.exports.func,onExportViewAsJSON:S.exports.func,onExportViewAsLink:S.exports.func,onLockLocation:S.exports.func,onLockZoom:S.exports.func,onLockZoomAndLocation:S.exports.func,onProjectViewport:S.exports.func,onTakeAndLockZoomAndLocation:S.exports.func,onTogglePositionSearchBox:S.exports.func,onUnlockLocation:S.exports.func,onUnlockZoom:S.exports.func,onUnlockZoomAndLocation:S.exports.func,onYankLocation:S.exports.func,onYankZoom:S.exports.func,onYankZoomAndLocation:S.exports.func,onZoomToData:S.exports.func,theme:S.exports.symbol};const _ne="_add-track-position-table_wdy5w_1",Ene="_add-track-position-table-dark_wdy5w_7",xne="_add-track-position-other_wdy5w_11",wne="_add-track-position-top-center_wdy5w_15",Sne="_add-track-position-middle-left_wdy5w_30",Ane="_add-track-position-middle-right_wdy5w_45",kne="_add-track-position-middle-middle_wdy5w_60",Cne="_add-track-position-bottom-middle_wdy5w_71",Ine="_add-track-position-span_wdy5w_86";function One(e){return m.default.createElement("div",null,m.default.createElement("div",{className:Ine},"Add Track..."),m.default.createElement("table",{className:gl(_ne,{[Ene]:e.theme===Pf})},m.default.createElement("tbody",null,m.default.createElement("tr",{style:{height:"30px"}},m.default.createElement("td",{className:xne}),m.default.createElement("td",{className:wne,onClick:()=>e.onTrackPositionChosen("top")},"top"),m.default.createElement("td",{className:xne})),m.default.createElement("tr",{style:{height:"80px"}},m.default.createElement("td",{className:Sne,onClick:()=>e.onTrackPositionChosen("left")},"left"),m.default.createElement("td",{className:kne,onClick:()=>e.onTrackPositionChosen("center")},"center"),m.default.createElement("td",{className:Ane,onClick:()=>e.onTrackPositionChosen("right")},"right")),m.default.createElement("tr",{style:{height:"30px"}},m.default.createElement("td",{className:xne}),m.default.createElement("td",{className:Cne,onClick:()=>e.onTrackPositionChosen("bottom")},"bottom"),m.default.createElement("td",{className:xne})))))}One.propTypes={onTrackPositionChosen:S.exports.func.isRequired,theme:S.exports.symbol.isRequired};const Dne=tH(One);let Pne=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).configImg=null,r.plusImg=null,r.state={addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null,configMenuUid:null,configMenuPosition:null,isFocused:!1,width:-1},r.handleTrackPositionChosenBound=r.handleTrackPositionChosen.bind(a(r)),r}return f(n,[{key:"componentDidMount",value:function(){this.setState({width:this.el.clientWidth})}},{key:"checkWidth",value:function(){const e=this.el.clientWidth;e!==this.state.width&&this.setState({width:e})}},{key:"handleConfigMenuOpened",value:function(e){this.setState({configMenuUid:e,configMenuPosition:this.configImg.getBoundingClientRect()})}},{key:"handleAddTrackPositionMenuOpened",value:function(e){this.setState({addTrackPositionMenuUid:e,addTrackPositionMenuPosition:this.plusImg.getBoundingClientRect()})}},{key:"handleTrackPositionChosen",value:function(e){this.props.onTrackPositionChosen(e),this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},{key:"render",value:function(){let e=null,t=null;this.state.addTrackPositionMenuPosition&&(t=m.default.createElement(Ste,{onMenuClosed:()=>{this.setState({addTrackPositionMenuUid:null,addTrackPositionMenuPosition:null})}},m.default.createElement(bte,{orientation:"left",position:this.state.addTrackPositionMenuPosition,theme:this.props.theme},m.default.createElement(Dne,{onTrackPositionChosen:this.handleTrackPositionChosenBound})))),this.state.configMenuUid&&(e=m.default.createElement(Ste,{onMenuClosed:()=>this.setState({configMenuUid:null})},m.default.createElement(Tne,{onClearView:()=>{this.setState({configMenuUid:null}),this.props.onClearView()},onEditViewConfig:()=>{this.setState({configMenuUid:null}),this.props.onEditViewConfig(this.state.configMenuUid)},onExportPNG:()=>{this.setState({configMenuUid:null}),this.props.onExportPNG()},onExportSVG:()=>{this.setState({configMenuUid:null}),this.props.onExportSVG()},onExportViewAsJSON:()=>{this.setState({configMenuUid:null}),this.props.onExportViewsAsJSON()},onExportViewAsLink:()=>{this.setState({configMenuUid:null}),this.props.onExportViewsAsLink()},onLockLocation:()=>{this.setState({configMenuUid:null}),this.props.onLockLocation(this.state.configMenuUid)},onLockZoom:()=>{this.setState({configMenuUid:null}),this.props.onLockZoom(this.state.configMenuUid)},onLockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onLockZoomAndLocation(this.state.configMenuUid)},onOptionsChanged:e=>{this.props.onViewOptionsChanged(e),this.setState({configMenuUid:null})},onProjectViewport:()=>{this.setState({configMenuUid:null}),this.props.onProjectViewport(this.state.configMenuUid)},onTakeAndLockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onTakeAndLockZoomAndLocation(this.state.configMenuUid)},onTogglePositionSearchBox:()=>{this.setState({configMenuUid:null}),this.props.onTogglePositionSearchBox(this.state.configMenuUid)},onUnlockLocation:()=>{this.setState({configMenuUid:null}),this.props.onUnlockLocation(this.state.configMenuUid)},onUnlockZoom:()=>{this.setState({configMenuUid:null}),this.props.onUnlockZoom(this.state.configMenuUid)},onUnlockZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onUnlockZoomAndLocation(this.state.configMenuUid)},onYankLocation:()=>{this.setState({configMenuUid:null}),this.props.onYankLocation(this.state.configMenuUid)},onYankZoom:()=>{this.setState({configMenuUid:null}),this.props.onYankZoom(this.state.configMenuUid)},onYankZoomAndLocation:()=>{this.setState({configMenuUid:null}),this.props.onYankZoomAndLocation(this.state.configMenuUid)},onZoomToData:()=>{this.setState({configMenuUid:null}),this.props.onZoomToData(this.state.configMenuUid)},orientation:"left",position:this.state.configMenuPosition,theme:this.props.theme})));const n=this.props.getGenomePositionSearchBox(this.state.isFocused,(e=>{this.setState({isFocused:e})})),r=gl(this.state.isFocused?Mf["multitrack-header-focus"]:Mf["multitrack-header"],{[Mf["multitrack-header-dark"]]:this.props.theme===Pf}),i=this.state.width<=400?Mf["multitrack-header-icon-squeazed"]:Mf["multitrack-header-icon"];return m.default.createElement("div",{ref:e=>{this.el=e},className:r},m.default.createElement("div",{className:Mf["multitrack-header-left"]},this.props.mouseTool===Af&&m.default.createElement("svg",{className:gl(Mf["mouse-tool-selection"],i),title:"Selection tool active"},m.default.createElement("use",{xlinkHref:"#select"})),m.default.createElement("div",{className:Mf["multitrack-header-grabber"],title:"Drag to move the view"},m.default.createElement("div",null),m.default.createElement("div",null),m.default.createElement("div",null)),this.state.width>300&&m.default.createElement("div",{className:Mf["multitrack-header-search"]},this.props.isGenomePositionSearchBoxVisible&&n)),m.default.createElement("nav",{className:Mf["multitrack-header-nav-list"]},m.default.createElement("svg",{className:i,onClick:this.props.onAddView},m.default.createElement("title",null,"Add new view (clone this view)"),m.default.createElement("use",{xlinkHref:"#copy"})),m.default.createElement("svg",{ref:e=>{this.configImg=e},className:i,onClick:()=>this.handleConfigMenuOpened(this.props.viewUid)},m.default.createElement("title",null,"Configure this view"),m.default.createElement("use",{xlinkHref:"#cog"})),m.default.createElement("svg",{ref:e=>{this.plusImg=e},className:i,onClick:()=>this.handleAddTrackPositionMenuOpened(this.props.viewUid)},m.default.createElement("title",null,"Add Track"),m.default.createElement("use",{xlinkHref:"#plus"})),m.default.createElement("svg",{className:i,onClick:this.props.onCloseView},m.default.createElement("title",null,"Close View"),m.default.createElement("use",{xlinkHref:"#cross"}))),e,t)}}]),n}(m.default.Component);Pne.defaultProps={isGenomePositionSearchBoxVisible:!1},Pne.propTypes={getGenomePositionSearchBox:S.exports.func.isRequired,isGenomePositionSearchBoxVisible:S.exports.bool,mouseTool:S.exports.string.isRequired,onAddView:S.exports.func.isRequired,onClearView:S.exports.func.isRequired,onCloseView:S.exports.func.isRequired,onEditViewConfig:S.exports.func.isRequired,onExportSVG:S.exports.func.isRequired,onExportPNG:S.exports.func.isRequired,onExportViewsAsJSON:S.exports.func.isRequired,onExportViewsAsLink:S.exports.func.isRequired,onLockLocation:S.exports.func.isRequired,onLockZoom:S.exports.func.isRequired,onLockZoomAndLocation:S.exports.func.isRequired,onProjectViewport:S.exports.func.isRequired,onTakeAndLockZoomAndLocation:S.exports.func.isRequired,onTogglePositionSearchBox:S.exports.func.isRequired,onTrackPositionChosen:S.exports.func.isRequired,onUnlockLocation:S.exports.func.isRequired,onUnlockZoom:S.exports.func.isRequired,onUnlockZoomAndLocation:S.exports.func.isRequired,onViewOptionsChanged:S.exports.func.isRequired,onYankLocation:S.exports.func.isRequired,onYankZoom:S.exports.func.isRequired,onYankZoomAndLocation:S.exports.func.isRequired,onZoomToData:S.exports.func.isRequired,theme:S.exports.symbol.isRequired,viewUid:S.exports.string.isRequired};const Nne=tH(Pne);var Rne={};Object.defineProperty(Rne,"__esModule",{value:!0});var Mne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lne=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Bne=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m.default);function Fne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Une="navigator"in globalThis&&/Win/i.test(navigator.platform),jne="navigator"in globalThis&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Hne="npm__react-simple-code-editor__textarea",Gne="\n/**\n * Reset the text fill color so that placeholder is visible\n */\n."+Hne+":empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  ."+Hne+" {\n    color: transparent !important;\n  }\n\n  ."+Hne+"::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n",zne=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Fne(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={capture:!0},r._recordCurrentState=function(){var e=r._input;if(e){var t=e.value,n=e.selectionStart,i=e.selectionEnd;r._recordChange({value:t,selectionStart:n,selectionEnd:i})}},r._getLines=function(e,t){return e.substring(0,t).split("\n")},r._recordChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r._history,i=n.stack,o=n.offset;if(i.length&&o>-1){r._history.stack=i.slice(0,o+1);var a=r._history.stack.length;if(a>100){var s=a-100;r._history.stack=i.slice(s,a),r._history.offset=Math.max(r._history.offset-s,0)}}var l=Date.now();if(t){var c=r._history.stack[r._history.offset];if(c&&l-c.timestamp<3e3){var u=/[^a-z0-9]([a-z0-9]+)$/i,h=r._getLines(c.value,c.selectionStart).pop().match(u),d=r._getLines(e.value,e.selectionStart).pop().match(u);if(h&&d&&d[1].startsWith(h[1]))return void(r._history.stack[r._history.offset]=Mne({},e,{timestamp:l}))}}r._history.stack.push(Mne({},e,{timestamp:l})),r._history.offset++},r._updateInput=function(e){var t=r._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,r.props.onValueChange(e.value))},r._applyEdits=function(e){var t=r._input,n=r._history.stack[r._history.offset];n&&t&&(r._history.stack[r._history.offset]=Mne({},n,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),r._recordChange(e),r._updateInput(e)},r._undoEdit=function(){var e=r._history,t=e.stack,n=e.offset,i=t[n-1];i&&(r._updateInput(i),r._history.offset=Math.max(n-1,0))},r._redoEdit=function(){var e=r._history,t=e.stack,n=e.offset,i=t[n+1];i&&(r._updateInput(i),r._history.offset=Math.min(n+1,t.length-1))},r._handleKeyDown=function(e){var t=r.props,n=t.tabSize,i=t.insertSpaces,o=t.ignoreTabKey,a=t.onKeyDown;if(!a||(a(e),!e.defaultPrevented)){27===e.keyCode&&e.target.blur();var s=e.target,l=s.value,c=s.selectionStart,u=s.selectionEnd,h=(i?" ":"\t").repeat(n);if(9===e.keyCode&&!o&&r.state.capture)if(e.preventDefault(),e.shiftKey){var d=r._getLines(l,c),p=d.length-1,f=r._getLines(l,u).length-1,m=l.split("\n").map((function(e,t){return t>=p&&t<=f&&e.startsWith(h)?e.substring(h.length):e})).join("\n");if(l!==m){var g=d[p];r._applyEdits({value:m,selectionStart:g.startsWith(h)?c-h.length:c,selectionEnd:u-(l.length-m.length)})}}else if(c!==u){var b=r._getLines(l,c),v=b.length-1,y=r._getLines(l,u).length-1,T=b[v];r._applyEdits({value:l.split("\n").map((function(e,t){return t>=v&&t<=y?h+e:e})).join("\n"),selectionStart:/\S/.test(T)?c+h.length:c,selectionEnd:u+h.length*(y-v+1)})}else{var _=c+h.length;r._applyEdits({value:l.substring(0,c)+h+l.substring(u),selectionStart:_,selectionEnd:_})}else if(8===e.keyCode){var E=c!==u;if(l.substring(0,c).endsWith(h)&&!E){e.preventDefault();var x=c-h.length;r._applyEdits({value:l.substring(0,c-h.length)+l.substring(u),selectionStart:x,selectionEnd:x})}}else if(13===e.keyCode){if(c===u){var w=r._getLines(l,c).pop().match(/^\s+/);if(w&&w[0]){e.preventDefault();var S="\n"+w[0],A=c+S.length;r._applyEdits({value:l.substring(0,c)+S+l.substring(u),selectionStart:A,selectionEnd:A})}}}else if(57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode){var k=void 0;57===e.keyCode&&e.shiftKey?k=["(",")"]:219===e.keyCode?k=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?k=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(k=["`","`"]),c!==u&&k&&(e.preventDefault(),r._applyEdits({value:l.substring(0,c)+k[0]+l.substring(c,u)+k[1]+l.substring(u),selectionStart:c,selectionEnd:u+2}))}else!(jne?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)||e.shiftKey||e.altKey?(jne?e.metaKey&&90===e.keyCode&&e.shiftKey:Une?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),r._redoEdit()):77!==e.keyCode||!e.ctrlKey||jne&&!e.shiftKey||(e.preventDefault(),r.setState((function(e){return{capture:!e.capture}}))):(e.preventDefault(),r._undoEdit())}},r._handleChange=function(e){var t=e.target,n=t.value,i=t.selectionStart,o=t.selectionEnd;r._recordChange({value:n,selectionStart:i,selectionEnd:o},!0),r.props.onValueChange(n)},r._history={stack:[],offset:-1},Fne(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Lne(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.style,i=t.padding,o=t.highlight,a=t.textareaId,s=t.autoFocus,l=t.disabled,c=t.form,u=t.maxLength,h=t.minLength,d=t.name,p=t.placeholder,f=t.readOnly,m=t.required,g=t.onClick,b=t.onFocus,v=t.onBlur,y=t.onKeyUp;t.onKeyDown,t.onValueChange,t.tabSize,t.insertSpaces,t.ignoreTabKey;var T=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"]),_={paddingTop:i,paddingRight:i,paddingBottom:i,paddingLeft:i},E=o(n);return Bne.createElement("div",Mne({},T,{style:Mne({},Yne.container,r)}),Bne.createElement("textarea",{ref:function(t){return e._input=t},style:Mne({},Yne.editor,Yne.textarea,_),className:Hne,id:a,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:g,onKeyUp:y,onFocus:b,onBlur:v,disabled:l,form:c,maxLength:u,minLength:h,name:d,placeholder:p,readOnly:f,required:m,autoFocus:s,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),Bne.createElement("pre",Mne({"aria-hidden":"true",style:Mne({},Yne.editor,Yne.highlight,_)},"string"==typeof E?{dangerouslySetInnerHTML:{__html:E+"<br />"}}:{children:E})),Bne.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:Gne}}))}},{key:"session",get:function(){return{history:this._history}},set:function(e){this._history=e.history}}]),t}(Bne.Component);zne.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0};var Vne=Rne.default=zne,Yne={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}},$ne={exports:{}};(function(e){var t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof o?new o(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,o;switch(n=n||{},i.util.type(t)){case"Object":if(o=i.util.objId(t),n[o])return n[o];for(var a in r={},n[o]=r,t)t.hasOwnProperty(a)&&(r[a]=e(t[a],n));return r;case"Array":return o=i.util.objId(t),n[o]?n[o]:(r=[],n[o]=r,t.forEach((function(t,i){r[i]=e(t,n)})),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=i.util.clone(i.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var o=(r=r||i.languages)[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var c=r[e];return r[e]=a,i.languages.DFS(i.languages,(function(t,n){n===c&&t!=e&&(this[t]=a)})),a},DFS:function e(t,n,r,o){o=o||{};var a=i.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],c=i.util.type(l);"Object"!==c||o[a(l)]?"Array"!==c||o[a(l)]||(o[a(l)]=!0,e(l,n,s,o)):(o[a(l)]=!0,e(l,n,null,o))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var o,a=0;o=r.elements[a++];)i.highlightElement(o,!0===t,r.callback)},highlightElement:function(t,n,r){var o=i.util.getLanguage(t),a=i.languages[o];i.util.setLanguage(t,o);var s=t.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&i.util.setLanguage(s,o);var l={element:t,language:o,grammar:a,code:t.textContent};function c(e){l.highlightedCode=e,i.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,i.hooks.run("after-highlight",l),i.hooks.run("complete",l),r&&r.call(l.element)}if(i.hooks.run("before-sanity-check",l),(s=l.element.parentElement)&&"pre"===s.nodeName.toLowerCase()&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","0"),!l.code)return i.hooks.run("complete",l),void(r&&r.call(l.element));if(i.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var u=new Worker(i.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(i.highlight(l.code,l.grammar,l.language));else c(i.util.encode(l.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(i.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),o.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var i=new l;return c(i,i.head,e),s(e,i,t,i.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(i)},hooks:{all:{},add:function(e,t){var n=i.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=i.hooks.all[e];if(n&&n.length)for(var r,o=0;r=n[o++];)r(t)}},Token:o};function o(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function a(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function s(e,t,n,r,l,h){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var p=n[d];p=Array.isArray(p)?p:[p];for(var f=0;f<p.length;++f){if(h&&h.cause==d+","+f)return;var m=p[f],g=m.inside,b=!!m.lookbehind,v=!!m.greedy,y=m.alias;if(v&&!m.pattern.global){var T=m.pattern.toString().match(/[imsuy]*$/)[0];m.pattern=RegExp(m.pattern.source,T+"g")}for(var _=m.pattern||m,E=r.next,x=l;E!==t.tail&&!(h&&x>=h.reach);x+=E.value.length,E=E.next){var w=E.value;if(t.length>e.length)return;if(!(w instanceof o)){var S,A=1;if(v){if(!(S=a(_,x,e,b))||S.index>=e.length)break;var k=S.index,C=S.index+S[0].length,I=x;for(I+=E.value.length;k>=I;)I+=(E=E.next).value.length;if(x=I-=E.value.length,E.value instanceof o)continue;for(var O=E;O!==t.tail&&(I<C||"string"==typeof O.value);O=O.next)A++,I+=O.value.length;A--,w=e.slice(x,I),S.index-=x}else if(!(S=a(_,0,w,b)))continue;k=S.index;var D=S[0],P=w.slice(0,k),N=w.slice(k+D.length),R=x+w.length;h&&R>h.reach&&(h.reach=R);var M=E.prev;if(P&&(M=c(t,M,P),x+=P.length),u(t,M,A),E=c(t,M,new o(d,g?i.tokenize(D,g):D,y,D)),N&&c(t,E,N),A>1){var L={cause:d+","+f,reach:R};s(e,t,n,E.prev,x,L),h&&L.reach>h.reach&&(h.reach=L.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function u(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}if(e.Prism=i,o.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach((function(t){r+=e(t,n)})),r}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},a=t.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(o.classes,a):o.classes.push(a)),i.hooks.run("wrap",o);var s="";for(var l in o.attributes)s+=" "+l+'="'+(o.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+s+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(i.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),r=n.language,o=n.code,a=n.immediateClose;e.postMessage(i.highlight(o,i.languages[r],r)),a&&e.close()}),!1),i):i;var h=i.util.currentScript();function d(){i.manual||i.highlightAll()}if(h&&(i.filename=h.src,h.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var p=document.readyState;"loading"===p||"interactive"===p&&h&&h.defer?document.addEventListener("DOMContentLoaded",d):window.requestAnimationFrame?window.requestAnimationFrame(d):window.setTimeout(d,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=t),"undefined"!=typeof globalThis&&(globalThis.Prism=t)})($ne),Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json;var Xne={};!function(e,t){!function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function o(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function a(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}function s(e){var r="[A-Za-z]",i="[0-9]",o=t(i,"[A-Fa-f]"),a=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",s),c=e?"[\\uE000-\\uF8FF]":"[]",u=t(r,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n(r+t(r,i,"[\\+\\-\\.]")+"*"),n(n(a+"|"+t(u,s,"[\\:]"))+"*");var h=n(n("25[0-5]")+"|"+n("2[0-4]"+i)+"|"+n("1"+i+i)+"|"+n("0?[1-9]"+i)+"|0?0?"+i),d=n(h+"\\."+h+"\\."+h+"\\."+h),p=n(o+"{1,4}"),f=n(n(p+"\\:"+p)+"|"+d),m=n(n(p+"\\:")+"{6}"+f),g=n("\\:\\:"+n(p+"\\:")+"{5}"+f),b=n(n(p)+"?\\:\\:"+n(p+"\\:")+"{4}"+f),v=n(n(n(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+n(p+"\\:")+"{3}"+f),y=n(n(n(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+n(p+"\\:")+"{2}"+f),T=n(n(n(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+f),_=n(n(n(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+f),E=n(n(n(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),x=n(n(n(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),w=n([m,g,b,v,y,T,_,E,x].join("|")),S=n(n(u+"|"+a)+"+");n("[vV]"+o+"+\\."+t(u,s,"[\\:]")+"+"),n(n(a+"|"+t(u,s))+"*");var A=n(a+"|"+t(u,s,"[\\:\\@]"));return n(n(a+"|"+t(u,s,"[\\@]"))+"+"),n(n(A+"|"+t("[\\/\\?]",c))+"*"),{NOT_SCHEME:new RegExp(t("[^]",r,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,s,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,s),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+S+")")+"?\\]?$")}}var l=s(!1),c=s(!0),u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},d=2147483647,p=36,f=1,m=26,g=38,b=700,v=72,y=128,T="-",_=/^xn--/,E=/[^\0-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=p-f,A=Math.floor,k=String.fromCharCode;function C(e){throw new RangeError(w[e])}function I(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}function O(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+I((e=e.replace(x,".")).split("."),t).join(".")}function D(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}var P=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:p},N=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},R=function(e,t,n){var r=0;for(e=n?A(e/b):e>>1,e+=A(e/t);e>S*m>>1;r+=p)e=A(e/S);return A(r+(S+1)*e/(e+g))},M=function(e){var t=[],n=e.length,r=0,i=y,o=v,a=e.lastIndexOf(T);a<0&&(a=0);for(var s=0;s<a;++s)e.charCodeAt(s)>=128&&C("not-basic"),t.push(e.charCodeAt(s));for(var l=a>0?a+1:0;l<n;){for(var c=r,u=1,h=p;;h+=p){l>=n&&C("invalid-input");var g=P(e.charCodeAt(l++));(g>=p||g>A((d-r)/u))&&C("overflow"),r+=g*u;var b=h<=o?f:h>=o+m?m:h-o;if(g<b)break;var _=p-b;u>A(d/_)&&C("overflow"),u*=_}var E=t.length+1;o=R(r-c,E,0==c),A(r/E)>d-i&&C("overflow"),i+=A(r/E),r%=E,t.splice(r++,0,i)}return String.fromCodePoint.apply(String,t)},L=function(e){var t=[],n=(e=D(e)).length,r=y,i=0,o=v,a=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;h<128&&t.push(k(h))}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}var g=t.length,b=g;for(g&&t.push(T);b<n;){var _=d,E=!0,x=!1,w=void 0;try{for(var S,I=e[Symbol.iterator]();!(E=(S=I.next()).done);E=!0){var O=S.value;O>=r&&O<_&&(_=O)}}catch(e){x=!0,w=e}finally{try{!E&&I.return&&I.return()}finally{if(x)throw w}}var P=b+1;_-r>A((d-i)/P)&&C("overflow"),i+=(_-r)*P,r=_;var M=!0,L=!1,B=void 0;try{for(var F,U=e[Symbol.iterator]();!(M=(F=U.next()).done);M=!0){var j=F.value;if(j<r&&++i>d&&C("overflow"),j==r){for(var H=i,G=p;;G+=p){var z=G<=o?f:G>=o+m?m:G-o;if(H<z)break;var V=H-z,Y=p-z;t.push(k(N(z+V%Y,0))),H=A(V/Y)}t.push(k(N(H,0))),o=R(i,P,b==g),i=0,++b}}}catch(e){L=!0,B=e}finally{try{!M&&U.return&&U.return()}finally{if(L)throw B}}++i,++r}return t.join("")},B=function(e){return O(e,(function(e){return _.test(e)?M(e.slice(4).toLowerCase()):e}))},F=function(e){return O(e,(function(e){return E.test(e)?"xn--"+L(e):e}))},U={version:"2.1.0",ucs2:{decode:D,encode:function(e){return String.fromCodePoint.apply(String,h(e))}},decode:M,encode:L,toASCII:F,toUnicode:B},j={};function H(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function G(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var a=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function z(e,t){function n(e){var n=G(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,H).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,H).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,H).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,H).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,H).replace(t.PCT_ENCODED,i)),e}function V(e){return e.replace(/^0*(.*)/,"$1")||"0"}function Y(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=u(n,2)[1];return r?r.split(".").map(V).join("."):e}function $(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=u(n,3),i=r[1],o=r[2];if(i){for(var a=i.toLowerCase().split("::").reverse(),s=u(a,2),l=s[0],c=s[1],h=c?c.split(":").map(V):[],d=l.split(":").map(V),p=t.IPV4ADDRESS.test(d[d.length-1]),f=p?7:8,m=d.length-f,g=Array(f),b=0;b<f;++b)g[b]=h[b]||d[m+b]||"";p&&(g[f-1]=Y(g[f-1],t));var v=g.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],y=void 0;if(v&&v.length>1){var T=g.slice(0,v.index),_=g.slice(v.index+v.length);y=T.join(":")+"::"+_.join(":")}else y=g.join(":");return o&&(y+="%"+o),y}return e}var X=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,W=void 0==="".match(/(){0}/)[1];function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?c:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(X);if(i){W?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=$(Y(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=j[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)z(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=U.toASCII(n.host.replace(r.PCT_ENCODED,G).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}z(n,l)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function K(e,t){var n=!1!==t.iri?c:l,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push($(Y(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var Z=/^\.\.?\//,Q=/^\/\.(\/|$)/,J=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function te(e){for(var t=[];e.length;)if(e.match(Z))e=e.replace(Z,"");else if(e.match(Q))e=e.replace(Q,"/");else if(e.match(J))e=e.replace(J,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(ee);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?c:l,r=[],i=j[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?U.toUnicode(e.host):U.toASCII(e.host.replace(n.PCT_ENCODED,G).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}z(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=K(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var a=e.path;t.absolutePath||i&&i.absolutePath||(a=te(a)),void 0===o&&(a=a.replace(/^\/\//,"/%2F")),r.push(a)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=q(ne(e,n),n),t=q(ne(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=te(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=te(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=te(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function ie(e,t,n){var r=a({scheme:"null"},n);return ne(re(q(e,r),q(t,r),r,!0),r)}function oe(e,t){return"string"==typeof e?e=ne(q(e,t),t):"object"===r(e)&&(e=q(ne(e,t),t)),e}function ae(e,t,n){return"string"==typeof e?e=ne(q(e,n),n):"object"===r(e)&&(e=ne(e,n)),"string"==typeof t?t=ne(q(t,n),n):"object"===r(t)&&(t=ne(t,n)),e===t}function se(e,t){return e&&e.toString().replace(t&&t.iri?c.ESCAPE:l.ESCAPE,H)}function le(e,t){return e&&e.toString().replace(t&&t.iri?c.PCT_ENCODED:l.PCT_ENCODED,G)}var ce={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},ue={scheme:"https",domainHost:ce.domainHost,parse:ce.parse,serialize:ce.serialize};function he(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var de={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=he(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(he(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=u(n,2),i=r[0],o=r[1];e.path=i&&"/"!==i?i:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},pe={scheme:"wss",domainHost:de.domainHost,parse:de.parse,serialize:de.serialize},fe={},me="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ge="[0-9A-Fa-f]",be=n(n("%[EFef]"+ge+"%"+ge+ge+"%"+ge+ge)+"|"+n("%[89A-Fa-f]"+ge+"%"+ge+ge)+"|"+n("%"+ge+ge)),ve="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ye=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Te="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",_e=new RegExp(me,"g"),Ee=new RegExp(be,"g"),xe=new RegExp(t("[^]",ve,"[\\.]",'[\\"]',ye),"g"),we=new RegExp(t("[^]",me,Te),"g"),Se=we;function Ae(e){var t=G(e);return t.match(_e)?t:e}var ke={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,o={},a=n.query.split("&"),s=0,l=a.length;s<l;++s){var c=a[s].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),h=0,d=u.length;h<d;++h)r.push(u[h]);break;case"subject":n.subject=le(c[1],t);break;case"body":n.body=le(c[1],t);break;default:i=!0,o[le(c[0],t)]=le(c[1],t)}}i&&(n.headers=o)}n.query=void 0;for(var p=0,f=r.length;p<f;++p){var m=r[p].split("@");if(m[0]=le(m[0]),t.unicodeSupport)m[1]=le(m[1],t).toLowerCase();else try{m[1]=U.toASCII(le(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[p]=m.join("@")}return n},serialize:function(e,t){var n=e,r=o(e.to);if(r){for(var a=0,s=r.length;a<s;++a){var l=String(r[a]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(Ee,Ae).replace(Ee,i).replace(xe,H),h=l.slice(c+1);try{h=t.iri?U.toUnicode(h):U.toASCII(le(h,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}r[a]=u+"@"+h}n.path=r.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var p=[];for(var f in d)d[f]!==fe[f]&&p.push(f.replace(Ee,Ae).replace(Ee,i).replace(we,H)+"="+d[f].replace(Ee,Ae).replace(Ee,i).replace(Se,H));return p.length&&(n.query=p.join("&")),n}},Ce=/^([^\:]+)\:(.*)/,Ie={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(Ce),r=e;if(n){var i=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),a=n[2],s=i+":"+(t.nid||o),l=j[s];r.nid=o,r.nss=a,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),o=j[i];o&&(e=o.serialize(e,t));var a=e,s=e.nss;return a.path=(r||t.nid)+":"+s,a}},Oe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,De={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(Oe)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};j[ce.scheme]=ce,j[ue.scheme]=ue,j[de.scheme]=de,j[pe.scheme]=pe,j[ke.scheme]=ke,j[Ie.scheme]=Ie,j[De.scheme]=De,e.SCHEMES=j,e.pctEncChar=H,e.pctDecChars=G,e.parse=q,e.removeDotSegments=te,e.serialize=ne,e.resolveComponents=re,e.resolve=ie,e.normalize=oe,e.equal=ae,e.escapeComponent=se,e.unescapeComponent=le,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,Xne);var Wne=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n},qne={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:Kne,checkDataTypes:function(e,t,n){if(1===e.length)return Kne(e[0],t,n,!0);var r="",i=Qne(e);for(var o in i.array&&i.object&&(r=i.null?"(":"(!"+t+" || ",r+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)r+=(r?" && ":"")+Kne(o,t,n,!0);return r},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var i=t[r];(Zne[i]||"array"===e&&"array"===i)&&(n[n.length]=i)}if(n.length)return n}else{if(Zne[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:Qne,getProperty:tre,escapeQuotes:nre,equal:Wne,ucs2length:function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n},varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var n in e)if(!t[n])return n},toQuotedString:rre,getPathExpr:function(e,t,n,r){return are(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){return are(e,rre(n?"/"+sre(t):tre(t)))},getData:function(e,t,n){var r,i,o,a;if(""===e)return"rootData";if("/"==e[0]){if(!ire.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,o="rootData"}else{if(!(a=e.match(ore)))throw new Error("Invalid JSON-pointer: "+e);if(r=+a[1],"#"==(i=a[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(o="data"+(t-r||""),!i)return o}for(var s=o,l=i.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(s+=" && "+(o+=tre(lre(u))))}return s},unescapeFragment:function(e){return lre(decodeURIComponent(e))},unescapeJsonPointer:lre,escapeFragment:function(e){return encodeURIComponent(sre(e))},escapeJsonPointer:sre};function Kne(e,t,n,r){var i=r?" !== ":" === ",o=r?" || ":" && ",a=r?"!":"",s=r?"":"!";switch(e){case"null":return t+i+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+o+"typeof "+t+i+'"object"'+o+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+o+s+"("+t+" % 1)"+o+t+i+t+(n?o+a+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(n?o+a+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}var Zne=Qne(["string","number","integer","boolean","null"]);function Qne(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var Jne=/^[a-z$_][a-z$_0-9]*$/i,ere=/'|\\/g;function tre(e){return"number"==typeof e?"["+e+"]":Jne.test(e)?"."+e:"['"+nre(e)+"']"}function nre(e){return e.replace(ere,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function rre(e){return"'"+nre(e)+"'"}var ire=/^\/(?:[^~]|~0|~1)*$/,ore=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function are(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function sre(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function lre(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var cre=qne,ure=function(e){cre.copy(e,this)};var hre={exports:{}},dre=hre.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),pre(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function pre(e,t,n,r,i,o,a,s,l,c){if(r&&"object"==typeof r&&!Array.isArray(r)){for(var u in t(r,i,o,a,s,l,c),r){var h=r[u];if(Array.isArray(h)){if(u in dre.arrayKeywords)for(var d=0;d<h.length;d++)pre(e,t,n,h[d],i+"/"+u+"/"+d,o,i,u,r,d)}else if(u in dre.propsKeywords){if(h&&"object"==typeof h)for(var p in h)pre(e,t,n,h[p],i+"/"+u+"/"+p.replace(/~/g,"~0").replace(/\//g,"~1"),o,i,u,r,p)}else(u in dre.keywords||e.allKeys&&!(u in dre.skipKeywords))&&pre(e,t,n,h,i+"/"+u,o,i,u,r)}n(r,i,o,a,s,l,c)}}dre.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},dre.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},dre.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},dre.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};var fre=Xne,mre=Wne,gre=qne,bre=ure,vre=hre.exports,yre=Tre;function Tre(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return Tre.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof bre)return Are(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,o,a,s=_re.call(this,t,n);return s&&(i=s.schema,t=s.root,a=s.baseId),i instanceof bre?o=i.validate||e.call(this,i.schema,t,void 0,a):void 0!==i&&(o=Are(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,a)),o}function _re(e,t){var n=fre.parse(t),r=Ore(n),i=Ire(this._getId(e.schema));if(0===Object.keys(e.schema).length||r!==i){var o=Pre(r),a=this._refs[o];if("string"==typeof a)return Ere.call(this,e,a,n);if(a instanceof bre)a.validate||this._compile(a),e=a;else{if(!((a=this._schemas[o])instanceof bre))return;if(a.validate||this._compile(a),o==Pre(t))return{schema:a,root:e,baseId:i};e=a}if(!e.schema)return;i=Ire(this._getId(e.schema))}return wre.call(this,n,i,e.schema,e)}function Ere(e,t,n){var r=_re.call(this,e,t);if(r){var i=r.schema,o=r.baseId;e=r.root;var a=this._getId(i);return a&&(o=Nre(o,a)),wre.call(this,n,o,i,e)}}Tre.normalizeId=Pre,Tre.fullPath=Ire,Tre.url=Nre,Tre.ids=function(e){var t=Pre(this._getId(e)),n={"":t},r={"":Ire(t,!1)},i={},o=this;return vre(e,{allKeys:!0},(function(e,t,a,s,l,c,u){if(""!==t){var h=o._getId(e),d=n[s],p=r[s]+"/"+l;if(void 0!==u&&(p+="/"+("number"==typeof u?u:gre.escapeFragment(u))),"string"==typeof h){h=d=Pre(d?fre.resolve(d,h):h);var f=o._refs[h];if("string"==typeof f&&(f=o._refs[f]),f&&f.schema){if(!mre(e,f.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=Pre(p))if("#"==h[0]){if(i[h]&&!mre(e,i[h]))throw new Error('id "'+h+'" resolves to more than one schema');i[h]=e}else o._refs[h]=p}n[t]=d,r[t]=p}})),i},Tre.inlineRef=Are,Tre.schema=_re;var xre=gre.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function wre(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),o=1;o<i.length;o++){var a=i[o];if(a){if(void 0===(n=n[a=gre.unescapeFragment(a)]))break;var s;if(!xre[a]&&((s=this._getId(n))&&(t=Nre(t,s)),n.$ref)){var l=Nre(t,n.$ref),c=_re.call(this,r,l);c&&(n=c.schema,r=c.root,t=c.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var Sre=gre.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Are(e,t){return!1!==t&&(void 0===t||!0===t?kre(e):t?Cre(e)<=t:void 0)}function kre(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&!kre(t))return!1}else for(var r in e){if("$ref"==r)return!1;if("object"==typeof(t=e[r])&&!kre(t))return!1}return!0}function Cre(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&(n+=Cre(t)),n==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(Sre[i])n++;else if("object"==typeof(t=e[i])&&(n+=Cre(t)+1),n==1/0)return 1/0}return n}function Ire(e,t){return!1!==t&&(e=Pre(e)),Ore(fre.parse(e))}function Ore(e){return fre.serialize(e).split("#")[0]+"#"}var Dre=/#\/?$/;function Pre(e){return e?e.replace(Dre,""):""}function Nre(e,t){return t=Pre(t),fre.resolve(e,t)}var Rre=yre,Mre={Validation:Bre((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:Bre(Lre)};function Lre(e,t,n){this.message=n||Lre.message(e,t),this.missingRef=Rre.url(e,t),this.missingSchema=Rre.normalizeId(Rre.fullPath(this.missingRef))}function Bre(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Lre.message=function(e,t){return"can't resolve reference "+t+" from id "+e};var Fre=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a="[",n=0;n<t.length;n++)n&&(a+=","),a+=e(t[n])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,l=Object.keys(t).sort(i&&i(t));for(a="",n=0;n<l.length;n++){var c=l[n],u=e(t[c]);u&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u)}return o.splice(s,1),"{"+a+"}"}}(e)},Ure=function(e,t,n){var r="",i=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),a=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",a&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+a+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){t="false schema";var c=e.level,u=e.dataLevel,h=e.schema[t],d=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,m="data"+(u||""),g="valid"+c;if(!1===e.schema){e.isTop?f=!0:r+=" var "+g+" = false; ",(Y=Y||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var b=r;r=Y.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+g+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var v=e.isTop;if(c=e.level=0,u=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var y="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{if(c=e.level,m="data"+((u=e.dataLevel)||""),a&&(e.baseId=e.resolve.url(e.baseId,a)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+c+" = errors;"}g="valid"+c,f=!e.opts.allErrors;var T="",_="",E=e.schema.type,x=Array.isArray(E);if(E&&e.opts.nullable&&!0===e.schema.nullable&&(x?-1==E.indexOf("null")&&(E=E.concat("null")):"null"!=E&&(E=[E,"null"],x=!0)),x&&1==E.length&&(E=E[0],x=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),E){if(e.opts.coerceTypes)var w=e.util.coerceToTypes(e.opts.coerceTypes,E);var S=e.RULES.types[E];if(w||x||!0===S||S&&!Z(S)){d=e.schemaPath+".type",p=e.errSchemaPath+"/type",d=e.schemaPath+".type",p=e.errSchemaPath+"/type";var A=x?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[A](E,m,e.opts.strictNumbers,!0)+") { ",w){var k="dataType"+c,C="coerced"+c;r+=" var "+k+" = typeof "+m+"; var "+C+" = undefined; ","array"==e.opts.coerceTypes&&(r+=" if ("+k+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+k+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+C+" = "+m+"; } "),r+=" if ("+C+" !== undefined) ; ";var I=w;if(I)for(var O,D=-1,P=I.length-1;D<P;)"string"==(O=I[D+=1])?r+=" else if ("+k+" == 'number' || "+k+" == 'boolean') "+C+" = '' + "+m+"; else if ("+m+" === null) "+C+" = ''; ":"number"==O||"integer"==O?(r+=" else if ("+k+" == 'boolean' || "+m+" === null || ("+k+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==O&&(r+=" && !("+m+" % 1)"),r+=")) "+C+" = +"+m+"; "):"boolean"==O?r+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+C+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+C+" = true; ":"null"==O?r+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+C+" = null; ":"array"==e.opts.coerceTypes&&"array"==O&&(r+=" else if ("+k+" == 'string' || "+k+" == 'number' || "+k+" == 'boolean' || "+m+" == null) "+C+" = ["+m+"]; ");r+=" else {   ",(Y=Y||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=x?""+E.join(","):""+E,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=x?""+E.join(","):""+E,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",b=r,r=Y.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+C+" !== undefined) {  ";var N=u?"data"+(u-1||""):"parentData";r+=" "+m+" = "+C+"; ",u||(r+="if ("+N+" !== undefined)"),r+=" "+N+"["+(u?e.dataPathArr[u]:"parentDataProperty")+"] = "+C+"; } "}else(Y=Y||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=x?""+E.join(","):""+E,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=x?""+E.join(","):""+E,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",b=r,r=Y.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";r+=" } "}}if(e.schema.$ref&&!o)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(r+=" } if (errors === ",r+=v?"0":"errs_"+c,r+=") { ",_+="}");else{var R=e.RULES;if(R)for(var M=-1,L=R.length-1;M<L;)if(Z(S=R[M+=1])){if(S.type&&(r+=" if ("+e.util.checkDataType(S.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==S.type&&e.schema.properties){h=e.schema.properties;var B=Object.keys(h);if(B)for(var F,U=-1,j=B.length-1;U<j;)if(void 0!==(z=h[F=B[U+=1]]).default){var H=m+e.util.getProperty(F);if(e.compositeRule){if(e.opts.strictDefaults){if(y="default is ignored for: "+H,"log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}}else r+=" if ("+H+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+H+" === null || "+H+" === '' "),r+=" ) "+H+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(z.default)+" ":r+=" "+JSON.stringify(z.default)+" ",r+="; "}}else if("array"==S.type&&Array.isArray(e.schema.items)){var G=e.schema.items;if(G){D=-1;for(var z,V=G.length-1;D<V;)if(void 0!==(z=G[D+=1]).default)if(H=m+"["+D+"]",e.compositeRule){if(e.opts.strictDefaults){if(y="default is ignored for: "+H,"log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}}else r+=" if ("+H+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+H+" === null || "+H+" === '' "),r+=" ) "+H+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(z.default)+" ":r+=" "+JSON.stringify(z.default)+" ",r+="; "}}var Y,$=S.rules;if($)for(var X,W=-1,q=$.length-1;W<q;)if(Q(X=$[W+=1])){var K=X.code(e,X.keyword,S.type);K&&(r+=" "+K+" ",f&&(T+="}"))}f&&(r+=" "+T+" ",T=""),S.type&&(r+=" } ",E&&E===S.type&&!w)&&(r+=" else { ",d=e.schemaPath+".type",p=e.errSchemaPath+"/type",(Y=Y||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=x?""+E.join(","):""+E,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=x?""+E.join(","):""+E,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ",b=r,r=Y.pop(),!e.compositeRule&&f?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "),f&&(r+=" if (errors === ",r+=v?"0":"errs_"+c,r+=") { ",_+="}")}}function Z(e){for(var t=e.rules,n=0;n<t.length;n++)if(Q(t[n]))return!0}function Q(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return f&&(r+=" "+_+" "),v?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+g+" = errors === errs_"+c+";",r},jre=yre,Hre=qne,Gre=Mre,zre=Fre,Vre=Ure,Yre=Hre.ucs2length,$re=Wne,Xre=Gre.Validation,Wre=function e(t,n,r,i){var o=this,a=this._opts,s=[void 0],l={},c=[],u={},h=[],d={},p=[];n=n||{schema:t,refVal:s,refs:l};var f=qre.call(this,t,n,i),m=this._compilations[f.index];if(f.compiling)return m.callValidate=function e(){var t=m.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var g=this._formats,b=this.RULES;try{var v=T(t,n,r,i);m.validate=v;var y=m.callValidate;return y&&(y.schema=v.schema,y.errors=null,y.refs=v.refs,y.refVal=v.refVal,y.root=v.root,y.$async=v.$async,a.sourceCode&&(y.source=v.source)),v}finally{Kre.call(this,t,n,i)}function T(t,r,i,u){var d=!r||r&&r.schema==t;if(r.schema!=n.schema)return e.call(o,t,r,i,u);var f,m=!0===t.$async,v=Vre({isTop:!0,schema:t,isRoot:d,baseId:u,root:r,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Gre.MissingRef,RULES:b,validate:Vre,util:Hre,resolve:jre,resolveRef:_,usePattern:w,useDefault:S,useCustomRule:A,opts:a,formats:g,logger:o.logger,self:o});v=nie(s,eie)+nie(c,Qre)+nie(h,Jre)+nie(p,tie)+v,a.processCode&&(v=a.processCode(v,t));try{f=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",v)(o,b,g,n,s,h,p,$re,Yre,Xre),s[0]=f}catch(e){throw o.logger.error("Error compiling schema, function code:",v),e}return f.schema=t,f.errors=null,f.refs=l,f.refVal=s,f.root=d?f:r,m&&(f.$async=!0),!0===a.sourceCode&&(f.source={code:v,patterns:c,defaults:h}),f}function _(t,i,c){i=jre.url(t,i);var u,h,d=l[i];if(void 0!==d)return x(u=s[d],h="refVal["+d+"]");if(!c&&n.refs){var p=n.refs[i];if(void 0!==p)return x(u=n.refVal[p],h=E(i,u))}h=E(i);var f=jre.call(o,T,n,i);if(void 0===f){var m=r&&r[i];m&&(f=jre.inlineRef(m,a.inlineRefs)?m:e.call(o,m,n,r,t))}if(void 0!==f)return function(e,t){var n=l[e];s[n]=t}(i,f),x(f,h);!function(e){delete l[e]}(i)}function E(e,t){var n=s.length;return s[n]=t,l[e]=n,"refVal"+n}function x(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function w(e){var t=u[e];return void 0===t&&(t=u[e]=c.length,c[t]=e),"pattern"+t}function S(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return Hre.toQuotedString(e);case"object":if(null===e)return"null";var t=zre(e),n=d[t];return void 0===n&&(n=d[t]=h.length,h[n]=e),"default"+n}}function A(e,t,n,r){if(!1!==o._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var s=e.definition.validateSchema;if(s&&!s(t)){var l="keyword schema is invalid: "+o.errorsText(s.errors);if("log"!=o._opts.validateSchema)throw new Error(l);o.logger.error(l)}}var c,u=e.definition.compile,h=e.definition.inline,d=e.definition.macro;if(u)c=u.call(o,t,n,r);else if(d)c=d.call(o,t,n,r),!1!==a.validateSchema&&o.validateSchema(c,!0);else if(h)c=h.call(o,r,e.keyword,t,n);else if(!(c=e.definition.validate))return;if(void 0===c)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=p.length;return p[f]=c,{code:"customRule"+f,validate:c}}};function qre(e,t,n){var r=Zre.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function Kre(e,t,n){var r=Zre.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function Zre(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function Qre(e,t){return"var pattern"+e+" = new RegExp("+Hre.toQuotedString(t[e])+");"}function Jre(e){return"var default"+e+" = defaults["+e+"];"}function eie(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function tie(e){return"var customRule"+e+" = customRules["+e+"];"}function nie(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}var rie={exports:{}},iie=rie.exports=function(){this._cache={}};iie.prototype.put=function(e,t){this._cache[e]=t},iie.prototype.get=function(e){return this._cache[e]},iie.prototype.del=function(e){delete this._cache[e]},iie.prototype.clear=function(){this._cache={}};var oie=qne,aie=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,sie=[0,31,28,31,30,31,30,31,31,30,31,30,31],lie=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,cie=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,uie=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,hie=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,die=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,pie=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,fie=/^(?:\/(?:[^~/]|~0|~1)*)*$/,mie=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,gie=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,bie=vie;function vie(e){return e="full"==e?"full":"fast",oie.copy(vie[e])}function yie(e){var t=e.match(aie);if(!t)return!1;var n=+t[1],r=+t[2],i=+t[3];return r>=1&&r<=12&&i>=1&&i<=(2==r&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:sie[r])}function Tie(e,t){var n=e.match(lie);if(!n)return!1;var r=n[1],i=n[2],o=n[3],a=n[5];return(r<=23&&i<=59&&o<=59||23==r&&59==i&&60==o)&&(!t||a)}vie.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":hie,url:die,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:cie,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:wie,uuid:pie,"json-pointer":fie,"json-pointer-uri-fragment":mie,"relative-json-pointer":gie},vie.full={date:yie,time:Tie,"date-time":function(e){var t=e.split(_ie);return 2==t.length&&yie(t[0])&&Tie(t[1],!0)},uri:function(e){return Eie.test(e)&&uie.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":hie,url:die,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:cie,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:wie,uuid:pie,"json-pointer":fie,"json-pointer-uri-fragment":mie,"relative-json-pointer":gie};var _ie=/t|\s/i;var Eie=/\/|:/;var xie=/[^\\]\\Z/;function wie(e){if(xie.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}var Sie=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s;var p="maximum"==t,f=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],g=e.opts.$data&&m&&m.$data,b=p?"<":">",v=p?">":"<",y=void 0;if(!d&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!g&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(f+" must be number or boolean");if(g){var T,_=e.util.getData(m.$data,a,e.dataPathArr),E="exclusive"+o,x="exclType"+o,w="exclIsNumber"+o,S="' + "+(k="op"+o)+" + '";i+=" var schemaExcl"+o+" = "+_+"; ",i+=" var "+E+"; var "+x+" = typeof "+(_="schemaExcl"+o)+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ",y=f,(T=T||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(y||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var A=i;i=T.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+A+"]); ":i+=" validate.errors = ["+A+"]; return false; ":i+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+x+" == 'number' ? ( ("+E+" = "+r+" === undefined || "+_+" "+b+"= "+r+") ? "+h+" "+v+"= "+_+" : "+h+" "+v+" "+r+" ) : ( ("+E+" = "+_+" === true) ? "+h+" "+v+"= "+r+" : "+h+" "+v+" "+r+" ) || "+h+" !== "+h+") { var op"+o+" = "+E+" ? '"+b+"' : '"+b+"='; ",void 0===s&&(y=f,c=e.errSchemaPath+"/"+f,r=_,d=g)}else if(S=b,(w="number"==typeof m)&&d){var k="'"+S+"'";i+=" if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+m+" "+b+"= "+r+" ? "+h+" "+v+"= "+m+" : "+h+" "+v+" "+r+" ) || "+h+" !== "+h+") { "}else w&&void 0===s?(E=!0,y=f,c=e.errSchemaPath+"/"+f,r=m,v+="="):(w&&(r=Math[p?"min":"max"](m,s)),m===(!w||r)?(E=!0,y=f,c=e.errSchemaPath+"/"+f,v+="="):(E=!1,S+="=")),k="'"+S+"'",i+=" if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+" "+v+" "+r+" || "+h+" !== "+h+") { ";return y=y||t,(T=T||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(y||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+k+", limit: "+r+", exclusive: "+E+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+S+" ",i+=d?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",A=i,i=T.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+A+"]); ":i+=" validate.errors = ["+A+"]; return false; ":i+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { "),i},Aie=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+h+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var p=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=d?"' + "+r+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i},kie=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+h+".length ":i+=" ucs2length("+h+") ",i+=" "+p+" "+r+") { ";var f=t,m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=d?"' + "+r+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i},Cie=function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+h+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var p=t,f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=d?"' + "+r+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var m=i;return i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i},Iie={$ref:function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(s||""),d="valid"+a;if("#"==l||"#/"==l)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(f),(v=v||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var m=o;o=v.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,f);e.logger.warn(f),u&&(o+=" if (true) { ")}}else if(p.inline){var g=e.util.copy(e);g.level++;var b="valid"+g.level;g.schema=p.schema,g.schemaPath="",g.errSchemaPath=l,o+=" "+e.validate(g).replace(/validate\.schema/g,p.code)+" ",u&&(o+=" if ("+b+") { ")}else r=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var v;(v=v||[]).push(o),o="",e.opts.passContext?o+=" "+i+".call(this, ":o+=" "+i+"( ",o+=" "+h+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var y=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=v.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(o+=" var "+d+"; "),o+=" try { await "+y+"; ",u&&(o+=" "+d+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(o+=" "+d+" = false; "),o+=" } ",u&&(o+=" if ("+d+") { ")}else o+=" if (!"+y+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",u&&(o+=" else { ")}return o},allOf:function(e,t,n){var r=" ",i=e.schema[t],o=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),c="";l.level++;var u="valid"+l.level,h=l.baseId,d=!0,p=i;if(p)for(var f,m=-1,g=p.length-1;m<g;)f=p[m+=1],(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all))&&(d=!1,l.schema=f,l.schemaPath=o+"["+m+"]",l.errSchemaPath=a+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=h,s&&(r+=" if ("+u+") { ",c+="}"));return s&&(r+=d?" if (true) { ":" "+c.slice(0,-1)+" "),r},anyOf:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level;if(a.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var g=p.baseId;r+=" var "+d+" = errors; var "+h+" = false;  ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=a;if(v)for(var y,T=-1,_=v.length-1;T<_;)y=v[T+=1],p.schema=y,p.schemaPath=s+"["+T+"]",p.errSchemaPath=l+"/"+T,r+="  "+e.validate(p)+" ",p.baseId=g,r+=" "+h+" = "+h+" || "+m+"; if (!"+h+") { ",f+="}";e.compositeRule=p.compositeRule=b,r+=" "+f+" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else c&&(r+=" if (true) { ");return r},$comment:function(e,t,n){var r=" ",i=e.schema[t],o=e.errSchemaPath+"/"+t;e.opts.allErrors;var a=e.util.toQuotedString(i);return!0===e.opts.$comment?r+=" console.log("+a+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+a+", "+e.util.toQuotedString(o)+", validate.root.schema);"),r},const:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d=e.opts.$data&&a&&a.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; "),d||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+h+" = equal("+u+", schema"+i+"); if (!"+h+") {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var f=r;return r=p.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r},contains:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,m="i"+i,g=p.dataLevel=e.dataLevel+1,b="data"+g,v=e.baseId,y=e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all);if(r+="var "+d+" = errors;var "+h+";",y){var T=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=a,p.schemaPath=s,p.errSchemaPath=l,r+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+u+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var _=u+"["+m+"]";p.dataPathArr[g]=m;var E=e.validate(p);p.baseId=v,e.util.varOccurences(E,b)<2?r+=" "+e.util.varReplace(E,b,_)+" ":r+=" var "+b+" = "+_+"; "+E+" ",r+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=T,r+="  if (!"+f+") {"}else r+=" if ("+u+".length == 0) {";var x=x||[];x.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var w=r;return r=x.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",y&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},dependencies:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="errs__"+i,d=e.util.copy(e),p="";d.level++;var f="valid"+d.level,m={},g={},b=e.opts.ownProperties;for(_ in a)if("__proto__"!=_){var v=a[_],y=Array.isArray(v)?g:m;y[_]=v}r+="var "+h+" = errors;";var T=e.errorPath;for(var _ in r+="var missing"+i+";",g)if((y=g[_]).length){if(r+=" if ( "+u+e.util.getProperty(_)+" !== undefined ",b&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(_)+"') "),c){r+=" && ( ";var E=y;if(E)for(var x=-1,w=E.length-1;x<w;)O=E[x+=1],x&&(r+=" || "),r+=" ( ( "+(R=u+(N=e.util.getProperty(O)))+" === undefined ",b&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(O)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:N)+") ) ";r+=")) {  ";var S="missing"+i,A="' + "+S+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(T,S,!0):T+" + "+S);var k=k||[];k.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+A+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==y.length?r+="property "+e.util.escapeQuotes(y[0]):r+="properties "+e.util.escapeQuotes(y.join(", ")),r+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var C=r;r=k.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+C+"]); ":r+=" validate.errors = ["+C+"]; return false; ":r+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var I=y;if(I)for(var O,D=-1,P=I.length-1;D<P;){O=I[D+=1];var N=e.util.getProperty(O),R=(A=e.util.escapeQuotes(O),u+N);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(T,O,e.opts.jsonPointers)),r+=" if ( "+R+" === undefined ",b&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(O)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(_)+"', missingProperty: '"+A+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==y.length?r+="property "+e.util.escapeQuotes(y[0]):r+="properties "+e.util.escapeQuotes(y.join(", ")),r+=" when property "+e.util.escapeQuotes(_)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",c&&(p+="}",r+=" else { ")}e.errorPath=T;var M=d.baseId;for(var _ in m)v=m[_],(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all))&&(r+=" "+f+" = true; if ( "+u+e.util.getProperty(_)+" !== undefined ",b&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(_)+"') "),r+=") { ",d.schema=v,d.schemaPath=s+e.util.getProperty(_),d.errSchemaPath=l+"/"+e.util.escapeFragment(_),r+="  "+e.validate(d)+" ",d.baseId=M,r+=" }  ",c&&(r+=" if ("+f+") { ",p+="}"));return c&&(r+="   "+p+" if ("+h+" == errors) {"),r},enum:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d=e.opts.$data&&a&&a.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var p="i"+i,f="schema"+i;d||(r+=" var "+f+" = validate.schema"+s+";"),r+="var "+h+";",d&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=h+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+u+", "+f+"["+p+"])) { "+h+" = true; break; }",d&&(r+="  }  "),r+=" if (!"+h+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var g=r;return r=m.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r},format:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||"");if(!1===e.opts.format)return c&&(r+=" if (true) { "),r;var h,d=e.opts.$data&&a&&a.$data;d?(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",h="schema"+i):h=a;var p=e.opts.unknownFormats,f=Array.isArray(p);if(d)r+=" var "+(m="format"+i)+" = formats["+h+"]; var "+(g="isObject"+i)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(b="formatType"+i)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",d&&(r+=" ("+h+" !== undefined && typeof "+h+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+h+" && !"+m+" ",f&&(r+=" && self._opts.unknownFormats.indexOf("+h+") == -1 "),r+=") || "),r+=" ("+m+" && "+b+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+m+"("+u+") : "+m+"("+u+")) ":r+=" "+m+"("+u+") ",r+=" : "+m+".test("+u+"))))) {";else{var m;if(!(m=e.formats[a])){if("ignore"==p)return e.logger.warn('unknown format "'+a+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(r+=" if (true) { "),r;if(f&&p.indexOf(a)>=0)return c&&(r+=" if (true) { "),r;throw new Error('unknown format "'+a+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,b=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var v=!0===m.async;m=m.validate}if(b!=n)return c&&(r+=" if (true) { "),r;if(v){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(y="formats"+e.util.getProperty(a)+".validate")+"("+u+"))) { "}else{r+=" if (! ";var y="formats"+e.util.getProperty(a);g&&(y+=".validate"),r+="function"==typeof m?" "+y+"("+u+") ":" "+y+".test("+u+") ",r+=") { "}}var T=T||[];T.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=d?""+h:""+e.util.toQuotedString(a),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=d?"' + "+h+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var _=r;return r=T.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+_+"]); ":r+=" validate.errors = ["+_+"]; return false; ":r+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c&&(r+=" else { "),r},if:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d="errs__"+i,p=e.util.copy(e);p.level++;var f="valid"+p.level,m=e.schema.then,g=e.schema.else,b=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),v=void 0!==g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all)),y=p.baseId;if(b||v){var T;p.createErrors=!1,p.schema=a,p.schemaPath=s,p.errSchemaPath=l,r+=" var "+d+" = errors; var "+h+" = true;  ";var _=e.compositeRule;e.compositeRule=p.compositeRule=!0,r+="  "+e.validate(p)+" ",p.baseId=y,p.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=_,b?(r+=" if ("+f+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(p)+" ",p.baseId=y,r+=" "+h+" = "+f+"; ",b&&v?r+=" var "+(T="ifClause"+i)+" = 'then'; ":T="'then'",r+=" } ",v&&(r+=" else { ")):r+=" if (!"+f+") { ",v&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(p)+" ",p.baseId=y,r+=" "+h+" = "+f+"; ",b&&v?r+=" var "+(T="ifClause"+i)+" = 'else'; ":T="'else'",r+=" } "),r+=" if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+T+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+T+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",c&&(r+=" else { ")}else c&&(r+=" if (true) { ");return r},items:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g="i"+i,b=p.dataLevel=e.dataLevel+1,v="data"+b,y=e.baseId;if(r+="var "+d+" = errors;var "+h+";",Array.isArray(a)){var T=e.schema.additionalItems;if(!1===T){r+=" "+h+" = "+u+".length <= "+a.length+"; ";var _=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+h+") {   ";var E=E||[];E.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+a.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+a.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var x=r;r=E.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=_,c&&(f+="}",r+=" else { ")}var w=a;if(w)for(var S,A=-1,k=w.length-1;A<k;)if(S=w[A+=1],e.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0||!1===S:e.util.schemaHasRules(S,e.RULES.all)){r+=" "+m+" = true; if ("+u+".length > "+A+") { ";var C=u+"["+A+"]";p.schema=S,p.schemaPath=s+"["+A+"]",p.errSchemaPath=l+"/"+A,p.errorPath=e.util.getPathExpr(e.errorPath,A,e.opts.jsonPointers,!0),p.dataPathArr[b]=A;var I=e.validate(p);p.baseId=y,e.util.varOccurences(I,v)<2?r+=" "+e.util.varReplace(I,v,C)+" ":r+=" var "+v+" = "+C+"; "+I+" ",r+=" }  ",c&&(r+=" if ("+m+") { ",f+="}")}"object"==typeof T&&(e.opts.strictKeywords?"object"==typeof T&&Object.keys(T).length>0||!1===T:e.util.schemaHasRules(T,e.RULES.all))&&(p.schema=T,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+u+".length > "+a.length+") {  for (var "+g+" = "+a.length+"; "+g+" < "+u+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),C=u+"["+g+"]",p.dataPathArr[b]=g,I=e.validate(p),p.baseId=y,e.util.varOccurences(I,v)<2?r+=" "+e.util.varReplace(I,v,C)+" ":r+=" var "+v+" = "+C+"; "+I+" ",c&&(r+=" if (!"+m+") break; "),r+=" } }  ",c&&(r+=" if ("+m+") { ",f+="}"))}else(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all))&&(p.schema=a,p.schemaPath=s,p.errSchemaPath=l,r+="  for (var "+g+" = 0; "+g+" < "+u+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),C=u+"["+g+"]",p.dataPathArr[b]=g,I=e.validate(p),p.baseId=y,e.util.varOccurences(I,v)<2?r+=" "+e.util.varReplace(I,v,C)+" ":r+=" var "+v+" = "+C+"; "+I+" ",c&&(r+=" if (!"+m+") break; "),r+=" }");return c&&(r+=" "+f+" if ("+d+" == errors) {"),r},maximum:Sie,minimum:Sie,maxItems:Aie,minItems:Aie,maxLength:kie,minLength:kie,maxProperties:Cie,minProperties:Cie,multipleOf:function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;if(d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");i+="var division"+o+";if (",d&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+o+" = "+h+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+o+" !== parseInt(division"+o+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i},not:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){d.schema=a,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+h+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(f=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,f&&(d.opts.allErrors=f),e.compositeRule=d.compositeRule=m,r+=" if ("+p+") {   ";var g=g||[];g.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var b=r;r=g.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ");return r},oneOf:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d="errs__"+i,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g=p.baseId,b="prevValid"+i,v="passingSchemas"+i;r+="var "+d+" = errors , "+b+" = false , "+h+" = false , "+v+" = null; ";var y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var T=a;if(T)for(var _,E=-1,x=T.length-1;E<x;)_=T[E+=1],(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:e.util.schemaHasRules(_,e.RULES.all))?(p.schema=_,p.schemaPath=s+"["+E+"]",p.errSchemaPath=l+"/"+E,r+="  "+e.validate(p)+" ",p.baseId=g):r+=" var "+m+" = true; ",E&&(r+=" if ("+m+" && "+b+") { "+h+" = false; "+v+" = ["+v+", "+E+"]; } else { ",f+="}"),r+=" if ("+m+") { "+h+" = "+b+" = true; "+v+" = "+E+"; }";return e.compositeRule=p.compositeRule=y,r+=f+"if (!"+h+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+v+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},pattern:function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(d?"(new RegExp("+r+"))":e.usePattern(s))+".test("+h+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=d?""+r:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",u&&(i+=" else { "),i},properties:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="errs__"+i,d=e.util.copy(e),p="";d.level++;var f="valid"+d.level,m="key"+i,g="idx"+i,b=d.dataLevel=e.dataLevel+1,v="data"+b,y="dataProperties"+i,T=Object.keys(a||{}).filter(N),_=e.schema.patternProperties||{},E=Object.keys(_).filter(N),x=e.schema.additionalProperties,w=T.length||E.length,S=!1===x,A="object"==typeof x&&Object.keys(x).length,k=e.opts.removeAdditional,C=S||A||k,I=e.opts.ownProperties,O=e.baseId,D=e.schema.required;if(D&&(!e.opts.$data||!D.$data)&&D.length<e.opts.loopRequired)var P=e.util.toHash(D);function N(e){return"__proto__"!==e}if(r+="var "+h+" = errors;var "+f+" = true;",I&&(r+=" var "+y+" = undefined;"),C){if(r+=I?" "+y+" = "+y+" || Object.keys("+u+"); for (var "+g+"=0; "+g+"<"+y+".length; "+g+"++) { var "+m+" = "+y+"["+g+"]; ":" for (var "+m+" in "+u+") { ",w){if(r+=" var isAdditional"+i+" = !(false ",T.length)if(T.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var R=T;if(R)for(var M=-1,L=R.length-1;M<L;)q=R[M+=1],r+=" || "+m+" == "+e.util.toQuotedString(q)+" "}if(E.length){var B=E;if(B)for(var F=-1,U=B.length-1;F<U;)oe=B[F+=1],r+=" || "+e.usePattern(oe)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==k)r+=" delete "+u+"["+m+"]; ";else{var j=e.errorPath,H="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),S)if(k)r+=" delete "+u+"["+m+"]; ";else{r+=" "+f+" = false; ";var G=l;l=e.errSchemaPath+"/additionalProperties",(ne=ne||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+H+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var z=r;r=ne.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+z+"]); ":r+=" validate.errors = ["+z+"]; return false; ":r+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=G,c&&(r+=" break; ")}else if(A)if("failing"==k){r+=" var "+h+" = errors;  ";var V=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=x,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var Y=u+"["+m+"]";d.dataPathArr[b]=m;var $=e.validate(d);d.baseId=O,e.util.varOccurences($,v)<2?r+=" "+e.util.varReplace($,v,Y)+" ":r+=" var "+v+" = "+Y+"; "+$+" ",r+=" if (!"+f+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+m+"]; }  ",e.compositeRule=d.compositeRule=V}else d.schema=x,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),Y=u+"["+m+"]",d.dataPathArr[b]=m,$=e.validate(d),d.baseId=O,e.util.varOccurences($,v)<2?r+=" "+e.util.varReplace($,v,Y)+" ":r+=" var "+v+" = "+Y+"; "+$+" ",c&&(r+=" if (!"+f+") break; ");e.errorPath=j}w&&(r+=" } "),r+=" }  ",c&&(r+=" if ("+f+") { ",p+="}")}var X=e.opts.useDefaults&&!e.compositeRule;if(T.length){var W=T;if(W)for(var q,K=-1,Z=W.length-1;K<Z;){var Q=a[q=W[K+=1]];if(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0||!1===Q:e.util.schemaHasRules(Q,e.RULES.all)){var J=e.util.getProperty(q),ee=(Y=u+J,X&&void 0!==Q.default);if(d.schema=Q,d.schemaPath=s+J,d.errSchemaPath=l+"/"+e.util.escapeFragment(q),d.errorPath=e.util.getPath(e.errorPath,q,e.opts.jsonPointers),d.dataPathArr[b]=e.util.toQuotedString(q),$=e.validate(d),d.baseId=O,e.util.varOccurences($,v)<2){$=e.util.varReplace($,v,Y);var te=Y}else te=v,r+=" var "+v+" = "+Y+"; ";if(ee)r+=" "+$+" ";else{if(P&&P[q]){r+=" if ( "+te+" === undefined ",I&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(q)+"') "),r+=") { "+f+" = false; ",j=e.errorPath,G=l;var ne,re=e.util.escapeQuotes(q);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(j,q,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(ne=ne||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+re+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",z=r,r=ne.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+z+"]); ":r+=" validate.errors = ["+z+"]; return false; ":r+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=G,e.errorPath=j,r+=" } else { "}else c?(r+=" if ( "+te+" === undefined ",I&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(q)+"') "),r+=") { "+f+" = true; } else { "):(r+=" if ("+te+" !== undefined ",I&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(q)+"') "),r+=" ) { ");r+=" "+$+" } "}}c&&(r+=" if ("+f+") { ",p+="}")}}if(E.length){var ie=E;if(ie)for(var oe,ae=-1,se=ie.length-1;ae<se;)Q=_[oe=ie[ae+=1]],(e.opts.strictKeywords?"object"==typeof Q&&Object.keys(Q).length>0||!1===Q:e.util.schemaHasRules(Q,e.RULES.all))&&(d.schema=Q,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),r+=I?" "+y+" = "+y+" || Object.keys("+u+"); for (var "+g+"=0; "+g+"<"+y+".length; "+g+"++) { var "+m+" = "+y+"["+g+"]; ":" for (var "+m+" in "+u+") { ",r+=" if ("+e.usePattern(oe)+".test("+m+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),Y=u+"["+m+"]",d.dataPathArr[b]=m,$=e.validate(d),d.baseId=O,e.util.varOccurences($,v)<2?r+=" "+e.util.varReplace($,v,Y)+" ":r+=" var "+v+" = "+Y+"; "+$+" ",c&&(r+=" if (!"+f+") break; "),r+=" } ",c&&(r+=" else "+f+" = true; "),r+=" }  ",c&&(r+=" if ("+f+") { ",p+="}"))}return c&&(r+=" "+p+" if ("+h+" == errors) {"),r},propertyNames:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(r+="var "+h+" = errors;",e.opts.strictKeywords?"object"==typeof a&&Object.keys(a).length>0||!1===a:e.util.schemaHasRules(a,e.RULES.all)){d.schema=a,d.schemaPath=s,d.errSchemaPath=l;var f="key"+i,m="idx"+i,g="i"+i,b="' + "+f+" + '",v="data"+(d.dataLevel=e.dataLevel+1),y="dataProperties"+i,T=e.opts.ownProperties,_=e.baseId;T&&(r+=" var "+y+" = undefined; "),r+=T?" "+y+" = "+y+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+y+".length; "+m+"++) { var "+f+" = "+y+"["+m+"]; ":" for (var "+f+" in "+u+") { ",r+=" var startErrs"+i+" = errors; ";var E=f,x=e.compositeRule;e.compositeRule=d.compositeRule=!0;var w=e.validate(d);d.baseId=_,e.util.varOccurences(w,v)<2?r+=" "+e.util.varReplace(w,v,E)+" ":r+=" var "+v+" = "+E+"; "+w+" ",e.compositeRule=d.compositeRule=x,r+=" if (!"+p+") { for (var "+g+"=startErrs"+i+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+b+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+b+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),c&&(r+=" break; "),r+=" } }"}return c&&(r+="  if ("+h+" == errors) {"),r},required:function(e,t,n){var r=" ",i=e.level,o=e.dataLevel,a=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),h="valid"+i,d=e.opts.$data&&a&&a.$data;d&&(r+=" var schema"+i+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ");var p="schema"+i;if(!d)if(a.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=a;if(m)for(var g,b=-1,v=m.length-1;b<v;){g=m[b+=1];var y=e.schema.properties[g];y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))||(f[f.length]=g)}}else f=a;if(d||f.length){var T=e.errorPath,_=d||f.length>=e.opts.loopRequired,E=e.opts.ownProperties;if(c)if(r+=" var missing"+i+"; ",_){d||(r+=" var "+p+" = validate.schema"+s+"; ");var x="' + "+(I="schema"+i+"["+(k="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(T,I,e.opts.jsonPointers)),r+=" var "+h+" = true; ",d&&(r+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),r+=" for (var "+k+" = 0; "+k+" < "+p+".length; "+k+"++) { "+h+" = "+u+"["+p+"["+k+"]] !== undefined ",E&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+p+"["+k+"]) "),r+="; if (!"+h+") break; } ",d&&(r+="  }  "),r+="  if (!"+h+") {   ",(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var w=r;r=S.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var S,A=f;if(A)for(var k=-1,C=A.length-1;k<C;)D=A[k+=1],k&&(r+=" || "),r+=" ( ( "+(M=u+(R=e.util.getProperty(D)))+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(D)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?D:R)+") ) ";r+=") {  ",x="' + "+(I="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(T,I,!0):T+" + "+I),(S=S||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",w=r,r=S.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(_){var I;d||(r+=" var "+p+" = validate.schema"+s+"; "),x="' + "+(I="schema"+i+"["+(k="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(T,I,e.opts.jsonPointers)),d&&(r+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),r+=" for (var "+k+" = 0; "+k+" < "+p+".length; "+k+"++) { if ("+u+"["+p+"["+k+"]] === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+p+"["+k+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(r+="  }  ")}else{var O=f;if(O)for(var D,P=-1,N=O.length-1;P<N;){D=O[P+=1];var R=e.util.getProperty(D),M=(x=e.util.escapeQuotes(D),u+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(T,D,e.opts.jsonPointers)),r+=" if ( "+M+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(D)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+x+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=T}else c&&(r+=" if (true) {");return r},uniqueItems:function(e,t,n){var r,i=" ",o=e.level,a=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),d="valid"+o,p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+o+" = "+e.util.getData(s.$data,a,e.dataPathArr)+"; ",r="schema"+o):r=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),i+=" var i = "+h+".length , "+d+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);if(!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+d+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var g="checkDataType"+(m?"s":"");i+=" if ("+e.util[g](f,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+d+") {   ";var b=b||[];b.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var v=i;i=b.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { ")}else u&&(i+=" if (true) { ");return i},validate:Ure},Oie=qne.toHash,Die=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],Pie=Mre.MissingRef,Nie=function e(t,n,r){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(r=n,n=void 0);var o=a(t).then((function(){var e=i._addSchema(t,void 0,n);return e.validate||s(e)}));return r&&o.then((function(e){r(null,e)}),r),o;function a(t){var n=t.$schema;return n&&!i.getSchema(n)?e.call(i,{$ref:n},!0):Promise.resolve()}function s(e){try{return i._compile(e)}catch(t){if(t instanceof Pie)return function(t){var r=t.missingSchema;if(c(r))throw new Error("Schema "+r+" is loaded but "+t.missingRef+" cannot be resolved");var o=i._loadingSchemas[r];return o||(o=i._loadingSchemas[r]=i._opts.loadSchema(r)).then(l,l),o.then((function(e){if(!c(r))return a(e).then((function(){c(r)||i.addSchema(e,r,void 0,n)}))})).then((function(){return s(e)}));function l(){delete i._loadingSchemas[r]}function c(e){return i._refs[e]||i._schemas[e]}}(t);throw t}}};const Rie={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};var Mie=Rie,Lie={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Mie.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Mie.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Bie=/^[a-z_$][a-z0-9_$-]*$/i,Fie=function(e,t,n){var r,i,o=" ",a=e.level,s=e.dataLevel,l=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,d="data"+(s||""),p="valid"+a,f="errs__"+a,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+a+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+a):i=l;var g,b,v,y,T,_=this,E="definition"+a,x=_.definition,w="";if(m&&x.$data){T="keywordValidate"+a;var S=x.validateSchema;o+=" var "+E+" = RULES.custom['"+t+"'].definition; var "+T+" = "+E+".validate;"}else{if(!(y=e.useCustomRule(_,l,e.schema,e)))return;i="validate.schema"+c,T=y.code,g=x.compile,b=x.inline,v=x.macro}var A=T+".errors",k="i"+a,C="ruleErr"+a,I=x.async;if(I&&!e.async)throw new Error("async keyword in sync schema");if(b||v||(o+=A+" = null;"),o+="var "+f+" = errors;var "+p+";",m&&x.$data&&(w+="}",o+=" if ("+i+" === undefined) { "+p+" = true; } else { ",S&&(w+="}",o+=" "+p+" = "+E+".validateSchema("+i+"); if ("+p+") { ")),b)x.statements?o+=" "+y.validate+" ":o+=" "+p+" = "+y.validate+"; ";else if(v){var O=e.util.copy(e);w="",O.level++;var D="valid"+O.level;O.schema=y.validate,O.schemaPath="";var P=e.compositeRule;e.compositeRule=O.compositeRule=!0;var N=e.validate(O).replace(/validate\.schema/g,T);e.compositeRule=O.compositeRule=P,o+=" "+N}else{(B=B||[]).push(o),o="",o+="  "+T+".call( ",e.opts.passContext?o+="this":o+="self",g||!1===x.schema?o+=" , "+d+" ":o+=" , "+i+" , "+d+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var R=s?"data"+(s-1||""):"parentData",M=s?e.dataPathArr[s]:"parentDataProperty",L=o+=" , "+R+" , "+M+" , rootData )  ";o=B.pop(),!1===x.errors?(o+=" "+p+" = ",I&&(o+="await "),o+=L+"; "):o+=I?" var "+(A="customErrors"+a)+" = null; try { "+p+" = await "+L+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+A+" = e.errors; else throw e; } ":" "+A+" = null; "+p+" = "+L+"; "}if(x.modifying&&(o+=" if ("+R+") "+d+" = "+R+"["+M+"];"),o+=""+w,x.valid)h&&(o+=" if (true) { ");else{var B;o+=" if ( ",void 0===x.valid?(o+=" !",o+=v?""+D:""+p):o+=" "+!x.valid+" ",o+=") { ",r=_.keyword,(B=B||[]).push(o),o="",(B=B||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+_.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+_.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var F=o;o=B.pop(),!e.compositeRule&&h?e.async?o+=" throw new ValidationError(["+F+"]); ":o+=" validate.errors = ["+F+"]; return false; ":o+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var U=o;o=B.pop(),b?x.errors?"full"!=x.errors&&(o+="  for (var "+k+"="+f+"; "+k+"<errors; "+k+"++) { var "+C+" = vErrors["+k+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+C+".schema = "+i+"; "+C+".data = "+d+"; "),o+=" } "):!1===x.errors?o+=" "+U+" ":(o+=" if ("+f+" == errors) { "+U+" } else {  for (var "+k+"="+f+"; "+k+"<errors; "+k+"++) { var "+C+" = vErrors["+k+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+C+".schema = "+i+"; "+C+".data = "+d+"; "),o+=" } } "):v?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+_.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+_.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===x.errors?o+=" "+U+" ":(o+=" if (Array.isArray("+A+")) { if (vErrors === null) vErrors = "+A+"; else vErrors = vErrors.concat("+A+"); errors = vErrors.length;  for (var "+k+"="+f+"; "+k+"<errors; "+k+"++) { var "+C+" = vErrors["+k+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+";  "+C+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(o+=" "+C+".schema = "+i+"; "+C+".data = "+d+"; "),o+=" } } else { "+U+" } "),o+=" } ",h&&(o+=" else { ")}return o},Uie=Lie,jie={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!Bie.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var r=t.type;if(Array.isArray(r))for(var i=0;i<r.length;i++)a(e,r[i],t);else a(e,r,t);var o=t.metaSchema;o&&(t.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(o,!0))}function a(e,t,r){for(var i,o=0;o<n.length;o++){var a=n[o];if(a.type==t){i=a;break}}i||(i={type:t,rules:[]},n.push(i));var s={keyword:e,definition:r,custom:!0,code:Fie,implements:r.implements};i.rules.push(s),n.custom[e]=s}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this},validate:function e(t,n){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(Uie,!0);if(r(t))return!0;if(e.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}};const Hie={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};var Gie=Wre,zie=yre,Vie=rie.exports,Yie=ure,$ie=Fre,Xie=bie,Wie=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=Oie(t),e.types=Oie(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var r;if("object"==typeof n){var i=Object.keys(n)[0];r=n[i],n=i,r.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:Iie[n],implements:r}})),e.all.$comment={keyword:"$comment",code:Iie.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=Oie(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e},qie=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var r,i=t[n].split("/"),o=e;for(r=1;r<i.length;r++)o=o[i[r]];for(r=0;r<Die.length;r++){var a=Die[r],s=o[a];s&&(o[a]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},Kie=qne,Zie=roe;roe.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return!0!==n.$async&&(this.errors=n.errors),i},roe.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},roe.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,n,r);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return coe(this,t=zie.normalizeId(t||o)),this._schemas[t]=this._addSchema(e,n,r,!0),this},roe.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},roe.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||(r=this,i=r._opts.meta,r._opts.defaultMeta="object"==typeof i?r._getId(i)||i:r.getSchema(eoe)?eoe:void 0,r._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r,i;var o=this.validate(n,e);if(!o&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return o},roe.prototype.getSchema=function(e){var t=ioe(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=zie.schema.call(e,{schema:{}},t);if(n){var r=n.schema,i=n.root,o=n.baseId,a=Gie.call(e,r,i,void 0,o);return e._fragments[t]=new Yie({ref:t,fragment:!0,schema:r,root:i,baseId:o,validate:a}),a}}(this,e)}},roe.prototype.removeSchema=function(e){if(e instanceof RegExp)return ooe(this,this._schemas,e),ooe(this,this._refs,e),this;switch(typeof e){case"undefined":return ooe(this,this._schemas),ooe(this,this._refs),this._cache.clear(),this;case"string":var t=ioe(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var i=this._getId(e);i&&(i=zie.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},roe.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},roe.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",o=0;o<e.length;o++){var a=e[o];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)},roe.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,o=i?i(e):e,a=this._cache.get(o);if(a)return a;r=r||!1!==this._opts.addUsedSchema;var s=zie.normalizeId(this._getId(e));s&&r&&coe(this,s);var l,c=!1!==this._opts.validateSchema&&!t;c&&!(l=s&&s==zie.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=zie.ids.call(this,e),h=new Yie({id:s,schema:e,localRefs:u,cacheKey:o,meta:n});return"#"!=s[0]&&r&&(this._refs[s]=h),this._cache.put(o,h),c&&l&&this.validateSchema(e,!0),h},roe.prototype._compile=function(e,t){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=t||i,!0===e.schema.$async&&(i.$async=!0),i;var n,r;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{r=Gie.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=r,e.refs=r.refs,e.refVal=r.refVal,e.root=r.root,r;function i(){var t=e.validate,n=t.apply(this,arguments);return i.errors=t.errors,n}},roe.prototype.compileAsync=Nie;var Qie=jie;roe.prototype.addKeyword=Qie.add,roe.prototype.getKeyword=Qie.get,roe.prototype.removeKeyword=Qie.remove,roe.prototype.validateKeyword=Qie.validate;var Jie=Mre;roe.ValidationError=Jie.Validation,roe.MissingRefError=Jie.MissingRef,roe.$dataMetaSchema=qie;var eoe="http://json-schema.org/draft-07/schema",toe=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],noe=["/properties"];function roe(e){if(!(this instanceof roe))return new roe(e);e=this._opts=Kie.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:uoe,warn:uoe,error:uoe};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=Xie(e.format),this._cache=e.cache||new Vie,this._loadingSchemas={},this._compilations=[],this.RULES=Wie(),this._getId=function(e){switch(e.schemaId){case"auto":return loe;case"id":return aoe;default:return soe}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=$ie),this._metaOpts=function(e){for(var t=Kie.copy(e._opts),n=0;n<toe.length;n++)delete t[toe[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}(this),function(e){var t;if(e._opts.$data&&(t=Hie,e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var n=Rie;e._opts.$data&&(n=qie(n,noe)),e.addMetaSchema(n,eoe,!0),e._refs["http://json-schema.org/schema"]=eoe}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function ioe(e,t){return t=zie.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function ooe(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function aoe(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function soe(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function loe(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function coe(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function uoe(){}const hoe={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://higlass.io/#viewconf",title:"HiGlass viewconf",type:"object",additionalProperties:!1,required:[],properties:{editable:{type:"boolean",default:!0},viewEditable:{type:"boolean",default:!0},tracksEditable:{type:"boolean",default:!0},zoomFixed:{type:"boolean"},compactLayout:{type:"boolean"},exportViewUrl:{type:"string"},trackSourceServers:{type:"array",items:{type:"string"},minLength:1},zoomLocks:{$ref:"#/definitions/locks/zoomLocks"},locationLocks:{$ref:"#/definitions/locks/locationLocks"},valueScaleLocks:{$ref:"#/definitions/locks/valueScaleLocks"},views:{type:"array",items:{$ref:"#/definitions/view"},minLength:1},chromInfoPath:{type:"string"}},definitions:{data:{type:"object",properties:{url:{type:"string"},server:{type:"string"},filetype:{type:"string"},type:{type:"string"},tilesetInfo:{type:"object"},children:{type:"array"},tiles:{type:"object"}}},locks:{slug:{type:"string"},locksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{$ref:"#/definitions/locks/slug"}}},axisSpecificLocks:{additionalProperties:!1,properties:{axis:{enum:["x","y"],type:"string"},lock:{type:"string"}},required:["lock","axis"],type:"object"},locationLocksByViewUid:{type:"object",additionalProperties:!1,patternProperties:{".":{anyOf:[{type:"string"},{additionalProperties:!1,properties:{x:{$ref:"#/definitions/locks/axisSpecificLocks"},y:{$ref:"#/definitions/locks/axisSpecificLocks"}},type:"object"}]}}},zoomLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},locationLocks:{type:"object",additionalProperties:!1,required:[],properties:{locksByViewUid:{$ref:"#/definitions/locks/locationLocksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"}},patternProperties:{"^(?!uid).":{type:"array",minLength:3,maxLength:3,items:{type:"number"}}}}}}}},valueScaleLocks:{type:"object",additionalProperties:!1,required:["locksByViewUid","locksDict"],properties:{locksByViewUid:{$ref:"#/definitions/locks/locksByViewUid"},locksDict:{type:"object",additionalProperties:!1,patternProperties:{".":{type:"object",additionalProperties:!1,properties:{uid:{$ref:"#/definitions/locks/slug"},ignoreOffScreenValues:{type:"boolean"}},patternProperties:{"^(?!(uid|ignoreOffScreenValues)).":{type:"object",additionalProperties:!1,required:["view","track"],properties:{view:{type:"string"},track:{$ref:"#/definitions/locks/slug"}}}}}}}}}},view:{type:"object",additionalProperties:!1,required:["tracks","layout"],properties:{autocompleteSource:{type:"string"},chromInfoPath:{type:"string"},genomePositionSearchBox:{$ref:"#/definitions/viewProperties/genomePositionSearchBox"},genomePositionSearchBoxVisible:{type:"boolean"},initialXDomain:{$ref:"#/definitions/viewProperties/domain"},initialYDomain:{$ref:"#/definitions/viewProperties/domain"},layout:{$ref:"#/definitions/viewProperties/layout"},overlays:{type:"array",items:{$ref:"#/definitions/viewProperties/overlay"}},selectionView:{type:"boolean"},tracks:{$ref:"#/definitions/viewProperties/tracks_object"},uid:{type:"string"},zoomFixed:{type:"boolean"},zoomLimits:{type:"array",minLength:2,maxLength:2,default:[1,null]}}},viewProperties:{genomePositionSearchBox:{type:"object",title:"The Genome Position Search Box Schema",required:["chromInfoServer","chromInfoId"],properties:{autocompleteServer:{type:"string",title:"The Autocomplete Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},autocompleteId:{type:"string",title:"The Autocomplete ID",default:"",examples:["OHJakQICQD6gTD7skx4EWA"],pattern:"^(.*)$"},chromInfoServer:{type:"string",title:"The Chrominfo Server URL",default:"",examples:["//higlass.io/api/v1"],pattern:"^(.*)$"},chromInfoId:{type:"string",title:"The Chromosome Info ID",default:"",examples:["hg19"],pattern:"^(.*)$"},visible:{type:"boolean",title:"The Visible Schema",default:!1}}},overlay:{type:"object",additionalProperties:!1,properties:{chromInfoPath:{type:"string"},includes:{type:"array"},options:{type:"object",properties:{extent:{type:"array"},minWidth:{type:"number"},fill:{type:"string"},fillOpacity:{type:"number"},stroke:{type:"string"},strokeOpacity:{type:"number"},strokeWidth:{type:"number"},strokePos:{type:["string","array"]},outline:{type:"string"},outlineOpacity:{type:"number"},outlineWidth:{type:"number"},outlinePos:{type:["string","array"]}}},type:{type:"string"},uid:{type:"string"}}},layout:{type:"object",additionalProperties:!1,required:["w","h","x","y"],properties:{x:{type:"integer",title:"The X Position",default:0},y:{type:"integer",title:"The Y Position",default:0},w:{type:"integer",title:"Width",default:12},h:{type:"integer",title:"Height",default:12},moved:{type:"boolean"},static:{type:"boolean"}}},tracks_object:{type:"object",additionalProperties:!1,properties:{left:{$ref:"#/definitions/viewProperties/tracks_array"},right:{$ref:"#/definitions/viewProperties/tracks_array"},top:{$ref:"#/definitions/viewProperties/tracks_array"},bottom:{$ref:"#/definitions/viewProperties/tracks_array"},center:{$ref:"#/definitions/viewProperties/tracks_array"},whole:{$ref:"#/definitions/viewProperties/tracks_array"},gallery:{$ref:"#/definitions/viewProperties/tracks_array"}}},tracks_array:{type:"array",items:{oneOf:[{$ref:"#/definitions/tracks/enum_track"},{$ref:"#/definitions/tracks/combined_track"},{$ref:"#/definitions/tracks/heatmap_track"},{$ref:"#/definitions/tracks/independent_viewport_projection_track"}]}},domain:{type:"array",items:{type:"number"},maxItems:2,minItems:2}},tracks:{heatmap_track:{type:"object",additionalProperties:!1,required:[],properties:{uid:{type:"string"},type:{const:"heatmap"},data:{$ref:"#/definitions/data"},height:{type:"number"},options:{type:"object"},position:{type:"string"},server:{type:"string"},tilesetUid:{type:"string"},width:{type:"number"},transforms:{type:"array"}}},combined_track:{type:"object",additionalProperties:!1,required:["contents"],properties:{contents:{$ref:"#/definitions/viewProperties/tracks_array"},height:{type:"number"},options:{},position:{type:"string"},type:{const:"combined"},uid:{type:"string"},width:{type:"number"}}},enum_track:{type:"object",additionalProperties:!1,required:["type"],properties:{server:{type:"string"},tilesetUid:{type:"string"},data:{$ref:"#/definitions/data"},uid:{type:"string"},type:{enum:["multivec","1d-heatmap","line","point","bar","divergent-bar","stacked-interval","gene-annotations","linear-2d-rectangle-domains","chromosome-labels","linear-heatmap","1d-value-interval","2d-annotations","2d-chromosome-annotations","2d-chromosome-grid","2d-chromosome-labels","2d-rectangle-domains","2d-tiles","arrowhead-domains","bedlike","cross-rule","dummy","horizontal-1d-annotations","horizontal-1d-heatmap","horizontal-1d-tiles","horizontal-1d-value-interval","horizontal-2d-rectangle-domains","horizontal-bar","horizontal-chromosome-grid","horizontal-chromosome-labels","horizontal-divergent-bar","horizontal-gene-annotations","horizontal-heatmap","horizontal-line","horizontal-multivec","horizontal-point","horizontal-rule","horizontal-vector-heatmap","image-tiles","left-axis","left-stacked-interval","mapbox-tiles","osm-2d-tile-ids","osm-tiles","raster-tiles","simple-svg","square-markers","top-axis","top-stacked-interval","vertical-1d-annotations","vertical-1d-heatmap","vertical-1d-tiles","vertical-1d-value-interval","vertical-2d-rectangle-domains","vertical-bar","vertical-bedlike","vertical-chromosome-grid","vertical-chromosome-labels","vertical-gene-annotations","vertical-heatmap","vertical-line","vertical-multivec","vertical-point","vertical-rule","vertical-vector-heatmap","viewport-projection-center","viewport-projection-horizontal","viewport-projection-vertical"]},chromInfoPath:{type:"string"},fromViewUid:{type:"string"},height:{type:"number"},options:{type:"object"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}},independent_viewport_projection_track:{type:"object",additionalProperties:!1,properties:{uid:{type:"string"},type:{enum:["viewport-projection-horizontal","viewport-projection-vertical","viewport-projection-center"]},fromViewUid:{type:"null"},projectionXDomain:{$ref:"#/definitions/viewProperties/domain"},projectionYDomain:{$ref:"#/definitions/viewProperties/domain"},options:{type:"object"},transforms:{type:"array"},width:{type:"number"},x:{type:"number"},y:{type:"number"}}}}}},doe={"view-config-editor-header":"_view-config-editor-header_1hlm6_1","view-config-editor":"_view-config-editor_1hlm6_1","view-config-log":"_view-config-log_1hlm6_34","view-config-log-header":"_view-config-log-header_1hlm6_46","view-config-log-msg":"_view-config-log-msg_1hlm6_60",title:"_title_1hlm6_70",Warning:"_Warning_1hlm6_76",Success:"_Success_1hlm6_79",Error:"_Error_1hlm6_82"};let poe=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).state={code:e.viewConfig,hide:!1,showLog:!1,logMsgs:r.getLogMsgs(e.viewConfig)},r.handleChangeBound=r.handleChange.bind(a(r)),r.handleKeyDownBound=r.handleKeyDown.bind(a(r)),r.handleKeyUpBound=r.handleKeyUp.bind(a(r)),r.handleSubmitBound=r.handleSubmit.bind(a(r)),r.hideBound=r.hide.bind(a(r)),r.showBound=r.show.bind(a(r)),r.toggleLogBound=r.toggleLog.bind(a(r)),r.pubSubs=[],r.pubSubs.push(r.props.pubSub.subscribe("keydown",r.handleKeyDownBound)),r.pubSubs.push(r.props.pubSub.subscribe("keyup",r.handleKeyUpBound)),r}return f(n,[{key:"componentDidMount",value:async function(){this.editor&&(this.editor._input.focus(),this.editor._input.setSelectionRange(0,0),await sb(0),this.editorWrap&&(this.editorWrap.scrollTop=0))}},{key:"componentWillUnmount",value:function(){this.pubSubs.forEach((e=>this.props.pubSub.unsubscribe(e))),this.pubSubs=[]}},{key:"handleChange",value:function(e){const t=this.getLogMsgs(e);this.setState({code:e,logMsgs:t})}},{key:"handleKeyDown",value:function(e){"s"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.onChange(this.state.code)),"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.props.onChange(this.state.code),this.props.modal.close())}},{key:"handleKeyUp",value:function(e){this.setState({hide:!1}),"Escape"===e.key&&(e.preventDefault(),this.props.modal.close(),this.props.onCancel())}},{key:"handleSubmit",value:function(e){e&&e.preventDefault(),this.props.onSave(this.state.code)}},{key:"getLogMsgs",value:function(e){const t=[];let n;try{n=JSON.parse(e)}catch(e){return console.warn(e),t.push({type:"Error",msg:e.toString()}),t}const r=(new Zie).compile(hoe);return r(n)||(console.warn("Invalid viewconf"),t.push({type:"Warning",msg:"Invalid viewconf"})),r.errors&&(console.warn(JSON.stringify(r.errors,null,2)),r.errors.forEach((e=>{t.push({type:"Warning",msg:JSON.stringify(e,null,2)})}))),0===t.length&&t.push({type:"Success",msg:"No error or warnings"}),t}},{key:"hide",value:function(){this.setState({hide:!0})}},{key:"show",value:function(){this.setState({hide:!1})}},{key:"hideLog",value:function(){this.setState({showLog:!1})}},{key:"showLog",value:function(){this.setState({showLog:!0})}},{key:"toggleLog",value:function(){this.state.showLog?this.hideLog():this.showLog()}},{key:"render",value:function(){const e=this.state.logMsgs.map(((e,t)=>{const n=`${t}-${e.msg}`;return m.default.createElement("tr",{key:n},m.default.createElement("td",{className:gl(doe.title,doe[e.type])},`[${t}] ${e.type}`),m.default.createElement("td",null,m.default.createElement("pre",null,e.msg)))}));return m.default.createElement(d1,{cancelShortcut:"ESC",cancelTitle:"Discard Changes",hide:this.state.hide,maxHeight:!0,okayShortcut:"⌘+Enter",okayTitle:"Save and Close",onCancel:this.props.onCancel,onOkay:this.handleSubmitBound,title:"Edit View Config"},m.default.createElement(m.default.Fragment,null,m.default.createElement("header",{className:doe["view-config-editor-header"]},m.default.createElement(K0,{onBlur:this.showBound,onMouseDown:this.hideBound,onMouseOut:this.showBound,onMouseUp:this.showBound},"Hide While Mousedown"),m.default.createElement(K0,{onClick:()=>{this.props.onChange(this.state.code)},shortcut:"⌘+S"},"Save")),m.default.createElement("div",{ref:e=>{this.editorWrap=e},className:doe["view-config-editor"]},m.default.createElement(Vne,{ref:e=>{this.editor=e},highlight:e=>$ne.exports.highlight(e,$ne.exports.languages.json),onValueChange:this.handleChangeBound,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:"inherit"},value:this.state.code})),m.default.createElement("div",{className:doe["view-config-log"],style:{height:this.state.showLog?"50%":"30px"}},m.default.createElement("div",{className:doe["view-config-log-header"],onClick:()=>this.toggleLogBound()},`Log Messages (${this.state.logMsgs.filter((e=>"Success"!==e.type)).length})`),m.default.createElement("div",{className:doe["view-config-log-msg"],style:{padding:this.state.showLog?"10px":0}},m.default.createElement("table",null,m.default.createElement("tbody",null,e))))))}}]),n}(m.default.Component);poe.propTypes={modal:S.exports.object.isRequired,onCancel:S.exports.func.isRequired,onChange:S.exports.func.isRequired,onSave:S.exports.func.isRequired,pubSub:S.exports.object.isRequired,viewConfig:S.exports.string.isRequired};const foe=wH(t1(poe));const moe="_higlass-canvas_1uoq8_28",goe="_higlass-drawing-surface_1uoq8_34",boe="_higlass-svg_1uoq8_38",voe="_tiled-area_1uoq8_47",yoe="_track-mouseover-menu_1uoq8_52",Toe="bounded",_oe="overflow",Eoe="scroll";let xoe=function(e){i(n,e);var t=o(n);function n(e){var r;d(this,n),r=t.call(this,e),qg(m.default.version)<15.6&&console.warn("HiGlass requires React v15.6 or higher. Current version: ",m.default.version),r.pubSub=gh(),r.domEvent=Jm(r.pubSub),r.pubSubs=[],r.minHorizontalHeight=20,r.minVerticalWidth=20,r.resizeSensor=null,r.uid=Ns.nice(),r.tiledPlots={},r.genomePositionSearchBoxes={},r.xScales={},r.yScales={},r.projectionXDomains={},r.projectionYDomains={},r.topDiv=null,r.zoomToDataExtentOnInit=new Set,r.viewTrackUidsToCombinedUid={},r.combinedUidToViewTrack={},r.scalesChangedListeners={},r.draggingChangedListeners={},r.valueScalesChangedListeners={},r.zoomLocks={},r.locationLocks={},r.locationLocksAxisWise={x:{},y:{}},r.valueScaleLocks={},r.prevAuthToken=e.options.authToken,r.setCenters={},r.plusImg={},r.configImg={},Rf.PIXI=e.options&&e.options.PIXI||b,r.viewMarginTop=+e.options.viewMarginTop>=0?+e.options.viewMarginTop:0,r.viewMarginBottom=+e.options.viewMarginBottom>=0?+e.options.viewMarginBottom:0,r.viewMarginLeft=+e.options.viewMarginLeft>=0?+e.options.viewMarginLeft:0,r.viewMarginRight=+e.options.viewMarginRight>=0?+e.options.viewMarginRight:0,r.viewPaddingTop=+e.options.viewPaddingTop>=0?+e.options.viewPaddingTop:5,r.viewPaddingBottom=+e.options.viewPaddingBottom>=0?+e.options.viewPaddingBottom:5,r.viewPaddingLeft=+e.options.viewPaddingLeft>=0?+e.options.viewPaddingLeft:5,r.viewPaddingRight=+e.options.viewPaddingRight>=0?+e.options.viewPaddingRight:5,r.genomePositionSearchBox=null,r.viewHeaders={},r.boundRefreshView=()=>{r.refreshView(kf)},r.unsetOnLocationChange=[],r.setTheme(e.options.theme,e.options.isDarkTheme),r.viewconfLoaded=!1;const{viewConfig:i}=r.props,o=r.loadIfRemoteViewConfig(r.props.viewConfig);e.options.authToken&&hg(e.options.authToken),r.pixiRoot=new Rf.PIXI.Container,r.pixiRoot.interactive=!0,r.pixiStage=new Rf.PIXI.Container,r.pixiStage.interactive=!0,r.pixiRoot.addChild(r.pixiStage),r.pixiMask=new Rf.PIXI.Graphics,r.pixiRoot.addChild(r.pixiMask),r.pixiStage.mask=r.pixiMask,r.element=null,r.scrollTop=0;let s=Sf;r.props.options&&r.props.options.mouseTool===Af&&(s=Af),r.props.options.pluginTracks&&(window.higlassTracksByType=Object.assign(window.higlassTracksByType||{},r.props.options.pluginTracks));const l={};try{window.higlassTracksByType&&Object.entries(window.higlassTracksByType).forEach((([e,t])=>{l[e]=t}))}catch(e){console.warn("Broken config of a plugin track")}r.props.options.pluginDataFetchers&&(window.higlassDataFetchersByType=Object.assign(window.higlassDataFetchersByType||{},r.props.options.pluginDataFetchers));const c=window.higlassDataFetchersByType,u=r.props.options.pixelPreciseMarginPadding?1:30;r.mounted=!1,r.pluginTracks=l,r.pluginDataFetchers=c,r.state={currentBreakpoint:"lg",width:0,height:0,rowHeight:u,svgElement:null,canvasElement:null,customDialog:null,views:o,viewConfig:i,addTrackPositionMenuPosition:null,typedEditable:void 0,mouseOverOverlayUid:null,mouseTool:s,isDarkTheme:!1,rangeSelection1dSize:[0,1/0],rangeSelectionToInt:!1,modal:null},r.attachedToDOM=!1;const{public:h,destroy:p,publish:f,stack:v}=function(e,t){const n=e;let r=[];const i=gh(),o=()=>{r.forEach((e=>t.unsubscribe(e))),r=[]};return{destroy:o,publish:i.publish,stack:i.stack,public:{get version(){return W0},setBroadcastMousePositionGlobally(e=!1){n.setBroadcastMousePositionGlobally(e)},setShowGlobalMousePosition(e=!1){n.setShowGlobalMousePosition(e)},setGlobalMousePosition(e=!1){n.setBroadcastMousePositionGlobally(e),n.setShowGlobalMousePosition(e)},setAuthHeader(e){hg(e),n.reload()},getAuthHeader:()=>hg(),getComponent:()=>n,reload(e){let t;t=e?e.flatMap((e=>"string"==typeof e?n.iterateOverTracksInView(e):e)):n.iterateOverTracks();for(const{viewId:e,trackId:r}of t){const t=n.getTrackObject(e,r);for(const e of t.childTracks||[t])e.fetchedTiles&&(e.removeTiles(Object.keys(e.fetchedTiles)),e.fetching.clear(),e.refreshTiles()),e.rerender(e.options,!0)}},destroy(){o(),g.default.unmountComponentAtNode(n.topDiv.parentNode)},setRangeSelectionToInt(){n.setState({rangeSelectionToInt:!0})},setRangeSelectionToFloat(){n.setState({rangeSelectionToInt:!1})},setRangeSelection1dSize(e=0,t=1/0){n.setState({rangeSelection1dSize:[e,t]})},setViewConfig(e,i=!1){const o=n.processViewConfig(e);return new Promise((a=>{this.requestsInFlight=0,r.push(t.subscribe("requestSent",(()=>{this.requestsInFlight+=1}))),r.push(t.subscribe("requestReceived",(()=>{this.requestsInFlight-=1,0===this.requestsInFlight&&a()}))),n.setState({viewConfig:e,views:o},(()=>{i&&a()}))}))},getViewConfig:()=>n.getViewsAsJson(),validateViewConfig(e,{verbose:t=!1}={}){const n=(new Zie).compile(hoe),r=n(e);return t&&n.errors&&console.warn(JSON.stringify(n.errors,null,2)),r},getMinMaxValue:(e,t,r=!1,i=!1)=>n.getMinMaxValue(e,t,r,i),shareViewConfigAsLink:e=>n.handleExportViewsAsLink(e,!0),showAvailableTrackPositions(e){n.setState({draggingHappening:e})},hideAvailableTrackPositions(){n.setState({draggingHappening:null})},showTrackChooser(e){n.setState({chooseTrackHandler:(...t)=>{n.setState({chooseTrackHandler:null}),e(...t)}})},hideTrackChooser(){this.setState({chooseTrackHandler:null})},setTrackValueScaleLimits(e,t,r,i){n.setTrackValueScaleLimits(e,t,r,i)},setDarkTheme(e){console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');const t=e?"dark":"light";n.setTheme(t)},setTheme(e){console.warn("Please note that theming is still in beta!"),n.setTheme(e)},zoomTo(e,t,r,i,o,a=0){n.zoomTo(e,t,r,i,o,a)},zoomToGene(e,t,r=0,i=0){n.zoomToGene(e,t,r,i)},suggestGene:(e,t,r)=>n.suggestGene(e,t,r),zoomToDataExtent(e){n.handleZoomToData(e)},resetViewport(e){n.resetViewport(e)},activateTool(e){"select"===e?n.setMouseTool(Af):n.setMouseTool(Sf)},exportAsPngBlobPromise:()=>n.createPNGBlobPromise(),exportAsSvg:()=>n.createSVGString(),exportAsViewConfString:()=>n.getViewsAsString(),getRangeSelection:()=>n.rangeSelection,getLocation(e){const t=e?n.xScales[e]&&n.yScales[e]&&e:Object.values(n.tiledPlots)[0]&&Object.values(n.tiledPlots)[0].props.uid;return t?{xDomain:n.xScales[t].domain(),yDomain:n.yScales[t].domain(),xRange:n.xScales[t].range(),yRange:n.yScales[t].range()}:"Please provide a valid view UUID sweetheart 😙"},getTrackObject(e,t){let r=e,i=t;return t||(r=Object.values(n.state.views)[0].uid,i=e),Sb(n,r,i)},option(e,t){if(void 0===t)return n.props.options[e];"sizeMode"===e?(n.props.options[e]=t,(e=>{e.setState(e.state)})(n)):console.warn(`This option "${e}" is either unknown or not settable.`)},off(e,t,r){const o="object"==typeof t?t.callback:t;switch(e){case"click":i.unsubscribe("click",o);break;case"cursorLocation":i.unsubscribe("cursorLocation",o);break;case"location":n.offLocationChange(r,t);break;case"mouseMoveZoom":i.unsubscribe("mouseMoveZoom",o);break;case"wheel":i.unsubscribe("wheel",o);break;case"rangeSelection":i.unsubscribe("rangeSelection",o);break;case"viewConfig":n.offViewChange(t);break;case"createSVG":n.offPostCreateSVG();break;case"geneSearch":i.unsubscribe("geneSearch",o)}},on(e,t,r,o){switch(e){case"click":return i.subscribe("click",t);case"cursorLocation":return i.subscribe("cursorLocation",t);case"location":return n.onLocationChange(r,t,o);case"mouseMoveZoom":return i.subscribe("mouseMoveZoom",t);case"wheel":return i.subscribe("wheel",t);case"rangeSelection":return i.subscribe("rangeSelection",t);case"viewConfig":return n.onViewChange(t);case"createSVG":return n.onPostCreateSVG(t);case"geneSearch":return i.subscribe("geneSearch",t);default:return}}}}}(a(r),r.pubSub);return r.api=h,r.apiDestroy=p,r.apiPublish=f,r.apiStack=v,r.viewChangeListener=[],r.triggerViewChangeDb=hm(r.triggerViewChange.bind(a(r)),250),r.pubSubs=[],r.rangeSelection=[null,null],r.prevMouseHoverTrack=null,r.zooming=!1,r.appClickHandlerBound=r.appClickHandler.bind(a(r)),r.canvasClickHandlerBound=r.canvasClickHandler.bind(a(r)),r.keyDownHandlerBound=r.keyDownHandler.bind(a(r)),r.keyUpHandlerBound=r.keyUpHandler.bind(a(r)),r.resizeHandlerBound=r.resizeHandler.bind(a(r)),r.resizeHandlerBound=r.resizeHandler.bind(a(r)),r.dispatchEventBound=r.dispatchEvent.bind(a(r)),r.animateOnMouseMoveHandlerBound=r.animateOnMouseMoveHandler.bind(a(r)),r.zoomStartHandlerBound=r.zoomStartHandler.bind(a(r)),r.zoomEndHandlerBound=r.zoomEndHandler.bind(a(r)),r.zoomHandlerBound=r.zoomHandler.bind(a(r)),r.trackDroppedHandlerBound=r.trackDroppedHandler.bind(a(r)),r.trackDimensionsModifiedHandlerBound=r.trackDimensionsModifiedHandler.bind(a(r)),r.animateBound=r.animate.bind(a(r)),r.animateOnGlobalEventBound=r.animateOnGlobalEvent.bind(a(r)),r.requestReceivedHandlerBound=r.requestReceivedHandler.bind(a(r)),r.wheelHandlerBound=r.wheelHandler.bind(a(r)),r.mouseMoveHandlerBound=r.mouseMoveHandler.bind(a(r)),r.onMouseLeaveHandlerBound=r.onMouseLeaveHandler.bind(a(r)),r.onBlurHandlerBound=r.onBlurHandler.bind(a(r)),r.openModalBound=r.openModal.bind(a(r)),r.closeModalBound=r.closeModal.bind(a(r)),r.handleEditViewConfigBound=r.handleEditViewConfig.bind(a(r)),r.onScrollHandlerBound=r.onScrollHandler.bind(a(r)),r.typedText="",r.typedTextTimeout=null,r.modal={open:r.openModalBound,close:r.closeModalBound},r.setBroadcastMousePositionGlobally(r.props.options.broadcastMousePositionGlobally||r.props.options.globalMousePosition),r.setShowGlobalMousePosition(r.props.options.showGlobalMousePosition||r.props.options.globalMousePosition),r}return f(n,[{key:"UNSAFE_componentWillMount",value:function(){this.domEvent.register("keydown",document),this.domEvent.register("keyup",document),this.domEvent.register("scroll",document),this.domEvent.register("resize",window),this.domEvent.register("orientationchange",window),this.domEvent.register("wheel",window),this.domEvent.register("mousedown",window,!0),this.domEvent.register("mouseup",window,!0),this.domEvent.register("click",window,!0),this.domEvent.register("mousemove",window),this.domEvent.register("touchmove",window),this.domEvent.register("touchstart",window),this.domEvent.register("touchend",window),this.domEvent.register("touchcancel",window),this.domEvent.register("blur",window),this.pubSubs.push(this.pubSub.subscribe("app.click",this.appClickHandlerBound),this.pubSub.subscribe("blur",this.onBlurHandlerBound),this.pubSub.subscribe("keydown",this.keyDownHandlerBound),this.pubSub.subscribe("keyup",this.keyUpHandlerBound),this.pubSub.subscribe("resize",this.resizeHandlerBound),this.pubSub.subscribe("wheel",this.wheelHandlerBound),this.pubSub.subscribe("orientationchange",this.resizeHandlerBound),this.pubSub.subscribe("app.event",this.dispatchEventBound),this.pubSub.subscribe("app.animateOnMouseMove",this.animateOnMouseMoveHandlerBound),this.pubSub.subscribe("trackDropped",this.trackDroppedHandlerBound),this.pubSub.subscribe("trackDimensionsModified",this.trackDimensionsModifiedHandlerBound),this.pubSub.subscribe("app.zoomStart",this.zoomStartHandlerBound),this.pubSub.subscribe("app.zoomEnd",this.zoomEndHandlerBound),this.pubSub.subscribe("app.zoom",this.zoomHandlerBound),this.pubSub.subscribe("requestReceived",this.requestReceivedHandlerBound)),this.props.getApi&&this.props.getApi(this.api)}},{key:"sizeMode",get:function(){return void 0===this.props.options.sizeMode?this.props.options.bounded?"bounded":"default":this.props.options.sizeMode}},{key:"setBroadcastMousePositionGlobally",value:function(e=!1){this.isBroadcastMousePositionGlobally=e}},{key:"setShowGlobalMousePosition",value:function(e=!1){if(this.isShowGlobalMousePosition=e,this.isShowGlobalMousePosition&&!this.globalMousePositionListener&&(this.globalMousePositionListener=vh.subscribe("higlass.mouseMove",this.animateOnGlobalEventBound),this.pubSubs.push(this.globalMousePositionListener)),this.isShowGlobalMousePosition&&!this.globalMousePositionListener){const e=this.pubSubs.findIndex((e=>e===this.globalMousePositionListener));vh.unsubscribe(this.globalMousePositionListener),e>=0&&this.pubSubs.splice(e,1),this.globalMousePositionListener=void 0}}},{key:"zoomStartHandler",value:function(){this.hideHoverMenu(),this.zooming=!0}},{key:"zoomEndHandler",value:function(){this.zooming=!1}},{key:"zoomHandler",value:function(e){e.sourceEvent&&this.mouseMoveHandler(e.sourceEvent)}},{key:"waitForDOMAttachment",value:function(e){if(!this.mounted)return;const t=g.default.findDOMNode(this);document.body.contains(t)?e():requestAnimationFrame((()=>this.waitForDOMAttachment(e)))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.element=g.default.findDOMNode(this),window.addEventListener("focus",this.boundRefreshView),Object.values(this.state.views).forEach((e=>{this.adjustLayoutToTrackSizes(e),e.layout?e.layout.i=e.uid:e.layout=this.generateViewLayout(e)}));const e={width:this.state.width,height:this.state.height,view:this.canvasElement,antialias:!0,transparent:!0,resolution:2,autoResize:!0},t=parseInt(b.VERSION[0],10);4===t?(console.warn("Deprecation warning: please update Pixi.js to version 5 or above!"),"canvas"===this.props.options.renderer?this.pixiRenderer=new Rf.PIXI.CanvasRenderer(e):this.pixiRenderer=new Rf.PIXI.WebGLRenderer(e)):(t<4&&console.warn("Deprecation warning: please update Pixi.js to version 5 or above! This version of Pixi.js is unsupported. Good luck 🤞"),"canvas"===this.props.options.renderer?this.pixiRenderer=new Rf.PIXI.CanvasRenderer(e):this.pixiRenderer=new Rf.PIXI.Renderer(e)),this.fitPixiToParentContainer(),this.setState({svgElement:this.svgElement,canvasElement:this.canvasElement}),this.waitForDOMAttachment((()=>{Bu.ElementQueries.listen(),this.resizeSensor=new Bu.ResizeSensor(this.element.parentNode,this.updateAfterResize.bind(this)),this.updateAfterResize()})),this.handleDragStart(),this.handleDragStop(),this.animate();const n=Be(this.element).append("svg").style("display","none");Lf.forEach((e=>function(e,t,n,r){const i=e.append("symbol").attr("id",t).attr("viewBox",r);n.forEach((e=>i.append("path").attr("d",e).attr("fill","currentColor")))}(n,e.id,e.paths,e.viewBox)))}},{key:"getTrackObject",value:function(e,t){return this.tiledPlots[e].trackRenderer.getTrackObject(t)}},{key:"getTrackRenderer",value:function(e){return this.tiledPlots[e].trackRenderer}},{key:"loadIfRemoteViewConfig",value:function(e){let t={};return"string"==typeof e?mg.json(e,((t,n)=>{e=n,this.setState({views:this.processViewConfig(JSON.parse(JSON.stringify(n))),viewConfig:n}),this.unsetOnLocationChange.forEach((({viewId:e,callback:t,callbackId:n})=>{this.onLocationChange(e,t,n)}))}),this.pubSub):(t=this.processViewConfig(JSON.parse(JSON.stringify(e))),this.mounted&&this.setState({viewConfig:e})),t}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){const t=this.loadIfRemoteViewConfig(e.viewConfig);if(e.options.authToken!==this.prevAuthToken){hg(e.options.authToken);for(const e of this.iterateOverViews()){const t=this.getTrackRenderer(e),n=JSON.parse(t.prevTrackDefinitions);t.syncTrackObjects([]),t.syncTrackObjects(n)}this.prevAuthToken=e.options.authToken}for(const e of gm(t))this.adjustLayoutToTrackSizes(e);this.setState({views:t})}},{key:"UNSAFE_componentWillUpdate",value:function(){this.pixiRenderer.render(this.pixiRoot)}},{key:"componentDidUpdate",value:function(){this.setTheme(this.props.options.theme,this.props.options.isDarkTheme),this.animate(),this.triggerViewChangeDb()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.pixiStage.destroy(!1),this.pixiStage=null,this.pixiRenderer.destroy(!0),this.pixiRenderer=null,window.removeEventListener("focus",this.boundRefreshView),this.resizeSensor&&this.resizeSensor.detach(),this.domEvent.unregister("keydown",document),this.domEvent.unregister("keyup",document),this.domEvent.unregister("scroll",document),this.domEvent.unregister("wheel",window),this.domEvent.unregister("mousedown",window),this.domEvent.unregister("mouseup",window),this.domEvent.unregister("click",window),this.domEvent.unregister("mousemove",window),this.domEvent.unregister("touchmove",window),this.domEvent.unregister("touchstart",window),this.domEvent.unregister("touchend",window),this.domEvent.unregister("touchcancel",window),this.pubSubs.forEach((e=>this.pubSub.unsubscribe(e))),this.pubSubs=[],this.apiDestroy()}},{key:"setTheme",value:function(e=this.props.options.theme,t=this.props.options.isDarkTheme){if(void 0!==t)console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."),this.theme=t?"dark":"light";else switch(e){case"dark":this.theme=Pf;break;case"light":case void 0:this.theme=Df;break;default:console.warn(`Unknown theme "${e}". Using light theme.`),this.theme=Df}}},{key:"dispatchEvent",value:function(e){this.canvasElement&&_m(e,this.canvasElement)}},{key:"trackDroppedHandler",value:function(){this.setState({draggingHappening:null})}},{key:"requestReceivedHandler",value:function(){this.viewconfLoaded||0!==cg||(this.viewconfLoaded=!0,this.props.options.onViewConfLoaded&&this.props.options.onViewConfLoaded())}},{key:"animateOnMouseMoveHandler",value:function(e){e&&!this.animateOnMouseMove&&this.pubSubs.push(this.pubSub.subscribe("app.mouseMove",this.animateBound)),this.animateOnMouseMove=e}},{key:"fitPixiToParentContainer",value:function(){if(!this.element||!this.element.parentNode)return void console.warn("No parentNode:",this.element);const e=this.element.parentNode.clientWidth,t=this.element.parentNode.clientHeight;this.pixiMask.beginFill(16777215).drawRect(0,0,e,t).endFill(),this.pixiRenderer.resize(e,t),this.pixiRenderer.view.style.width=`${e}px`,this.pixiRenderer.view.style.height=`${t}px`,this.pixiRenderer.render(this.pixiRoot)}},{key:"addDefaultTrackOptions",value:function(e){const t=this.getTrackInfo(e.type);if(!t)return;void 0===e.options&&(e.options={});const n=e.options?e.options:{};if(this.props.options.defaultTrackOptions){if(this.props.options.defaultTrackOptions.trackSpecific&&this.props.options.defaultTrackOptions.trackSpecific[e.type]){const t=this.props.options.defaultTrackOptions.trackSpecific[e.type];for(const n in t)e.options[n]=void 0!==e.options[n]?e.options[n]:JSON.parse(JSON.stringify(t[n]))}if(this.props.options.defaultTrackOptions.all){const t=this.props.options.defaultTrackOptions.all;for(const n in t)e.options[n]=void 0!==e.options[n]?e.options[n]:JSON.parse(JSON.stringify(t[n]))}}if(t.defaultOptions){const n=t.defaultOptionsByTheme&&t.defaultOptionsByTheme[this.theme]?t.defaultOptionsByTheme[this.theme]:{},r={...t.defaultOptions,...n};if(e.options)for(const t in r)e.options[t]=void 0!==e.options[t]?e.options[t]:JSON.parse(JSON.stringify(r[t]));else e.options=JSON.parse(JSON.stringify(r))}else e.options=n}},{key:"toggleTypedEditable",value:function(){this.setState({typedEditable:!this.isEditable()})}},{key:"typedTextHandler",value:function(e){if(!this.props.options.cheatCodesEnabled)return;this.typedText=this.typedText.concat(e.key),this.typedText.endsWith("hgedit")&&(this.toggleTypedEditable(),this.typedText="");this.typedTextTimeout&&clearTimeout(this.typedTextTimeout),this.typedTextTimeout=setTimeout((()=>{this.typedText=""}),750)}},{key:"keyDownHandler",value:function(e){this.typedTextHandler(e),this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:Af})}},{key:"keyUpHandler",value:function(e){this.props.options.rangeSelectionOnAlt&&"Alt"===e.key&&this.setState({mouseTool:Sf})}},{key:"openModal",value:function(e){this.setState({modal:m.default.cloneElement(e,{ref:e=>{this.modalRef=e}})})}},{key:"closeModal",value:function(){this.modalRef=null,this.setState({modal:null})}},{key:"handleEditViewConfig",value:function(){const{viewConfig:e}=this.state;this.setState({viewConfigTmp:e}),this.openModal(m.default.createElement(foe,{onCancel:()=>{const{viewConfigTmp:e}=this.state,t=this.processViewConfig(e);for(const e of gm(t))this.adjustLayoutToTrackSizes(e);this.setState({views:t,viewConfig:e,viewConfigTmp:null})},onChange:e=>{const t=JSON.parse(e),n=this.processViewConfig(t);for(const e of gm(n))this.adjustLayoutToTrackSizes(e);this.setState({views:n,viewConfig:t})},onSave:e=>{const t=JSON.parse(e),n=this.processViewConfig(t);for(const e of gm(n))this.adjustLayoutToTrackSizes(e);this.setState({views:n,viewConfig:t,viewConfigTmp:null})},viewConfig:this.getViewsAsString()}))}},{key:"animate",value:function(){this.isRequestingAnimationFrame||(this.isRequestingAnimationFrame=!0,requestAnimationFrame((()=>{this.pixiRenderer&&(this.pixiRenderer.render(this.pixiRoot),this.isRequestingAnimationFrame=!1)})))}},{key:"animateOnGlobalEvent",value:function({sourceUid:e}={}){e!==this.uid&&this.animateOnMouseMove&&this.animate()}},{key:"measureSize",value:function(){const[e,t]=bg(this.element);e>0&&t>0&&this.setState({sizeMeasured:!0,width:e,height:t})}},{key:"updateAfterResize",value:function(){this.measureSize(),this.updateRowHeight(),this.fitPixiToParentContainer(),this.refreshView(kf),this.resizeHandler()}},{key:"onBreakpointChange",value:function(e){this.setState({currentBreakpoint:e})}},{key:"handleOverlayMouseEnter",value:function(e){this.setState({mouseOverOverlayUid:e})}},{key:"handleOverlayMouseLeave",value:function(){this.setState({mouseOverOverlayUid:null})}},{key:"handleLockLocation",value:function(e){this.setState({chooseViewHandler:t=>this.handleLocationLockChosen(e,t),mouseOverOverlayUid:e})}},{key:"isEditable",value:function(){return void 0!==this.state.typedEditable?this.state.typedEditable:this.props.options&&"editable"in this.props.options?this.props.options.editable&&this.state.viewConfig.editable:this.state.viewConfig.editable}},{key:"isTrackMenuDisabled",value:function(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.tracksEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.tracksEditable||!1===this.state.viewConfig.editable)}},{key:"isViewHeaderDisabled",value:function(){return!(!this.props.options||!1!==this.props.options.editable&&!1!==this.props.options.viewEditable)||this.state.viewConfig&&(!1===this.state.viewConfig.viewEditable||!1===this.state.viewConfig.editable)}},{key:"iterateOverViews",value:function(){const e=[];for(const t in Object.keys(this.state.views))e.push(t);return e}},{key:"iterateOverTracksInView",value:function(e){const t=[],{tracks:n}=this.state.views[e];for(const r in n)for(const i of n[r])if("combined"===i.type&&i.contents)for(const n of i.contents)t.push({viewId:e,trackId:n.uid,track:n});else t.push({viewId:e,trackId:i.uid,track:i});return t}},{key:"iterateOverTracks",value:function(){const e=[];for(const t in this.state.views){const{tracks:n}=this.state.views[t];for(const r in n)for(const i of n[r])if("combined"===i.type&&i.contents)for(const n of i.contents)e.push({viewId:t,trackId:n.uid,track:n});else e.push({viewId:t,trackId:i.uid,track:i})}return e}},{key:"setMouseTool",value:function(e){this.setState({mouseTool:e})}},{key:"isValueScaleLocked",value:function(e,t){const n=this.combineViewAndTrackUid(e,t);return!!this.state.views[e]&&!!this.valueScaleLocks[n]}},{key:"getLockGroupExtrema",value:function(e,t){const n=this.combineViewAndTrackUid(e,t);if(!this.state.views[e])return null;if(!this.valueScaleLocks[n])return null;const r=this.valueScaleLocks[n],i=Object.values(r).filter((e=>this.tiledPlots[e.view])).map((e=>this.tiledPlots[e.view].trackRenderer.getTrackObject(e.track))).filter((e=>e)).map((e=>void 0===e.originalTrack?e:e.originalTrack)),o=i.filter((e=>e.minRawValue&&e.maxRawValue)).map((e=>r.ignoreOffScreenValues?e.minVisibleValue(!0):e.minVisibleValueInTiles(!0))),a=i.filter((e=>e.minRawValue&&e.maxRawValue)).map((e=>r.ignoreOffScreenValues?e.maxVisibleValue(!0):e.maxVisibleValueInTiles(!0)));return 0===o.length||o.filter((e=>null===e||e===1/0)).length>0||0===a.length||a.filter((e=>null===e||e===-1/0)).length>0?null:[Math.min(...o),Math.max(...a)]}},{key:"syncValueScales",value:function(e,t){const n=this.combineViewAndTrackUid(e,t);if(!this.state.views[e])return;const r=vg(this.state.views[e].tracks,t);if(this.valueScaleLocks[n]){const i=this.valueScaleLocks[n],o=Object.values(i).filter((e=>this.tiledPlots[e.view])).map((e=>this.tiledPlots[e.view].trackRenderer.getTrackObject(e.track))).filter((e=>e)).map((e=>void 0===e.originalTrack?e:e.originalTrack)),a=this.getLockGroupExtrema(e,t);if(null===a)return;const s=a[0],l=a[1],c=1e-6;for(const e of o){if(e.minValue&&e.minValue(s),e.maxValue&&e.maxValue(l),!e.valueScale)continue;const t=Math.abs(e.minValue()-e.valueScale.domain()[0])>c||Math.abs(e.maxValue()-e.valueScale.domain()[1])>c,n=r.options&&e.options&&void 0!==r.options.scaleStartPercent&&void 0!==r.options.scaleEndPercent&&(Math.abs(e.options.scaleStartPercent-r.options.scaleStartPercent)>c||Math.abs(e.options.scaleEndPercent-r.options.scaleEndPercent)>c);(!e.continuousScaling||t||n)&&(e.valueScale.domain([s,l]),e.prevValueScale=e.valueScale.copy(),n&&(e.options.scaleStartPercent=r.options.scaleStartPercent,e.options.scaleEndPercent=r.options.scaleEndPercent),e.rerender(e.options,!0))}}}},{key:"handleNewTilesLoaded",value:function(e,t){this.animate()}},{key:"notifyDragChangedListeners",value:function(e){gm(this.draggingChangedListeners).forEach((t=>{gm(t).forEach((t=>t(e)))}))}},{key:"addDraggingChangedListener",value:function(e,t,n){this.draggingChangedListeners.hasOwnProperty(e)||(this.draggingChangedListeners[e]={}),this.draggingChangedListeners[e][t]=n,n(!0),n(!1)}},{key:"removeDraggingChangedListener",value:function(e,t){if(this.draggingChangedListeners.hasOwnProperty(e)){const n=this.draggingChangedListeners[e];n.hasOwnProperty(t)&&(n[t](!1),delete n[t])}}},{key:"addScalesChangedListener",value:function(e,t,n){this.scalesChangedListeners[e]||(this.scalesChangedListeners[e]={}),this.scalesChangedListeners[e][t]=n,this.xScales[e]&&this.yScales[e]&&n(this.xScales[e],this.yScales[e])}},{key:"removeScalesChangedListener",value:function(e,t){if(this.scalesChangedListeners[e]){const n=this.scalesChangedListeners[e];n[t]&&delete n[t]}}},{key:"createSVG",value:function(){const e=document.createElement("svg");e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("version","1.1");for(const t of gm(this.tiledPlots))if(t)for(const n of gm(t.trackRenderer.trackDefObjects))if(n.trackObject.exportSVG){const t=n.trackObject.exportSVG();t&&e.appendChild(t[0])}return e.setAttribute("width",this.canvasElement.style.width),e.setAttribute("height",this.canvasElement.style.height),this.postCreateSVGCallback?this.postCreateSVGCallback(e):e}},{key:"createSVGString",value:function(){const e=this.createSVG();let t=Gu.xml((new window.XMLSerializer).serializeToString(e));return t=t.replace(/<a0:/g,"<"),t=t.replace(/<\/a0:/g,"</"),t=t.replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm,"$1"),t=t.replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm,"$1"),`<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n${t}`}},{key:"handleExportSVG",value:function(){bm("export.svg",new Blob([this.createSVGString()],{type:"image/svg+xml"}))}},{key:"offPostCreateSVG",value:function(){this.postCreateSVGCallback=null}},{key:"onPostCreateSVG",value:function(e){this.postCreateSVGCallback=e}},{key:"createPNGBlobPromise",value:function(){return new Promise((e=>{const t=this.createSVGString(),n=new Image(this.canvasElement.width,this.canvasElement.height);n.src=`data:image/svg+xml;base64,${btoa(t)}`,n.onload=()=>{const t=document.createElement("canvas");t.width=this.canvasElement.width/2,t.height=this.canvasElement.height/2,t.getContext("2d").drawImage(n,0,0),t.toBlob((t=>{e(t)}))}}))}},{key:"handleExportPNG",value:function(){this.createPNGBlobPromise().then((e=>{bm("export.png",e)}))}},{key:"handleScalesChanged",value:function(e,t,n,r=!0){if(this.xScales[e]=t,this.yScales[e]=n,r&&e in this.scalesChangedListeners&&gm(this.scalesChangedListeners[e]).forEach((e=>{e(t,n)})),this.zoomLocks[e]){const t=this.zoomLocks[e],n=fm(t),[r,i,o]=tb(this.xScales[e],this.yScales[e]);for(let r=0;r<n.length;r++){const i=n[r][0],a=n[r][1];if(!this.xScales[i]||!this.yScales[i])continue;if(i===e)continue;const[s,l,c]=tb(this.xScales[i],this.yScales[i]),u=o*(a[2]/t[e][2]);if(!this.setCenters[i])continue;const[h,d]=this.setCenters[i](s,l,u,!1);this.xScales[i]=h,this.yScales[i]=d,this.scalesChangedListeners.hasOwnProperty(i)&&gm(this.scalesChangedListeners[i]).forEach((e=>{e(h,d)}))}}if(this.locationLocks[e]){const t=this.locationLocks[e],n=fm(t),[r,i,o]=tb(this.xScales[e],this.yScales[e]);for(let o=0;o<n.length;o++){const a=n[o][0],s=n[o][1];if(!this.xScales[a]||!this.yScales[a])continue;const[l,c,u]=tb(this.xScales[a],this.yScales[a]);if(a===e)continue;const h=r+(s[0]-t[e][0]),d=i+(s[1]-t[e][1]);if(!this.setCenters[a])continue;const[p,f]=this.setCenters[a](h,d,u,!1);this.xScales[a]=p,this.yScales[a]=f,this.scalesChangedListeners.hasOwnProperty(a)&&gm(this.scalesChangedListeners[a]).forEach((e=>{e(p,f)}))}}if(this.locationLocksAxisWise.x[e]){const t=this.locationLocksAxisWise.x[e].lock,n=fm(t),r="x"!==this.locationLocksAxisWise.x[e].axis,[i,o,a]=tb(this.xScales[e],this.yScales[e]);for(let o=0;o<n.length;o++){const a=n[o][0],s=n[o][1];if(!this.xScales[a]||!this.yScales[a])continue;const[l,c,u]=tb(this.xScales[a],this.yScales[a]);if(a===e)continue;const h=i+(s[0]-t[e][0]);if(!this.setCenters[a])continue;const[d,p]=this.setCenters[a](r?l:h,r?h:c,u,!1);this.xScales[a]=d,this.yScales[a]=p,this.scalesChangedListeners.hasOwnProperty(a)&&gm(this.scalesChangedListeners[a]).forEach((e=>{e(d,p)}))}}if(this.locationLocksAxisWise.y[e]){const t=this.locationLocksAxisWise.y[e].lock,n=fm(t),r="y"!==this.locationLocksAxisWise.y[e].axis,[i,o,a]=tb(this.xScales[e],this.yScales[e]);for(let i=0;i<n.length;i++){const a=n[i][0],s=n[i][1];if(!this.xScales[a]||!this.yScales[a])continue;const[l,c,u]=tb(this.xScales[a],this.yScales[a]);if(a===e)continue;const h=o+(s[1]-t[e][1]);if(!this.setCenters[a])continue;const[d,p]=this.setCenters[a](r?h:l,r?c:h,u,!1);this.xScales[a]=d,this.yScales[a]=p,this.scalesChangedListeners.hasOwnProperty(a)&&gm(this.scalesChangedListeners[a]).forEach((e=>{e(d,p)}))}}this.animate(),this.triggerViewChangeDb()}},{key:"handleProjectViewport",value:function(e){this.setState({chooseTrackHandler:(t,n)=>this.handleViewportProjected(e,t,n)})}},{key:"handleZoomToData",value:function(e){if(e&&!this.tiledPlots[e])throw new Error(`View uid ${e} does not exist in the current viewConfig`);e?this.tiledPlots[e].handleZoomToData():Object.values(this.tiledPlots).forEach((e=>e.handleZoomToData()))}},{key:"resetViewport",value:function(e){if(e&&!this.tiledPlots[e])throw new Error(`View uid ${e} does not exist in the current viewConfig`);e?this.tiledPlots[e].resetViewport():Object.values(this.tiledPlots).forEach((e=>e.resetViewport()))}},{key:"handleYankFunction",value:function(e,t){this.setState({chooseViewHandler:n=>t(e,n),mouseOverOverlayUid:e})}},{key:"handleUnlock",value:function(e,t){const n=mm(t[e]);if(2===n.length)return delete t[n[0]],void delete t[n[1]];t[e]&&t[e][e]&&delete t[e][e],t[e]&&delete t[e]}},{key:"viewScalesLockData",value:function(e){return this.xScales[e]&&this.yScales[e]?tb(this.xScales[e],this.yScales[e]):(console.warn("View scale lock doesn't correspond to existing uid: ",e),null)}},{key:"addLock",value:function(e,t,n,r){let i=[],o=[];i=n[e]?fm(n[e]).filter((e=>r(e[0]))).map((e=>[e[0],r(e[0])])):[[e,r.bind(this)(e)]],o=n[t]?fm(n[t]).filter((e=>r.bind(this)(e[0]))).map((e=>[e[0],r.bind(this)(e[0])])):[[t,r.bind(this)(t)]];const a=i.concat(o),s=pm(a);a.forEach((e=>{n[e[0]]=s}))}},{key:"handleLocationLockChosen",value:function(e,t){e!==t?(this.addLock(e,t,this.locationLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}},{key:"handleZoomLockChosen",value:function(e,t){e!==t?(this.addLock(e,t,this.zoomLocks,this.viewScalesLockData.bind(this)),this.setState({chooseViewHandler:null})):this.setState({chooseViewHandler:null})}},{key:"handleViewportProjected",value:function(e,t,n){let r=null;if(e===t)console.warn("A view can not show its own viewport.");else{const i=vg(this.state.views[t].tracks,n),o=Eg(this.state.views[t].tracks,n);r=Ns.nice();const a={uid:r,type:`viewport-projection-${{top:"horizontal",bottom:"horizontal",center:"center",left:"vertical",right:"vertical"}[o]}`,fromViewUid:e};this.addCallbacks(t,a),this.handleTrackAdded(t,a,o,i)}return this.setState({chooseTrackHandler:null}),r}},{key:"handleLocationYanked",value:function(e,t){const n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],[a,s,l]=tb(i,o),[c,u,h]=tb(n,r);this.setCenters[e](c,u,l,!0),this.setState({chooseViewHandler:null})}},{key:"handleZoomYanked",value:function(e,t){const n=this.xScales[t],r=this.yScales[t],i=this.xScales[e],o=this.yScales[e],[a,s,l]=tb(i,o),[c,u,h]=tb(n,r);this.setCenters[e](a,s,h,!0),this.setState({chooseViewHandler:null})}},{key:"handleTrackPositionChosen",value:function(e,t){this.setState({addTrackPosition:t,addTrackPositionView:e})}},{key:"updateRowHeight",value:function(){if(!this.props.options||this.sizeMode!==Toe||this.props.options.pixelPreciseMarginPadding)return;const e=this.element.parentNode.clientHeight;let t=0;for(const e of gm(this.state.views))t=Math.max(t,e.layout.y+e.layout.h);this.handleDragStart(),this.handleDragStop();const n=(e-((this.isEditable()?10:0)*t-1))/t,r=Math.floor(n);this.setState({rowHeight:r})}},{key:"handleLayoutChange",value:function(e){this.element&&(e.forEach((e=>{const t=this.state.views[e.i];t&&(t.layout.x=e.x,t.layout.y=e.y,t.layout.w=e.w,t.layout.h=e.h,t.layout.i=e.i)})),this.updateRowHeight(),this.refreshView(kf))}},{key:"clearDragTimeout",value:function(){this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null)}},{key:"getTrackInfo",value:function(e){return rm[e]?rm[e]:this.pluginTracks&&this.pluginTracks[e]?this.pluginTracks[e].config:window.higlassTracksByType&&window.higlassTracksByType[e]?window.higlassTracksByType[e].config:void console.warn("Track type not found:",e,"(check app/scripts/config/ for a list of defined track types)")}},{key:"forceRefreshView",value:function(){this.setState(this.state)}},{key:"refreshView",value:function(e=110){this.clearDragTimeout(),this.notifyDragChangedListeners(!0),this.clearDragTimeout(),this.dragTimeout=setTimeout((()=>{this.notifyDragChangedListeners(!1)}),e)}},{key:"handleDragStart",value:function(){this.clearDragTimeout(),this.notifyDragChangedListeners(!0)}},{key:"handleDragStop",value:function(){this.clearDragTimeout(),this.dragTimeout=setTimeout((()=>{this.notifyDragChangedListeners(!1)}),kf)}},{key:"resizeHandler",value:function(){Pg(this.viewHeaders).filter((e=>e)).forEach((e=>e.checkWidth()))}},{key:"calculateViewDimensions",value:function(e){const t=20,n=100;let r=this.viewMarginTop+this.viewMarginBottom+this.viewPaddingTop+this.viewPaddingBottom,i=this.viewMarginLeft+this.viewMarginRight+this.viewPaddingLeft+this.viewPaddingRight,o=0;o+=10;if(e.tracks.top)for(let n=0;n<e.tracks.top.length;n++){const i=e.tracks.top[n];r+=i.height?i.height:t,o+=i.height?i.height:t}if(e.tracks.bottom)for(let n=0;n<e.tracks.bottom.length;n++){const i=e.tracks.bottom[n];r+=i.height?i.height:t,o+=i.height?i.height:t}(e.tracks.left&&e.tracks.left.length>0||e.tracks.right&&e.tracks.right.length>0||e.tracks.center&&e.tracks.center.length>0)&&(o+=20);let a=0;if(e.tracks.left)for(let t=0;t<e.tracks.left.length;t++){const r=e.tracks.left[t],o=r.height?r.height:n;i+=r.width?r.width:0,a=Math.max(a,o)}let s=0;if(e.tracks.right)for(let t=0;t<e.tracks.right.length;t++){const r=e.tracks.right[t],o=r.height?r.height:n;i+=r.width?r.width:0,s=Math.max(s,o)}const l=Math.max(a,s);let c=0,u=0;if(e.tracks.center&&gm(e.tracks.center).length>0){if(!e.tracks.center[0].contents||e.tracks.center[0].contents.length>0){let t=null,o=null;if(e.tracks.center[0].contents)for(const r of e.tracks.center[0].contents)t=Math.max(t,r.height?r.height:n),o=Math.max(o,r.width?r.width:100);else t=e.tracks.center[0].height?e.tracks.center[0].height:n,o=e.tracks.center[0].width?e.tracks.center[0].width:100;r+=t,i+=o}}else(e.tracks.top&&gm(e.tracks.top).length>1||e.tracks.bottom&&gm(e.tracks.bottom).length>1)&&(e.tracks.left&&gm(e.tracks.left).length||e.tracks.right&&gm(e.tracks.right).length)&&(u=100,c=n);r+=l>c?l:c;let h=0,d=0,p=0,f=0;return"top"in e.tracks&&(h=e.tracks.top.map((e=>e.height?e.height:t)).reduce(((e,t)=>e+t),0)),"bottom"in e.tracks&&(d=e.tracks.bottom.map((e=>e.height?e.height:t)).reduce(((e,t)=>e+t),0)),"left"in e.tracks&&(p=e.tracks.left.map((e=>e.width?e.width:0)).reduce(((e,t)=>e+t),0)),"right"in e.tracks&&(f=e.tracks.right.map((e=>e.width?e.width:0)).reduce(((e,t)=>e+t),0)),{totalWidth:i,totalHeight:r,topHeight:h,bottomHeight:d,leftWidth:p,rightWidth:f,centerWidth:u,centerHeight:c,minNecessaryHeight:o}}},{key:"calculateZoomLimits",value:function(e,t){const n=[0,1/0],r=e.zoomLimits||[1,null],i=t[1]-t[0];if(2!==r.length)return n;if(null!==r[0]&&r[0]>0){const e=i/r[0];n[1]=Math.max(e,1),e<1&&console.warn(`Invalid zoom limits. Lower limit set to ${i}`)}if(null!==r[1]&&r[1]>r[0]){const e=i/r[1];n[0]=Math.min(e,1),e>1&&console.warn(`Invalid zoom limits. Upper limit set to ${i}`)}return n}},{key:"generateViewLayout",value:function(e){let t=null;return"layout"in e?({layout:t}=e.layout):t={x:0,y:0,w:12,h:12},t}},{key:"handleClearView",value:function(e){const{views:t}=this.state;t[e].tracks.top=[],t[e].tracks.bottom=[],t[e].tracks.center=[],t[e].tracks.left=[],t[e].tracks.right=[],t[e].tracks.whole=[],this.setState({views:t})}},{key:"handleCloseView",value:function(e){1!==gm(this.state.views).length&&(this.handleUnlock(e,this.zoomLocks),this.setState((t=>(delete t.views[e],{views:this.removeInvalidTracks(t.views)}))))}},{key:"handleSeriesAdded",value:function(e,t,n,r){const{tracks:i}=this.state.views[e];if("combined"===r.type)r.contents.push(t),"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,r);else{const e={type:"combined",uid:Ns.nice(),height:r.height,width:r.width,contents:[r,t]},o=i[n];for(let t=0;t<o.length;t++)o[t].uid===r.uid&&(o[t]=e)}this.setState((e=>({views:e.views})))}},{key:"handleNoTrackAdded",value:function(){this.state.addTrackPosition&&this.setState({addTrackPosition:null})}},{key:"handleTracksAdded",value:function(e,t,n,r){this.storeTrackSizes(e);for(const i of t)this.handleTrackAdded(e,i,n,r)}},{key:"handleChangeTrackType",value:function(e,t,n){const r=this.state.views[e],i=vg(r.tracks,t),o=i.uid;i.uid=Ns.nice(),i.type=n;const a=i.uid;this.updateTrackLocks(e,o,a),this.setState((e=>({views:e.views})))}},{key:"handleChangeTrackData",value:function(e,t,n){const r=this.state.views[e],i=vg(r.tracks,t);i.uid=Ns.nice(),i.data=n,this.setState((e=>({views:e.views})))}},{key:"handleTrackAdded",value:function(e,t,n,r=null){if(this.addDefaultTrackOptions(t),t.uid||(t.uid=Ns.nice()),t.contents)for(const e of t.contents)this.addDefaultTrackOptions(e);if(this.state.addTrackPosition&&this.setState({addTrackPosition:null}),r)return this.handleSeriesAdded(e,t,n,r),null;t.position=n;const i=this.getTrackInfo(t.type);t.width=i.defaultWidth||i.defaultOptions&&i.defaultOptions.minWidth||this.minVerticalWidth,t.height=i.defaultHeight||i.defaultOptions&&i.defaultOptions.minHeight||this.minHorizontalHeight;const{tracks:o}=this.state.views[e];let a=0;if(_g(o,(()=>a++)),"left"===n||"top"===n)o[n].unshift(t);else if("center"===n)if(0===o.center.length){const e={uid:Ns.nice(),type:"combined",contents:[t]};o.center=[e]}else if("combined"===o.center[0].type)o.center[0].contents.push(t),"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,o.center[0]);else{const e={uid:Ns.nice(),type:"combined",contents:[o.center[0],t]};o.center=[e],"heatmap"===t.type&&this.compatibilityfyStackedHeatmaps(t,e)}else o[n]||(o[n]=[]),o[n].push(t);return this.adjustLayoutToTrackSizes(this.state.views[e]),1===Object.keys(this.state.views).length&&0===a&&(this.handleZoomToData(e),this.zoomToDataExtentOnInit.add(e)),t}},{key:"compatibilityfyStackedHeatmaps",value:function(e,t){let n;t.contents.some((e=>(n=e,"heatmap"===e.type)))&&(e.options.backgroundColor="transparent",e.options.showTooltip=n.options.showTooltip,e.options.showMousePosition=n.options.showMousePosition,e.options.mousePositionColor=n.options.mousePositionColor)}},{key:"storeTrackSizes",value:function(e){_g(this.state.views[e].tracks,(t=>{const n=this.tiledPlots[e].trackRenderer.getTrackObject(t.uid);n&&([t.width,t.height]=n.dimensions)}))}},{key:"adjustLayoutToTrackSizes",value:function(e){if(!e.layout)return;let t=0;this.isEditable()&&(t+=20);const{totalHeight:n}=this.calculateViewDimensions(e);t+=n;const r=this.isEditable()?10:0;t+=r;const i=this.state.rowHeight+r;this.sizeMode!==Toe&&(e.layout.h=Math.ceil(t/i))}},{key:"handleCloseTrack",value:function(e,t){const{tracks:n}=this.state.views[e];this.handleUnlockValueScale(e,t);for(const e in n){const r=n[e],i=r.filter((e=>e.uid!==t));i.length===r.length?i.filter((e=>"combined"===e.type)).forEach((e=>{e.contents=e.contents.filter((e=>e.uid!==t))})):n[e]=i}return this.storeTrackSizes(e),this.adjustLayoutToTrackSizes(this.state.views[e]),this.setState((e=>({views:e.views}))),this.state.views}},{key:"handleLockValueScale",value:function(e,t){this.setState({chooseTrackHandler:(n,r)=>this.handleValueScaleLocked(e,t,n,r)})}},{key:"combineViewAndTrackUid",value:function(e,t){const n=`${e}.${t}`;if(this.combinedUidToViewTrack[n]={view:e,track:t},this.viewTrackUidsToCombinedUid[e]){if(this.viewTrackUidsToCombinedUid[t])return this.viewTrackUidsToCombinedUid[e][t];this.viewTrackUidsToCombinedUid[e][t]=n}else this.viewTrackUidsToCombinedUid[e]={},this.viewTrackUidsToCombinedUid[e][t]=n;return n}},{key:"updateTrackLocks",value:function(e,t,n){const r=this.combineViewAndTrackUid(e,t),i=this.combineViewAndTrackUid(e,n);if(this.valueScaleLocks[r]){const e=this.valueScaleLocks[r];this.valueScaleLocks[i]=e,delete this.valueScaleLocks[r]}for(const e in this.valueScaleLocks)if(this.valueScaleLocks[e][r]){const t=this.valueScaleLocks[e][r];this.valueScaleLocks[e][i]=t,t.track=n,delete this.valueScaleLocks[e][r]}}},{key:"handleUnlockValueScale",value:function(e,t){if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){const n=mm(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks);for(const t of n)this.handleUnlock(this.combineViewAndTrackUid(e,t),this.valueScaleLocks)}else this.handleUnlock(this.combineViewAndTrackUid(e,t),this.valueScaleLocks)}},{key:"handleValueScaleLocked",value:function(e,t,n,r){if(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks){const i=mm(this.tiledPlots[e].trackRenderer.getTrackObject(t).createdTracks);for(const t of i)this.handleValueScaleLocked(e,t,n,r);return}if(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks){const i=mm(this.tiledPlots[n].trackRenderer.getTrackObject(r).createdTracks);for(const r of i)this.handleValueScaleLocked(e,t,n,r);return}const i=this.combineViewAndTrackUid(e,t),o=this.combineViewAndTrackUid(n,r);this.addLock(i,o,this.valueScaleLocks,(e=>this.combinedUidToViewTrack[e])),this.syncValueScales(e,t),this.setState({chooseTrackHandler:null})}},{key:"addCallbacks",value:function(e,t){const n=this.getTrackInfo(t.type);if("viewport-projection-center"===t.type||"viewport-projection-horizontal"===t.type||"viewport-projection-vertical"===t.type||n&&n.projection){const n=t.fromViewUid;t.registerViewportChanged=(e,t)=>this.addScalesChangedListener(n,e,t),t.removeViewportChanged=e=>this.removeScalesChangedListener(n,e),t.setDomainsCallback=(r,i)=>{if(!n)return this.projectionXDomains[e]||(this.projectionXDomains[e]={}),this.projectionYDomains[e]||(this.projectionYDomains[e]={}),"viewport-projection-horizontal"!==t.type&&"viewport-projection-center"!==t.type||(this.projectionXDomains[e][t.uid]=r),"viewport-projection-vertical"!==t.type&&"viewport-projection-center"!==t.type||(this.projectionYDomains[e][t.uid]=i),void this.triggerViewChangeDb();const o=fi().domain(r).range(this.xScales[n].range()),a=fi().domain(i).range(this.yScales[n].range()),[s,l,c]=tb(o,a);this.setCenters[n](s,l,c,!1);let u=!1,h=!1;e in this.zoomLocks&&(u=n in this.zoomLocks[e]),u&&this.handleUnlock(e,this.zoomLocks),e in this.locationLocks&&(h=n in this.locationLocks[e]),h&&this.handleUnlock(e,this.locationLocks),this.handleScalesChanged(n,o,a,!0),u&&this.addLock(e,n,this.zoomLocks,this.viewScalesLockData),h&&this.addLock(e,n,this.locationLocks,this.viewScalesLockData)}}}},{key:"validateLocks",value:function(e){const t=[];for(const n of mm(e))e[n]&&e[n][n]||t.push(n);for(const n of t)e[n]&&(console.warn(`View ${n} not present in lock group. Removing...`),this.handleUnlock(n,e),delete e[n])}},{key:"deserializeLocationLocks",value:function(e){if(this.locationLocks={},e.locationLocks)for(const t of mm(e.locationLocks.locksByViewUid))if("object"!=typeof e.locationLocks.locksByViewUid[t])this.locationLocks[t]=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[t]];else{if("x"in e.locationLocks.locksByViewUid[t]){const n=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[t].x.lock];this.locationLocksAxisWise.x[t]={lock:n,axis:e.locationLocks.locksByViewUid[t].x.axis}}if("y"in e.locationLocks.locksByViewUid[t]){const n=e.locationLocks.locksDict[e.locationLocks.locksByViewUid[t].y.lock];this.locationLocksAxisWise.y[t]={lock:n,axis:e.locationLocks.locksByViewUid[t].y.axis}}}this.validateLocks(this.locationLocks)}},{key:"deserializeZoomLocks",value:function(e){if(this.zoomLocks={},e.zoomLocks)for(const t of mm(e.zoomLocks.locksByViewUid))this.zoomLocks[t]=e.zoomLocks.locksDict[e.zoomLocks.locksByViewUid[t]];this.validateLocks(this.zoomLocks)}},{key:"deserializeValueScaleLocks",value:function(e){if(this.valueScaleLocks={},e.valueScaleLocks)for(const t of mm(e.valueScaleLocks.locksByViewUid))this.valueScaleLocks[t]=e.valueScaleLocks.locksDict[e.valueScaleLocks.locksByViewUid[t]]}},{key:"serializeLocks",value:function(e){const t={},n={};for(const r of mm(e)){let i=e[r]&&e[r].uid;i||(i=Ns.nice()),e[r].uid=i,t[i]=e[r],n[r]=e[r].uid}return{locksByViewUid:n,locksDict:t}}},{key:"getViewsAsJson",value:function(){const e=JSON.parse(JSON.stringify(this.state.viewConfig));return e.views=Object.values(this.state.views).map((e=>{const t=JSON.parse(JSON.stringify(e));return _g(t.tracks,(t=>{if(t.server){const e=lh(t.server,{});if(!e.hostname.length){const n=window.location.host,{protocol:r}=window.location,i=`${r}//${n}${e.pathname}`;t.server=i}}("viewport-projection-center"===t.type||"viewport-projection-horizontal"===t.type)&&this.projectionXDomains[e.uid]&&this.projectionXDomains[e.uid][t.uid]&&(t.projectionXDomain=this.projectionXDomains[e.uid][t.uid]),("viewport-projection-center"===t.type||"viewport-projection-vertical"===t.type)&&this.projectionYDomains[e.uid]&&this.projectionYDomains[e.uid][t.uid]&&(t.projectionYDomain=this.projectionYDomains[e.uid][t.uid]),delete t.name,delete t.position,delete t.header,delete t.description,delete t.created,delete t.project,delete t.project_name,delete t.serverUidKey,delete t.uuid,delete t.private,delete t.maxZoom,delete t.coordSystem,delete t.coordSystem2,delete t.datatype,delete t.maxWidth,delete t.datafile,delete t.binsPerDimension,delete t.resolutions,delete t.aggregationModes})),t.uid=e.uid,t.initialXDomain=this.xScales[e.uid].domain(),t.initialYDomain=this.yScales[e.uid].domain(),delete t.layout.i,t})),e.zoomLocks=this.serializeLocks(this.zoomLocks),e.locationLocks=this.serializeLocks(this.locationLocks),e.valueScaleLocks=this.serializeLocks(this.valueScaleLocks),e}},{key:"getViewsAsString",value:function(){return JSON.stringify(this.getViewsAsJson(),null,2)}},{key:"handleExportViewAsJSON",value:function(){bm("viewconf.json",this.getViewsAsString())}},{key:"handleExportViewsAsLink",value:function(e=this.state.viewConfig.exportViewUrl,t=!1){const n=new URL(e,window.location.origin),r=fetch(e,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:`{"viewconf":${this.getViewsAsString()}}`,credentials:"same-origin"}).then((e=>{if(!e.ok)throw e;return e.json()})).catch((e=>{console.warn("err:",e)})).then((e=>({id:e.uid,url:`${n.origin}/l/?d=${e.uid}`})));return t||r.then((e=>{this.openModal(m.default.createElement(yne,{onDone:()=>{this.closeModalBound()},url:e.url}))})).catch((e=>console.error("Exporting view config as link failed:",e))),r}},{key:"handleDataDomainChanged",value:function(e,t,n){const{views:r}=this.state;if(r[e].initialXDomain=t,r[e].initialYDomain=n,this.xScales[e]=fi().domain(t),this.yScales[e]=fi().domain(n),this.zoomLocks[e]){const i=this.zoomLocks[e],o=fm(i);for(let e=0;e<o.length;e++){const i=o[e][0];i in this.locationLocks&&(r[i].initialXDomain=t,r[i].initialYDomain=n,this.xScales[i]=fi().domain(t),this.yScales[i]=fi().domain(n))}}this.setState({views:r})}},{key:"viewPositionAvailable",value:function(e,t,n,r){const i=e+n,o=t+r;if(e+n>12)return!1;const a=gm(this.state.views);for(let n=0;n<a.length;n++){const r=a[n].layout.x,s=a[n].layout.y,l=r+a[n].layout.w,c=s+a[n].layout.h;if(e<l&&i>r&&t<c&&o>s)return!1}return!0}},{key:"handleAddView",value:function(e){const t=gm(this.state.views),n=e,r=[];12===e.layout.w&&(e.layout.w=6);for(let n=0;n<t.length;n++){let i=t[n].layout.x+t[n].layout.w,o=t[n].layout.y;this.viewPositionAvailable(i,o,e.layout.w,e.layout.h)&&r.push([i,o]),i=t[n].layout.x,o=t[n].layout.y+t[n].layout.h,this.viewPositionAvailable(i,o,e.layout.w,e.layout.h)&&r.push([i,o])}r.sort(((e,t)=>{const n=e[1]-t[1];return 0===n?e[0]-t[0]:n}));const i=JSON.stringify(n),o=JSON.parse(i);o.initialXDomain=this.xScales[o.uid].domain(),o.initialYDomain=this.yScales[o.uid].domain(),[[o.layout.x,o.layout.y]]=r,o.uid=Ns.nice(),o.layout.i=o.uid,_g(o.tracks,(e=>{this.addCallbacks(o.uid,e)})),this.setState((e=>{const t=JSON.parse(JSON.stringify(e.views));return t[o.uid]=o,{views:t}}))}},{key:"handleSelectedAssemblyChanged",value:function(e,t,n,r){const{views:i}=this.state;i[e].genomePositionSearchBox.chromInfoId=t,i[e].genomePositionSearchBox.autocompleteId=n,i[e].genomePositionSearchBox.autocompleteServer=r}},{key:"createGenomePostionSearchBoxEntry",value:function(e,t){let n=e;const r={autocompleteServer:If,chromInfoServer:If,visible:!1};return n||(n=JSON.parse(JSON.stringify(r))),n.autocompleteServer||(n.autocompleteServer=r.autocompleteServer),n.chromInfoId||(n.chromInfoId=t),n.chromInfoServer||(n.chromInfoServer=r.chromInfoServer),n.visible||(n.visible=!1),n}},{key:"handleTogglePositionSearchBox",value:function(e){const t=this.state.views[e];t.genomePositionSearchBoxVisible=!t.genomePositionSearchBoxVisible;const n={};_g(t.tracks,(e=>{e.coordSystem&&(n[e.coordSystem]||(n[e.coordSystem]=0),n[e.coordSystem]+=1)}));const r=fm(n).sort(((e,t)=>t[1]-e[1]));let i="hg19";r.length&&(i=r[0][0]),t.genomePositionSearchBox=this.createGenomePostionSearchBoxEntry(t.genomePositionSearchBox,i),t.genomePositionSearchBox.visible=!t.genomePositionSearchBox.visible,this.refreshView(),this.setState({configMenuUid:null})}},{key:"handleTrackOptionsChanged",value:function(e,t,n){const r=this.state.views[e],i=vg(r.tracks,t);i&&(i.options=Object.assign(i.options,n),this.mounted&&(this.setState((e=>({views:e.views}))),this.adjustSplitHeatmapTrackOptions(i,n,r.tracks,e)))}},{key:"adjustSplitHeatmapTrackOptions",value:function(e,t,n,r){"heatmap"===e.type&&("upper-right"===t.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((n=>{if("heatmap"===n.type&&n.uid!==e.uid&&"lower-left"!==n.options.extent){const i={...n.options,extent:"lower-left",labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"},o={...t,labelPosition:"topRight",colorbarPosition:"topRight"};return this.handleTrackOptionsChanged(r,n.uid,i),this.handleTrackOptionsChanged(r,e.uid,o),!0}return!1})),"lower-left"===t.extent&&"lower-left"===t.extent&&"combined"===n.center[0].type&&n.center[0].contents.length>1&&n.center[0].contents.some((n=>{if("heatmap"===n.type&&n.uid!==e.uid&&"upper-right"!==n.options.extent){const i={...n.options,extent:"upper-right",labelPosition:"topRight",colorbarPosition:"topRight"},o={...t,labelPosition:"bottomLeft",colorbarPosition:"bottomLeft"};return this.handleTrackOptionsChanged(r,n.uid,i),this.handleTrackOptionsChanged(r,e.uid,o),!0}return!1})))}},{key:"handleViewOptionsChanged",value:function(e,t){const n=this.state.views[e];n&&(n.options=Object.assign(n.options||{},t),this.mounted&&this.setState((e=>({views:e.views}))))}},{key:"isTrackValid",value:function(e,t){return!("viewport-projection-center"===e.type&&!t.has(e.fromViewUid))}},{key:"removeInvalidTracks",value:function(e){const t=new Set(mm(e));for(const n of gm(e))for(const e of["left","top","center","right","bottom"])n.tracks&&n.tracks.hasOwnProperty(e)&&(n.tracks[e]=n.tracks[e].filter((e=>this.isTrackValid(e,t))),n.tracks[e].forEach((e=>{"combined"===e.type&&(e.contents=e.contents.filter((e=>this.isTrackValid(e,t))))})));return e}},{key:"processViewConfig",value:function(e){let{views:t}=e,n={};return e.views&&0!==e.views.length||(console.warn("No views provided in viewConfig"),t=[{editable:!0,tracks:{}}]),t.forEach((e=>{e.tracks&&vm(e.tracks),e.uid||(e.uid=Ns.nice()),n[e.uid]=e,this.zoomToDataExtentOnInit.has(e.uid)&&this.zoomToDataExtentOnInit.delete(e.uid),e.initialXDomain?(e.initialXDomain[0]=+e.initialXDomain[0],e.initialXDomain[1]=+e.initialXDomain[1]):(e.initialXDomain=[0,100],this.zoomToDataExtentOnInit.add(e.uid)),e.initialYDomain?(e.initialXDomain[0]=+e.initialXDomain[0],e.initialXDomain[1]=+e.initialXDomain[1]):e.initialYDomain=[e.initialXDomain[0],e.initialXDomain[1]],this.xScales[e.uid]||(this.xScales[e.uid]=fi().domain(e.initialXDomain)),this.yScales[e.uid]||(this.yScales[e.uid]=fi().domain(e.initialYDomain)),_g(e.tracks,(t=>{if(t.uid||(t.uid=Ns.nice()),this.addCallbacks(e.uid,t),this.addDefaultTrackOptions(t),t.contents)for(const e of t.contents)this.addDefaultTrackOptions(e)})),e.layout?e.layout.i=e.uid:e.layout=this.generateViewLayout(e)})),this.deserializeZoomLocks(e),this.deserializeLocationLocks(e),this.deserializeValueScaleLocks(e),n=this.removeInvalidTracks(n),n}},{key:"handleWindowFocused",value:function(){}},{key:"rangeSelectionHandler",value:function(e){this.rangeSelection=e,this.apiPublish("rangeSelection",e)}},{key:"offViewChange",value:function(e){this.viewChangeListener.splice(e,1)}},{key:"onViewChange",value:function(e){return this.viewChangeListener.push(e)-1}},{key:"triggerViewChange",value:function(){this.viewChangeListener.forEach((e=>e(this.getViewsAsString())))}},{key:"getGenomeLocation",value:function(e){return Zm.get(this.state.views[e].chromInfoPath).then((t=>nb(this.xScales[e],this.yScales[e],t)))}},{key:"offLocationChange",value:function(e,t){this.removeScalesChangedListener(e,t)}},{key:"zoomTo",value:function(e,t,n,r,i,o){if(!(e in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(Number.isNaN(+t)||Number.isNaN(+n)){const e=[t,n].join(", ");return void console.warn([`Invalid coordinates (${e}). All coordinates need to be numbers\n        and should represent absolute coordinates (not chromosome\n        coordinates).`].join(" "))}(Number.isNaN(+r)||Number.isNaN(+i)||null===r||null===i)&&(r=t,i=n);const[a,s,l]=tb(this.xScales[e].copy().domain([t,n]),this.yScales[e].copy().domain([r,i]));this.setCenters[e](a,s,l,!1,o)}},{key:"zoomToGene",value:function(e,t,n,r){if(!(e in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);this.state.views[e].genomePositionSearchBox&&this.state.views[e].genomePositionSearchBox.autocompleteServer&&this.state.views[e].genomePositionSearchBox.autocompleteId&&this.state.views[e].chromInfoPath?this.suggestGene(e,t,(i=>{if(i){const o=i.find((e=>e.geneName.toLowerCase()===t.toLowerCase()));if(o){const{chr:t,txStart:i,txEnd:a}=o;HW(this.state.views[e].chromInfoPath,(o=>{const s=o.chrToAbs([t,i])-n,l=o.chrToAbs([t,a])+n,[c,u,h]=tb(this.xScales[e].copy().domain([s,l]),this.yScales[e].copy().domain([s,l]));this.setCenters[e](c,u,h,!1,r)}),this.pubSub)}else console.warn(`Couldn't find the gene symbol: ${t}`)}})):console.warn("Please set chromInfoPath, autocompleteServer, and autocompleteId to use the zoomToGene API")}},{key:"suggestGene",value:function(e,t,n){if(!(e in this.setCenters))throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);if(!this.state.views[e].genomePositionSearchBox||!this.state.views[e].genomePositionSearchBox.autocompleteServer||!this.state.views[e].genomePositionSearchBox.autocompleteId)return void console.warn("Please set autocompleteServer and autocompleteId to use the suggestGene API");const r=`${this.state.views[e].genomePositionSearchBox.autocompleteServer}/suggest/?d=${this.state.views[e].genomePositionSearchBox.autocompleteId}&ac=${t.toLowerCase()}`;mg.json(r,lb,this.pubSub).then((e=>{n(e)})).catch((e=>console.error(e)))}},{key:"onLocationChange",value:function(e,t,n){const r=Object.keys(this.state.views);if(!r.length)return this.unsetOnLocationChange.push({viewId:e,callback:t,callbackId:n}),null;if(void 0===(e=void 0===e&&1===r.length?r[0]:e)||-1===r.indexOf(e))return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ",e),null;const i=this.state.views[e];let o=1;return this.scalesChangedListeners[i.uid]&&(o=Object.keys(this.scalesChangedListeners[i.uid]).filter((e=>0===e.indexOf(Cf))).map((e=>parseInt(e.slice(23),10))).reduce(((e,t)=>Math.max(e,t)),0)+1),this.addScalesChangedListener(i.uid,`${Cf}.${o}`,((e,n)=>{t({xDomain:e.domain(),yDomain:n.domain(),xRange:e.range(),yRange:n.range()})})),n&&n(`${Cf}.${o}`),o}},{key:"getTiledPlotAtPosition",value:function(e,t){let n;const r=gm(this.state.views);for(let i=0;i<r.length;i++){const o=this.tiledPlots[r[i].uid],a=this.tiledAreasDivs[r[i].uid].getBoundingClientRect(),{top:s,left:l}=a,c=s+a.height,u=l+a.width;if(e>=l&&e<=u&&t>=s&&t<=c){n=o;break}}return n}},{key:"mouseMoveHandler",value:function(e){if(!this.topDiv||this.state.modal)return;const t=e.clientX,n=e.clientY,r=Ge(e,this.topDiv);r[1]+=this.scrollTop;const i=this.getTiledPlotAtPosition(t,n),o=i?i.listTracksAtPosition(r[0],r[1],!0).map((e=>e.originalTrack||e)):[],a=o.find((e=>!e.isAugmentationTrack)),s=a?[r[0]-a.position[0],r[1]-a.position[1]]:r;let l=-1,c=-1;a&&(l=a.flipText?a._xScale.invert(s[1]):a._xScale.invert(s[0]),c=a.is2d?a._yScale.invert(s[1]):l);const u={x:r[0],y:r[1],relTrackX:a&&a.flipText?s[1]:s[0],relTrackY:a&&a.flipText?s[0]:s[1],dataX:l,dataY:c,isFrom2dTrack:!(!a||!a.is2d),isFromVerticalTrack:!(!a||!a.flipText),track:a,origEvt:e,sourceUid:this.uid,hoveredTracks:o,noHoveredTracks:0===o.length};if(this.pubSub.publish("app.mouseMove",u),this.isBroadcastMousePositionGlobally){const e={...u};e.origEvt=void 0,e.track=void 0,e.hoveredTracks=void 0,delete e.origEvt,delete e.track,delete e.hoveredTracks,vh.publish("higlass.mouseMove",e)}this.apiPublish("cursorLocation",{absX:t,absY:n,relX:u.x,relY:u.y,relTrackX:u.relTrackX,relTrackY:u.relTrackY,dataX:u.dataX,dataY:u.dataY,isFrom2dTrack:u.isFrom2dTrack,isFromVerticalTrack:u.isFromVerticalTrack}),this.showHoverMenu(u)}},{key:"getMinMaxValue",value:function(e,t,n,r){const i=yg(this.tiledPlots,e,t);if(i){if(i.minVisibleValueInTiles&&i.maxVisibleValueInTiles)return n&&i.getAggregatedVisibleValue?[i.getAggregatedVisibleValue("min"),i.getAggregatedVisibleValue("max")]:[i.minVisibleValueInTiles(r),i.maxVisibleValueInTiles(r)];console.warn(`Track ${t} doesn't support the retrieval of min or max values.`)}else console.warn(`Track with ID: ${t} not found!`)}},{key:"showHoverMenu",value:function(e){const t=e.track&&e.track.getMouseOverHtml?e.track.getMouseOverHtml(e.relTrackX,e.relTrackY):"";if(e.track!==this.prevMouseHoverTrack&&this.prevMouseHoverTrack&&this.prevMouseHoverTrack.stopHover&&this.prevMouseHoverTrack.stopHover(),this.prevMouseHoverTrack=e.track,this.zooming)return;const n=t&&t.length?[1]:[];let r=Be("body").selectAll(".track-mouseover-menu").data(n);r.exit().remove(),r.enter().append("div").classed("track-mouseover-menu",!0).classed(yoe,!0),r=Be("body").selectAll(".track-mouseover-menu");const i=Ge(e.origEvt,Be("body").node()),o=[i[0]-window.scrollX,i[1]-window.scrollY];if(r.style("left",`${o[0]}px`).style("top",`${o[1]}px`),!r.node())return;const a=r.node().getBoundingClientRect();a.x+a.width>window.innerWidth&&r.style("left",o[0]-a.width+"px"),a.y+a.height>window.innerHeight&&r.style("top",o[1]-a.height+"px"),r.html(t)}},{key:"hideHoverMenu",value:function(){Be("body").selectAll(".track-mouseover-menu").remove()}},{key:"closeCustomDialog",value:function(){this.setState((e=>({customDialog:null})))}},{key:"appClickHandler",value:function(e){this.apiPublish("click",e)}},{key:"canvasClickHandler",value:function(e){const t=e.nativeEvent||e,n=t.clientX,r=t.clientY,i=this.getTiledPlotAtPosition(n,r),o=Ge(t,this.topDiv);o[1]+=this.scrollTop;const a=i?i.listTracksAtPosition(o[0],o[1],!0).map((e=>e.originalTrack||e)):[],s=a.find((e=>!e.isAugmentationTrack)),l=s?[o[0]-s.position[0],o[1]-s.position[1]]:o,c=s&&s.flipText?l[1]:l[0],u=s&&s.flipText?l[0]:l[1];for(const e of this.iterateOverTracks()){const t=yg(this.tiledPlots,e.viewId,e.trackId);t.respondsToPosition(o[0],o[1])||t.clickOutside()}const h=[];for(const t of a)if(t.childTracks){for(const n of t.childTracks)h.push({trackUid:n.context.trackUid,viewUid:n.context.viewUid,trackType:n.context.trackType,data:n.click(c,u,e)});h.push({trackUid:t.context.trackUid,viewUid:t.context.viewUid,trackType:t.context.trackType,data:{type:"generic",event:e}})}else h.push({trackUid:t.context.trackUid,viewUid:t.context.viewUid,trackType:t.context.trackType,data:t.click(c,u,e)});const d=[];h.forEach(((e,t)=>{const n=yg(this.tiledPlots,e.viewUid,e.trackUid);if("function"==typeof n.clickDialog){const e=n.clickDialog();e&&d.push(e)}})),d.length>0&&this.setState((e=>({customDialog:d}))),this.pubSub.publish("app.click",h)}},{key:"mouseMoveZoomHandler",value:function(e){this.apiPublish("mouseMoveZoom",e)}},{key:"geneSearchHandler",value:function(e){this.apiPublish("geneSearch",e)}},{key:"mouseDownHandler",value:function(e){}},{key:"onScrollHandler",value:function(){this.props.options.sizeMode===Eoe&&(this.scrollTop=this.scrollContainer.scrollTop,this.pixiStage.y=-this.scrollTop,this.pubSub.publish("app.scroll",this.scrollTop),this.animate())}},{key:"setTrackValueScaleLimits",value:function(e,t,n,r){const i=yg(this.tiledPlots,e,t);i?i.setFixedValueScaleMin&&i.setFixedValueScaleMax?(i.setFixedValueScaleMin(n),i.setFixedValueScaleMax(r),i.rerender(i.options,!0),i.animate()):console.warn("Track doesn't support fixed value scales."):console.warn(`Could't find track: ${t}`)}},{key:"setChromInfo",value:function(e,t){HW(e,(e=>{this.chromInfo=e,t()}),this.pubSub)}},{key:"onMouseLeaveHandler",value:function(){this.pubSub.publish("app.mouseLeave"),this.hideHoverMenu(),this.animate()}},{key:"onBlurHandler",value:function(){this.animate()}},{key:"isZoomFixed",value:function(e){return this.props.zoomFixed||this.props.options.zoomFixed||this.state.viewConfig.zoomFixed||this.props.options.sizeMode===Eoe||e&&e.zoomFixed}},{key:"trackDimensionsModifiedHandler",value:function(e){const t=this.state.views[e.viewId];if(!t)return;const n=vg(t.tracks,e.trackId);n&&(void 0!==e.height&&(n.height=e.height),void 0!==e.width&&(n.width=e.width),this.adjustLayoutToTrackSizes(t),this.setState((e=>({views:e.views}))))}},{key:"wheelHandler",value:function(e){if(this.state.modal||this.props.options.sizeMode===Eoe)return;const t=e.nativeEvent||e,n=e.target===this.canvasElement;if(!Ag(t.target,this.topDiv))return;if(this.isZoomFixed())return;const r=t.clientX,i=t.clientY,o=this.getTiledPlotAtPosition(r,i);if(this.apiStack.wheel&&this.apiStack.wheel.length>0){const e=Ge(t,this.topDiv);e[1]+=this.scrollTop;const n=o?o.listTracksAtPosition(e[0],e[1],!0).map((e=>e.originalTrack||e)):[],r=n.find((e=>!e.isAugmentationTrack)),i=r?[e[0]-r.position[0],e[1]-r.position[1]]:e,a={x:e[0],y:e[1],relTrackX:r&&r.flipText?i[1]:i[0],relTrackY:r&&r.flipText?i[0]:i[1],track:r,origEvt:t,sourceUid:this.uid,hoveredTracks:n,noHoveredTracks:0===n.length};this.apiPublish("wheel",a)}if(t.forwarded||n)return e.stopPropagation(),void e.preventDefault();if(e.preventDefault(),o){const{trackRenderer:e}=o;t.forwarded=!0,t&&(_m(t,e.eventTracker),t.preventDefault())}}},{key:"render",value:function(){this.tiledAreasDivs={},this.tiledAreas=m.default.createElement("div",{className:voe}),this.mounted&&(this.tiledAreas=gm(this.state.views).map((e=>{const t=e.uid===this.state.addTrackPositionMenuUid?this.state.addTrackPositionMenuPosition:null;let n=null;if(this.state.chooseViewHandler){let t="transparent";this.state.mouseOverOverlayUid===e.uid&&(t="green"),n=m.default.createElement("div",{className:"tiled-plot-overlay",onClick:()=>this.state.chooseViewHandler(e.uid),onMouseEnter:()=>this.handleOverlayMouseEnter(e.uid),onMouseLeave:()=>this.handleOverlayMouseLeave(e.uid),onMouseMove:()=>this.handleOverlayMouseEnter(e.uid),style:{position:"absolute",width:"100%",height:"100%",background:t,opacity:.3,zIndex:1}})}const r=m.default.createElement(Pte,{key:`tp${e.uid}`,ref:t=>{this.tiledPlots[e.uid]=t},addTrackPosition:this.state.addTrackPositionView===e.uid?this.state.addTrackPosition:null,addTrackPositionMenuPosition:t,canvasElement:this.state.canvasElement,chooseTrackHandler:this.state.chooseTrackHandler?t=>this.state.chooseTrackHandler(e.uid,t):null,customDialog:this.state.customDialog,closeCustomDialog:()=>this.closeCustomDialog(),chromInfoPath:e.chromInfoPath,disableTrackMenu:this.isTrackMenuDisabled(),draggingHappening:null!==this.state.draggingHappening,editable:this.isEditable(),getLockGroupExtrema:t=>this.getLockGroupExtrema(e.uid,t),initialXDomain:e.initialXDomain,initialYDomain:e.initialYDomain,isShowGlobalMousePosition:this.isShowGlobalMousePosition,isValueScaleLocked:t=>this.isValueScaleLocked(e.uid,t),marginBottom:this.viewMarginBottom,marginLeft:this.viewMarginLeft,marginRight:this.viewMarginRight,marginTop:this.viewMarginTop,metaTracks:e.metaTracks,mouseTool:this.state.mouseTool,onChangeTrackData:(t,n)=>this.handleChangeTrackData(e.uid,t,n),onChangeTrackType:(t,n)=>this.handleChangeTrackType(e.uid,t,n),onCloseTrack:t=>this.handleCloseTrack(e.uid,t),onDataDomainChanged:(t,n)=>this.handleDataDomainChanged(e.uid,t,n),onLockValueScale:t=>this.handleLockValueScale(e.uid,t),onMouseMoveZoom:this.mouseMoveZoomHandler.bind(this),onNewTilesLoaded:t=>this.handleNewTilesLoaded(e.uid,t),onNoTrackAdded:this.handleNoTrackAdded.bind(this),onRangeSelection:this.rangeSelectionHandler.bind(this),onResizeTrack:this.triggerViewChangeDb,onScalesChanged:(t,n)=>this.handleScalesChanged(e.uid,t,n),onTrackOptionsChanged:(t,n)=>this.handleTrackOptionsChanged(e.uid,t,n),onTrackPositionChosen:this.handleTrackPositionChosen.bind(this),onTracksAdded:(t,n,r)=>this.handleTracksAdded(e.uid,t,n,r),onUnlockValueScale:t=>this.handleUnlockValueScale(e.uid,t),onValueScaleChanged:t=>this.syncValueScales(e.uid,t),overlays:e.overlays,paddingBottom:this.viewPaddingBottom,paddingLeft:this.viewPaddingLeft,paddingRight:this.viewPaddingRight,paddingTop:this.viewPaddingTop,pixiRenderer:this.pixiRenderer,pixiStage:this.pixiStage,pluginDataFetchers:this.pluginDataFetchers,pluginTracks:this.pluginTracks,rangeSelection1dSize:this.state.rangeSelection1dSize,rangeSelectionToInt:this.state.rangeSelectionToInt,registerDraggingChangedListener:t=>this.addDraggingChangedListener(e.uid,e.uid,t),removeDraggingChangedListener:t=>this.removeDraggingChangedListener(e.uid,e.uid,t),setCentersFunction:t=>{this.setCenters[e.uid]=t},svgElement:this.state.svgElement,tracks:e.tracks,trackSourceServers:this.state.viewConfig.trackSourceServers,uid:e.uid,verticalMargin:this.verticalMargin,viewOptions:e.options,xDomainLimits:e.xDomainLimits,yDomainLimits:e.yDomainLimits,zoomable:!this.isZoomFixed(e),zoomLimits:this.calculateZoomLimits(e,e.initialXDomain),zoomToDataExtentOnInit:()=>this.zoomToDataExtentOnInit.has(e.uid)}),i=!this.isEditable()||this.isViewHeaderDisabled()||this.state.viewConfig.hideHeader?null:m.default.createElement(Nne,{ref:t=>{this.viewHeaders[e.uid]=t},getGenomePositionSearchBox:(t,n)=>e.genomePositionSearchBox?m.default.createElement(bne,{key:`gpsb${e.uid}`,ref:t=>{this.genomePositionSearchBoxes[e.uid]=t},autocompleteId:e.genomePositionSearchBox.autocompleteId,autocompleteServer:e.genomePositionSearchBox.autocompleteServer,chromInfoId:e.genomePositionSearchBox.chromInfoId,chromInfoPath:e.genomePositionSearchBox.chromInfoPath,chromInfoServer:e.genomePositionSearchBox.chromInfoServer,hideAvailableAssemblies:e.genomePositionSearchBox.hideAvailableAssemblies,isFocused:t,onFocus:n,onGeneSearch:this.geneSearchHandler.bind(this),onSelectedAssemblyChanged:(t,n,r)=>this.handleSelectedAssemblyChanged(e.uid,t,n,r),registerViewportChangedListener:t=>this.addScalesChangedListener(e.uid,e.uid,t),removeViewportChangedListener:()=>this.removeScalesChangedListener(e.uid,e.uid),setCenters:(t,n,r,i)=>this.setCenters[e.uid](t,n,r,!1,i),trackSourceServers:this.state.viewConfig.trackSourceServers,twoD:!!(e.tracks.left.length||e.tracks.right.length||e.tracks.center.length)}):null,isGenomePositionSearchBoxVisible:e.genomePositionSearchBox&&e.genomePositionSearchBox.visible,mouseTool:this.state.mouseTool,onAddView:()=>this.handleAddView(e),onClearView:()=>this.handleClearView(e.uid),onCloseView:()=>this.handleCloseView(e.uid),onEditViewConfig:this.handleEditViewConfigBound,onExportPNG:this.handleExportPNG.bind(this),onExportSVG:this.handleExportSVG.bind(this),onExportViewsAsJSON:this.handleExportViewAsJSON.bind(this),onExportViewsAsLink:this.handleExportViewsAsLink.bind(this),onLockLocation:e=>this.handleYankFunction(e,this.handleLocationLockChosen.bind(this)),onLockZoom:e=>this.handleYankFunction(e,this.handleZoomLockChosen.bind(this)),onLockZoomAndLocation:e=>this.handleYankFunction(e,((e,t)=>{this.handleZoomLockChosen(e,t),this.handleLocationLockChosen(e,t)})),onProjectViewport:this.handleProjectViewport.bind(this),onTakeAndLockZoomAndLocation:e=>{this.handleYankFunction(e,((e,t)=>{this.handleZoomYanked(e,t),this.handleLocationYanked(e,t),this.handleZoomLockChosen(e,t),this.handleLocationLockChosen(e,t)}))},onTogglePositionSearchBox:this.handleTogglePositionSearchBox.bind(this),onTrackPositionChosen:t=>this.handleTrackPositionChosen(e.uid,t),onUnlockLocation:e=>this.handleUnlock(e,this.locationLocks),onUnlockZoom:e=>this.handleUnlock(e,this.zoomLocks),onUnlockZoomAndLocation:e=>{this.handleUnlock(e,this.zoomLocks),this.handleUnlock(e,this.locationLocks)},onViewOptionsChanged:t=>this.handleViewOptionsChanged(e.uid,t),onYankLocation:e=>this.handleYankFunction(e,this.handleLocationYanked.bind(this)),onYankZoom:e=>this.handleYankFunction(e,this.handleZoomYanked.bind(this)),onYankZoomAndLocation:e=>this.handleYankFunction(e,((e,t)=>{this.handleZoomYanked(e,t),this.handleLocationYanked(e,t)})),onZoomToData:e=>this.handleZoomToData(e),viewUid:e.uid});return m.default.createElement("div",{key:e.uid,ref:t=>{this.tiledAreasDivs[e.uid]=t},className:voe},i,r,n)})));let e=this.mounted?Object.values(this.state.views).filter((e=>e.layout)).map((e=>e.layout)):[];e=JSON.parse(JSON.stringify(e));const t=this.isEditable()?10:0,n=this.isEditable()?10:0,r=+this.props.options.containerPaddingX>=0?+this.props.options.containerPaddingX:t,i=+this.props.options.containerPaddingY>=0?+this.props.options.containerPaddingY:n,o=m.default.createElement(Ru,{ref:e=>{this.gridLayout=e},cols:12,containerPadding:[r,i],draggableHandle:`.${Mf["multitrack-header-grabber"]}`,isDraggable:this.isEditable(),isResizable:this.isEditable(),layout:e,margin:this.isEditable()?[10,10]:[0,0],measureBeforeMount:!1,onBreakpointChange:this.onBreakpointChange.bind(this),onDragStart:this.handleDragStart.bind(this),onDragStop:this.handleDragStop.bind(this),onLayoutChange:this.handleLayoutChange.bind(this),onResize:this.resizeHandler.bind(this),rowHeight:this.state.rowHeight,useCSSTransforms:this.mounted,verticalCompact:this.state.viewConfig.compactLayout,width:this.state.width},this.tiledAreas);return m.default.createElement("div",{key:this.uid,ref:e=>{this.topDiv=e},className:gl("higlass",{"higlass-dark-theme":this.theme===Pf,"higlass-container-overflow":this.props.options.sizeMode===_oe||this.props.options.sizeMode===Eoe}),onMouseLeave:this.onMouseLeaveHandlerBound,onMouseMove:this.mouseMoveHandlerBound},m.default.createElement(EH,{value:this.pubSub},m.default.createElement(J0,{value:this.modal},m.default.createElement(Jj,{value:this.theme},this.state.modal,m.default.createElement("canvas",{key:this.uid,ref:e=>{this.canvasElement=e},onClick:this.canvasClickHandlerBound,className:moe}),m.default.createElement("div",{ref:e=>{this.scrollContainer=e},className:gl("higlass-scroll-container",{"higlass-scroll-container-overflow":this.props.options.sizeMode===_oe,"higlass-scroll-container-scroll":this.props.options.sizeMode===Eoe}),onScroll:this.onScrollHandlerBound},m.default.createElement("div",{ref:e=>{this.divDrawingSurface=e},className:gl("higlass-drawing-surface",goe)},o),m.default.createElement("svg",{ref:e=>{this.svgElement=e},className:boe,style:{position:"absolute",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none"}}))))))}}]),n}(m.default.Component);xoe.defaultProps={options:{},zoomFixed:!1,compactLayout:!0},xoe.propTypes={getApi:S.exports.func,options:S.exports.object,viewConfig:S.exports.oneOfType([S.exports.string,S.exports.object]).isRequired,zoomFixed:S.exports.bool,compactLayout:S.exports.bool};const woe=xoe,Soe=(e,[t,n,r,i],o)=>{o.options.colorbarPosition||(o.options.colorbarPosition="hidden"),o.options.labelPosition||(o.options.labelPosition="hidden");const a="arbitary-id";return{id:a,hgApi:Coe(e,{editable:!1,zoomFixed:!1,views:[{uid:a,initialXDomain:[t,n],initialYDomain:[r,i],tracks:{center:[o]},layout:{w:12,h:12,x:0,y:0,moved:!1,static:!1}}]},{sizeMode:"bounded"})}};let Aoe=function(e){i(n,e);var t=o(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).id=`id-${Math.random()}`,r}return f(n,[{key:"componentDidMount",value:function(){this.initTrackViewer()}},{key:"shouldComponentUpdate",value:function(e){const{x:t,y:n,width:r,height:i}=e;return this.zoomTo(t,n,r,i),!1}},{key:"initTrackViewer",value:function(){const{trackConfig:e,x:t,y:n,width:r,height:i}=this.props,o=document.getElementById(this.id),{id:a,hgApi:s}=Soe(o,[t,t+r,n,n+i],e);this.viewUid=a,this.viewer=s}},{key:"zoomTo",value:function(e,t,n,r){this.viewer.zoomTo(this.viewUid,e,e+n,t,t+r)}},{key:"render",value:function(){return m.default.createElement("div",{id:this.id,style:{height:"100%",width:"100%"}})}}]),n}(m.default.Component);Aoe.propTypes={trackConfig:S.exports.object,width:S.exports.number,height:S.exports.number,x:S.exports.number,y:S.exports.number};const koe={SVGTrack:OY,TiledPixiTrack:tY,HorizontalGeneAnnotationsTrack:RW},Coe=(e,t,n)=>((e,t,n)=>{const r=m.default.createRef();return g.default.render(m.default.createElement(woe,{ref:r,options:n||{},viewConfig:t}),e),r.current})(e,t,n).api;t.ChromosomeInfo=HW,t.HiGlassComponent=woe,t.HiGlassTrackComponent=Aoe,t.getTrackObjectFromHGC=Sb,t.mountHGComponent=AU,t.schema=hoe,t.trackViewer=Soe,t.tracks=koe,t.version=W0,t.viewer=Coe,t.waitForJsonComplete=wU,t.waitForTilesLoaded=SU,t.waitForTransitionsFinished=xU,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}(t,n(6540),n(961),n(2859))},4146:(e,t,n)=>{"use strict";var r=n(4363),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=u(n);h&&(a=a.concat(h(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var b=a[g];if(!(o[b]||r&&r[b]||m&&m[b]||s&&s[b])){var v=d(n,b);try{c(t,b,v)}catch(e){}}}}return t}},251:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m}},6755:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t,n,i){void 0===n&&(n=!1),r(this,e),this._fn=t,this._once=n,this._thisArg=i,this._next=this._prev=this._owner=null}return n(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}();function o(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var a=function(){function e(){r(this,e),this._head=this._tail=void 0}return n(e,[{key:"handlers",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var n=[];t;)n.push(t),t=t._next;return n}},{key:"has",value:function(e){if(!(e instanceof i))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new i(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new i(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof i))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();a.MiniSignalBinding=i,t.default=a,e.exports=t.default},5228:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},8859:(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,b=String.prototype.match,v=String.prototype.slice,y=String.prototype.replace,T=String.prototype.toUpperCase,_=String.prototype.toLowerCase,E=RegExp.prototype.test,x=Array.prototype.concat,w=Array.prototype.join,S=Array.prototype.slice,A=Math.floor,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,O="function"==typeof Symbol&&"object"==typeof Symbol.iterator,D="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,P=Object.prototype.propertyIsEnumerable,N=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function R(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||E.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-A(-e):A(e);if(r!==e){var i=String(r),o=v.call(t,i.length+1);return y.call(i,n,"$&_")+"."+y.call(y.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(t,n,"$&_")}var M=n(2634),L=M.custom,B=G(L)?L:null;function F(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function U(e){return y.call(String(e),/"/g,"&quot;")}function j(e){return!("[object Array]"!==Y(e)||D&&"object"==typeof e&&D in e)}function H(e){return!("[object RegExp]"!==Y(e)||D&&"object"==typeof e&&D in e)}function G(e){if(O)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,i,s){var l=r||{};if(V(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!V(l,"customInspect")||l.customInspect;if("boolean"!=typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var T=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return X(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var E=String(t);return T?R(t,E):E}if("bigint"==typeof t){var A=String(t)+"n";return T?R(t,A):A}var C=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=C&&C>0&&"object"==typeof t)return j(t)?"[Array]":"[Object]";var L,z=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=w.call(Array(e.indent+1)," ")}return{base:n,prev:w.call(Array(t+1),n)}}(l,i);if(void 0===s)s=[];else if($(s,t)>=0)return"[Circular]";function W(t,n,r){if(n&&(s=S.call(s)).push(n),r){var o={depth:l.depth};return V(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,s)}return e(t,l,i+1,s)}if("function"==typeof t&&!H(t)){var ee=function(e){if(e.name)return e.name;var t=b.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),te=J(t,W);return"[Function"+(ee?": "+ee:" (anonymous)")+"]"+(te.length>0?" { "+w.call(te,", ")+" }":"")}if(G(t)){var ne=O?y.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(t);return"object"!=typeof t||O?ne:q(ne)}if((L=t)&&"object"==typeof L&&("undefined"!=typeof HTMLElement&&L instanceof HTMLElement||"string"==typeof L.nodeName&&"function"==typeof L.getAttribute)){for(var re="<"+_.call(String(t.nodeName)),ie=t.attributes||[],oe=0;oe<ie.length;oe++)re+=" "+ie[oe].name+"="+F(U(ie[oe].value),"double",l);return re+=">",t.childNodes&&t.childNodes.length&&(re+="..."),re+"</"+_.call(String(t.nodeName))+">"}if(j(t)){if(0===t.length)return"[]";var ae=J(t,W);return z&&!function(e){for(var t=0;t<e.length;t++)if($(e[t],"\n")>=0)return!1;return!0}(ae)?"["+Q(ae,z)+"]":"[ "+w.call(ae,", ")+" ]"}if(function(e){return!("[object Error]"!==Y(e)||D&&"object"==typeof e&&D in e)}(t)){var se=J(t,W);return"cause"in Error.prototype||!("cause"in t)||P.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+w.call(se,", ")+" }":"{ ["+String(t)+"] "+w.call(x.call("[cause]: "+W(t.cause),se),", ")+" }"}if("object"==typeof t&&m){if(B&&"function"==typeof t[B]&&M)return M(t,{depth:C-i});if("symbol"!==m&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var le=[];return a&&a.call(t,(function(e,n){le.push(W(n,t,!0)+" => "+W(e,t))})),Z("Map",o.call(t),le,z)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ce=[];return u&&u.call(t,(function(e){ce.push(W(e,t))})),Z("Set",c.call(t),ce,z)}if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return K("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return K("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return K("WeakRef");if(function(e){return!("[object Number]"!==Y(e)||D&&"object"==typeof e&&D in e)}(t))return q(W(Number(t)));if(function(e){if(!e||"object"!=typeof e||!k)return!1;try{return k.call(e),!0}catch(e){}return!1}(t))return q(W(k.call(t)));if(function(e){return!("[object Boolean]"!==Y(e)||D&&"object"==typeof e&&D in e)}(t))return q(f.call(t));if(function(e){return!("[object String]"!==Y(e)||D&&"object"==typeof e&&D in e)}(t))return q(W(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==n.g&&t===n.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==Y(e)||D&&"object"==typeof e&&D in e)}(t)&&!H(t)){var ue=J(t,W),he=N?N(t)===Object.prototype:t instanceof Object||t.constructor===Object,de=t instanceof Object?"":"null prototype",pe=!he&&D&&Object(t)===t&&D in t?v.call(Y(t),8,-1):de?"Object":"",fe=(he||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(pe||de?"["+w.call(x.call([],pe||[],de||[]),": ")+"] ":"");return 0===ue.length?fe+"{}":z?fe+"{"+Q(ue,z)+"}":fe+"{ "+w.call(ue,", ")+" }"}return String(t)};var z=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return z.call(e,t)}function Y(e){return m.call(e)}function $(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function X(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return X(v.call(e,0,t.maxStringLength),t)+r}return F(y.call(y.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,W),"single",t)}function W(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+T.call(t.toString(16))}function q(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function Z(e,t,n,r){return e+" ("+t+") {"+(r?Q(n,r):w.call(n,", "))+"}"}function Q(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+w.call(e,","+n)+"\n"+t.prev}function J(e,t){var n=j(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=V(e,i)?t(e[i],e):""}var o,a="function"==typeof C?C(e):[];if(O){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)V(e,l)&&(n&&String(Number(l))===l&&l<e.length||O&&o["$"+l]instanceof Symbol||(E.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof C)for(var c=0;c<a.length;c++)P.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},4678:e=>{"use strict";e.exports=(e,t={})=>{if(!e)return;const n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),i={};let o=14;for(;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(e,t,r){t&&(i[n.q.name][t]=r)})),i}},2859:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ALPHA_MODES:()=>x,AbstractBatchRenderer:()=>Nr,AbstractRenderer:()=>Sr,AccessibilityManager:()=>mt,AnimatedSprite:()=>Za,AppLoaderPlugin:()=>fi,Application:()=>jr,Attribute:()=>nn,BLEND_MODES:()=>m,BUFFER_BITS:()=>f,BasePrepare:()=>So,BaseRenderTexture:()=>qt,BaseTexture:()=>Mt,BatchDrawCall:()=>Or,BatchGeometry:()=>Mr,BatchPluginFactory:()=>Fr,BatchRenderer:()=>Ur,BatchShaderGenerator:()=>Rr,BatchTextureArray:()=>Dr,BitmapFont:()=>na,BitmapFontData:()=>qo,BitmapFontLoader:()=>aa,BitmapText:()=>oa,Bounds:()=>ot,Buffer:()=>on,CLEAR_MODES:()=>w,Circle:()=>ze,Container:()=>ht,CountLimiter:()=>bo,DEG_TO_RAD:()=>He,DRAW_MODES:()=>g,DisplayObject:()=>lt,ENV:()=>d,Ellipse:()=>Ve,Extract:()=>zr,FORMATS:()=>b,FillStyle:()=>xi,Filter:()=>tr,FilterState:()=>gn,Framebuffer:()=>Wt,GC_MODES:()=>S,GLFramebuffer:()=>En,GLProgram:()=>mr,GLTexture:()=>_r,GRAPHICS_CURVES:()=>Ei,Geometry:()=>hn,Graphics:()=>Ji,GraphicsData:()=>$i,GraphicsGeometry:()=>qi,IGLUniformData:()=>fr,InteractionData:()=>yt,InteractionEvent:()=>_t,InteractionManager:()=>At,InteractionTrackingData:()=>Et,LINE_CAP:()=>vi,LINE_JOIN:()=>bi,LineStyle:()=>Ki,Loader:()=>pi,LoaderResource:()=>ui,MASK_TYPES:()=>k,MIPMAP_MODES:()=>E,MSAA_QUALITY:()=>C,MaskData:()=>Cn,Matrix:()=>qe,Mesh:()=>Yo,MeshBatchUvs:()=>Go,MeshGeometry:()=>Xo,MeshMaterial:()=>$o,NineSlicePlane:()=>qa,ObjectRenderer:()=>vn,ObservablePoint:()=>We,PI_2:()=>Ue,PRECISION:()=>A,ParticleContainer:()=>yi,ParticleRenderer:()=>_i,PlaneGeometry:()=>Va,Point:()=>Xe,Polygon:()=>Ye,Prepare:()=>Io,Program:()=>Qn,Quad:()=>dn,QuadUv:()=>pn,RAD_TO_DEG:()=>je,RENDERER_TYPE:()=>p,Rectangle:()=>Ge,RenderTexture:()=>en,RenderTexturePool:()=>tn,Renderer:()=>Ar,RopeGeometry:()=>Ya,RoundedRectangle:()=>$e,Runner:()=>kt,SCALE_MODES:()=>T,SHAPES:()=>Fe,Shader:()=>Jn,SimpleMesh:()=>Wa,SimplePlane:()=>Xa,SimpleRope:()=>$a,Sprite:()=>ro,SpriteMaskFilter:()=>ir,Spritesheet:()=>Do,SpritesheetLoader:()=>Po,State:()=>er,System:()=>$t,TARGETS:()=>v,TEXT_GRADIENT:()=>Li,TYPES:()=>y,TemporaryDisplayObject:()=>ct,Text:()=>mo,TextMetrics:()=>ho,TextStyle:()=>so,Texture:()=>Qt,TextureLoader:()=>di,TextureMatrix:()=>rr,TextureUvs:()=>Kt,Ticker:()=>bt,TickerPlugin:()=>vt,TilingSprite:()=>Lo,TilingSpriteRenderer:()=>Uo,TimeLimiter:()=>Oo,Transform:()=>it,UPDATE_PRIORITY:()=>pt,UniformGroup:()=>mn,VERSION:()=>ns,ViewableBuffer:()=>Pr,WRAP_MODES:()=>_,accessibleTarget:()=>dt,autoDetectRenderer:()=>kr,checkMaxIfStatementsInShader:()=>qn,defaultFilterVertex:()=>Ir,defaultVertex:()=>Cr,filters:()=>rs,graphicsUtils:()=>Yi,groupD8:()=>rt,interactiveTarget:()=>wt,isMobile:()=>Y,resources:()=>Yt,settings:()=>$,systems:()=>xr,uniformParsers:()=>Vn,useDeprecated:()=>ts,utils:()=>r});var r={};n.r(r),n.d(r,{BaseTextureCache:()=>Ce,CanvasRenderTarget:()=>De,DATA_URI:()=>Re,EventEmitter:()=>W(),ProgramCache:()=>Ae,TextureCache:()=>ke,clearTextureCache:()=>Oe,correctBlendMode:()=>ce,createIndicesForQuads:()=>pe,decomposeDataUri:()=>Me,deprecation:()=>Se,destroyTextureCache:()=>Ie,determineCrossOrigin:()=>Le,earcut:()=>K(),getBufferType:()=>fe,getResolutionOfUrl:()=>Be,hex2rgb:()=>ie,hex2string:()=>oe,interleaveTypedArrays:()=>ge,isMobile:()=>Y,isPow2:()=>ve,isWebGLSupported:()=>re,log2:()=>ye,nextPow2:()=>be,premultiplyBlendMode:()=>le,premultiplyRgba:()=>ue,premultiplyTint:()=>he,premultiplyTintToRgba:()=>de,removeItems:()=>Te,rgb2hex:()=>se,sayHello:()=>ne,sign:()=>_e,skipHello:()=>te,string2hex:()=>ae,trimCanvas:()=>Pe,uid:()=>xe,url:()=>Z});var i=n(6354),o=n(5228),a=n.n(o);if(window.Promise||(window.Promise=i.Polyfill),Object.assign||(Object.assign=a()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var s=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-s}}for(var l=Date.now(),c=["ms","moz","webkit","o"],u=0;u<c.length&&!window.requestAnimationFrame;++u){var h=c[u];window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),n=16+l-t;return n<0&&(n=0),l=t,window.setTimeout((function(){l=Date.now(),e(performance.now())}),n)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var d,p,f,m,g,b,v,y,T,_,E,x,w,S,A,k,C,I=/iPhone/i,O=/iPod/i,D=/iPad/i,P=/\biOS-universal(?:.+)Mac\b/i,N=/\bAndroid(?:.+)Mobile\b/i,R=/Android/i,M=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,L=/Silk/i,B=/Windows Phone/i,F=/\bWindows(?:.+)ARM\b/i,U=/BlackBerry/i,j=/BB10/i,H=/Opera Mini/i,G=/\b(CriOS|Chrome)(?:.+)Mobile/i,z=/Mobile(?:.+)Firefox\b/i,V=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream},Y=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");void 0!==r[1]&&(n=r[0]),void 0!==(r=n.split("Twitter"))[1]&&(n=r[0]);var i=function(e){return function(t){return t.test(e)}}(n),o={apple:{phone:i(I)&&!i(B),ipod:i(O),tablet:!i(I)&&(i(D)||V(t))&&!i(B),universal:i(P),device:(i(I)||i(O)||i(D)||i(P)||V(t))&&!i(B)},amazon:{phone:i(M),tablet:!i(M)&&i(L),device:i(M)||i(L)},android:{phone:!i(B)&&i(M)||!i(B)&&i(N),tablet:!i(B)&&!i(M)&&!i(N)&&(i(L)||i(R)),device:!i(B)&&(i(M)||i(L)||i(N)||i(R))||i(/\bokhttp\b/i)},windows:{phone:i(B),tablet:i(F),device:i(B)||i(F)},other:{blackberry:i(U),blackberry10:i(j),opera:i(H),firefox:i(z),chrome:i(G),device:i(U)||i(j)||i(H)||i(z)||i(G)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(window.navigator),$={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(){var e,t=!0;(Y.tablet||Y.phone)&&(Y.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(t=!1),Y.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(t=!1));return t?32:4}(),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Y.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!Y.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},X=n(228),W=n.n(X),q=n(6570),K=n.n(q),Z=n(8835);!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(d||(d={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(p||(p={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(f||(f={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(m||(m={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(g||(g={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(b||(b={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(v||(v={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(y||(y={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(T||(T={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(_||(_={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"}(E||(E={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(x||(x={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(w||(w={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(S||(S={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(A||(A={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(k||(k={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(C||(C={})),$.RETINA_PREFIX=/@([0-9\.]+)x/,$.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var Q,J=!1,ee="5.3.12";function te(){J=!0}function ne(e){var t;if(!J){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=["\n %c %c %c PixiJS "+ee+" - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=window.console).log.apply(t,n)}else window.console&&window.console.log("PixiJS "+ee+" - "+e+" - http://www.pixijs.com/");J=!0}}function re(){return void 0===Q&&(Q=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:$.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch(e){return!1}}()),Q}function ie(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function oe(e){var t=e.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}function ae(e){return"string"==typeof e&&"#"===e[0]&&(e=e.substr(1)),parseInt(e,16)}function se(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)}var le=function(){for(var e=[],t=[],n=0;n<32;n++)e[n]=n,t[n]=n;e[m.NORMAL_NPM]=m.NORMAL,e[m.ADD_NPM]=m.ADD,e[m.SCREEN_NPM]=m.SCREEN,t[m.NORMAL]=m.NORMAL_NPM,t[m.ADD]=m.ADD_NPM,t[m.SCREEN]=m.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}();function ce(e,t){return le[t?1:0][e]}function ue(e,t,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t):(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=t,n}function he(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var n=e>>16&255,r=e>>8&255,i=255&e;return(255*t<<24)+((n=n*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+(i*t+.5|0)}function de(e,t,n,r){return(n=n||new Float32Array(4))[0]=(e>>16&255)/255,n[1]=(e>>8&255)/255,n[2]=(255&e)/255,(r||void 0===r)&&(n[0]*=t,n[1]*=t,n[2]*=t),n[3]=t,n}function pe(e,t){void 0===t&&(t=null);var n=6*e;if((t=t||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function fe(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var me={Float32Array,Uint32Array,Int32Array,Uint8Array};function ge(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;var a=new ArrayBuffer(4*n),s=null,l=0;for(o=0;o<e.length;o++){var c=t[o],u=e[o],h=fe(u);i[h]||(i[h]=new me[h](a)),s=i[h];for(var d=0;d<u.length;d++)s[(d/c|0)*r+l+d%c]=u[d];l+=c}return new Float32Array(a)}function be(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)}function ve(e){return!(e&e-1||!e)}function ye(e){var t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,t|=n=((e>>>=n)>15?1:0)<<2,(t|=n=((e>>>=n)>3?1:0)<<1)|(e>>>=n)>>1}function Te(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var o=i-(n=t+n>i?i-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}}function _e(e){return 0===e?0:e<0?-1:1}var Ee=0;function xe(){return++Ee}var we={};function Se(e,t,n){if(void 0===n&&(n=3),!we[t]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(r))),we[t]=!0}}var Ae={},ke=Object.create(null),Ce=Object.create(null);function Ie(){var e;for(e in ke)ke[e].destroy();for(e in Ce)Ce[e].destroy()}function Oe(){var e;for(e in ke)delete ke[e];for(e in Ce)delete Ce[e]}var De=function(){function e(e,t,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||$.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),e}();function Pe(e){var t,n,r,i=e.width,o=e.height,a=e.getContext("2d"),s=a.getImageData(0,0,i,o).data,l=s.length,c={top:null,left:null,right:null,bottom:null},u=null;for(t=0;t<l;t+=4)0!==s[t+3]&&(n=t/4%i,r=~~(t/4/i),null===c.top&&(c.top=r),(null===c.left||n<c.left)&&(c.left=n),(null===c.right||c.right<n)&&(c.right=n+1),(null===c.bottom||c.bottom<r)&&(c.bottom=r));return null!==c.top&&(i=c.right-c.left,o=c.bottom-c.top+1,u=a.getImageData(c.left,c.top,i,o)),{height:o,width:i,data:u}}var Ne,Re=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Me(e){var t=Re.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function Le(e,t){if(void 0===t&&(t=window.location),0===e.indexOf("data:"))return"";t=t||window.location,Ne||(Ne=document.createElement("a")),Ne.href=e;var n=(0,Z.parse)(Ne.href),r=!n.port&&""===t.port||n.port===t.port;return n.hostname===t.hostname&&r&&n.protocol===t.protocol?"":"anonymous"}function Be(e,t){var n=$.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):void 0!==t?t:1}var Fe,Ue=2*Math.PI,je=180/Math.PI,He=Math.PI/180;!function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"}(Fe||(Fe={}));var Ge=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r),this.type=Fe.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this},e}(),ze=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=e,this.y=t,this.radius=n,this.type=Fe.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-e,i=this.y-t;return(r*=r)+(i*=i)<=n},e.prototype.getBounds=function(){return new Ge(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}(),Ve=function(){function e(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=e,this.y=t,this.width=n,this.height=r,this.type=Fe.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,r=(t-this.y)/this.height;return(n*=n)+(r*=r)<=1},e.prototype.getBounds=function(){return new Ge(this.x-this.width,this.y-this.height,this.width,this.height)},e}(),Ye=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];var r=Array.isArray(t[0])?t[0]:t;if("number"!=typeof r[0]){for(var i=[],o=0,a=r.length;o<a;o++)i.push(r[o].x,r[o].y);r=i}this.points=r,this.type=Fe.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t},e.prototype.contains=function(e,t){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],l=this.points[2*o],c=this.points[2*o+1];s>t!=c>t&&e<(t-s)/(c-s)*(l-a)+a&&(n=!n)}return n},e}(),$e=function(){function e(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=20),this.x=e,this.y=t,this.width=n,this.height=r,this.radius=i,this.type=Fe.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),r=t-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=e-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=t-(this.y+this.height-this.radius))*r<=i)return!0;if((n=e-(this.x+this.radius))*n+r*r<=i)return!0}return!1},e}(),Xe=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e}(),We=function(){function e(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this._x=n,this._y=r,this.cb=e,this.scope=t}return e.prototype.clone=function(t,n){return void 0===t&&(t=this.cb),void 0===n&&(n=this.scope),new e(t,n,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),qe=function(){function e(e,t,n,r,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,n,r,i,o){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(e,t){t=t||new Xe;var n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new Xe;var n=1/(this.a*this.d+this.c*-this.b),r=e.x,i=e.y;return t.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,o=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=o*t-this.ty*n,this.ty=o*n+this.ty*t,this},e.prototype.append=function(e){var t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this},e.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return this.a=Math.cos(a+l)*i,this.b=Math.sin(a+l)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),a=Math.atan2(n,t),s=Math.abs(o+a);return s<1e-5||Math.abs(Ue-s)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=a),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(r*r+i*i),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,o=e*r-t*n;return this.a=r/o,this.b=-t/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(e*this.ty-t*i)/o,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),Ke=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ze=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Qe=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Je=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],et=[],tt=[],nt=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];et.push(t);for(var n=0;n<16;n++)for(var r=nt(Ke[e]*Ke[n]+Qe[e]*Ze[n]),i=nt(Ze[e]*Ke[n]+Je[e]*Ze[n]),o=nt(Ke[e]*Qe[n]+Qe[e]*Je[n]),a=nt(Ze[e]*Qe[n]+Je[e]*Je[n]),s=0;s<16;s++)if(Ke[s]===r&&Ze[s]===i&&Qe[s]===o&&Je[s]===a){t.push(s);break}}for(e=0;e<16;e++){var l=new qe;l.set(Ke[e],Ze[e],Qe[e],Je[e],0,0),tt.push(l)}}();var rt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return Ke[e]},uY:function(e){return Ze[e]},vX:function(e){return Qe[e]},vY:function(e){return Je[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return et[e][t]},sub:function(e,t){return et[e][rt.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?rt.S:rt.N:2*Math.abs(t)<=Math.abs(e)?e>0?rt.E:rt.W:t>0?e>0?rt.SE:rt.SW:e>0?rt.NE:rt.NW},matrixAppendRotationInv:function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=tt[rt.inv(t)];i.tx=n,i.ty=r,e.append(i)}},it=function(){function e(){this.worldTransform=new qe,this.localTransform=new qe,this.position=new We(this.onChange,this,0,0),this.scale=new We(this.onChange,this,1,1),this.pivot=new We(this.onChange,this,0,0),this.skew=new We(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,r=this.worldTransform;r.a=t.a*n.a+t.b*n.c,r.b=t.a*n.b+t.b*n.d,r.c=t.c*n.a+t.d*n.c,r.d=t.c*n.b+t.d*n.d,r.tx=t.tx*n.a+t.ty*n.c+n.tx,r.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();$.SORTABLE_CHILDREN=!1;var ot=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Ge.EMPTY:((e=e||new Ge(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=e[0],a=e[1];t=o<t?o:t,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[2])<t?o:t,n=(a=e[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[4])<t?o:t,n=(a=e[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,t=(o=e[6])<t?o:t,n=(a=e[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=t,this.minY=n,this.maxX=r,this.maxY=i},e.prototype.addFrame=function(e,t,n,r,i){this.addFrameMatrix(e.worldTransform,t,n,r,i)},e.prototype.addFrameMatrix=function(e,t,n,r,i){var o=e.a,a=e.b,s=e.c,l=e.d,c=e.tx,u=e.ty,h=this.minX,d=this.minY,p=this.maxX,f=this.maxY,m=o*t+s*n+c,g=a*t+l*n+u;h=m<h?m:h,d=g<d?g:d,p=m>p?m:p,f=g>f?g:f,h=(m=o*r+s*n+c)<h?m:h,d=(g=a*r+l*n+u)<d?g:d,p=m>p?m:p,f=g>f?g:f,h=(m=o*t+s*i+c)<h?m:h,d=(g=a*t+l*i+u)<d?g:d,p=m>p?m:p,f=g>f?g:f,h=(m=o*r+s*i+c)<h?m:h,d=(g=a*r+l*i+u)<d?g:d,p=m>p?m:p,f=g>f?g:f,this.minX=h,this.minY=d,this.maxX=p,this.maxY=f},e.prototype.addVertexData=function(e,t,n){for(var r=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=t;s<n;s+=2){var l=e[s],c=e[s+1];r=l<r?l:r,i=c<i?c:i,o=l>o?l:o,a=c>a?c:a}this.minX=r,this.minY=i,this.maxX=o,this.maxY=a},e.prototype.addVertices=function(e,t,n,r){this.addVerticesMatrix(e.worldTransform,t,n,r)},e.prototype.addVerticesMatrix=function(e,t,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=e.a,s=e.b,l=e.c,c=e.d,u=e.tx,h=e.ty,d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,g=n;g<r;g+=2){var b=t[g],v=t[g+1],y=a*b+l*v+u,T=c*v+s*b+h;d=Math.min(d,y-i),f=Math.max(f,y+i),p=Math.min(p,T-o),m=Math.max(m,T+o)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=m},e.prototype.addBounds=function(e){var t=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>i?e.maxY:i},e.prototype.addBoundsMask=function(e,t){var n=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>l?i:l,this.maxY=o>c?o:c}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var n=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,l=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>l?i:l,this.maxY=o>c?o:c}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,n,r,i,o){e-=i,t-=o,n+=i,r+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r},e}(),at=function(e,t){return at=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},at(e,t)};function st(e,t){function n(){this.constructor=e}at(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var lt=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new it,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new ot,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return st(t,e),t.mixin=function(e){for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t.prototype,i,Object.getOwnPropertyDescriptor(e,i))}},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Ge),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ge),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ot);var t=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=r,this._bounds.updateID+=this._boundsID-i,o},t.prototype.toGlobal=function(e,t,n){return void 0===n&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,n,r){return t&&(e=t.toGlobal(e,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,n,r,i,o,a,s,l){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new ct),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*je},set:function(e){this.transform.rotation=e*He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var t;this._mask&&((t=this._mask.maskObject||this._mask).renderable=!0,t.isMask=!1),this._mask=e,this._mask&&((t=this._mask.maskObject||this._mask).renderable=!1,t.isMask=!0)},enumerable:!1,configurable:!0}),t}(W()),ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return st(t,e),t}(lt);function ut(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}lt.prototype.displayObjectUpdateTransform=lt.prototype.updateTransform;var ht=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=$.SORTABLE_CHILDREN,t.sortDirty=!1,t}return st(t,e),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(t.length>1)for(var r=0;r<t.length;r++)this.addChild(t[r]);else{var i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e,this.onChildrenChange(n<r?n:r)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);Te(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];if(t.length>1)for(var r=0;r<t.length;r++)this.removeChild(t[r]);else{var i=t[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,Te(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Te(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var n,r=e,i=t-r;if(i>0&&i<=t){n=this.children.splice(r,i);for(var o=0;o<n.length;++o)n[o].parent=null,n[o].transform&&(n[o].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),o=0;o<n.length;++o)n[o].emit("removed",this),this.emit("childRemoved",n[o],this,o);return n}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,n=this.children.length;t<n;++t){var r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(ut),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var n=this.children[e];n.visible&&n.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var n=t._mask.maskObject||t._mask;n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,n){void 0===n&&(n=!1);var r=e.prototype.getLocalBounds.call(this,t);if(!n)for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){e.batch.flush();var t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}n&&e.mask.push(this,this._mask),this._render(e),r=0;for(var i=this.children.length;r<i;r++)this.children[r].render(e);e.batch.flush(),n&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),t}(lt);ht.prototype.containerUpdateTransform=ht.prototype.updateTransform;var dt={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};lt.mixin(dt);var pt,ft=100,mt=function(){function e(e){this._hookDiv=null,(Y.tablet||Y.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=ft+"px",t.style.height=ft+"px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessability for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,n=0;n<t.length;n++)this.updateAccessibleObjects(t[n])}},e.prototype.update=function(){var e=performance.now();if(!(Y.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),n=this.renderer.resolution,r=t.width/this.renderer.width*n,i=t.height/this.renderer.height*n,o=this.div;o.style.left=t.left+"px",o.style.top=t.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var s=this.children[a];if(s.renderId!==this.renderId)s._accessibleActive=!1,Te(this.children,a,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,a--;else{o=s._accessibleDiv;var l=s.hitArea,c=s.worldTransform;s.hitArea?(o.style.left=(c.tx+l.x*c.a)*r+"px",o.style.top=(c.ty+l.y*c.d)*i+"px",o.style.width=l.width*c.a*r+"px",o.style.height=l.height*c.d*i+"px"):(l=s.getBounds(),this.capHitArea(l),o.style.left=l.x*r+"px",o.style.top=l.y*i+"px",o.style.width=l.width*r+"px",o.style.height=l.height*i+"px",o.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(o.title=s.accessibleTitle),o.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&o.setAttribute("aria-label",s.accessibleHint)),s.accessibleTitle===o.title&&s.tabIndex===o.tabIndex||(o.title=s.accessibleTitle,o.tabIndex=s.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width=ft+"px",t.style.height=ft+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData),t.dispatchEvent(e.target.displayObject,"pointertap",t.eventData),t.dispatchEvent(e.target.displayObject,"tap",t.eventData)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},e.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();$.TARGET_FPMS=.06,function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"}(pt||(pt={}));var gt=function(){function e(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.fn=e,this.context=t,this.priority=n,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),bt=function(){function e(){var e=this;this._head=new gt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/$.TARGET_FPMS,this.elapsedMS=1/$.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,n){return void 0===n&&(n=pt.NORMAL),this._addListener(new gt(e,t,n))},e.prototype.addOnce=function(e,t,n){return void 0===n&&(n=pt.NORMAL),this._addListener(new gt(e,t,n,!0))},e.prototype._addListener=function(e){var t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var n=this._head.next;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*$.TARGET_FPMS;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,$.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),vt=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,pt.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?bt.shared:new bt,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e}(),yt=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Xe,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),Tt=function(e,t){return Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Tt(e,t)},_t=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),Et=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return!!(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return!!(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return!!(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),xt=function(){function e(){this._tempPoint=new Xe}return e.prototype.recursiveFindHit=function(e,t,n,r,i){if(!t||!t.visible)return!1;var o=e.data.global,a=!1,s=i=t.interactive||i,l=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(o,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,l=!1)),s=!1):t._mask&&r&&(t._mask.containsPoint&&t._mask.containsPoint(o)||(r=!1)),l&&t.interactiveChildren&&t.children)for(var c=t.children,u=c.length-1;u>=0;u--){var h=c[u],d=this.recursiveFindHit(e,h,n,r,s);if(d){if(!h.parent)continue;s=!1,d&&(e.target&&(r=!1),a=!0)}}return i&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(o)&&(a=!0),t.interactive&&(a&&!e.target&&(e.target=t),n&&n(e,t,!!a))),a},e.prototype.findHit=function(e,t,n,r){this.recursiveFindHit(e,t,n,r,!1)},e}(),wt={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};lt.mixin(wt);var St={target:null,data:{global:null}},At=function(e){function t(t,n){var r=e.call(this)||this;return n=n||{},r.renderer=t,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new yt,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new _t,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new xt,r._tempDisplayObject=new ct,r._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(e,t){function n(){this.constructor=e}Tt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,t){return St.target=null,St.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(St,t,null,!0),St.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(bt.system.add(this.tickerUpdate,this,pt.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(bt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(typeof t){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,n){n.stopPropagationHint&&e!==n.stopsPropagatingAt||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},t.prototype.delayDispatchEvent=function(e,t,n){this.delayedEvents.push({displayObject:e,eventString:t,eventData:n})},t.prototype.mapPositionToPoint=function(e,t,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*i,e.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},t.prototype.processInteractive=function(e,t,n,r){var i=this.search.findHit(e,t,n,r),o=this.delayedEvents;if(!o.length)return i;e.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var l=o[s],c=l.displayObject,u=l.eventString,h=l.eventData;h.stopsPropagatingAt===c&&(h.stopPropagationHint=!0),this.dispatchEvent(c,u,h)}return i},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,n){var r=e.data,i=e.data.identifier;if(n)if(t.trackedPointers[i]||(t.trackedPointers[i]=new Et(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===r.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,o?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,n){for(var r=this.normalizeToPointerData(e),i=r.length,o=e.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],l=this.getInteractionDataForPointerId(s),c=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(c.data.originalEvent=e,this.processInteractive(c,this.lastObjectRendered,n,t||!o),this.emit(t?"pointercancel":"pointerup"+o,c),"mouse"===s.pointerType||"pen"===s.pointerType){var u=2===s.button;this.emit(u?"rightup"+o:"mouseup"+o,c)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+o,c),this.releaseInteractionDataForPointerId(s.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var n=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,"pointercancel",e),"touch"===n.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,n){var r=e.data,i=e.data.identifier,o=t.trackedPointers[i],a="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(s){var c=2===r.button,u=Et.FLAGS,h=c?u.RIGHT_DOWN:u.LEFT_DOWN,d=void 0!==o&&o.flags&h;n?(this.dispatchEvent(t,c?"rightup":"mouseup",e),d&&(this.dispatchEvent(t,c?"rightclick":"click",e),l=!0)):d&&this.dispatchEvent(t,c?"rightupoutside":"mouseupoutside",e),o&&(c?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),o&&(s&&!l||this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),o.over=!1))):o&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[i]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this._didMove=!0,this.cursor=null);for(var n=t.length,r=0;r<n;r++){var i=t[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,n){var r=e.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(e,t,n),this.moveWhenInside&&!n||(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),o&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},t.prototype.processPointerOverOut=function(e,t,n){var r=e.data,i=e.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=t.trackedPointers[i];n&&!a&&(a=t.trackedPointers[i]=new Et(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(t,"pointerover",e),o&&this.delayDispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[i]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e)[0],n=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,n);r.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",r)},t.prototype.getInteractionDataForPointerId=function(e){var t,n=e.pointerId;return 1===n||"mouse"===e.pointerType?t=this.mouse:this.activeInteractionData[n]?t=this.activeInteractionData[n]:((t=this.interactionDataPool.pop()||new yt).identifier=n,this.activeInteractionData[n]=t),t.copyEvent(e),t},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,n){return e.data=n,this.mapPositionToPoint(n.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=n.global.x,t.globalY=n.global.y),n.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var n=0,r=e.changedTouches.length;n<r;n++){var i=e.changedTouches[n];void 0===i.button&&(i.button=e.touches.length?1:0),void 0===i.buttons&&(i.buttons=e.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else if(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent)t.push(e);else{var o=e;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,t.push(o)}return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(W()),kt=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,n,r,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var l=this.name,c=this.items;this._aliasCount++;for(var u=0,h=c.length;u<h;u++)c[u][l](e,t,n,r,i,o,a,s);return c===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(kt.prototype,{dispatch:{value:kt.prototype.emit},run:{value:kt.prototype.emit}}),$.PREFER_ENV=Y.any?d.WEBGL:d.WEBGL2,$.STRICT_TEXTURE_CACHE=!1;var Ct=[];function It(e,t){if(!e)return null;var n="";if("string"==typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(n=r[1].toLowerCase())}for(var i=Ct.length-1;i>=0;--i){var o=Ct[i];if(o.test&&o.test(e,n))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var Ot=function(e,t){return Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ot(e,t)};function Dt(e,t){function n(){this.constructor=e}Ot(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Pt=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new kt("setRealSize"),this.onUpdate=new kt("update"),this.onError=new kt("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),Nt=function(e){function t(t,n){var r=this,i=n||{},o=i.width,a=i.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(r=e.call(this,o,a)||this).data=t,r}return Dt(t,e),t.prototype.upload=function(e,t,n){var r=e.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===x.UNPACK),n.width===t.width&&n.height===t.height?r.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(n.width=t.width,n.height=t.height,r.texImage2D(t.target,0,n.internalFormat,t.width,t.height,0,t.format,n.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(Pt),Rt={scaleMode:T.NEAREST,format:b.RGBA,alphaMode:x.NPM},Mt=function(e){function t(t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=e.call(this)||this,i=(n=n||{}).alphaMode,o=n.mipmap,a=n.anisotropicLevel,s=n.scaleMode,l=n.width,c=n.height,u=n.wrapMode,h=n.format,d=n.type,p=n.target,f=n.resolution,m=n.resourceOptions;return!t||t instanceof Pt||((t=It(t,m)).internal=!0),r.width=l||0,r.height=c||0,r.resolution=f||$.RESOLUTION,r.mipmap=void 0!==o?o:$.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:$.ANISOTROPIC_LEVEL,r.wrapMode=u||$.WRAP_MODE,r.scaleMode=void 0!==s?s:$.SCALE_MODE,r.format=h||b.RGBA,r.type=d||y.UNSIGNED_BYTE,r.target=p||v.TEXTURE_2D,r.alphaMode=void 0!==i?i:x.UNPACK,void 0!==n.premultiplyAlpha&&(r.premultiplyAlpha=n.premultiplyAlpha),r.uid=xe(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=l>0&&c>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(t),r}return Dt(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=e,this.height=t,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(e,t,n){return this.resolution=n||this.resolution,this.width=e/this.resolution,this.height=t/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=ve(this.realWidth)&&ve(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=this.width*t/e,this.height=this.height*t/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ce[this.cacheId],delete ke[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,n,r){void 0===r&&(r=$.STRICT_TEXTURE_CACHE);var i="string"==typeof e,o=null;i?o=e:(e._pixiId||(e._pixiId="pixiid_"+xe()),o=e._pixiId);var a=Ce[o];if(i&&r&&!a)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return a||((a=new t(e,n)).cacheId=o,t.addToCache(a,o)),a},t.fromBuffer=function(e,n,r,i){e=e||new Float32Array(n*r*4);var o=new Nt(e,{width:n,height:r}),a=e instanceof Float32Array?y.FLOAT:y.UNSIGNED_BYTE;return new t(o,Object.assign(Rt,i||{width:n,height:r,type:a}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),Ce[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),Ce[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=Ce[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete Ce[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete Ce[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(W()),Lt=function(e){function t(t,n){var r=this,i=n||{},o=i.width,a=i.height;(r=e.call(this,o,a)||this).items=[],r.itemDirtyIds=[];for(var s=0;s<t;s++){var l=new Mt;r.items.push(l),r.itemDirtyIds.push(-2)}return r.length=t,r._load=null,r.baseTexture=null,r}return Dt(t,e),t.prototype.initFromArray=function(e,t){for(var n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Pt?this.addResourceAt(e[n],n):this.addResourceAt(It(e[n],t),n))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=t,this.items[n].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],n=t.realWidth,r=t.realHeight;return e.resize(n,r),Promise.resolve(e)})),this._load},t}(Pt),Bt=function(e){function t(t,n){var r,i,o=this,a=n||{},s=a.width,l=a.height;return Array.isArray(t)?(r=t,i=t.length):i=t,o=e.call(this,i,{width:s,height:l})||this,r&&o.initFromArray(r,n),o}return Dt(t,e),t.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=v.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,n){var r=this,i=r.length,o=r.itemDirtyIds,a=r.items,s=e.gl;n.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,t.format,this._width,this._height,i,0,t.format,t.type,null);for(var l=0;l<i;l++){var c=a[l];o[l]<c.dirtyId&&(o[l]=c.dirtyId,c.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,t.format,t.type,c.resource.source))}return!0},t}(Lt),Ft=function(e){function t(t){var n=this,r=t,i=r.naturalWidth||r.videoWidth||r.width,o=r.naturalHeight||r.videoHeight||r.height;return(n=e.call(this,i,o)||this).source=t,n.noSubImage=!1,n}return Dt(t,e),t.crossOrigin=function(e,t,n){void 0===n&&0!==t.indexOf("data:")?e.crossOrigin=Le(t):!1!==n&&(e.crossOrigin="string"==typeof n?n:"anonymous")},t.prototype.upload=function(e,t,n,r){var i=e.gl,o=t.realWidth,a=t.realHeight;return r=r||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===x.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||n.width!==o||n.height!==a?(n.width=o,n.height=a,i.texImage2D(t.target,0,t.format,t.format,t.type,r)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,t.type,r),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,n=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;this.resize(n,r),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Pt),Ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dt(t,e),t.test=function(e){var t=window.OffscreenCanvas;return!!(t&&e instanceof t)||e instanceof HTMLCanvasElement},t}(Ft),jt=function(e){function t(n,r){var i=this,o=r||{},a=o.width,s=o.height,l=o.autoLoad,c=o.linkBaseTexture;if(n&&n.length!==t.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");i=e.call(this,6,{width:a,height:s})||this;for(var u=0;u<t.SIDES;u++)i.items[u].target=v.TEXTURE_CUBE_MAP_POSITIVE_X+u;return i.linkBaseTexture=!1!==c,n&&i.initFromArray(n,r),!1!==l&&i.load(),i}return Dt(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=v.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=v.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,n,r){for(var i=this.itemDirtyIds,o=0;o<t.SIDES;o++){var a=this.items[o];i[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),i[o]=a.dirtyId):i[o]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,n.realWidth,n.realHeight,0,n.format,r.type,null),i[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(Lt),Ht=function(e){function t(t,n){var r=this;if(n=n||{},!(t instanceof HTMLImageElement)){var i=new Image;Ft.crossOrigin(i,t,n.crossorigin),i.src=t,t=i}return r=e.call(this,t)||this,!t.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=t.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==n.createBitmap?n.createBitmap:$.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,r.alphaMode="number"==typeof n.alphaMode?n.alphaMode:null,void 0!==n.premultiplyAlpha&&(r.premultiplyAlpha=n.premultiplyAlpha),r.bitmap=null,r._load=null,!1!==n.autoLoad&&r.load(),r}return Dt(t,e),t.prototype.load=function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,n){var r=t.source;t.url=r.src;var i=function(){t.destroyed||(r.onload=null,r.onerror=null,t.resize(r.width,r.height),t._load=null,t.createBitmap?e(t.process()):e(t))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(e){n(e),t.onError.emit(e)})}))),this._load},t.prototype.process=function(){var e=this,t=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(t,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===x.UNPACK?"premultiply":"none"}).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process):Promise.resolve(this)},t.prototype.upload=function(t,n,r){if("number"==typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,n,r,this.bitmap),!this.preserveBitmap){var i=!0,o=n._glTextures;for(var a in o){var s=o[a];if(s!==r&&s.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(Ft),Gt=function(e){function t(t,n){var r=this;return n=n||{},(r=e.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=t,r.scale=n.scale||1,r._overrideWidth=n.width,r._overrideHeight=n.height,r._resolve=null,r._crossorigin=n.crossorigin,r._load=null,!1!==n.autoLoad&&r.load(),r}return Dt(t,e),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise((function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}))),this._load},t.prototype._loadSvg=function(){var e=this,t=new Image;Ft.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(n){e._resolve&&(t.onerror=null,e.onError.emit(n))},t.onload=function(){if(e._resolve){var n=t.width,r=t.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*e.scale,o=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(i=e._overrideWidth||e._overrideHeight/r*n,o=e._overrideHeight||e._overrideWidth/n*r),i=Math.round(i),o=Math.round(o);var a=e.source;a.width=i,a.height=o,a._pixiId="canvas_"+xe(),a.getContext("2d").drawImage(t,0,0,n,r,0,0,i,o),e._resolve(),e._resolve=null}}},t.getSize=function(e){var n=t.SVG_SIZE.exec(e),r={};return n&&(r[n[1]]=Math.round(parseFloat(n[3])),r[n[5]]=Math.round(parseFloat(n[7]))),r},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,t){return"svg"===t||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&0===e.indexOf("<svg")},t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Ft),zt=function(e){function t(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof n&&(n=[n]);var a=n[0].src||n[0];Ft.crossOrigin(o,a,r.crossorigin);for(var s=0;s<n.length;++s){var l=document.createElement("source"),c=n[s],u=c.src,h=c.mime,d=(u=u||n[s]).split("?").shift().toLowerCase(),p=d.substr(d.lastIndexOf(".")+1);h=h||t.MIME_TYPES[p]||"video/"+p,l.src=u,l.type=h,o.appendChild(l)}n=o}return(i=e.call(this,n)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return Dt(t,e),t.prototype.update=function(t){if(void 0===t&&(t=0),!this.destroyed){var n=bt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){e.valid?n(e):(e._resolve=n,t.load())})),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(bt.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(bt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&bt.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(bt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(bt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,n){return e instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Ft),Vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dt(t,e),t.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},t}(Ft);Ct.push(Ht,Vt,Ut,zt,Gt,Nt,jt,Bt);var Yt={Resource:Pt,BaseImageResource:Ft,INSTALLED:Ct,autoDetectResource:It,AbstractMultiResource:Lt,ArrayResource:Bt,BufferResource:Nt,CanvasResource:Ut,CubeResource:jt,ImageResource:Ht,SVGResource:Gt,VideoResource:zt,ImageBitmapResource:Vt},$t=function(){function e(e){this.renderer=e}return e.prototype.destroy=function(){this.renderer=null},e}(),Xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dt(t,e),t.prototype.upload=function(e,t,n){var r=e.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===x.UNPACK),n.width===t.width&&n.height===t.height?r.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(n.width=t.width,n.height=t.height,r.texImage2D(t.target,0,1===e.context.webGLVersion?r.DEPTH_COMPONENT:r.DEPTH_COMPONENT16,t.width,t.height,0,t.format,t.type,this.data)),!0},t}(Nt),Wt=function(){function e(e,t){this.width=Math.ceil(e||100),this.height=Math.ceil(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new kt("disposeFramebuffer"),this.multisample=C.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new Mt(null,{scaleMode:T.NEAREST,resolution:1,mipmap:E.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Mt(new Xt(null,{width:this.width,height:this.height}),{scaleMode:T.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:E.OFF,format:b.DEPTH_COMPONENT,type:y.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.ceil(e),t=Math.ceil(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(e/i,t/i)}this.depthTexture&&(i=this.depthTexture.resolution,this.depthTexture.setSize(e/i,t/i))}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),qt=function(e){function t(t){var n=this;"number"==typeof t&&(t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),n=e.call(this,null,t)||this;var r=t||{},i=r.width,o=r.height;return n.mipmap=0,n.width=Math.ceil(i)||100,n.height=Math.ceil(o)||100,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Wt(n.width*n.resolution,n.height*n.resolution).addColorTexture(0,n),n.maskStack=[],n.filterStack=[{}],n}return Dt(t,e),t.prototype.resize=function(e,t){e=Math.ceil(e),t=Math.ceil(t),this.framebuffer.resize(e*this.resolution,t*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Mt),Kt=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,n){var r=t.width,i=t.height;if(n){var o=e.width/2/r,a=e.height/2/i,s=e.x/r+o,l=e.y/i+a;n=rt.add(n,rt.NW),this.x0=s+o*rt.uX(n),this.y0=l+a*rt.uY(n),n=rt.add(n,2),this.x1=s+o*rt.uX(n),this.y1=l+a*rt.uY(n),n=rt.add(n,2),this.x2=s+o*rt.uX(n),this.y2=l+a*rt.uY(n),n=rt.add(n,2),this.x3=s+o*rt.uX(n),this.y3=l+a*rt.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e}(),Zt=new Kt,Qt=function(e){function t(n,r,i,o,a,s){var l=e.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new Ge(0,0,1,1)),n instanceof t&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=o,l.valid=!1,l._uvs=Zt,l.uvMatrix=null,l.orig=i||r,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new Xe(s.x,s.y):new Xe(0,0),l._updateID=0,l.textureCacheIds=[],n.valid?l.noFrame?n.valid&&l.onBaseTextureUpdated(n):l.frame=r:n.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&n.on("update",l.onBaseTextureUpdated,l),l}return Dt(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture;n&&n.url&&ke[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===Zt&&(this._uvs=new Kt),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,n,r){void 0===n&&(n={}),void 0===r&&(r=$.STRICT_TEXTURE_CACHE);var i="string"==typeof e,o=null;i?o=e:(e._pixiId||(e._pixiId="pixiid_"+xe()),o=e._pixiId);var a=ke[o];if(i&&r&&!a)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return a||(n.resolution||(n.resolution=Be(e)),(a=new t(new Mt(e,n))).baseTexture.cacheId=o,Mt.addToCache(a.baseTexture,o),t.addToCache(a,o)),a},t.fromURL=function(e,n){var r=Object.assign({autoLoad:!1},null==n?void 0:n.resourceOptions),i=t.from(e,Object.assign({resourceOptions:r},n),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},t.fromBuffer=function(e,n,r,i){return new t(Mt.fromBuffer(e,n,r,i))},t.fromLoader=function(e,n,r){var i=new Ht(e);i.url=n;var o=new t(new Mt(i,{scaleMode:$.SCALE_MODE,resolution:Be(n)}));return r||(r=n),Mt.addToCache(o.baseTexture,r),t.addToCache(o,r),r!==n&&(Mt.addToCache(o.baseTexture,n),t.addToCache(o,n)),o},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),ke[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),ke[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=ke[e];if(t){var n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete ke[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)ke[e.textureCacheIds[r]]===e&&delete ke[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,n=e.y,r=e.width,i=e.height,o=t+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",l="X: "+t+" + "+r+" = "+(t+r)+" > "+this.baseTexture.width,c="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+c)}this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(W());function Jt(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Qt.EMPTY=new Qt(new Mt),Jt(Qt.EMPTY),Jt(Qt.EMPTY.baseTexture),Qt.WHITE=function(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Qt(new Mt(new Ut(e)))}(),Jt(Qt.WHITE),Jt(Qt.WHITE.baseTexture);var en=function(e){function t(t,n){var r=this,i=null;if(!(t instanceof qt)){var o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+a+") instead of the ctor directly."),i=arguments[0],n=null,t=new qt({width:o,height:a,scaleMode:s,resolution:l})}return(r=e.call(this,t,n)||this).legacyRenderer=i,r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return Dt(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,n){void 0===n&&(n=!0),e=Math.ceil(e),t=Math.ceil(t),this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,n&&this.baseTexture.resize(e,t),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new qt(e))},t}(Qt),tn=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t){var n=new qt(Object.assign({width:e,height:t,resolution:1},this.textureOptions));return new en(n)},e.prototype.getOptimalTexture=function(t,n,r){void 0===r&&(r=1);var i=e.SCREEN_KEY;t*=r,n*=r,this.enableFullScreen&&t===this._pixelsWidth&&n===this._pixelsHeight||(i=(65535&(t=be(t)))<<16|65535&(n=be(n))),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(t,n)),o.filterPoolKey=i,o.setResolution(r),o},e.prototype.getFilterTexture=function(e,t){var n=this.getOptimalTexture(e.width,e.height,t||e.resolution);return n.filterFrame=e.filterFrame,n},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var n=this.texturePool[t];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var n=e.SCREEN_KEY,r=this.texturePool[n];if(this.enableFullScreen=t.width>0&&t.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY="screen",e}(),nn=function(){function e(e,t,n,r,i,o,a){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=5126),this.buffer=e,this.size=t,this.normalized=n,this.type=r,this.stride=i,this.start=o,this.instance=a}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,n,r,i,o){return new e(t,n,r,i,o)},e}(),rn=0,on=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=rn++,this.disposeRunner=new kt("disposeBuffer")}return e.prototype.update=function(e){this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}();function an(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}var sn={Float32Array,Uint32Array,Int32Array,Uint8Array},ln={5126:4,5123:2,5121:1},cn=0,un={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},hn=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=cn++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new kt("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,n,r,i,o,a,s){if(void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof on||(t instanceof Array&&(t=new Float32Array(t)),t=new on(t));var l=e.split("|");if(l.length>1){for(var c=0;c<l.length;c++)this.addAttribute(l[c],t,n,r,i);return this}var u=this.buffers.indexOf(t);return-1===u&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new nn(u,n,r,i,o,a,s),this.instanced=this.instanced||s,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof on||(e instanceof Array&&(e=new Uint16Array(e)),e=new on(e)),e.index=!0,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],n=[],r=new on;for(e in this.attributes){var i=this.attributes[e],o=this.buffers[i.buffer];t.push(o.data),n.push(i.size*ln[i.type]/4),i.buffer=0}for(r.data=function(e,t){for(var n=0,r=0,i={},o=0;o<e.length;o++)r+=t[o],n+=e[o].length;var a=new ArrayBuffer(4*n),s=null,l=0;for(o=0;o<e.length;o++){var c=t[o],u=e[o],h=an(u);i[h]||(i[h]=new sn[h](a)),s=i[h];for(var d=0;d<u.length;d++)s[(d/c|0)*r+l+d%c]=u[d];l+=c}return new Float32Array(a)}(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,n=0;n<this.buffers.length;n++)t.buffers[n]=new on(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];t.attributes[n]=new nn(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},e.merge=function(t){for(var n,r=new e,i=[],o=[],a=[],s=0;s<t.length;s++){n=t[s];for(var l=0;l<n.buffers.length;l++)o[l]=o[l]||0,o[l]+=n.buffers[l].data.length,a[l]=0}for(s=0;s<n.buffers.length;s++)i[s]=new(un[an(n.buffers[s].data)])(o[s]),r.buffers[s]=new on(i[s]);for(s=0;s<t.length;s++)for(n=t[s],l=0;l<n.buffers.length;l++)i[l].set(n.buffers[l].data,a[l]),a[l]+=n.buffers[l].data.length;if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.index=!0;var c=0,u=0,h=0,d=0;for(s=0;s<n.buffers.length;s++)if(n.buffers[s]!==n.indexBuffer){d=s;break}for(var s in n.attributes){var p=n.attributes[s];(0|p.buffer)===d&&(u+=p.size*ln[p.type]/4)}for(s=0;s<t.length;s++){var f=t[s].indexBuffer.data;for(l=0;l<f.length;l++)r.indexBuffer.data[l+h]+=c;c+=n.buffers[d].data.length/u,h+=f.length}}return r},e}(),dn=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return Dt(t,e),t}(hn),pn=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new on(t.vertices),t.uvBuffer=new on(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return Dt(t,e),t.prototype.map=function(e,t){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+t.width/e.width,this.uvs[3]=r,this.uvs[4]=n+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=n,this.uvs[7]=r+t.height/e.height,n=t.x,r=t.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+t.width,this.vertices[3]=r,this.vertices[4]=n+t.width,this.vertices[5]=r+t.height,this.vertices[6]=n,this.vertices[7]=r+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(hn),fn=0,mn=function(){function e(e,t){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=fn++,this.static=!!t}return e.prototype.update=function(){this.dirtyId++},e.prototype.add=function(t,n,r){this.uniforms[t]=new e(n,r)},e.from=function(t,n){return new e(t,n)},e}(),gn=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Ge,this.destinationFrame=new Ge,this.filters=[]}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),bn=function(e){function t(t){var n=e.call(this,t)||this;return n.defaultFilterStack=[{}],n.texturePool=new tn,n.texturePool.setScreenSize(t.view),n.statePool=[],n.quad=new dn,n.quadUv=new pn,n.tempRect=new Ge,n.activeState={},n.globalUniforms=new mn({outputFrame:n.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),n.forceClear=!1,n.useMaxPadding=!1,n}return Dt(t,e),t.prototype.push=function(e,t){for(var n=this.renderer,r=this.defaultFilterStack,i=this.statePool.pop()||new gn,o=t[0].resolution,a=t[0].padding,s=t[0].autoFit,l=t[0].legacy,c=1;c<t.length;c++){var u=t[c];o=Math.min(o,u.resolution),a=this.useMaxPadding?Math.max(a,u.padding):a+u.padding,s=s&&u.autoFit,l=l||u.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=n.renderTexture.current),r.push(i),i.resolution=o,i.legacy=l,i.target=e,i.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),i.sourceFrame.pad(a),s&&i.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),i.sourceFrame.ceil(o),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,o),i.filters=t,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var h=this.tempRect;h.width=i.sourceFrame.width,h.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,n.renderTexture.bind(i.renderTexture,i.sourceFrame,h),n.renderTexture.clear()},t.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;var r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;var i=r.inputSize,o=r.inputPixel,a=r.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=i[0]*t.resolution,o[1]=i[1]*t.resolution,o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=t.sourceFrame.width*i[2]-.5*o[2],a[3]=t.sourceFrame.height*i[3]-.5*o[3],t.legacy){var s=r.filterArea;s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=t.sourceFrame.x,s[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(t.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,l.renderTexture,w.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var c=t.renderTexture,u=this.getOptimalFilterTexture(c.width,c.height,t.resolution);u.filterFrame=c.filterFrame;var h=0;for(h=0;h<n.length-1;++h){n[h].apply(this,c,u,w.CLEAR,t);var d=c;c=u,u=d}n[h].apply(this,c,l.renderTexture,w.BLEND,t),this.returnFilterTexture(c),this.returnFilterTexture(u)}t.clear(),this.statePool.push(t)},t.prototype.bindAndClear=function(e,t){if(void 0===t&&(t=w.CLEAR),e&&e.filterFrame){var n=this.tempRect;n.width=e.filterFrame.width,n.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,n)}else this.renderer.renderTexture.bind(e);"boolean"==typeof t&&(t=t?w.CLEAR:w.BLEND,Se("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(t===w.CLEAR||t===w.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},t.prototype.applyFilter=function(e,t,n,r){var i=this.renderer;this.bindAndClear(n,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.state.set(e.state),i.shader.bind(e),e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(g.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(g.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,t){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,o=t._texture.orig,a=e.set(i.width,0,0,i.height,r.x,r.y),s=t.worldTransform.copyTo(qe.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(t.anchor.x,t.anchor.y),a},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,t,n){return void 0===n&&(n=1),this.texturePool.getOptimalTexture(e,t,n)},t.prototype.getFilterTexture=function(e,t){if("number"==typeof e){var n=e;e=t,t=n}e=e||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution);return r.filterFrame=e.filterFrame,r},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t}($t),vn=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}(),yn=function(e){function t(t){var n=e.call(this,t)||this;return n.emptyRenderer=new vn(t),n.currentRenderer=n.emptyRenderer,n}return Dt(t,e),t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,t){for(var n=this.renderer.texture.boundTextures,r=t-1;r>=0;--r)e[r]=n[r]||null,e[r]&&(e[r]._batchLocation=r)},t.prototype.boundArray=function(e,t,n,r){for(var i=e.elements,o=e.ids,a=e.count,s=0,l=0;l<a;l++){var c=i[l],u=c._batchLocation;if(u>=0&&u<r&&t[u]===c)o[l]=u;else for(;s<r;){var h=t[s];if(!h||h._batchEnabled!==n||h._batchLocation!==s){o[l]=s,c._batchLocation=s,t[s]=c;break}s++}}},t}($t),Tn=0,_n=function(e){function t(t){var n=e.call(this,t)||this;return n.webGLVersion=1,n.extensions={},n.supports={uint32Indices:!1},n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),t.view.addEventListener("webglcontextlost",n.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n}return Dt(t,e),Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Tn++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Tn++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},t.prototype.createContext=function(e,t){var n;if($.PREFER_ENV>=d.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var t=e.getContextAttributes(),n="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;n&&(this.webGLVersion=2),t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}($t),En=function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=C.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},xn=new Ge,wn=function(e){function t(t){var n=e.call(this,t)||this;return n.managedFramebuffers=[],n.unknownFramebuffer=new Wt(10,10),n.msaaSamples=null,n}return Dt(t,e),t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ge,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;$.PREFER_ENV===d.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,t){var n=this.gl;if(e){var r=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==e.dirtyId&&(r.dirtyId=e.dirtyId,r.dirtyFormat!==e.dirtyFormat?(r.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):r.dirtySize!==e.dirtySize&&(r.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var i=0;i<e.colorTextures.length;i++){var o=e.colorTextures[i];this.renderer.texture.unbind(o.parentTextureArray||o)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,t,n,r){var i=this.viewport;i.width===n&&i.height===r&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=n,i.height=r,this.gl.viewport(e,t,n,r))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,t,n,r,i){void 0===i&&(i=f.COLOR|f.DEPTH);var o=this.gl;o.clearColor(e,t,n,r),o.clear(i)},t.prototype.initFramebuffer=function(e){var t=this.gl,n=new En(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));for(var r=e.colorTextures,i=0;i<r.length;i++)this.renderer.texture.bind(r[i],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e){var t=this.gl,n=e.glFramebuffers[this.CONTEXT_UID],r=e.colorTextures.length;t.drawBuffers||(r=Math.min(r,1)),n.multisample>1&&(n.msaaBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,t.RGBA8,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,n.msaaBuffer));for(var i=[],o=0;o<r;o++)if(!(0===o&&n.multisample>1)){var a=e.colorTextures[o],s=a.parentTextureArray||a;this.renderer.texture.bind(s,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+o,a.target,s._glTextures[this.CONTEXT_UID].texture,0),i.push(t.COLOR_ATTACHMENT0+o)}if(i.length>1&&t.drawBuffers(i),e.depthTexture&&this.writeDepthTexture){var l=e.depthTexture;this.renderer.texture.bind(l,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,0)}n.stencil||!e.stencil&&!e.depth||(n.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),e.depthTexture||t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,n.stencil))},t.prototype.detectSamples=function(e){var t=this.msaaSamples,n=C.NONE;if(e<=1||null===t)return n;for(var r=0;r<t.length;r++)if(t[r]<=e){n=t[r];break}return 1===n&&(n=C.NONE),n},t.prototype.blit=function(e,t,n){var r=this,i=r.current,o=r.renderer,a=r.gl,s=r.CONTEXT_UID;if(2===o.context.webGLVersion&&i){var l=i.glFramebuffers[s];if(l){if(!e){if(l.multisample<=1)return;l.blitFramebuffer||(l.blitFramebuffer=new Wt(i.width,i.height),l.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(e=l.blitFramebuffer).width=i.width,e.height=i.height}t||((t=xn).width=i.width,t.height=i.height),n||(n=t);var c=t.width===n.width&&t.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(t.x,t.y,t.width,t.height,n.x,n.y,n.width,n.height,a.COLOR_BUFFER_BIT,c?a.NEAREST:a.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,t){var n=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete e.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(n.framebuffer),n.stencil&&r.deleteRenderbuffer(n.stencil))}},t.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.enableStencil();var n=e.width,r=e.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),t.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ge},t}($t),Sn=function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},An={5126:4,5123:2,5121:1},kn=function(e){function t(t){var n=e.call(this,t)||this;return n._activeGeometry=null,n._activeVao=null,n.hasVao=!0,n.hasInstance=!0,n.canUseUInt32ElementIndex=!1,n.managedGeometries={},n.managedBuffers={},n}return Dt(t,e),t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;$.PREFER_ENV===d.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(e){return n.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return n.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=function(e,t){return r.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,n,i,o){return r.drawElementsInstancedANGLE(e,t,n,i,o)},e.drawArraysInstanced=function(e,t,n,i){return r.drawArraysInstancedANGLE(e,t,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},t.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var n=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var o=r[t.program.id]||this.initGeometryVao(e,t.program,i);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.gl,n=0;n<e.buffers.length;n++){var r=e.buffers[n],i=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==i.updateID){i.updateID=r._updateID;var o=r.index?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;if(t.bindBuffer(o,i.buffer),this._boundBuffer=i,i.byteLength>=r.data.byteLength)t.bufferSubData(o,0,r.data);else{var a=r.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=r.data.byteLength,t.bufferData(o,r.data,a)}}}},t.prototype.checkCompatibility=function(e,t){var n=e.attributes,r=t.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},t.prototype.getSignature=function(e,t){var n=e.attributes,r=t.attributeData,i=["g",e.id];for(var o in n)r[o]&&i.push(o);return i.join("-")},t.prototype.initGeometryVao=function(e,t,n){void 0===n&&(n=!0),this.checkCompatibility(e,t);var r=this.gl,i=this.CONTEXT_UID,o=this.getSignature(e,t),a=e.glVertexArrayObjects[this.CONTEXT_UID],s=a[o];if(s)return a[t.id]=s,s;var l=e.buffers,c=e.attributes,u={},h={};for(var d in l)u[d]=0,h[d]=0;for(var d in c)!c[d].size&&t.attributeData[d]?c[d].size=t.attributeData[d].size:c[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[c[d].buffer]+=c[d].size*An[c[d].type];for(var d in c){var p=c[d],f=p.size;void 0===p.stride&&(u[p.buffer]===f*An[p.type]?p.stride=0:p.stride=u[p.buffer]),void 0===p.start&&(p.start=h[p.buffer],h[p.buffer]+=f*An[p.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var m=0;m<l.length;m++){var g=l[m];g._glBuffers[i]||(g._glBuffers[i]=new Sn(r.createBuffer()),this.managedBuffers[g.id]=g,g.disposeRunner.add(this)),n&&g._glBuffers[i].refCount++}return this.activateVao(e,t),this._activeVao=s,a[t.id]=s,a[o]=s,s},t.prototype.disposeBuffer=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),n&&(t||r.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var n=e.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,i=e.buffers;if(e.disposeRunner.remove(this),n){for(var o=0;o<i.length;o++){var a=i[o]._glBuffers[this.CONTEXT_UID];a.refCount--,0!==a.refCount||t||this.disposeBuffer(i[o],t)}if(!t)for(var s in n)if("g"===s[0]){var l=n[s];this._activeVao===l&&this.unbind(),r.deleteVertexArray(l)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e);for(t=Object.keys(this.managedBuffers),n=0;n<t.length;n++)this.disposeBuffer(this.managedBuffers[t[n]],e)},t.prototype.activateVao=function(e,t){var n=this.gl,r=this.CONTEXT_UID,i=e.buffers,o=e.attributes;e.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[r].buffer);var a=null;for(var s in o){var l=o[s],c=i[l.buffer]._glBuffers[r];if(t.attributeData[s]){a!==c&&(n.bindBuffer(n.ARRAY_BUFFER,c.buffer),a=c);var u=t.attributeData[s].location;if(n.enableVertexAttribArray(u),n.vertexAttribPointer(u,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(u,1)}}}},t.prototype.draw=function(e,t,n,r){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(e,t||o.indexBuffer.data.length,s,(n||0)*a,r||1):i.drawElements(e,t||o.indexBuffer.data.length,s,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(e,n,t||o.getSize(),r||1):i.drawArrays(e,n,t||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t}($t),Cn=function(){function e(e){void 0===e&&(e=null),this.type=k.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=k.NONE,this.autoDetect=!0),this._target=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function In(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}function On(e,t,n,r){var i=In(e,e.VERTEX_SHADER,t),o=In(e,e.FRAGMENT_SHADER,n),a=e.createProgram();if(e.attachShader(a,i),e.attachShader(a,o),r)for(var s in r)e.bindAttribLocation(a,r[s],s);return e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||(console.warn(t),console.error(e.getShaderInfoLog(i))),e.getShaderParameter(o,e.COMPILE_STATUS)||(console.warn(n),console.error(e.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(a,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(a)),e.deleteProgram(a),a=null),e.deleteShader(i),e.deleteShader(o),a}function Dn(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t}function Pn(e,t){switch(e){case"float":case"int":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return Dn(2*t);case"bvec3":return Dn(3*t);case"bvec4":return Dn(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Nn,Rn={},Mn=Rn;function Ln(){if(Mn===Rn||Mn&&Mn.isContextLost()){var e=document.createElement("canvas"),t=void 0;$.PREFER_ENV>=d.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Mn=t}return Mn}function Bn(e,t,n){if("precision"!==e.substring(0,9)){var r=t;return t===A.HIGH&&n!==A.HIGH&&(r=A.MEDIUM),"precision "+r+" float;\n"+e}return n!==A.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var Fn={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Un(e){return Fn[e]}var jn=null,Hn={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Gn(e,t){if(!jn){var n=Object.keys(Hn);jn={};for(var r=0;r<n.length;++r){var i=n[r];jn[e[i]]=Hn[i]}}return jn[t]}var zn,Vn=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Yn={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},$n={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Xn=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Wn(e){for(var t="",n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == "+n+".0){}");return t}function qn(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=t.createShader(t.FRAGMENT_SHADER);;){var r=Xn.replace(/%forloop%/gi,Wn(e));if(t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}var Kn=0,Zn={},Qn=function(){function e(t,n,r){void 0===r&&(r="pixi-shader"),this.id=Kn++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Zn[r]?(Zn[r]++,r+="-"+Zn[r]):Zn[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=Bn(this.vertexSrc,$.PRECISION_VERTEX,A.HIGH),this.fragmentSrc=Bn(this.fragmentSrc,$.PRECISION_FRAGMENT,function(){if(!Nn){Nn=A.MEDIUM;var e=Ln();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Nn=t.precision?A.HIGH:A.MEDIUM}}return Nn}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return e.prototype.extractData=function(e,t){var n=Ln();if(n){var r=On(n,e,t);this.attributeData=this.getAttributeData(r,n),this.uniformData=this.getUniformData(r,n),n.deleteProgram(r)}else this.uniformData={},this.attributeData={}},e.prototype.getAttributeData=function(e,t){for(var n={},r=[],i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=t.getActiveAttrib(e,o),s=Gn(t,a.type),l={type:s,name:a.name,size:Un(s),location:0};n[a.name]=l,r.push(l)}for(r.sort((function(e,t){return e.name>t.name?1:-1})),o=0;o<r.length;o++)r[o].location=o;return n},e.prototype.getUniformData=function(e,t){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]$/,""),s=o.name.match(/\[.*?\]$/),l=Gn(t,o.type);n[a]={type:l,size:o.size,isArray:s,value:Pn(l,o.size)}}return n},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),e.from=function(t,n,r){var i=t+n,o=Ae[i];return o||(Ae[i]=o=new e(t,n,r)),o},e}(),Jn=function(){function e(e,t){for(var n in this.program=e,this.uniformGroup=t?t instanceof mn?t:new mn(t):new mn({}),e.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var n in t.uniforms){var r=t.uniforms[n];if(r.group&&this.checkUniformExists(e,r))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,n,r){return new e(Qn.from(t,n),r)},e}(),er=function(){function e(){this.data=0,this.blendMode=m.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==m.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),tr=function(e){function t(n,r,i){var o=this,a=Qn.from(n||t.defaultVertexSrc,r||t.defaultFragmentSrc);return(o=e.call(this,a,i)||this).padding=0,o.resolution=$.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new er,o}return Dt(t,e),t.prototype.apply=function(e,t,n,r,i){e.applyFilter(this,t,n,r)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(Jn),nr=new qe,rr=function(){function e(e,t){this._texture=e,this.mapCoord=new qe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var n=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],o=e[r+1];t[r]=i*n.a+o*n.c+n.tx,t[r+1]=i*n.b+o*n.d+n.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=t.orig,i=t.trim;i&&(nr.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(nr));var o=t.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(t._frame.x+s+l)/o.width,a[1]=(t._frame.y+s+l)/o.height,a[2]=(t._frame.x+t._frame.width-s+l)/o.width,a[3]=(t._frame.y+t._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0},e}(),ir=function(e){function t(t){var n=this,r=new qe;return n=e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,t.renderable=!1,n.maskSprite=t,n.maskMatrix=r,n}return Dt(t,e),t.prototype.apply=function(e,t,n,r){var i=this.maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new rr(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,n,r))},t}(tr),or=function(e){function t(t){var n=e.call(this,t)||this;return n.enableScissor=!1,n.alphaMaskPool=[],n.maskDataPool=[],n.maskStack=[],n.alphaMaskIndex=0,n}return Dt(t,e),t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,t){var n=t;if(!n.isMaskData){var r=this.maskDataPool.pop()||new Cn;r.pooled=!0,r.maskObject=t,n=r}switch(n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=e,n.type){case k.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case k.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case k.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n)}},t.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){switch(t.type){case k.SCISSOR:this.renderer.scissor.pop();break;case k.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case k.SPRITE:this.popSpriteMask()}t.reset(),t.pooled&&this.maskDataPool.push(t)}},t.prototype.detect=function(e){var t=e.maskObject;if(t.isSprite)e.type=k.SPRITE;else if(e.type=k.STENCIL,this.enableScissor&&t.isFastRect&&t.isFastRect()){var n=t.worldTransform,r=Math.atan2(n.b,n.a),i=Math.atan2(n.d,n.c);r=Math.round(r*(180/Math.PI)*100),i=((i=Math.round(i*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0==(r=(r%9e3+9e3)%9e3)&&9e3===i&&(e.type=k.SCISSOR)}},t.prototype.pushSpriteMask=function(e){var t=e.maskObject,n=e._target,r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new ir(t)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=t;var i=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,r),n.filterArea=i,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t}($t),ar=function(e){function t(t){var n=e.call(this,t)||this;return n.maskStack=[],n.glConst=0,n}return Dt(t,e),t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var t=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var r=this.getStackLength();r!==n&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.maskStack=null},t}($t),sr=function(e){function t(t){var n=e.call(this,t)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return Dt(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var n=e._scissorRect,r=t.getBounds(!0),i=this.renderer.gl;t.renderable=!1,n?r.fit(n):i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=r,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,n=this.renderer.projection,r=n.transform,i=n.sourceFrame,o=n.destinationFrame,a=t?t.resolution:this.renderer.resolution,s=(e.x-i.x)*a+o.x,l=(e.y-i.y)*a+o.y,c=e.width*a,u=e.height*a;r&&(s+=r.tx*a,l+=r.ty*a),t||(l=this.renderer.height-u-l),this.renderer.gl.scissor(s,l,c,u)},t}(ar),lr=function(e){function t(t){var n=e.call(this,t)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return Dt(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,n=this.renderer.gl,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),e._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,r,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(ar),cr=function(e){function t(t){var n=e.call(this,t)||this;return n.destinationFrame=null,n.sourceFrame=null,n.defaultFrame=null,n.projectionMatrix=new qe,n.transform=null,n}return Dt(t,e),t.prototype.update=function(e,t,n,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,t,n,r){var i=this.projectionMatrix,o=r?-1:1;i.identity(),i.a=1/t.width*2,i.d=o*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-o-t.y*i.d},t.prototype.setTransform=function(e){},t}($t),ur=new Ge,hr=new Ge,dr=new Ge,pr=function(e){function t(t){var n=e.call(this,t)||this;return n.clearColor=t._backgroundColorRgba,n.defaultMaskStack=[],n.current=null,n.sourceFrame=new Ge,n.destinationFrame=new Ge,n}return Dt(t,e),t.prototype.bind=function(e,t,n){void 0===e&&(e=null);var r,i,o,a=this.renderer;this.current=e,e?(o=(r=e.baseTexture).resolution,t||(ur.width=e.frame.width,ur.height=e.frame.height,t=ur),n||(hr.x=e.frame.x,hr.y=e.frame.y,hr.width=t.width,hr.height=t.height,n=hr),i=r.framebuffer):(o=a.resolution,t||(ur.width=a.screen.width,ur.height=a.screen.height,t=ur),n||((n=ur).width=t.width,n.height=t.height)),dr.x=n.x*o,dr.y=n.y*o,dr.width=n.width*o,dr.height=n.height*o,this.renderer.framebuffer.bind(i,dr),this.renderer.projection.update(n,t,o,!i),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t)},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}($t),fr=function(){},mr=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},e}(),gr=0,br={textureCount:0},vr=function(e){function t(t){var n=e.call(this,t)||this;return n.destroyed=!1,n.systemCheck(),n.gl=null,n.shader=null,n.program=null,n.cache={},n.id=gr++,n}return Dt(t,e),t.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof zn)return zn;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");zn=!0===e({a:"b"},"a","b")}catch(e){zn=!1}return zn}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),t||(br.textureCount=0,this.syncUniformGroup(e.uniformGroup,br)),r},t.prototype.setUniforms=function(e){var t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,t){var n=this.getglProgram();e.static&&e.dirtyId===n.uniformGroups[e.id]||(n.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))},t.prototype.syncUniforms=function(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData);return this.cache[t]||(this.cache[t]=function(e,t){var n=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in e.uniforms){var i=t[r];if(i){for(var o=e.uniforms[r],a=!1,s=0;s<Vn.length;s++)if(Vn[s].test(i,o)){n.push(Vn[s].code(r,o)),a=!0;break}if(!a){var l=(1===i.size?Yn:$n)[i.type].replace("location",'ud["'+r+'"].location');n.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+l+";")}}else e.uniforms[r].group&&n.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(e,t){var n=e.uniforms,r=[];for(var i in n)r.push(i),t[i]&&r.push(t[i].type);return r.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(e){var t=this.gl,n=e.program,r={};for(var i in n.attributeData)r[i]=n.attributeData[i].location;var o=On(t,n.vertexSrc,n.fragmentSrc,r),a={};for(var i in n.uniformData){var s=n.uniformData[i];a[i]={location:t.getUniformLocation(o,i),value:Pn(s.type,s.size)}}var l=new mr(o,a);return n.glPrograms[this.renderer.CONTEXT_UID]=l,l},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}($t),yr=function(e){function t(t){var n=e.call(this,t)||this;return n.gl=null,n.stateId=0,n.polygonOffset=0,n.blendMode=m.NONE,n._blendEq=!1,n.map=[],n.map[0]=n.setBlend,n.map[1]=n.setOffset,n.map[2]=n.setCullFace,n.map[3]=n.setDepthTest,n.map[4]=n.setFrontFace,n.checks=[],n.defaultState=new er,n.defaultState.blend=!0,n}return Dt(t,e),t.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(e,t){return void 0===t&&(t=[]),t[m.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.ADD]=[e.ONE,e.ONE],t[m.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.NONE]=[0,0],t[m.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[m.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[m.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[m.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[m.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[m.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[m.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[m.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[m.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[m.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[m.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,n=0;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,t){var n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)},t.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},t.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},t}($t),Tr=function(e){function t(t){var n=e.call(this,t)||this;return n.count=0,n.checkCount=0,n.maxIdle=$.GC_MAX_IDLE,n.checkCountMax=$.GC_MAX_CHECK_COUNT,n.mode=$.GC_MODE,n}return Dt(t,e),t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==S.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,n=!1,r=0;r<t.length;r++){var i=t[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,n=!0)}if(n){var o=0;for(r=0;r<t.length;r++)null!==t[r]&&(t[o++]=t[r]);t.length=o}},t.prototype.unload=function(e){var t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(var r=e.children.length-1;r>=0;r--)this.unload(e.children[r])},t}($t),_r=function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Er=function(e){function t(t){var n=e.call(this,t)||this;return n.boundTextures=[],n.currentLocation=-1,n.managedTextures=[],n._unknownBoundTextures=!1,n.unknownTexture=new Mt,n}return Dt(t,e),t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var n=0;n<t;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new _r(e.createTexture());for(e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new _r(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture),n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);for(e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,t){void 0===t&&(t=0);var n=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var t=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<n.length;r++)n[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[r]=null)},t.prototype.initTexture=function(e){var t=new _r(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},t.prototype.initTextureType=function(e,t){if(t.internalFormat=e.format,t.type=e.type,2===this.webGLVersion){var n=this.renderer.gl;e.type===n.FLOAT&&e.format===n.RGBA&&(t.internalFormat=n.RGBA32F),e.type===y.HALF_FLOAT&&(t.type=n.HALF_FLOAT),t.type===n.HALF_FLOAT&&e.format===n.RGBA&&(t.internalFormat=n.RGBA16F)}},t.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var n=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(n,e,t));else{var r=e.realWidth,i=e.realHeight,o=n.gl;(t.width!==r||t.height!==i||t.dirtyId<0)&&(t.width=r,t.height=i,o.texImage2D(e.target,0,t.internalFormat,r,i,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,t){var n=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&Te(this.managedTextures,r,1)}},t.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==E.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=_.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,t){var n=this.gl;if(t.mipmap&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===T.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===T.LINEAR){var i=Math.min(e.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===T.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===T.LINEAR?n.LINEAR:n.NEAREST)},t}($t),xr={FilterSystem:bn,BatchSystem:yn,ContextSystem:_n,FramebufferSystem:wn,GeometrySystem:kn,MaskSystem:or,ScissorSystem:sr,StencilSystem:lr,ProjectionSystem:cr,RenderTextureSystem:pr,ShaderSystem:vr,StateSystem:yr,TextureGCSystem:Tr,TextureSystem:Er},wr=new qe,Sr=function(e){function t(t,n){void 0===t&&(t=p.UNKNOWN);var r=e.call(this)||this;return(n=Object.assign({},$.RENDER_OPTIONS,n)).roundPixels&&($.ROUND_PIXELS=n.roundPixels,Se("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),r.options=n,r.type=t,r.screen=new Ge(0,0,n.width,n.height),r.view=n.view||document.createElement("canvas"),r.resolution=n.resolution||$.RESOLUTION,r.transparent=n.transparent,r.autoDensity=n.autoDensity||n.autoResize||!1,r.preserveDrawingBuffer=n.preserveDrawingBuffer,r.clearBeforeRender=n.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,0],r._backgroundColorString="#000000",r.backgroundColor=n.backgroundColor||r._backgroundColor,r._lastObjectRendered=null,r.plugins={},r}return Dt(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=t+"px"),this.emit("resize",e,t)},t.prototype.generateTexture=function(e,t,n,r){0===(r=r||e.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var i=en.create({width:0|r.width,height:0|r.height,scaleMode:t,resolution:n});return wr.tx=-r.x,wr.ty=-r.y,this.render(e,i,!1,wr,!!e.parent),i},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var n=this;n.plugins=null,n.type=p.UNKNOWN,n.view=null,n.screen=null,n._tempDisplayObjectParent=null,n.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=oe(e),ie(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),t}(W()),Ar=function(e){function t(n){var r=e.call(this,p.WEBGL,n)||this;return n=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new kt("destroy"),contextChange:new kt("contextChange"),reset:new kt("reset"),update:new kt("update"),postrender:new kt("postrender"),prerender:new kt("prerender"),resize:new kt("resize")},r.globalUniforms=new mn({projectionMatrix:new qe},!0),r.addSystem(or,"mask").addSystem(_n,"context").addSystem(yr,"state").addSystem(vr,"shader").addSystem(Er,"texture").addSystem(kn,"geometry").addSystem(wn,"framebuffer").addSystem(sr,"scissor").addSystem(lr,"stencil").addSystem(cr,"projection").addSystem(Tr,"textureGC").addSystem(bn,"filter").addSystem(pr,"renderTexture").addSystem(yn,"batch"),r.initPlugins(t.__plugins),n.context?r.context.initFromContext(n.context):r.context.initFromOptions({alpha:!!r.transparent,antialias:n.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,ne(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return Dt(t,e),t.create=function(e){if(re())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.addSystem=function(e,t){t||(t=e.name);var n=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var r in this[t]=n,this.runners)this.runners[r].add(n);return this},t.prototype.render=function(e,t,n,r,i){if(this.renderingToScreen=!t,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(t||(this._lastObjectRendered=e),!i){var o=e.enableTempParent();e.updateTransform(),e.disableTempParent(o)}this.renderTexture.bind(t),this.batch.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),t&&t.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(t,n){e.prototype.resize.call(this,t,n),this.runners.resize.emit(t,n)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(t){for(var n in this.runners.destroy.emit(),this.runners)this.runners[n].destroy();e.prototype.destroy.call(this,t),this.gl=null},t.registerPlugin=function(e,n){t.__plugins=t.__plugins||{},t.__plugins[e]=n},t}(Sr);function kr(e){return Ar.create(e)}var Cr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Ir="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Or=function(){this.texArray=null,this.blend=0,this.type=g.TRIANGLES,this.start=0,this.size=0,this.data=null},Dr=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),Pr=function(){function e(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}(),Nr=function(e){function t(t){var n=e.call(this,t)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=er.for2d(),n.size=4*$.SPRITE_BATCH_SIZE,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),t.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return Dt(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;$.PREFER_ENV===d.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),$.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=qn(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,n=t._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new Or);for(;n.length<i;)n.push(new Dr);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,n=this.MAX_TEXTURES,r=t._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++Mt._globalBatch,l=0,c=r[0],u=0;i.copyBoundTextures(o,n);for(var h=0;h<this._bufferSize;++h){var d=e[h];e[h]=null,d._batchEnabled!==s&&(c.count>=n&&(i.boundArray(c,o,s,n),this.buildDrawCalls(c,u,h),u=h,c=r[++l],++s),d._batchEnabled=s,d.touched=a,c.elements[c.count++]=d)}for(c.count>0&&(i.boundArray(c,o,s,n),this.buildDrawCalls(c,u,this._bufferSize),++l,++s),h=0;h<o.length;h++)o[h]=null;Mt._globalBatch=s},t.prototype.buildDrawCalls=function(e,n,r){var i=this,o=i._bufferedElements,a=i._attributeBuffer,s=i._indexBuffer,l=i.vertexSize,c=t._drawCallPool,u=this._dcIndex,h=this._aIndex,d=this._iIndex,p=c[u];p.start=this._iIndex,p.texArray=e;for(var f=n;f<r;++f){var m=o[f],g=m._texture.baseTexture,b=le[g.alphaMode?1:0][m.blendMode];o[f]=null,n<f&&p.blend!==b&&(p.size=d-p.start,n=f,(p=c[++u]).texArray=e,p.start=d),this.packInterleavedGeometry(m,a,s,h,d),h+=m.vertexData.length/2*l,d+=m.indices.length,p.blend=b}n<r&&(p.size=d-p.start,++u),this._dcIndex=u,this._aIndex=h,this._iIndex=d},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,n=e._attributeBuffer,r=e._indexBuffer;$.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,r=n.gl,i=n.state,o=t._drawCallPool,a=null,s=0;s<e;s++){var l=o[s],c=l.texArray,u=l.type,h=l.size,d=l.start,p=l.blend;a!==c&&(a=c,this.bindAndClearTexArray(c)),this.state.blendMode=p,i.set(this.state),r.drawElements(u,h,r.UNSIGNED_SHORT,2*d)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),$.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=be(Math.ceil(e/8)),n=ye(t),r=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new Pr(r*this.vertexSize*4)),i},t.prototype.getIndexBuffer=function(e){var t=be(Math.ceil(e/12)),n=ye(t),r=12*t;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i},t.prototype.packInterleavedGeometry=function(e,t,n,r,i){for(var o=t.uint32View,a=t.float32View,s=r/this.vertexSize,l=e.uvs,c=e.indices,u=e.vertexData,h=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),p=d<1&&e._texture.baseTexture.alphaMode?he(e._tintRGB,d):e._tintRGB+(255*d<<24),f=0;f<u.length;f+=2)a[r++]=u[f],a[r++]=u[f+1],a[r++]=l[f],a[r++]=l[f+1],o[r++]=p,a[r++]=h;for(f=0;f<c.length;f++)n[i++]=s+c[f]},t._drawCallPool=[],t._textureArrayPool=[],t}(vn),Rr=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=mn.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Qn(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new qe,default:this.defaultGroupCache[e]};return new Jn(this.programCache[e],i)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var n=0;n<e;n++)n>0&&(t+="\nelse "),n<e-1&&(t+="if(vTextureId < "+n+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",t+="\n}";return(t+="\n")+"\n"},e}(),Mr=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n._buffer=new on(null,t,!1),n._indexBuffer=new on(null,t,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,y.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,y.FLOAT).addAttribute("aColor",n._buffer,4,!0,y.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,y.FLOAT).addIndex(n._indexBuffer),n}return Dt(t,e),t}(hn),Lr="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Br="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Fr=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:Lr,fragment:Br,geometryClass:Mr,vertexSize:6},e),n=t.vertex,r=t.fragment,i=t.vertexSize,o=t.geometryClass;return function(e){function t(t){var a=e.call(this,t)||this;return a.shaderGenerator=new Rr(n,r),a.geometryClass=o,a.vertexSize=i,a}return Dt(t,e),t}(Nr)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Lr},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return Br},enumerable:!1,configurable:!0}),e}(),Ur=Fr.create(),jr=function(){function e(t){var n=this;t=Object.assign({forceCanvas:!1},t),this.renderer=kr(t),this.stage=new ht,e._plugins.forEach((function(e){e.init.call(n,t)}))}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,n){var r=this,i=e._plugins.slice(0);i.reverse(),i.forEach((function(e){e.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null},e}();jr._plugins=[];var Hr=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){window.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,n;if(t.cancelResize(),t._resizeTo===window)e=window.innerWidth,n=window.innerHeight;else{var r=t._resizeTo;e=r.clientWidth,n=r.clientHeight}t.renderer.resize(e,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();jr.registerPlugin(Hr);var Gr=new Ge,zr=function(){function e(e){this.renderer=e,e.extract=this}return e.prototype.image=function(e,t,n){var r=new Image;return r.src=this.base64(e,t,n),r},e.prototype.base64=function(e,t,n){return this.canvas(e).toDataURL(t,n)},e.prototype.canvas=function(t){var n,r,i,o=this.renderer,a=!1,s=!1;t&&(t instanceof en?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(n=i.baseTexture.resolution,r=i.frame,a=!1,o.renderTexture.bind(i)):(n=this.renderer.resolution,a=!0,(r=Gr).width=this.renderer.width,r.height=this.renderer.height,o.renderTexture.bind(null));var l=Math.floor(r.width*n+1e-4),c=Math.floor(r.height*n+1e-4),u=new De(l,c,1),h=new Uint8Array(4*l*c),d=o.gl;d.readPixels(r.x*n,r.y*n,l,c,d.RGBA,d.UNSIGNED_BYTE,h);var p=u.context.getImageData(0,0,l,c);if(e.arrayPostDivide(h,p.data),u.context.putImageData(p,0,0),a){var f=new De(u.width,u.height,1);f.context.scale(1,-1),f.context.drawImage(u.canvas,0,-c),u.destroy(),u=f}return s&&i.destroy(!0),u.canvas},e.prototype.pixels=function(t){var n,r,i,o=this.renderer,a=!1;t&&(t instanceof en?i=t:(i=this.renderer.generateTexture(t),a=!0)),i?(n=i.baseTexture.resolution,r=i.frame,o.renderTexture.bind(i)):(n=o.resolution,(r=Gr).width=o.width,r.height=o.height,o.renderTexture.bind(null));var s=r.width*n,l=r.height*n,c=new Uint8Array(4*s*l),u=o.gl;return u.readPixels(r.x*n,r.y*n,s,l,u.RGBA,u.UNSIGNED_BYTE,c),a&&i.destroy(!0),e.arrayPostDivide(c,c),c},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e.arrayPostDivide=function(e,t){for(var n=0;n<e.length;n+=4){var r=t[n+3]=e[n+3];0!==r?(t[n]=Math.round(Math.min(255*e[n]/r,255)),t[n+1]=Math.round(Math.min(255*e[n+1]/r,255)),t[n+2]=Math.round(Math.min(255*e[n+2]/r,255))):(t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2])}},e}(),Vr=n(4678),Yr=n.n(Vr),$r=n(6755),Xr=n.n($r);function Wr(){}function qr(e,t,n,r){var i=0,o=e.length;!function a(s){s||i===o?n&&n(s):r?setTimeout((function(){t(e[i++],a)}),1):t(e[i++],a)}()}function Kr(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}var Zr={};function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jr(e,t,n){return t&&Qr(e.prototype,t),n&&Qr(e,n),e}var ei=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),ti=null;function ni(){}var ri=function(){function e(t,n,r){if("string"!=typeof t||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=t,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=ni,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(Xr()),this.onProgress=new(Xr()),this.onComplete=new(Xr()),this.onAfterMiddleware=new(Xr())}e.setExtensionLoadType=function(t,n){ii(e._loadTypeMap,t,n)},e.setExtensionXhrType=function(t,n){ii(e._xhrTypeMap,t,n)};var t=e.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var n=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout((function(){return t(n)}),1);else switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:ei&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t._hasFlag=function(e){return!!(this._flags&e)},t._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(t)?t[n]:t));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},t._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},t._createSource=function(e,t,n){n||(n=e+"/"+this._getExtension(t));var r=document.createElement("source");return r.src=t,r.type=n,r},t._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var e=this.xhr;this.abort(oi(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t._xhrOnTimeout=function(){var e=this.xhr;this.abort(oi(e)+" Request timed out.")},t._xhrOnAbort=function(){var e=this.xhr;this.abort(oi(e)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t=this.xhr,n="",r=void 0===t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(n=t.responseText),0===r&&(n.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2==(r/100|0)){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=e.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var o=document.createElement("div");o.innerHTML=n,this.data=o}this.type=e.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=t.response||n;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},t._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,ti||(ti=document.createElement("a")),ti.href=e;var n=!(e=Yr()(ti.href,{strictMode:!0})).port&&""===t.port||e.port===t.port,r=e.protocol?e.protocol+":":"";return e.host===t.hostname&&n&&r===t.protocol?"":"anonymous"},t._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},t._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var n=e.indexOf("/");t=e.substring(n+1,e.indexOf(";",n))}else{var r=e.indexOf("?"),i=e.indexOf("#"),o=Math.min(r>-1?r:e.length,i>-1?i:e.length);t=(e=e.substring(0,o)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Jr(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();function ii(e,t,n){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=n)}function oi(e){return e.toString().replace("object ","")}ri.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},ri.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},ri.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},ri.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},ri._loadTypeMap={gif:ri.LOAD_TYPE.IMAGE,png:ri.LOAD_TYPE.IMAGE,bmp:ri.LOAD_TYPE.IMAGE,jpg:ri.LOAD_TYPE.IMAGE,jpeg:ri.LOAD_TYPE.IMAGE,tif:ri.LOAD_TYPE.IMAGE,tiff:ri.LOAD_TYPE.IMAGE,webp:ri.LOAD_TYPE.IMAGE,tga:ri.LOAD_TYPE.IMAGE,svg:ri.LOAD_TYPE.IMAGE,"svg+xml":ri.LOAD_TYPE.IMAGE,mp3:ri.LOAD_TYPE.AUDIO,ogg:ri.LOAD_TYPE.AUDIO,wav:ri.LOAD_TYPE.AUDIO,mp4:ri.LOAD_TYPE.VIDEO,webm:ri.LOAD_TYPE.VIDEO},ri._xhrTypeMap={xhtml:ri.XHR_RESPONSE_TYPE.DOCUMENT,html:ri.XHR_RESPONSE_TYPE.DOCUMENT,htm:ri.XHR_RESPONSE_TYPE.DOCUMENT,xml:ri.XHR_RESPONSE_TYPE.DOCUMENT,tmx:ri.XHR_RESPONSE_TYPE.DOCUMENT,svg:ri.XHR_RESPONSE_TYPE.DOCUMENT,tsx:ri.XHR_RESPONSE_TYPE.DOCUMENT,gif:ri.XHR_RESPONSE_TYPE.BLOB,png:ri.XHR_RESPONSE_TYPE.BLOB,bmp:ri.XHR_RESPONSE_TYPE.BLOB,jpg:ri.XHR_RESPONSE_TYPE.BLOB,jpeg:ri.XHR_RESPONSE_TYPE.BLOB,tif:ri.XHR_RESPONSE_TYPE.BLOB,tiff:ri.XHR_RESPONSE_TYPE.BLOB,webp:ri.XHR_RESPONSE_TYPE.BLOB,tga:ri.XHR_RESPONSE_TYPE.BLOB,json:ri.XHR_RESPONSE_TYPE.JSON,text:ri.XHR_RESPONSE_TYPE.TEXT,txt:ri.XHR_RESPONSE_TYPE.TEXT,ttf:ri.XHR_RESPONSE_TYPE.BUFFER,otf:ri.XHR_RESPONSE_TYPE.BUFFER},ri.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var ai=window.URL||window.webkitURL,si={caching:function(e,t){var n=this;Zr[e.url]?(e.data=Zr[e.url],e.complete()):e.onComplete.once((function(){return Zr[n.url]=n.data})),t()},parsing:function(e,t){if(e.data){if(e.xhr&&e.xhrType===ri.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var n=ai.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=n,e.type=ri.TYPE.IMAGE,void(e.data.onload=function(){ai.revokeObjectURL(n),e.data.onload=null,t()})}}else{var r=e.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return e.data=new Image,e.data.src="data:"+r+";base64,"+function(e){for(var t="",n=0;n<e.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<e.length?r[o]=255&e.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var a=0;a<i.length;++a)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[a])}return t}(e.xhr.responseText),e.type=ri.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}},li=/(#[\w-]+)?$/,ci=function(){function e(t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return r._loadResource(e,t)},this._queue=function(e,t){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=0,r={_tasks:[],concurrency:t,saturated:Wr,unsaturated:Wr,buffer:t/4,empty:Wr,drain:Wr,error:Wr,started:!1,paused:!1,push:function(e,t){i(e,!1,t)},kill:function(){n=0,r.drain=Wr,r.started=!1,r._tasks=[]},unshift:function(e,t){i(e,!0,t)},process:function(){for(;!r.paused&&n<r.concurrency&&r._tasks.length;){var t=r._tasks.shift();0===r._tasks.length&&r.empty(),(n+=1)===r.concurrency&&r.saturated(),e(t.data,Kr(o(t)))}},length:function(){return r._tasks.length},running:function(){return n},idle:function(){return r._tasks.length+n===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var e=1;e<=r.concurrency;e++)r.process()}}};function i(e,t,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,null==e&&r.idle())setTimeout((function(){return r.drain()}),1);else{var i={data:e,callback:"function"==typeof n?n:Wr};t?r._tasks.unshift(i):r._tasks.push(i),setTimeout((function(){return r.process()}),1)}}function o(e){return function(){n-=1,e.callback.apply(e,arguments),null!=arguments[0]&&r.error(arguments[0],e.data),n<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new(Xr()),this.onError=new(Xr()),this.onLoad=new(Xr()),this.onStart=new(Xr()),this.onComplete=new(Xr());for(var i=0;i<e._defaultBeforeMiddleware.length;++i)this.pre(e._defaultBeforeMiddleware[i]);for(var o=0;o<e._defaultAfterMiddleware.length;++o)this.use(e._defaultAfterMiddleware[o])}var t=e.prototype;return t.add=function(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"==typeof e&&(r=t||e.callback||e.onComplete,n=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(r=n,n=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new ri(e,t,n),"function"==typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var o=n.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var l=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[e]),o.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.pre=function(e){return this._beforeMiddleware.push(e),this},t.use=function(e){return this._afterMiddleware.push(e),this},t.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},t.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(e){var t,n=Yr()(e,{strictMode:!0});if(t=n.protocol||!n.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var r=li.exec(t)[0];-1!==(t=t.substr(0,t.length-r.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=r}return t},t._loadResource=function(e,t){var n=this;e._dequeue=t,qr(this._beforeMiddleware,(function(t,r){t.call(n,e,(function(){r(e.isComplete?{}:null)}))}),(function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())}),!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),qr(this._afterMiddleware,(function(n,r){n.call(t,e,r)}),(function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(100,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()}),!0)},Jr(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),e}();ci._defaultBeforeMiddleware=[],ci._defaultAfterMiddleware=[],ci.pre=function(e){return ci._defaultBeforeMiddleware.push(e),ci},ci.use=function(e){return ci._defaultAfterMiddleware.push(e),ci};var ui=ri,hi=function(e,t){return hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},hi(e,t)},di=function(){function e(){}return e.use=function(e,t){e.data&&e.type===ri.TYPE.IMAGE&&(e.texture=Qt.fromLoader(e.data,e.url,e.name)),t()},e}(),pi=function(e){function t(n,r){for(var i=e.call(this,n,r)||this,o=0;o<t._plugins.length;++o){var a=t._plugins[o],s=a.pre,l=a.use;s&&i.pre(s),l&&i.use(l)}return i._protected=!1,i}return function(e,t){function n(){this.constructor=e}hi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}(ci);pi.registerPlugin({use:si.parsing}),pi.registerPlugin(di);var fi=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?pi.shared:new pi},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),mi=function(e,t){return mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},mi(e,t)};function gi(e,t){function n(){this.constructor=e}mi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var bi,vi,yi=function(e){function t(t,n,r,i){void 0===t&&(t=1500),void 0===r&&(r=16384),void 0===i&&(i=!1);var o=e.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=t,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=m.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return gi(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,ie(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(ht),Ti=function(){function e(e,t,n){this.geometry=new hn,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;++r){var i=e[r];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||y.FLOAT,offset:i.offset},t[r]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new on(pe(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n)(a=this.dynamicProperties[n]).offset=t,t+=a.size,this.dynamicStride+=a.size;var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new on(this.dynamicData,!1,!1);var i=0;for(this.staticStride=0,n=0;n<this.staticProperties.length;++n)(a=this.staticProperties[n]).offset=i,i+=a.size,this.staticStride+=a.size;var o=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new on(this.staticData,!0,!1),n=0;n<this.dynamicProperties.length;++n){var a=this.dynamicProperties[n];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===y.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(n=0;n<this.staticProperties.length;++n)a=this.staticProperties[n],e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===y.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)},e.prototype.uploadDynamic=function(e,t,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(e,t,n,i.type===y.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,t,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(e,t,n,i.type===y.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),_i=function(e){function t(t){var n=e.call(this,t)||this;return n.shader=null,n.properties=null,n.tempMatrix=new qe,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:y.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Jn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),n.state=er.for2d(),n}return gi(t,e),t.prototype.render=function(e){var t=e.children,n=e._maxSize,r=e._batchSize,i=this.renderer,o=t.length;if(0!==o){o>n&&!e.autoResize&&(o=n);var a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));var s=t[0]._texture.baseTexture;this.state.blendMode=ce(e.blendMode,s.alphaMode),i.state.set(this.state);var l=i.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=ue(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var u=!1,h=0,d=0;h<o;h+=r,d+=1){var p=o-h;p>r&&(p=r),d>=a.length&&a.push(this._generateOneMoreBuffer(e));var f=a[d];f.uploadDynamic(t,h,p);var m=e._bufferUpdateIDs[d]||0;(u=u||f._updateID<m)&&(f._updateID=e._updateID,f.uploadStatic(t,h,p)),i.geometry.bind(f.geometry),l.drawElements(l.TRIANGLES,6*p,l.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],n=e._maxSize,r=e._batchSize,i=e._properties,o=0;o<n;o+=r)t.push(new Ti(this.properties,i,r));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,n=e._properties;return new Ti(this.properties,n,t)},t.prototype.uploadVertices=function(e,t,n,r,i,o){for(var a=0,s=0,l=0,c=0,u=0;u<n;++u){var h=e[t+u],d=h._texture,p=h.scale.x,f=h.scale.y,m=d.trim,g=d.orig;m?(a=(s=m.x-h.anchor.x*g.width)+m.width,l=(c=m.y-h.anchor.y*g.height)+m.height):(a=g.width*(1-h.anchor.x),s=g.width*-h.anchor.x,l=g.height*(1-h.anchor.y),c=g.height*-h.anchor.y),r[o]=s*p,r[o+1]=c*f,r[o+i]=a*p,r[o+i+1]=c*f,r[o+2*i]=a*p,r[o+2*i+1]=l*f,r[o+3*i]=s*p,r[o+3*i+1]=l*f,o+=4*i}},t.prototype.uploadPosition=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},t.prototype.uploadRotation=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=e[t+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},t.prototype.uploadUvs=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},t.prototype.uploadTint=function(e,t,n,r,i,o){for(var a=0;a<n;++a){var s=e[t+a],l=s._texture.baseTexture.alphaMode>0,c=s.alpha,u=c<1&&l?he(s._tintRGB,c):s._tintRGB+(255*c<<24);r[o]=u,r[o+i]=u,r[o+2*i]=u,r[o+3*i]=u,o+=4*i}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(vn);!function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"}(bi||(bi={})),function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"}(vi||(vi={}));var Ei={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},xi=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Qt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Qt.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),wi=function(e,t){return wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},wi(e,t)};function Si(e,t){function n(){this.constructor=e}wi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ai={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var n=e.points,r=e.holes,i=t.points,o=t.indices;if(n.length>=6){for(var a=[],s=0;s<r.length;s++){var l=r[s];a.push(n.length/2),n=n.concat(l.points)}var c=K()(n,a,2);if(!c)return;var u=i.length/2;for(s=0;s<c.length;s+=3)o.push(c[s]+u),o.push(c[s+1]+u),o.push(c[s+2]+u);for(s=0;s<n.length;s++)i.push(n[s])}}},ki={build:function(e){var t,n,r=e.shape,i=e.points,o=r.x,a=r.y;if(i.length=0,e.type===Fe.CIRC)t=r.radius,n=r.radius;else{var s=e.shape;t=s.width,n=s.height}if(0!==t&&0!==n){var l=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(t+n));l/=2.3;for(var c=2*Math.PI/l,u=0;u<l-.5;u++)i.push(o+Math.sin(-c*u)*t,a+Math.cos(-c*u)*n);i.push(i[0],i[1])}},triangulate:function(e,t){var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=o,s=e.shape,l=e.matrix,c=s.x,u=s.y;r.push(e.matrix?l.a*c+l.c*u+l.tx:c,e.matrix?l.b*c+l.d*u+l.ty:u);for(var h=0;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(o++,a,o)}},Ci={build:function(e){var t=e.shape,n=t.x,r=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(n,r,n+i,r,n+i,r+o,n,r+o)},triangulate:function(e,t){var n=e.points,r=t.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Ii(e,t,n){return e+(t-e)*n}function Oi(e,t,n,r,i,o,a){void 0===a&&(a=[]);for(var s=a,l=0,c=0,u=0,h=0,d=0,p=0,f=0,m=0;f<=20;++f)l=Ii(e,n,m=f/20),c=Ii(t,r,m),u=Ii(n,i,m),h=Ii(r,o,m),d=Ii(l,u,m),p=Ii(c,h,m),s.push(d,p);return s}var Di={build:function(e){var t=e.shape,n=e.points,r=t.x,i=t.y,o=t.width,a=t.height,s=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));n.length=0,s?(Oi(r,i+s,r,i,r+s,i,n),Oi(r+o-s,i,r+o,i,r+o,i+s,n),Oi(r+o,i+a-s,r+o,i+a,r+o-s,i+a,n),Oi(r+s,i+a,r,i+a,r,i+a-s,n)):n.push(r,i,r+o,i,r+o,i+a,r,i+a)},triangulate:function(e,t){for(var n=e.points,r=t.points,i=t.indices,o=r.length/2,a=K()(n,null,2),s=0,l=a.length;s<l;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(s=0,l=n.length;s<l;s++)r.push(n[s],n[++s])}};function Pi(e,t,n,r,i,o,a,s){var l,c;a?(l=r,c=-n):(l=-r,c=n);var u=e-n*i+l,h=t-r*i+c,d=e+n*o+l,p=t+r*o+c;return s.push(u,h),s.push(d,p),2}function Ni(e,t,n,r,i,o,a,s){var l=n-e,c=r-t,u=Math.atan2(l,c),h=Math.atan2(i-e,o-t);s&&u<h?u+=2*Math.PI:!s&&u>h&&(h+=2*Math.PI);var d=u,p=h-u,f=Math.abs(p),m=Math.sqrt(l*l+c*c),g=1+(15*f*Math.sqrt(m)/Math.PI|0),b=p/g;if(d+=b,s){a.push(e,t),a.push(n,r);for(var v=1,y=d;v<g;v++,y+=b)a.push(e,t),a.push(e+Math.sin(y)*m,t+Math.cos(y)*m);a.push(e,t),a.push(i,o)}else{for(a.push(n,r),a.push(e,t),v=1,y=d;v<g;v++,y+=b)a.push(e+Math.sin(y)*m,t+Math.cos(y)*m),a.push(e,t);a.push(i,o),a.push(e,t)}return 2*g}function Ri(e,t){e.lineStyle.native?function(e,t){var n=0,r=e.shape,i=e.points||r.points,o=r.type!==Fe.POLY||r.closeStroke;if(0!==i.length){var a=t.points,s=t.indices,l=i.length/2,c=a.length/2,u=c;for(a.push(i[0],i[1]),n=1;n<l;n++)a.push(i[2*n],i[2*n+1]),s.push(u,u+1),u++;o&&s.push(u,c)}}(e,t):function(e,t){var n=e.shape,r=e.points||n.points.slice(),i=t.closePointEps;if(0!==r.length){var o=e.lineStyle,a=new Xe(r[0],r[1]),s=new Xe(r[r.length-2],r[r.length-1]),l=n.type!==Fe.POLY||n.closeStroke,c=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(l){r=r.slice(),c&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var u=.5*(a.x+s.x),h=.5*(s.y+a.y);r.unshift(u,h),r.push(u,h)}var d=t.points,p=r.length/2,f=r.length,m=d.length/2,g=o.width/2,b=g*g,v=o.miterLimit*o.miterLimit,y=r[0],T=r[1],_=r[2],E=r[3],x=0,w=0,S=-(T-E),A=y-_,k=0,C=0,I=Math.sqrt(S*S+A*A);S/=I,A/=I,S*=g,A*=g;var O=o.alignment,D=2*(1-O),P=2*O;l||(o.cap===vi.ROUND?f+=Ni(y-S*(D-P)*.5,T-A*(D-P)*.5,y-S*D,T-A*D,y+S*P,T+A*P,d,!0)+2:o.cap===vi.SQUARE&&(f+=Pi(y,T,S,A,D,P,!0,d))),d.push(y-S*D,T-A*D),d.push(y+S*P,T+A*P);for(var N=1;N<p-1;++N){y=r[2*(N-1)],T=r[2*(N-1)+1],_=r[2*N],E=r[2*N+1],x=r[2*(N+1)],w=r[2*(N+1)+1],S=-(T-E),A=y-_,S/=I=Math.sqrt(S*S+A*A),A/=I,S*=g,A*=g,k=-(E-w),C=_-x,k/=I=Math.sqrt(k*k+C*C),C/=I,k*=g,C*=g;var R=_-y,M=T-E,L=_-x,B=w-E,F=M*L-B*R,U=F<0;if(Math.abs(F)<.1)d.push(_-S*D,E-A*D),d.push(_+S*P,E+A*P);else{var j=(-S+y)*(-A+E)-(-S+_)*(-A+T),H=(-k+x)*(-C+E)-(-k+_)*(-C+w),G=(R*H-L*j)/F,z=(B*j-M*H)/F,V=(G-_)*(G-_)+(z-E)*(z-E),Y=_+(G-_)*D,$=E+(z-E)*D,X=_-(G-_)*P,W=E-(z-E)*P,q=U?D:P;V<=Math.min(R*R+M*M,L*L+B*B)+q*q*b?o.join===bi.BEVEL||V/b>v?(U?(d.push(Y,$),d.push(_+S*P,E+A*P),d.push(Y,$),d.push(_+k*P,E+C*P)):(d.push(_-S*D,E-A*D),d.push(X,W),d.push(_-k*D,E-C*D),d.push(X,W)),f+=2):o.join===bi.ROUND?U?(d.push(Y,$),d.push(_+S*P,E+A*P),f+=Ni(_,E,_+S*P,E+A*P,_+k*P,E+C*P,d,!0)+4,d.push(Y,$),d.push(_+k*P,E+C*P)):(d.push(_-S*D,E-A*D),d.push(X,W),f+=Ni(_,E,_-S*D,E-A*D,_-k*D,E-C*D,d,!1)+4,d.push(_-k*D,E-C*D),d.push(X,W)):(d.push(Y,$),d.push(X,W)):(d.push(_-S*D,E-A*D),d.push(_+S*P,E+A*P),o.join===bi.BEVEL||V/b>v||(o.join===bi.ROUND?f+=U?Ni(_,E,_+S*P,E+A*P,_+k*P,E+C*P,d,!0)+2:Ni(_,E,_-S*D,E-A*D,_-k*D,E-C*D,d,!1)+2:(U?(d.push(X,W),d.push(X,W)):(d.push(Y,$),d.push(Y,$)),f+=2)),d.push(_-k*D,E-C*D),d.push(_+k*P,E+C*P),f+=2)}}y=r[2*(p-2)],T=r[2*(p-2)+1],_=r[2*(p-1)],S=-(T-(E=r[2*(p-1)+1])),A=y-_,S/=I=Math.sqrt(S*S+A*A),A/=I,S*=g,A*=g,d.push(_-S*D,E-A*D),d.push(_+S*P,E+A*P),l||(o.cap===vi.ROUND?f+=Ni(_-S*(D-P)*.5,E-A*(D-P)*.5,_-S*D,E-A*D,_+S*P,E+A*P,d,!1)+2:o.cap===vi.SQUARE&&(f+=Pi(_,E,S,A,D,P,!1,d)));var K=t.indices,Z=Ei.epsilon*Ei.epsilon;for(N=m;N<f+m-2;++N)y=d[2*N],T=d[2*N+1],_=d[2*(N+1)],E=d[2*(N+1)+1],x=d[2*(N+2)],w=d[2*(N+2)+1],Math.abs(y*(E-w)+_*(w-T)+x*(T-E))<Z||K.push(N,N+1,N+2)}}(e,t)}var Mi,Li,Bi=function(e){function t(t,n,r,i,o,a){void 0===a&&(a=0),o=o||i/2;for(var s=-1*Math.PI/2+a,l=2*r,c=Ue/l,u=[],h=0;h<l;h++){var d=h%2?o:i,p=h*c+s;u.push(t+d*Math.cos(p),n+d*Math.sin(p))}return e.call(this,u)||this}return Si(t,e),t}(Ye),Fi=function(){function e(){}return e.curveTo=function(e,t,n,r,i,o){var a=o[o.length-2],s=o[o.length-1]-t,l=a-e,c=r-t,u=n-e,h=Math.abs(s*u-l*c);if(h<1e-8||0===i)return o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t),null;var d=s*s+l*l,p=c*c+u*u,f=s*c+l*u,m=i*Math.sqrt(d)/h,g=i*Math.sqrt(p)/h,b=m*f/d,v=g*f/p,y=m*u+g*l,T=m*c+g*s,_=l*(g+b),E=s*(g+b),x=u*(m+v),w=c*(m+v);return{cx:y+e,cy:T+t,radius:i,startAngle:Math.atan2(E-T,_-y),endAngle:Math.atan2(w-T,x-y),anticlockwise:l*c>u*s}},e.arc=function(e,t,n,r,i,o,a,s,l){for(var c=a-o,u=Ei._segmentsCount(Math.abs(c)*i,40*Math.ceil(Math.abs(c)/Ue)),h=c/(2*u),d=2*h,p=Math.cos(h),f=Math.sin(h),m=u-1,g=m%1/m,b=0;b<=m;++b){var v=h+o+d*(b+g*b),y=Math.cos(v),T=-Math.sin(v);l.push((p*y+f*T)*i+n,(p*-T+f*y)*i+r)}},e}(),Ui=function(){function e(){}return e.curveLength=function(e,t,n,r,i,o,a,s){for(var l=0,c=0,u=0,h=0,d=0,p=0,f=0,m=0,g=0,b=0,v=0,y=e,T=t,_=1;_<=10;++_)b=y-(m=(f=(p=(d=1-(c=_/10))*d)*d)*e+3*p*c*n+3*d*(u=c*c)*i+(h=u*c)*a),v=T-(g=f*t+3*p*c*r+3*d*u*o+h*s),y=m,T=g,l+=Math.sqrt(b*b+v*v);return l},e.curveTo=function(t,n,r,i,o,a,s){var l=s[s.length-2],c=s[s.length-1];s.length-=2;var u=Ei._segmentsCount(e.curveLength(l,c,t,n,r,i,o,a)),h=0,d=0,p=0,f=0,m=0;s.push(l,c);for(var g=1,b=0;g<=u;++g)p=(d=(h=1-(b=g/u))*h)*h,m=(f=b*b)*b,s.push(p*l+3*d*b*t+3*h*f*r+m*o,p*c+3*d*b*n+3*h*f*i+m*a)},e}(),ji=function(){function e(){}return e.curveLength=function(e,t,n,r,i,o){var a=e-2*n+i,s=t-2*r+o,l=2*n-2*e,c=2*r-2*t,u=4*(a*a+s*s),h=4*(a*l+s*c),d=l*l+c*c,p=2*Math.sqrt(u+h+d),f=Math.sqrt(u),m=2*u*f,g=2*Math.sqrt(d),b=h/f;return(m*p+f*h*(p-g)+(4*d*u-h*h)*Math.log((2*f+b+p)/(b+g)))/(4*m)},e.curveTo=function(t,n,r,i,o){for(var a=o[o.length-2],s=o[o.length-1],l=Ei._segmentsCount(e.curveLength(a,s,t,n,r,i)),c=0,u=0,h=1;h<=l;++h){var d=h/l;c=a+(t-a)*d,u=s+(n-s)*d,o.push(c+(t+(r-t)*d-c)*d,u+(n+(i-n)*d-u)*d)}},e}(),Hi=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),Gi=((Mi={})[Fe.POLY]=Ai,Mi[Fe.CIRC]=ki,Mi[Fe.ELIP]=ki,Mi[Fe.RECT]=Ci,Mi[Fe.RREC]=Di,Mi),zi=[],Vi=[],Yi={buildPoly:Ai,buildCircle:ki,buildRectangle:Ci,buildRoundedRectangle:Di,FILL_COMMANDS:Gi,BATCH_POOL:zi,DRAW_CALL_POOL:Vi,buildLine:Ri,Star:Bi,ArcUtils:Fi,BezierUtils:Ui,QuadraticUtils:ji,BatchPart:Hi},$i=function(){function e(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=r,this.type=e.type,this.points=[],this.holes=[]}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),Xi=new Xe,Wi=new ot,qi=function(e){function t(){var t=e.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new ot,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}return Si(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Vi.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),zi.push(t)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=new $i(e,t,n,r);return this.graphicsData.push(i),this.dirty++,this},t.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var n=new $i(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,n=0;n<t.length;++n){var r=t[n];if(r.fillStyle.visible&&r.shape&&(r.matrix?r.matrix.applyInverse(e,Xi):Xi.copyFrom(e),r.shape.contains(Xi.x,Xi.y))){var i=!1;if(r.holes)for(var o=0;o<r.holes.length;o++)if(r.holes[o].shape.contains(Xi.x,Xi.y)){i=!0;break}if(!i)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,n=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var a=n[o],s=a.fillStyle,l=a.lineStyle;Gi[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var c=0;c<2;c++){var u=0===c?s:l;if(u.visible){var h=u.texture.baseTexture,d=this.indices.length,p=this.points.length/2;h.wrapMode=_.REPEAT,0===c?this.processFill(a):this.processLine(a);var f=this.points.length/2-p;0!==f&&(r&&!this._compareStyles(i,u)&&(r.end(d,p),r=null),r||((r=zi.pop()||new Hi).begin(u,d,p),this.batches.push(r),i=u),this.addUvs(this.points,t,u.texture,p,f,u.matrix))}}}var m=this.indices.length,g=this.points.length/2;if(r&&r.end(m,g),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var b=g>65535&&e;this.indicesUint16=b?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},t.prototype._compareStyles=function(e,t){return!(!e||!t)&&e.texture.baseTexture===t.texture.baseTexture&&e.color+e.alpha===t.color+t.alpha&&!!e.native==!!t.native},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var n=this.graphicsData[e],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,n=e.length;t<n;t++)for(var r=e[t],i=0;i<r.size;i++){var o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++Mt._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Vi.push(this.drawCalls[t]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=Vi.pop();i||((i=new Or).texArray=new Dr),i.texArray.count=0,i.start=0,i.size=0,i.type=g.TRIANGLES;var o=0,a=null,s=0,l=!1,c=g.TRIANGLES,u=0;for(this.drawCalls.push(i),t=0;t<this.batches.length;t++){var h=this.batches[t],d=h.style,p=d.texture.baseTexture;l!==!!d.native&&(c=(l=!!d.native)?g.LINES:g.TRIANGLES,a=null,o=8,e++),a!==p&&(a=p,p._batchEnabled!==e&&(8===o&&(e++,o=0,i.size>0&&((i=Vi.pop())||((i=new Or).texArray=new Dr),this.drawCalls.push(i)),i.start=u,i.size=0,i.texArray.count=0,i.type=c),p.touched=1,p._batchEnabled=e,p._batchLocation=o,p.wrapMode=10497,i.texArray.elements[i.texArray.count++]=p,o++)),i.size+=h.size,u+=h.size,s=p._batchLocation,this.addColors(n,d.color,d.alpha,h.attribSize,h.attribStart),this.addTextureIds(r,s,h.attribSize,h.attribStart)}Mt._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*e.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,l=0;l<e.length/2;l++)o[s++]=e[2*l],o[s++]=e[2*l+1],o[s++]=t[2*l],o[s++]=t[2*l+1],a[s++]=n[l],o[s++]=r[l];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),Ai.triangulate(e,this)):Gi[e.type].triangulate(e,this)},t.prototype.processLine=function(e){Ri(e,this);for(var t=0;t<e.holes.length;t++)Ri(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var n=e[t];Gi[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,t=Wi,n=qe.IDENTITY;this._bounds.clear(),t.clear();for(var r=0;r<this.graphicsData.length;r++){var i=this.graphicsData[r],o=i.shape,a=i.type,s=i.lineStyle,l=i.matrix||qe.IDENTITY,c=0;if(s&&s.visible){var u=s.alignment;c=s.width,a===Fe.POLY?c*=.5+Math.abs(.5-u):c*=Math.max(0,u)}if(n!==l&&(t.isEmpty()||(e.addBoundsMatrix(t,n),t.clear()),n=l),a===Fe.RECT||a===Fe.RREC){var h=o;t.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,c,c)}else if(a===Fe.CIRC){var d=o;t.addFramePad(d.x,d.y,d.x,d.y,d.radius+c,d.radius+c)}else if(a===Fe.ELIP){var p=o;t.addFramePad(p.x,p.y,p.x,p.y,p.width+c,p.height+c)}else{var f=o;e.addVerticesMatrix(n,f.points,0,f.points.length,c,c)}}t.isEmpty()||e.addBoundsMatrix(t,n),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var n=0;n<e.length/2;n++){var r=e[2*n],i=e[2*n+1];e[2*n]=t.a*r+t.c*i+t.tx,e[2*n+1]=t.b*r+t.d*i+t.ty}},t.prototype.addColors=function(e,t,n,r,i){void 0===i&&(i=0);var o=he((t>>16)+(65280&t)+((255&t)<<16),n);e.length=Math.max(e.length,i+r);for(var a=0;a<r;a++)e[i+a]=o},t.prototype.addTextureIds=function(e,t,n,r){void 0===r&&(r=0),e.length=Math.max(e.length,r+n);for(var i=0;i<n;i++)e[r+i]=t},t.prototype.addUvs=function(e,t,n,r,i,o){void 0===o&&(o=null);for(var a=0,s=t.length,l=n.frame;a<i;){var c=e[2*(r+a)],u=e[2*(r+a)+1];if(o){var h=o.a*c+o.c*u+o.tx;u=o.b*c+o.d*u+o.ty,c=h}a++,t.push(c/l.width,u/l.height)}var d=n.baseTexture;(l.width<d.width||l.height<d.height)&&this.adjustUvs(t,n,s,i)},t.prototype.adjustUvs=function(e,t,n,r){for(var i=t.baseTexture,o=1e-6,a=n+2*r,s=t.frame,l=s.width/i.width,c=s.height/i.height,u=s.x/s.width,h=s.y/s.height,d=Math.floor(e[n]+o),p=Math.floor(e[n+1]+o),f=n+2;f<a;f+=2)d=Math.min(d,Math.floor(e[f]+o)),p=Math.min(p,Math.floor(e[f+1]+o));for(u-=d,h-=p,f=n;f<a;f+=2)e[f]=(e[f]+u)*l,e[f+1]=(e[f+1]+h)*c},t.BATCHABLE_SIZE=100,t}(Mr),Ki=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=vi.BUTT,t.join=bi.MITER,t.miterLimit=10,t}return Si(t,e),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(xi),Zi=new Float32Array(3),Qi={},Ji=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n._geometry=t||new qi,n._geometry.refCount++,n.shader=null,n.state=er.for2d(),n._fillStyle=new xi,n._lineStyle=new Ki,n._matrix=null,n._holeMode=!1,n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n.pluginName="batch",n._transformID=-1,n.tint=16777215,n.blendMode=m.NORMAL,n}return Si(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"==typeof e){var t=arguments;e={width:t[0]||0,color:t[1]||0,alpha:void 0!==t[2]?t[2]:1,alignment:void 0!==t[3]?t[3]:.5,native:!!t[4]}}return this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){if("number"==typeof e){Se("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var t=arguments;e={width:t[0],texture:t[1],color:t[2],alpha:t[3],matrix:t[4],alignment:t[5],native:t[6]},Object.keys(e).forEach((function(t){return void 0===e[t]&&delete e[t]}))}e=Object.assign({width:0,texture:Qt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:vi.BUTT,join:bi.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Ye,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Ye,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===e&&i===t||n.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),ji.curveTo(e,t,n,r,i),this},t.prototype.bezierCurveTo=function(e,t,n,r,i,o){return this._initCurve(),Ui.curveTo(e,t,n,r,i,o,this.currentPath.points),this},t.prototype.arcTo=function(e,t,n,r,i){this._initCurve(e,t);var o=this.currentPath.points,a=Fi.curveTo(e,t,n,r,i,o);if(a){var s=a.cx,l=a.cy,c=a.radius,u=a.startAngle,h=a.endAngle,d=a.anticlockwise;this.arc(s,l,c,u,h,d)}return this},t.prototype.arc=function(e,t,n,r,i,o){if(void 0===o&&(o=!1),r===i)return this;if(!o&&i<=r?i+=Ue:o&&r<=i&&(r+=Ue),0==i-r)return this;var a=e+Math.cos(r)*n,s=t+Math.sin(r)*n,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var u=Math.abs(c[c.length-2]-a),h=Math.abs(c[c.length-1]-s);u<l&&h<l||c.push(a,s)}else this.moveTo(a,s),c=this.currentPath.points;return Fi.arc(a,s,e,t,n,r,i,o,c),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:Qt.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){if(e instanceof Qt){Se("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var t=arguments;e={texture:t[0],color:t[1],alpha:t[2],matrix:t[3]},Object.keys(e).forEach((function(t){return void 0===e[t]&&delete e[t]}))}e=Object.assign({texture:Qt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,n,r){return this.drawShape(new Ge(e,t,n,r))},t.prototype.drawRoundedRect=function(e,t,n,r,i){return this.drawShape(new $e(e,t,n,r,i))},t.prototype.drawCircle=function(e,t,n){return this.drawShape(new ze(e,t,n))},t.prototype.drawEllipse=function(e,t,n,r){return this.drawShape(new Ve(e,t,n,r))},t.prototype.drawPolygon=function(){for(var e,t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];var i=!0,o=n[0];o.points?(i=o.closeStroke,e=o.points):e=Array.isArray(n[0])?n[0]:n;var a=new Ye(e);return a.closeStroke=i,this.drawShape(a),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.drawStar=function(e,t,n,r,i,o){return void 0===o&&(o=0),this.drawPolygon(new Bi(e,t,n,r,i,o))},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===Fe.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var t=this._geometry,n=e.context.supports.uint32Indices;t.updateBatches(n),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(var r=0;r<n;r++){var i=e.batches[r],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),l={vertexData:a,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:ie(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=l}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,n=this.batches.length;t<n;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),n=this._geometry,r=this.tint,i=this.worldAlpha,o=t.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(255&r)/255*i,o.tint[3]=i,e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(var s=0,l=a.length;s<l;s++)this._renderDrawCallDirect(e,n.drawCalls[s])},t.prototype._renderDrawCallDirect=function(e,t){for(var n=t.texArray,r=t.type,i=t.size,o=t.start,a=n.count,s=0;s<a;s++)e.texture.bind(n.elements[s],s);e.geometry.draw(r,i,o)},t.prototype._resolveDirectShader=function(e){var t=this.shader,n=this.pluginName;if(!t){if(!Qi[n]){for(var r=e.plugins.batch.MAX_TEXTURES,i=new Int32Array(r),o=0;o<r;o++)i[o]=o;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new qe,default:mn.from({uSamplers:i},!0)},s=e.plugins[n]._shader.program;Qi[n]=new Jn(s,a)}t=Qi[n]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;this._bounds.addFrame(this.transform,n,r,i,o)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=ie(this.tint,Zi),t=0;t<this.batches.length;t++){var n=this.batches[t],r=n._batchRGB,i=(e[0]*r[0]*255<<16)+(e[1]*r[1]*255<<8)+(0|e[2]*r[2]*255);n._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=this._geometry.points,c=this.vertexData,u=0,h=0;h<l.length;h+=2){var d=l[h],p=l[h+1];c[u++]=n*d+i*p+a,c[u++]=o*p+r*d+s}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},t._TEMP_POINT=new Xe,t}(ht),eo=function(e,t){return eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},eo(e,t)},to=new Xe,no=new Uint16Array([0,1,2,0,2,3]),ro=function(e){function t(t){var n=e.call(this)||this;return n._anchor=new We(n._onAnchorUpdate,n,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=m.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=t||Qt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=no,n.pluginName="batch",n.isSprite=!0,n._roundPixels=$.ROUND_PIXELS,n}return function(e,t){function n(){this.constructor=e}eo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=_e(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=_e(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,l=this.vertexData,c=e.trim,u=e.orig,h=this._anchor,d=0,p=0,f=0,m=0;if(c?(d=(p=c.x-h._x*u.width)+c.width,f=(m=c.y-h._y*u.height)+c.height):(d=(p=-h._x*u.width)+u.width,f=(m=-h._y*u.height)+u.height),l[0]=n*p+i*m+a,l[1]=o*m+r*p+s,l[2]=n*d+i*m+a,l[3]=o*m+r*d+s,l[4]=n*d+i*f+a,l[5]=o*f+r*d+s,l[6]=n*p+i*f+a,l[7]=o*f+r*p+s,this._roundPixels)for(var g=$.RESOLUTION,b=0;b<l.length;++b)l[b]=Math.round((l[b]*g|0)/g)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,n=e.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,c=i.tx,u=i.ty,h=-r._x*n.width,d=h+n.width,p=-r._y*n.height,f=p+n.height;t[0]=o*h+s*p+c,t[1]=l*p+a*h+u,t[2]=o*d+s*p+c,t[3]=l*p+a*d+u,t[4]=o*d+s*f+c,t[5]=l*f+a*d+u,t[6]=o*h+s*f+c,t[7]=l*f+a*h+u},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Ge),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,to);var t=this._texture.orig.width,n=this._texture.orig.height,r=-t*this.anchor.x,i=0;return to.x>=r&&to.x<r+t&&(i=-n*this.anchor.y,to.y>=i&&to.y<i+n)},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var n="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!n)}this._texture=null},t.from=function(e,n){return new t(e instanceof Qt?e:Qt.from(e,n))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=_e(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=_e(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Qt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(ht),io=function(e,t){return io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},io(e,t)};!function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Li||(Li={}));var oo={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Li.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},ao=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],so=function(){function e(e){this.styleID=0,this.reset(),uo(this,e,e)}return e.prototype.clone=function(){var t={};return uo(t,this,oo),new e(t)},e.prototype.reset=function(){uo(this,oo,oo)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=co(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=co(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=co(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var n=t.length-1;n>=0;n--){var r=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&ao.indexOf(r)<0&&(r='"'+r+'"'),t[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}();function lo(e){return"number"==typeof e?oe(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function co(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=lo(e[t]);return e}return lo(e)}function uo(e,t,n){for(var r in n)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var ho=function(){function e(e,t,n,r,i,o,a,s,l){this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=l}return e.measureText=function(t,n,r,i){void 0===i&&(i=e._canvas),r=null==r?n.wordWrap:r;var o=n.toFontString(),a=e.measureFont(o);0===a.fontSize&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);var s=i.getContext("2d");s.font=o;for(var l=(r?e.wordWrap(t,n,i):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length),u=0,h=0;h<l.length;h++){var d=s.measureText(l[h]).width+(l[h].length-1)*n.letterSpacing;c[h]=d,u=Math.max(u,d)}var p=u+n.strokeThickness;n.dropShadow&&(p+=n.dropShadowDistance);var f=n.lineHeight||a.fontSize+n.strokeThickness,m=Math.max(f,a.fontSize+n.strokeThickness)+(l.length-1)*(f+n.leading);return n.dropShadow&&(m+=n.dropShadowDistance),new e(t,n,p,m,l,c,f+n.leading,u,a)},e.wordWrap=function(t,n,r){void 0===r&&(r=e._canvas);for(var i=r.getContext("2d"),o=0,a="",s="",l=Object.create(null),c=n.letterSpacing,u=n.whiteSpace,h=e.collapseSpaces(u),d=e.collapseNewlines(u),p=!h,f=n.wordWrapWidth+c,m=e.tokenize(t),g=0;g<m.length;g++){var b=m[g];if(e.isNewline(b)){if(!d){s+=e.addLine(a),p=!h,a="",o=0;continue}b=" "}if(h){var v=e.isBreakingSpace(b),y=e.isBreakingSpace(a[a.length-1]);if(v&&y)continue}var T=e.getFromCache(b,c,l,i);if(T>f)if(""!==a&&(s+=e.addLine(a),a="",o=0),e.canBreakWords(b,n.breakWords))for(var _=e.wordWrapSplit(b),E=0;E<_.length;E++){for(var x=_[E],w=1;_[E+w];){var S=_[E+w],A=x[x.length-1];if(e.canBreakChars(A,S,b,E,n.breakWords))break;x+=S,w++}E+=x.length-1;var k=e.getFromCache(x,c,l,i);k+o>f&&(s+=e.addLine(a),p=!1,a="",o=0),a+=x,o+=k}else{a.length>0&&(s+=e.addLine(a),a="",o=0);var C=g===m.length-1;s+=e.addLine(b,!C),p=!1,a="",o=0}else T+o>f&&(p=!1,s+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(b)||p)&&(a+=b,o+=T)}return s+e.addLine(a,!1)},e.addLine=function(t,n){return void 0===n&&(n=!0),t=e.trimRight(t),n?t+"\n":t},e.getFromCache=function(e,t,n,r){var i=n[e];if("number"!=typeof i){var o=e.length*t;i=r.measureText(e).width+o,n[e]=i}return i},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!=typeof t)return"";for(var n=t.length-1;n>=0;n--){var r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return"string"==typeof t&&e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t){return"string"==typeof t&&e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var n=[],r="";if("string"!=typeof t)return n;for(var i=0;i<t.length;i++){var o=t[i];e.isBreakingSpace(o)||e.isNewline(o)?(""!==r&&(n.push(r),r=""),n.push(o)):r+=o}return""!==r&&n.push(r),n},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(e,t,n,r,i){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var n={ascent:0,descent:0,fontSize:0},r=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),l=2*s;s=s*e.BASELINE_MULTIPLIER|0,r.width=a,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var c=i.getImageData(0,0,a,l).data,u=c.length,h=4*a,d=0,p=0,f=!1;for(d=0;d<s;++d){for(var m=0;m<h;m+=4)if(255!==c[p+m]){f=!0;break}if(f)break;p+=h}for(n.ascent=s-d,p=u-h,f=!1,d=l;d>s;--d){for(m=0;m<h;m+=4)if(255!==c[p+m]){f=!0;break}if(f)break;p-=h}return n.descent=d-s,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),po=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();po.width=po.height=10,ho._canvas=po,ho._context=po.getContext("2d"),ho._fonts={},ho.METRICS_STRING="|ÉqÅ",ho.BASELINE_SYMBOL="M",ho.BASELINE_MULTIPLIER=1.4,ho._newlines=[10,13],ho._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var fo={texture:!0,children:!1,baseTexture:!0},mo=function(e){function t(t,n,r){var i=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var a=Qt.from(r);return a.orig=new Ge,a.trim=new Ge,(i=e.call(this,a)||this)._ownCanvas=o,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=$.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=t,i.style=n,i.localStyleID=-1,i}return function(e,t){function n(){this.constructor=e}io(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var n,r,i=this.context,o=ho.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,l=o.lines,c=o.lineHeight,u=o.lineWidths,h=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+2*t.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*t.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit;for(var p=t.dropShadow?2:1,f=0;f<p;++f){var m=t.dropShadow&&0===f,g=m?Math.ceil(Math.max(1,s)+2*t.padding):0,b=g*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var v=t.dropShadowColor,y=ie("number"==typeof v?v:ae(v)),T=t.dropShadowBlur*this._resolution,_=t.dropShadowDistance*this._resolution;i.shadowColor="rgba("+255*y[0]+","+255*y[1]+","+255*y[2]+","+t.dropShadowAlpha+")",i.shadowBlur=T,i.shadowOffsetX=Math.cos(t.dropShadowAngle)*_,i.shadowOffsetY=Math.sin(t.dropShadowAngle)*_+b}else i.fillStyle=this._generateFillStyle(t,l,o),i.strokeStyle=t.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var E=0;E<l.length;E++)n=t.strokeThickness/2,r=t.strokeThickness/2+E*c+d.ascent,"right"===t.align?n+=h-u[E]:"center"===t.align&&(n+=(h-u[E])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(l[E],n+t.padding,r+t.padding-g,!0),t.fill&&this.drawLetterSpacing(l[E],n+t.padding,r+t.padding-g)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,n,r){void 0===r&&(r=!1);var i=this._style.letterSpacing;if(0!==i)for(var o=t,a=Array.from?Array.from(e):e.split(""),s=this.context.measureText(e).width,l=0,c=0;c<a.length;++c){var u=a[c];r?this.context.strokeText(u,o,n):this.context.fillText(u,o,n),o+=s-(l=this.context.measureText(e.substring(c+1)).width)+i,s=l}else r?this.context.strokeText(e,t,n):this.context.fillText(e,t,n)},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=Pe(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;n.trim.width=n._frame.width=Math.ceil(e.width/this._resolution),n.trim.height=n._frame.height=Math.ceil(e.height/this._resolution),n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,t,n){var r,i=e.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,s=Math.ceil(this.canvas.width/this._resolution)-o-2*a,l=Math.ceil(this.canvas.height/this._resolution)-o-2*a,c=i.slice(),u=e.fillGradientStops.slice();if(!u.length)for(var h=c.length+1,d=1;d<h;++d)u.push(d/h);if(c.unshift(i[0]),u.unshift(0),c.push(i[i.length-1]),u.push(1),e.fillGradientType===Li.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,a,s/2,l+a);var p=0,f=(n.fontProperties.fontSize+e.strokeThickness)/l;for(d=0;d<t.length;d++)for(var m=n.lineHeight*d,g=0;g<c.length;g++){var b=m/l+("number"==typeof u[g]?u[g]:g/c.length)*f,v=Math.max(p,b);v=Math.min(v,1),r.addColorStop(v,c[g]),p=v}}else{r=this.context.createLinearGradient(a,l/2,s+a,l/2);var y=c.length+1,T=1;for(d=0;d<c.length;d++){var _;_="number"==typeof u[d]?u[d]:T/y,r.addColorStop(_,c[d]),T++}}return r},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},fo,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=_e(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=_e(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof so?e:new so(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t}(ro);$.UPLOADS_PER_FRAME=4;var go=function(e,t){return go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},go(e,t)},bo=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function vo(e,t){var n=!1;if(e&&e._textures&&e._textures.length)for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof Qt){var i=e._textures[r].baseTexture;-1===t.indexOf(i)&&(t.push(i),n=!0)}return n}function yo(e,t){if(e.baseTexture instanceof Mt){var n=e.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function To(e,t){if(e._texture&&e._texture instanceof Qt){var n=e._texture.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function _o(e,t){return t instanceof mo&&(t.updateText(!0),!0)}function Eo(e,t){if(t instanceof so){var n=t.toFontString();return ho.measureFont(n),!0}return!1}function xo(e,t){if(e instanceof mo){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var n=e._texture.baseTexture;return-1===t.indexOf(n)&&t.push(n),!0}return!1}function wo(e,t){return e instanceof so&&(-1===t.indexOf(e)&&t.push(e),!0)}var So=function(){function e(e){var t=this;this.limiter=new bo($.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(xo),this.registerFindHook(wo),this.registerFindHook(vo),this.registerFindHook(yo),this.registerFindHook(To),this.registerUploadHook(_o),this.registerUploadHook(Eo)}return e.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,bt.system.addOnce(this.tick,this,pt.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)bt.system.addOnce(this.tick,this,pt.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);for(this.completes.length=0,n=0,r=i.length;n<r;n++)i[n]()}},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof ht)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&bt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function Ao(e,t){return t instanceof Mt&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function ko(e,t){if(!(t instanceof Ji))return!1;var n=t.geometry;t.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var o=r[i].style.texture;o&&Ao(e,o.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function Co(e,t){return e instanceof Ji&&(t.push(e),!0)}var Io=function(e){function t(t){var n=e.call(this,t)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(Co),n.registerUploadHook(Ao),n.registerUploadHook(ko),n}return function(e,t){function n(){this.constructor=e}go(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(So),Oo=function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}(),Do=function(){function e(e,t,n){void 0===n&&(n=null),this._texture=e instanceof Qt?e:null,this.baseTexture=e instanceof Mt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,n=Be(e,null);return null===n&&(n=void 0!==t?parseFloat(t):1),1!==n&&this.baseTexture.setResolution(n),n},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var n=t,r=e.BATCH_SIZE;n-t<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],o=this._frames[i],a=o.frame;if(a){var s,l=null,c=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,u=new Ge(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);s=o.rotated?new Ge(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new Ge(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new Ge(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Qt(this.baseTexture,s,u,l,o.rotated?2:0,o.anchor),Qt.addToCache(this.textures[i],i)}n++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var n=0;n<e[t].length;n++){var r=e[t][n];this.animations[t].push(this.textures[r])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},e.prototype.destroy=function(e){var t;for(var n in void 0===e&&(e=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),Po=function(){function e(){}return e.use=function(t,n){var r=this,i=t.name+"_image";if(t.data&&t.type===ui.TYPE.JSON&&t.data.frames&&!r.resources[i]){var o={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=e.getResourcePath(t,r.baseUrl);r.add(i,a,o,(function(e){if(e.error)n(e.error);else{var r=new Do(e.texture,t.data,t.url);r.parse((function(){t.spritesheet=r,t.textures=r.textures,n()}))}}))}else n()},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:Z.resolve(e.url.replace(t,""),e.data.meta.image)},e}(),No=function(e,t){return No=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},No(e,t)};function Ro(e,t){function n(){this.constructor=e}No(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Mo=new Xe,Lo=function(e){function t(t,n,r){void 0===n&&(n=100),void 0===r&&(r=100);var i=e.call(this,t)||this;return i.tileTransform=new it,i._width=n,i._height=r,i.uvMatrix=i.texture.uvMatrix||new rr(t),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}return Ro(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,r)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Ge),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Mo);var t=this._width,n=this._height,r=-t*this.anchor._x;if(Mo.x>=r&&Mo.x<r+t){var i=-n*this.anchor._y;if(Mo.y>=i&&Mo.y<i+n)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,n){return"number"==typeof n&&(Se("5.3.0","TilingSprite.from use options instead of width and height args"),n={width:n,height:arguments[2]}),new t(Qt.from(e,n),n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(ro),Bo="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Fo=new qe,Uo=function(e){function t(t){var n=e.call(this,t)||this,r={globals:n.renderer.globalUniforms};return n.shader=Jn.from(Bo,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",r),n.simpleShader=Jn.from(Bo,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",r),n.quad=new pn,n.state=er.for2d(),n}return Ro(t,e),t.prototype.render=function(e){var t=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((r=n.uvs)[0]=r[6]=-e.anchor.x,r[1]=r[3]=-e.anchor.y,r[2]=r[4]=1-e.anchor.x,r[5]=r[7]=1-e.anchor.y),n.invalidate();var i=e._texture,o=i.baseTexture,a=e.tileTransform.localTransform,s=e.uvMatrix,l=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;l&&(o._glTextures[t.CONTEXT_UID]?l=o.wrapMode!==_.CLAMP:o.wrapMode===_.CLAMP&&(o.wrapMode=_.REPEAT));var c=l?this.simpleShader:this.shader,u=i.width,h=i.height,d=e._width,p=e._height;Fo.set(a.a*u/d,a.b*u/p,a.c*h/d,a.d*h/p,a.tx/d,a.ty/p),Fo.invert(),l?Fo.prepend(s.mapCoord):(c.uniforms.uMapCoord=s.mapCoord.toArray(!0),c.uniforms.uClampFrame=s.uClampFrame,c.uniforms.uClampOffset=s.uClampOffset),c.uniforms.uTransform=Fo.toArray(!0),c.uniforms.uColor=de(e.tint,e.worldAlpha,c.uniforms.uColor,o.alphaMode),c.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),c.uniforms.uSampler=i,t.shader.bind(c),t.geometry.bind(n),this.state.blendMode=ce(e.blendMode,o.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(vn),jo=function(e,t){return jo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},jo(e,t)};function Ho(e,t){function n(){this.constructor=e}jo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Go=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),zo=new Xe,Vo=new Ye,Yo=function(e){function t(t,n,r,i){void 0===i&&(i=g.TRIANGLES);var o=e.call(this)||this;return o.geometry=t,t.refCount++,o.shader=n,o.state=r||er.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=0,o._transformID=-1,o._roundPixels=$.ROUND_PIXELS,o.batchUvs=null,o}return Ho(t,e),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===g.TRIANGLES&&n.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.program.uniformData.translationMatrix&&(t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry,t=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var n=this.transform.worldTransform,r=n.a,i=n.b,o=n.c,a=n.d,s=n.tx,l=n.ty,c=this.vertexData,u=0;u<c.length/2;u++){var h=t[2*u],d=t[2*u+1];c[2*u]=r*h+o*d+s,c[2*u+1]=i*h+a*d+l}if(this._roundPixels){var p=$.RESOLUTION;for(u=0;u<c.length;++u)c[u]=Math.round((c[u]*p|0)/p)}this.vertexDirty=e.vertexDirtyId}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Go(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,zo);for(var t=this.geometry.getBuffer("aVertexPosition").data,n=Vo.points,r=this.geometry.getIndex().data,i=r.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*r[a],l=2*r[a+1],c=2*r[a+2];if(n[0]=t[s],n[1]=t[s+1],n[2]=t[l],n[3]=t[l+1],n[4]=t[c],n[5]=t[c+1],Vo.contains(zo.x,zo.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(ht),$o=function(e){function t(t,n){var r=this,i={uSampler:t,alpha:1,uTextureMatrix:qe.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(i,n.uniforms),(r=e.call(this,n.program||Qn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,r.uvMatrix=new rr(t),r.batchable=void 0===n.program,r.pluginName=n.pluginName,r.tint=n.tint,r.alpha=n.alpha,r}return Ho(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;de(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Jn),Xo=function(e){function t(t,n,r){var i=e.call(this)||this,o=new on(t),a=new on(n,!0),s=new on(r,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,y.FLOAT).addAttribute("aTextureCoord",a,2,!1,y.FLOAT).addIndex(s),i._updateId=-1,i}return Ho(t,e),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(hn),Wo=function(e,t){return Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Wo(e,t)},qo=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Ko=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var r in t){var i=t[r].match(/^[a-z]+/gm)[0],o=t[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in o){var l=o[s].split("="),c=l[0],u=l[1].replace(/"/gm,""),h=parseFloat(u),d=isNaN(h)?u:h;a[c]=d}n[i].push(a)}var p=new qo;return n.info.forEach((function(e){return p.info.push({face:e.face,size:parseInt(e.size,10)})})),n.common.forEach((function(e){return p.common.push({lineHeight:parseInt(e.lineHeight,10)})})),n.page.forEach((function(e){return p.page.push({id:parseInt(e.id,10),file:e.file})})),n.char.forEach((function(e){return p.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),n.kerning.forEach((function(e){return p.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),p},e}(),Zo=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new qo,n=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),s=0;s<n.length;s++)t.info.push({face:n[s].getAttribute("face"),size:parseInt(n[s].getAttribute("size"),10)});for(s=0;s<r.length;s++)t.common.push({lineHeight:parseInt(r[s].getAttribute("lineHeight"),10)});for(s=0;s<i.length;s++)t.page.push({id:parseInt(i[s].getAttribute("id"),10)||0,file:i[s].getAttribute("file")});for(s=0;s<o.length;s++){var l=o[s];t.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(s=0;s<a.length;s++)t.kerning.push({first:parseInt(a[s].getAttribute("first"),10),second:parseInt(a[s].getAttribute("second"),10),amount:parseInt(a[s].getAttribute("amount"),10)});return t},e}(),Qo=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new self.DOMParser).parseFromString(e,"text/xml");return Zo.test(t)}return!1},e.parse=function(e){var t=(new window.DOMParser).parseFromString(e,"text/xml");return Zo.parse(t)},e}(),Jo=[Ko,Zo,Qo];function ea(e){for(var t=0;t<Jo.length;t++)if(Jo[t].test(e))return Jo[t];return null}function ta(e,t,n,r,i,o,a){var s=n.text,l=n.fontProperties;t.translate(r,i),t.scale(o,o);var c=a.strokeThickness/2,u=-a.strokeThickness/2;if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=function(e,t,n,r,i,o){var a,s=n.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var l=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,u=Math.ceil(e.width/r)-l-2*c,h=Math.ceil(e.height/r)-l-2*c,d=s.slice(),p=n.fillGradientStops.slice();if(!p.length)for(var f=d.length+1,m=1;m<f;++m)p.push(m/f);if(d.unshift(s[0]),p.unshift(0),d.push(s[s.length-1]),p.push(1),n.fillGradientType===Li.LINEAR_VERTICAL){a=t.createLinearGradient(u/2,c,u/2,h+c);var g=0,b=(o.fontProperties.fontSize+n.strokeThickness)/h;for(m=0;m<i.length;m++)for(var v=o.lineHeight*m,y=0;y<d.length;y++){var T=v/h+("number"==typeof p[y]?p[y]:y/d.length)*b,_=Math.max(g,T);_=Math.min(_,1),a.addColorStop(_,d[y]),g=_}}else{a=t.createLinearGradient(c,h/2,u+c,h/2);var E=d.length+1,x=1;for(m=0;m<d.length;m++){var w;w="number"==typeof p[m]?p[m]:x/E,a.addColorStop(w,d[m]),x++}}return a}(e,t,a,o,[s],n),t.strokeStyle=a.stroke,a.dropShadow){var h=a.dropShadowColor,d=ie("number"==typeof h?h:ae(h)),p=a.dropShadowBlur*o,f=a.dropShadowDistance*o;t.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+a.dropShadowAlpha+")",t.shadowBlur=p,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*f,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*f}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(s,c,u+n.lineHeight-l.descent),a.fill&&t.fillText(s,c,u+n.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}var na=function(){function e(e,t,n){var r=e.info[0],i=e.common[0],o=Be(e.page[0].file),a={};this._ownsTextures=n,this.font=r.face,this.size=r.size,this.lineHeight=i.lineHeight/o,this.chars={},this.pageTextures=a;for(var s=0;s<e.page.length;s++){var l=e.page[s],c=l.id,u=l.file;a[c]=t instanceof Array?t[s]:t[u]}for(s=0;s<e.char.length;s++){var h=e.char[s],d=(c=h.id,h.page),p=e.char[s],f=p.x,m=p.y,g=p.width,b=p.height,v=p.xoffset,y=p.yoffset,T=p.xadvance;m/=o,g/=o,b/=o,v/=o,y/=o,T/=o;var _=new Ge((f/=o)+a[d].frame.x/o,m+a[d].frame.y/o,g,b);this.chars[c]={xOffset:v,yOffset:y,xAdvance:T,kerning:{},texture:new Qt(a[d].baseTexture,_),page:d}}for(s=0;s<e.kerning.length;s++){var E=e.kerning[s],x=E.first,w=E.second,S=E.amount;x/=o,w/=o,S/=o,this.chars[w]&&(this.chars[w].kerning[x]=S)}}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,n,r){var i;if(t instanceof qo)i=t;else{var o=ea(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}n instanceof Qt&&(n=[n]);var a=new e(i,n,r);return e.available[a.font]=a,a},e.uninstall=function(t){var n=e.available[t];if(!n)throw new Error("No font found named '"+t+"'");n.destroy(),delete e.available[t]},e.from=function(t,n,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,r),o=i.chars,a=i.padding,s=i.resolution,l=i.textureWidth,c=i.textureHeight,u=function(e){"string"==typeof e&&(e=[e]);for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,l=a;s<=l;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,i.split(""))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(o),h=n instanceof so?n:new so(n),d=l,p=new qo;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};for(var f,m,g,b=0,v=0,y=0,T=[],_=0;_<u.length;_++){f||((f=document.createElement("canvas")).width=l,f.height=c,m=f.getContext("2d"),g=new Mt(f,{resolution:s}),T.push(new Qt(g)),p.page.push({id:T.length-1,file:""}));var E=ho.measureText(u[_],h,!1,f),x=E.width,w=Math.ceil(E.height),S=Math.ceil(("italic"===h.fontStyle?2:1)*x);if(v>=c-w*s){if(0===v)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+h.fontSize+"px fonts");--_,f=null,m=null,g=null,v=0,b=0,y=0}else if(y=Math.max(w+E.fontProperties.descent,y),S*s+b>=d)--_,v+=y*s,v=Math.ceil(v),b=0,y=0;else{ta(f,m,E,b,v,s,h);var A=E.text.charCodeAt(0);p.char.push({id:A,page:T.length-1,x:b/s,y:v/s,width:S,height:w,xoffset:0,yoffset:0,xadvance:Math.ceil(x-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),b+=(S+2*a)*s,b=Math.ceil(b)}}var k=new e(p,T,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=k,k},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),ra=[],ia=[],oa=function(e){function t(n,r){void 0===r&&(r={});var i=e.call(this)||this;i._tint=16777215,r.font&&(Se("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(r));var o=Object.assign({},t.styleDefaults,r),a=o.align,s=o.tint,l=o.maxWidth,c=o.letterSpacing,u=o.fontName,h=o.fontSize;if(!na.available[u])throw new Error('Missing BitmapFont "'+u+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=u,i._fontSize=h||na.available[u].size,i._text=n,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new We((function(){i.dirty=!0}),i,0,0),i._roundPixels=$.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return function(e,t){function n(){this.constructor=e}Wo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.updateText=function(){for(var e,t=na.available[this._fontName],n=this._fontSize/t.size,r=new Xe,i=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",s=a.length,l=this._maxWidth*t.size/this._fontSize,c=null,u=0,h=0,d=0,p=-1,f=0,m=0,g=0,b=0;b<s;b++){var v=a.charCodeAt(b),y=a.charAt(b);if(/(?:\s)/.test(y)&&(p=b,f=u),"\r"!==y&&"\n"!==y){var T=t.chars[v];if(T){c&&T.kerning[c]&&(r.x+=T.kerning[c]);var _=ia.pop()||{texture:Qt.EMPTY,line:0,charCode:0,position:new Xe};_.texture=T.texture,_.line=d,_.charCode=v,_.position.x=r.x+T.xOffset+this._letterSpacing/2,_.position.y=r.y+T.yOffset,i.push(_),r.x+=T.xAdvance+this._letterSpacing,u=r.x,g=Math.max(g,T.yOffset+T.texture.height),c=v,-1!==p&&l>0&&r.x>l&&(Te(i,1+p-++m,1+b-p),b=p,p=-1,o.push(f),h=Math.max(h,f),d++,r.x=0,r.y+=t.lineHeight,c=null)}}else o.push(u),h=Math.max(h,u),++d,++m,r.x=0,r.y+=t.lineHeight,c=null}var E=a.charAt(a.length-1);"\r"!==E&&"\n"!==E&&(/(?:\s)/.test(E)&&(u=f),o.push(u),h=Math.max(h,u));var x=[];for(b=0;b<=d;b++){var w=0;"right"===this._align?w=h-o[b]:"center"===this._align&&(w=(h-o[b])/2),x.push(w)}var S=i.length,A={},k=[],C=this._activePagesMeshData;for(b=0;b<C.length;b++)ra.push(C[b]);for(b=0;b<S;b++){var I=(F=i[b].texture).baseTexture.uid;if(!A[I]){if(!(Y=ra.pop())){var O=new Xo,D=new $o(Qt.EMPTY);Y={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Yo(O,D),vertices:null,uvs:null,indices:null}}Y.index=0,Y.indexCount=0,Y.vertexCount=0,Y.uvsCount=0,Y.total=0;var P=this._textureCache;P[I]=P[I]||new Qt(F.baseTexture),Y.mesh.texture=P[I],Y.mesh.tint=this._tint,k.push(Y),A[I]=Y}A[I].total++}for(b=0;b<C.length;b++)-1===k.indexOf(C[b])&&this.removeChild(C[b].mesh);for(b=0;b<k.length;b++)k[b].mesh.parent!==this&&this.addChild(k[b].mesh);for(var b in this._activePagesMeshData=k,A){var N=(Y=A[b]).total;if(!((null===(e=Y.indices)||void 0===e?void 0:e.length)>6*N)||Y.vertices.length<2*Yo.BATCHABLE_SIZE)Y.vertices=new Float32Array(8*N),Y.uvs=new Float32Array(8*N),Y.indices=new Uint16Array(6*N);else for(var R=Y.total,M=Y.vertices,L=4*R*2;L<M.length;L++)M[L]=0;Y.mesh.size=6*N}for(b=0;b<S;b++){var B=(y=i[b]).position.x+x[y.line];this._roundPixels&&(B=Math.round(B));var F,U=B*n,j=y.position.y*n,H=A[(F=y.texture).baseTexture.uid],G=F.frame,z=F._uvs,V=H.index++;H.indices[6*V+0]=0+4*V,H.indices[6*V+1]=1+4*V,H.indices[6*V+2]=2+4*V,H.indices[6*V+3]=0+4*V,H.indices[6*V+4]=2+4*V,H.indices[6*V+5]=3+4*V,H.vertices[8*V+0]=U,H.vertices[8*V+1]=j,H.vertices[8*V+2]=U+G.width*n,H.vertices[8*V+3]=j,H.vertices[8*V+4]=U+G.width*n,H.vertices[8*V+5]=j+G.height*n,H.vertices[8*V+6]=U,H.vertices[8*V+7]=j+G.height*n,H.uvs[8*V+0]=z.x0,H.uvs[8*V+1]=z.y0,H.uvs[8*V+2]=z.x1,H.uvs[8*V+3]=z.y1,H.uvs[8*V+4]=z.x2,H.uvs[8*V+5]=z.y2,H.uvs[8*V+6]=z.x3,H.uvs[8*V+7]=z.y3}for(var b in this._textWidth=h*n,this._textHeight=(r.y+t.lineHeight)*n,A){var Y=A[b];if(0!==this.anchor.x||0!==this.anchor.y)for(var $=0,X=this._textWidth*this.anchor.x,W=this._textHeight*this.anchor.y,q=0;q<Y.total;q++)Y.vertices[$++]-=X,Y.vertices[$++]-=W,Y.vertices[$++]-=X,Y.vertices[$++]-=W,Y.vertices[$++]-=X,Y.vertices[$++]-=W,Y.vertices[$++]-=X,Y.vertices[$++]-=W;this._maxLineHeight=g*n;var K=Y.mesh.geometry.getBuffer("aVertexPosition"),Z=Y.mesh.geometry.getBuffer("aTextureCoord"),Q=Y.mesh.geometry.getIndex();K.data=Y.vertices,Z.data=Y.uvs,Q.data=Y.indices,K.update(),Z.update(),Q.update()}for(b=0;b<i.length;b++)ia.push(i[b])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!na.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var t=e.font.split(" ");e.fontName=1===t.length?t[0]:t.slice(1).join(" "),t.length>=2&&(e.fontSize=parseInt(t[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},t.prototype.destroy=function(t){var n=this._textureCache;for(var r in n)n[r].destroy(),delete n[r];this._textureCache=null,e.prototype.destroy.call(this,t)},t.registerFont=function(e,t){return Se("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),na.install(e,t)},Object.defineProperty(t,"fonts",{get:function(){return Se("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),na.available},enumerable:!1,configurable:!0}),t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(ht),aa=function(){function e(){}return e.add=function(){ui.setExtensionXhrType("fnt",ui.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,n){var r=ea(t.data);if(r)for(var i=e.getBaseUrl(this,t),o=r.parse(t.data),a={},s=function(e){a[e.metadata.pageFile]=e.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=na.install(o,a,!0),n())},l=0;l<o.page.length;++l){var c=o.page[l].file,u=i+c,h=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===u){p.metadata.pageFile=c,p.texture?s(p):p.onAfterMiddleware.add(s),h=!0;break}}if(!h){var f={crossOrigin:t.crossOrigin,loadType:ui.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(u,f,s)}}else n()},e.getBaseUrl=function(t,n){var r=n.isDataUrl?"":e.dirname(n.url);return n.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}(),sa=function(e,t){return sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},sa(e,t)},la=function(e){function t(t){void 0===t&&(t=1);var n=e.call(this,Cr,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return n.alpha=t,n}return function(e,t){function n(){this.constructor=e}sa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(tr),ca=function(e,t){return ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ca(e,t)};function ua(e,t){function n(){this.constructor=e}ca(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ha,da,pa,fa,ma,ga,ba,va,ya,Ta,_a,Ea,xa,wa,Sa,Aa,ka,Ca={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ia=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ha||(ha={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(da||(da={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(pa||(pa={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(fa||(fa={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(ma||(ma={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(ga||(ga={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(ba||(ba={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(va||(va={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(ya||(ya={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Ta||(Ta={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"}(_a||(_a={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Ea||(Ea={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(xa||(xa={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(wa||(wa={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(Sa||(Sa={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Aa||(Aa={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(ka||(ka={}));var Oa=function(e){function t(t,n,r,i,o){void 0===n&&(n=8),void 0===r&&(r=4),void 0===i&&(i=$.FILTER_RESOLUTION),void 0===o&&(o=5);var a=this,s=function(e,t){var n,r=Math.ceil(e/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";n=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=n.replace("%index%",a.toString());o+=s=s.replace("%sampleIndex%",a-(r-1)+".0"),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",e.toString())}(o,t),l=function(e){for(var t,n=Ca[e],r=n.length,i=Ia,o="",a=0;a<e;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());t=a,a>=r&&(t=e-a-1),o+=s=s.replace("%value%",n[t].toString()),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",e.toString())}(o);return(a=e.call(this,s,l)||this).horizontal=t,a.resolution=i,a._quality=0,a.quality=r,a.blur=n,a}return ua(t,e),t.prototype.apply=function(e,t,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{var i=e.getFilterTexture(),o=e.renderer,a=t,s=i;this.state.blend=!1,e.applyFilter(this,a,s,xa.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(a,xa.BLIT),this.uniforms.uSampler=s;var c=s;s=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,n,r),e.returnFilterTexture(i)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(tr),Da=function(e){function t(t,n,r,i){void 0===t&&(t=8),void 0===n&&(n=4),void 0===r&&(r=$.FILTER_RESOLUTION),void 0===i&&(i=5);var o=e.call(this)||this;return o.blurXFilter=new Oa(!0,t,n,r,i),o.blurYFilter=new Oa(!1,t,n,r,i),o.resolution=r,o.quality=n,o.blur=t,o.repeatEdgePixels=!1,o}return ua(t,e),t.prototype.apply=function(e,t,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,xa.CLEAR),this.blurYFilter.apply(e,a,n,r),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,t,n,r):this.blurXFilter.apply(e,t,n,r)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(tr),Pa=function(e,t){return Pa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Pa(e,t)},Na=function(e){function t(){var t=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=e.call(this,Ir,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",n)||this).alpha=1,t}return function(e,t){function n(){this.constructor=e}Pa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n},t.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.greyscale=function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),r=Math.sin(e),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,t)},t.prototype.contrast=function(e,t){var n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var n=2*e/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,l=((r=r||3375104)>>16&255)/255,c=(r>>8&255)/255,u=(255&r)/255,h=[.3,.59,.11,0,0,o,a,s,e=e||.2,0,l,c,u,t=t||.15,0,o-l,a-c,s-u,0,0];this._loadMatrix(h,i)},t.prototype.night=function(e,t){var n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.predator=function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(tr);Na.prototype.grayscale=Na.prototype.greyscale;var Ra=function(e,t){return Ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ra(e,t)},Ma=function(e){function t(t,n){var r=this,i=new qe;return t.renderable=!1,(r=e.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,r.maskMatrix=i,null==n&&(n=20),r.scale=new Xe(n,n),r}return function(e,t){function n(){this.constructor=e}Ra(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.apply=function(e,t,n,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),e.applyFilter(this,t,n,r)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(tr),La=function(e,t){return La=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},La(e,t)},Ba=function(e){function t(){return e.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(e,t){function n(){this.constructor=e}La(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(tr),Fa=function(e,t){return Fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Fa(e,t)},Ua=function(e){function t(t,n){void 0===t&&(t=.5),void 0===n&&(n=Math.random());var r=e.call(this,Ir,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=t,r.seed=n,r}return function(e,t){function n(){this.constructor=e}Fa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(tr),ja=new qe;lt.prototype._cacheAsBitmap=!1,lt.prototype._cacheData=null;var Ha=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(lt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new Ha),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),lt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},lt.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.alpha;this.alpha=1,e.batch.flush();var n=this.getLocalBounds(null,!0).clone();if(this.filters){var r=this.filters[0].padding;n.pad(r)}n.ceil($.RESOLUTION);var i=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),a=e.renderTexture.destinationFrame.clone(),s=e.projection.transform,l=en.create({width:n.width,height:n.height}),c="cacheAsBitmap_"+xe();this._cacheData.textureCacheId=c,Mt.addToCache(l.baseTexture,c),Qt.addToCache(l,c);var u=this.transform.localTransform.copyTo(ja).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,l,!0,u,!1),e.projection.transform=s,e.renderTexture.bind(i,o,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new ro(l);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-n.x/n.width,h.anchor.y=-n.y/n.height,h.alpha=t,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h)}},lt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},lt.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var r=e.context,i=e._projTransform;t.ceil($.RESOLUTION);var o=en.create({width:t.width,height:t.height}),a="cacheAsBitmap_"+xe();this._cacheData.textureCacheId=a,Mt.addToCache(o.baseTexture,a),Qt.addToCache(o,a);var s=ja;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,o,!0,s,!1),e.context=r,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new ro(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-t.x/t.width,l.anchor.y=-t.y/t.height,l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},lt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},lt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},lt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Mt.removeFromCache(this._cacheData.textureCacheId),Qt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},lt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},lt.prototype.name=null,ht.prototype.getChildByName=function(e,t){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===e)return this.children[n];if(t)for(n=0,r=this.children.length;n<r;n++)if(this.children[n].getChildByName){var i=this.children[n].getChildByName(e,!0);if(i)return i}return null},lt.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Xe),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var Ga=function(e,t){return Ga=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ga(e,t)};function za(e,t){function n(){this.constructor=e}Ga(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Va=function(e){function t(t,n,r,i){void 0===t&&(t=100),void 0===n&&(n=100),void 0===r&&(r=10),void 0===i&&(i=10);var o=e.call(this)||this;return o.segWidth=r,o.segHeight=i,o.width=t,o.height=n,o.build(),o}return za(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],n=[],r=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,l=0;l<e;l++){var c=l%this.segWidth,u=l/this.segWidth|0;t.push(c*a,u*s),n.push(c/i,u/o)}var h=i*o;for(l=0;l<h;l++){var d=l%i,p=l/i|0,f=p*this.segWidth+d,m=p*this.segWidth+d+1,g=(p+1)*this.segWidth+d,b=(p+1)*this.segWidth+d+1;r.push(f,m,g,m,b,g)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(Xo),Ya=function(e){function t(t,n,r){void 0===t&&(t=200),void 0===r&&(r=0);var i=e.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1)))||this;return i.points=n,i._width=t,i.textureScale=r,i.build(),i}return za(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),n.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));var i=n.data,o=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var a=0,s=e[0],l=this._width*this.textureScale,c=e.length,u=0;u<c;u++){var h=4*u;if(this.textureScale>0){var d=s.x-e[u].x,p=s.y-e[u].y,f=Math.sqrt(d*d+p*p);s=e[u],a+=f/l}else a=u/(c-1);i[h]=a,i[h+1]=0,i[h+2]=a,i[h+3]=1}var m=0;for(u=0;u<c-1;u++)h=2*u,o[m++]=h,o[m++]=h+1,o[m++]=h+2,o[m++]=h+2,o[m++]=h+1,o[m++]=h+3;n.update(),r.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t,n=e[0],r=0,i=0,o=this.buffers[0].data,a=e.length,s=0;s<a;s++){var l=e[s],c=4*s;i=-((t=s<e.length-1?e[s+1]:l).x-n.x),r=t.y-n.y;var u=Math.sqrt(r*r+i*i),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=u,i/=u,r*=h,i*=h,o[c]=l.x+r,o[c+1]=l.y+i,o[c+2]=l.x-r,o[c+3]=l.y-i,n=l}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(Xo),$a=function(e){function t(t,n,r){void 0===r&&(r=0);var i=this,o=new Ya(t.height,n,r),a=new $o(t);return r>0&&(t.baseTexture.wrapMode=_.REPEAT),(i=e.call(this,o,a)||this).autoUpdate=!0,i}return za(t,e),t.prototype._render=function(t){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),e.prototype._render.call(this,t)},t}(Yo),Xa=function(e){function t(t,n,r){var i=this,o=new Va(t.width,t.height,n,r),a=new $o(Qt.WHITE);return(i=e.call(this,o,a)||this).texture=t,i}return za(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},t}(Yo),Wa=function(e){function t(t,n,r,i,o){void 0===t&&(t=Qt.EMPTY);var a=this,s=new Xo(n,r,i);s.getBuffer("aVertexPosition").static=!1;var l=new $o(t);return(a=e.call(this,s,l,null,o)||this).autoUpdate=!0,a}return za(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)},t}(Yo),qa=function(e){function t(t,n,r,i,o){void 0===n&&(n=10),void 0===r&&(r=10),void 0===i&&(i=10),void 0===o&&(o=10);var a=e.call(this,Qt.WHITE,4,4)||this;return a._origWidth=t.orig.width,a._origHeight=t.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=n,a._rightWidth=i,a._topHeight=r,a._bottomHeight=o,a.texture=t,a}return za(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,r=this._height>n?1:this._height/n;return Math.min(t,r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var n=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(Xa),Ka=function(e,t){return Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ka(e,t)},Za=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t[0]instanceof Qt?t[0]:t[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=n,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=t,r}return function(e,t){function n(){this.constructor=e}Ka(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(bt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(bt.shared.add(this.update,this,pt.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var n=[],r=0;r<e.length;++r)n.push(Qt.from(e[r]));return new t(n)},t.fromImages=function(e){for(var n=[],r=0;r<e.length;++r)n.push(Qt.from(e[r]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Qt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(bt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(bt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(ro),Qa=function(e,t){return Qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Qa(e,t)};function Ja(e,t){function n(){this.constructor=e}Qa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var es="5.0.0";function ts(){var e=this;Object.defineProperties(e,{SVG_SIZE:{get:function(){return Se(es,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),e.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return Se(es,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),e.Transform}},TransformBase:{get:function(){return Se(es,"PIXI.TransformBase class has been removed, use PIXI.Transform"),e.Transform}},TRANSFORM_MODE:{get:function(){return Se(es,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return Se(es,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),e.Renderer}},CanvasRenderTarget:{get:function(){return Se(es,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),e.utils.CanvasRenderTarget}},loader:{get:function(){return Se(es,"PIXI.loader instance has moved to PIXI.Loader.shared"),e.Loader.shared}},FilterManager:{get:function(){return Se(es,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),e.systems.FilterSystem}},CanvasTinter:{get:function(){return Se("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),e.canvasUtils}},GroupD8:{get:function(){return Se("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),e.groupD8}}}),e.accessibility={},Object.defineProperties(e.accessibility,{AccessibilityManager:{get:function(){return Se("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),e.AccessibilityManager}}}),e.interaction={},Object.defineProperties(e.interaction,{InteractionManager:{get:function(){return Se("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),e.InteractionManager}},InteractionData:{get:function(){return Se("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),e.InteractionData}},InteractionEvent:{get:function(){return Se("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),e.InteractionEvent}}}),e.prepare={},Object.defineProperties(e.prepare,{BasePrepare:{get:function(){return Se("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),e.BasePrepare}},Prepare:{get:function(){return Se("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),e.Prepare}},CanvasPrepare:{get:function(){return Se("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),e.CanvasPrepare}}}),e.extract={},Object.defineProperties(e.extract,{Extract:{get:function(){return Se("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),e.Extract}},CanvasExtract:{get:function(){return Se("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),e.CanvasExtract}}}),e.extras={},Object.defineProperties(e.extras,{TilingSprite:{get:function(){return Se(es,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),e.TilingSprite}},TilingSpriteRenderer:{get:function(){return Se(es,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),e.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return Se(es,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),e.AnimatedSprite}},BitmapText:{get:function(){return Se(es,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),e.BitmapText}}}),e.TilingSprite.fromFrame=function(t,n,r){return Se("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),e.TilingSprite.from(t,{width:n,height:r})},e.TilingSprite.fromImage=function(t,n,r,i){return void 0===i&&(i={}),Se("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),i&&"object"!=typeof i&&(i={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),i.width=n,i.height=r,e.TilingSprite.from(t,i)},Object.defineProperties(e.utils,{getSvgSize:{get:function(){return Se(es,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),e.resources.SVGResource.getSize}}}),e.mesh={},Object.defineProperties(e.mesh,{Mesh:{get:function(){return Se(es,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),e.SimpleMesh}},NineSlicePlane:{get:function(){return Se(es,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),e.NineSlicePlane}},Plane:{get:function(){return Se(es,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),e.SimplePlane}},Rope:{get:function(){return Se(es,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),e.SimpleRope}},RawMesh:{get:function(){return Se(es,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),e.Mesh}},CanvasMeshRenderer:{get:function(){return Se(es,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),e.CanvasMeshRenderer}},MeshRenderer:{get:function(){return Se(es,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),e.MeshRenderer}}}),e.particles={},Object.defineProperties(e.particles,{ParticleContainer:{get:function(){return Se(es,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),e.ParticleContainer}},ParticleRenderer:{get:function(){return Se(es,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),e.ParticleRenderer}}}),e.ticker={},Object.defineProperties(e.ticker,{Ticker:{get:function(){return Se(es,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),e.Ticker}},shared:{get:function(){return Se(es,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),e.Ticker.shared}}}),e.loaders={},Object.defineProperties(e.loaders,{Loader:{get:function(){return Se(es,"PIXI.loaders.Loader class has moved to PIXI.Loader"),e.Loader}},Resource:{get:function(){return Se(es,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),e.LoaderResource}},bitmapFontParser:{get:function(){return Se(es,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),e.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){Se(es,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return Se(es,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),e.SpritesheetLoader.use}},getResourcePath:{get:function(){return Se(es,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),e.SpritesheetLoader.getResourcePath}}}),e.Loader.addPixiMiddleware=function(t){return Se(es,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),e.loaders.Loader.registerPlugin({use:t()})};var t=function(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)};Object.assign(e.Loader.prototype,{on:function(e){var n=t(e);Se(es,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+n+".add")},once:function(e){var n=t(e);Se(es,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+n+".once")},off:function(e){var n=t(e);Se(es,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+n+".detach")}}),Object.defineProperty(e.extract,"WebGLExtract",{get:function(){return Se(es,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),e.Extract}}),Object.defineProperty(e.prepare,"WebGLPrepare",{get:function(){return Se(es,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),e.Prepare}}),e.Container.prototype._renderWebGL=function(e){Se(es,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(e)},e.Container.prototype.renderWebGL=function(e){Se(es,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(e)},e.DisplayObject.prototype.renderWebGL=function(e){Se(es,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(e)},e.Container.prototype.renderAdvancedWebGL=function(e){Se(es,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(e)},Object.defineProperties(e.settings,{TRANSFORM_MODE:{get:function(){return Se(es,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){Se(es,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var n=e.BaseTexture;n.prototype.loadSource=function(t){Se(es,"PIXI.BaseTexture.loadSource method has been deprecated");var n=e.resources.autoDetectResource(t);n.internal=!0,this.setResource(n),this.update()};var r=!1;Object.defineProperties(n.prototype,{hasLoaded:{get:function(){return Se(es,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var e;return Se(es,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===(e=this.resource)||void 0===e?void 0:e.url},set:function(e){Se(es,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=e)}},source:{get:function(){return Se(es,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function(e){Se(es,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=e)}},premultiplyAlpha:{get:function(){return Se("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){Se("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}},_id:{get:function(){return r||(Se("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),r=!0),this._batchLocation},set:function(e){this._batchLocation=e}}}),n.fromImage=function(e,t,r,i){Se(es,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:t};return n.from(e,{scaleMode:r,resourceOptions:o})},n.fromCanvas=function(e,t){return Se(es,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),n.from(e,{scaleMode:t})},n.fromSVG=function(e,t,r,i){Se(es,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:i,crossorigin:t};return n.from(e,{scaleMode:r,resourceOptions:o})},Object.defineProperties(e.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return Se("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function(e){Se("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number(e)}}}),e.Point.prototype.copy=function(e){return Se(es,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(e)},e.ObservablePoint.prototype.copy=function(e){return Se(es,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(e)},e.Rectangle.prototype.copy=function(e){return Se(es,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(e)},e.Matrix.prototype.copy=function(e){return Se(es,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(e)},e.systems.StateSystem.prototype.setState=function(e){return Se("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(e)},Object.assign(e.systems.FilterSystem.prototype,{getRenderTarget:function(e,t){return Se(es,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,t)},returnRenderTarget:function(e){Se(es,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(e)},calculateScreenSpaceMatrix:function(e){Se(es,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var t=e.identity(),n=this.activeState,r=n.sourceFrame,i=n.destinationFrame;return t.translate(r.x/i.width,r.y/i.height),t.scale(i.width,i.height),t},calculateNormalizedScreenSpaceMatrix:function(e){Se(es,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var t=this.activeState,n=t.sourceFrame,r=t.destinationFrame,i=e.identity();i.translate(n.x/r.width,n.y/r.height);var o=r.width/n.width,a=r.height/n.height;return i.scale(o,a),i}}),Object.defineProperties(e.RenderTexture.prototype,{sourceFrame:{get:function(){return Se(es,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return Se(es,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var i=function(e){function t(t,n,r,i){return Se(es,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!0,t,n,r,i)||this}return Ja(t,e),t}(e.filters.BlurFilterPass),o=function(e){function t(t,n,r,i){return Se(es,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),e.call(this,!1,t,n,r,i)||this}return Ja(t,e),t}(e.filters.BlurFilterPass);Object.assign(e.filters,{BlurXFilter:i,BlurYFilter:o});var a=e.Sprite,s=e.Texture,l=e.Graphics;function c(e,t,n,r){return Se(es,"PIXI.Sprite."+e+" method is deprecated, use PIXI.Sprite.from"),a.from(t,{resourceOptions:{scale:r,crossorigin:n}})}function u(e,t,n,r){return Se(es,"PIXI.Texture."+e+" method is deprecated, use PIXI.Texture.from"),s.from(t,{resourceOptions:{scale:r,crossorigin:n}})}l.prototype.generateCanvasTexture||(l.prototype.generateCanvasTexture=function(){Se(es,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(l.prototype,"graphicsData",{get:function(){return Se(es,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),a.fromImage=c.bind(null,"fromImage"),a.fromSVG=c.bind(null,"fromSVG"),a.fromCanvas=c.bind(null,"fromCanvas"),a.fromVideo=c.bind(null,"fromVideo"),a.fromFrame=c.bind(null,"fromFrame"),s.fromImage=u.bind(null,"fromImage"),s.fromSVG=u.bind(null,"fromSVG"),s.fromCanvas=u.bind(null,"fromCanvas"),s.fromVideo=u.bind(null,"fromVideo"),s.fromFrame=u.bind(null,"fromFrame"),Object.defineProperty(e.AbstractRenderer.prototype,"autoResize",{get:function(){return Se(es,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(e){Se(es,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=e}}),Object.defineProperty(e.Renderer.prototype,"textureManager",{get:function(){return Se(es,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),e.utils.mixins={mixin:function(){Se(es,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){Se(es,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){Se(es,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(e.BitmapText.prototype,"font",{get:function(){return Se("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(t){if(Se("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),t){var n={font:t};this._upgradeStyle(n),n.fontSize=n.fontSize||e.BitmapFont.available[n.fontName].size,this._fontName=n.fontName,this._fontSize=n.fontSize,this.dirty=!0}}})}Ar.registerPlugin("accessibility",mt),Ar.registerPlugin("extract",zr),Ar.registerPlugin("interaction",At),Ar.registerPlugin("particle",_i),Ar.registerPlugin("prepare",Io),Ar.registerPlugin("batch",Ur),Ar.registerPlugin("tilingSprite",Uo),pi.registerPlugin(aa),pi.registerPlugin(Po),jr.registerPlugin(vt),jr.registerPlugin(fi);var ns="5.3.12",rs={AlphaFilter:la,BlurFilter:Da,BlurFilterPass:Oa,ColorMatrixFilter:Na,DisplacementFilter:Ma,FXAAFilter:Ba,NoiseFilter:Ua}},4765:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC3986";e.exports={default:r,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:r}},5373:(e,t,n)=>{"use strict";var r=n(8636),i=n(2642),o=n(4765);e.exports={formats:o,parse:i,stringify:r}},2642:(e,t,n)=>{"use strict";var r=n(7720),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=s?o.slice(0,s.index):o,u=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var h=0;n.depth>0&&null!==(s=a.exec(o))&&h<n.depth;){if(h+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}if(s){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+o.slice(s.index)+"]")}return function(e,t,n,r){for(var i=r?t:l(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=n.allowEmptyArrays&&(""===i||n.strictNullHandling&&null===i)?[]:[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,h=parseInt(u,10);n.parseArrays||""!==u?!isNaN(h)&&s!==u&&String(h)===u&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(a=[])[h]=i:"__proto__"!==u&&(a[u]=i):a={0:i}}i=a}return i}(u,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset,n=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u,h=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,h),p=-1,f=t.charset;if(t.charsetSentinel)for(u=0;u<d.length;++u)0===d[u].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[u]?f="utf-8":"utf8=%26%2310003%3B"===d[u]&&(f="iso-8859-1"),p=u,u=d.length);for(u=0;u<d.length;++u)if(u!==p){var m,g,b=d[u],v=b.indexOf("]="),y=-1===v?b.indexOf("="):v+1;-1===y?(m=t.decoder(b,a.decoder,f,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(b.slice(0,y),a.decoder,f,"key"),g=r.maybeMap(l(b.slice(y+1),t),(function(e){return t.decoder(e,a.decoder,f,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===f&&(g=s(g)),b.indexOf("[]=")>-1&&(g=o(g)?[g]:g);var T=i.call(n,m);T&&"combine"===t.duplicates?n[m]=r.combine(n[m],g):T&&"last"!==t.duplicates||(n[m]=g)}return n}(e,n):e,h=n.plainObjects?Object.create(null):{},d=Object.keys(u),p=0;p<d.length;++p){var f=d[p],m=c(f,u[f],n,"string"==typeof e);h=r.merge(h,m,n)}return!0===n.allowSparse?h:r.compact(h)}},8636:(e,t,n)=>{"use strict";var r=n(920),i=n(7720),o=n(4765),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},h=Date.prototype.toISOString,d=o.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},f={},m=function e(t,n,o,a,s,c,h,d,m,g,b,v,y,T,_,E,x,w){for(var S,A=t,k=w,C=0,I=!1;void 0!==(k=k.get(f))&&!I;){var O=k.get(t);if(C+=1,void 0!==O){if(O===C)throw new RangeError("Cyclic object value");I=!0}void 0===k.get(f)&&(C=0)}if("function"==typeof g?A=g(n,A):A instanceof Date?A=y(A):"comma"===o&&l(A)&&(A=i.maybeMap(A,(function(e){return e instanceof Date?y(e):e}))),null===A){if(c)return m&&!E?m(n,p.encoder,x,"key",T):n;A=""}if("string"==typeof(S=A)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||i.isBuffer(A))return m?[_(E?n:m(n,p.encoder,x,"key",T))+"="+_(m(A,p.encoder,x,"value",T))]:[_(n)+"="+_(String(A))];var D,P=[];if(void 0===A)return P;if("comma"===o&&l(A))E&&m&&(A=i.maybeMap(A,m)),D=[{value:A.length>0?A.join(",")||null:void 0}];else if(l(g))D=g;else{var N=Object.keys(A);D=b?N.sort(b):N}var R=d?n.replace(/\./g,"%2E"):n,M=a&&l(A)&&1===A.length?R+"[]":R;if(s&&l(A)&&0===A.length)return M+"[]";for(var L=0;L<D.length;++L){var B=D[L],F="object"==typeof B&&void 0!==B.value?B.value:A[B];if(!h||null!==F){var U=v&&d?B.replace(/\./g,"%2E"):B,j=l(A)?"function"==typeof o?o(M,U):M:M+(v?"."+U:"["+U+"]");w.set(t,C);var H=r();H.set(f,w),u(P,e(F,j,o,a,s,c,h,d,"comma"===o&&E&&l(A)?null:m,g,b,v,y,T,_,E,x,H))}}return P};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return p;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=o.formatters[n],c=p.filter;if(("function"==typeof e.filter||l(e.filter))&&(c=e.filter),r=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=void 0===e.allowDots?!0===e.encodeDotInKeys||p.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:c,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(n=c.filter);var h=[];if("object"!=typeof i||null===i)return"";var d=s[c.arrayFormat],f="comma"===d&&c.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var g=r(),b=0;b<n.length;++b){var v=n[b];c.skipNulls&&null===i[v]||u(h,m(i[v],v,d,f,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}var y=h.join(c.delimiter),T=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),y.length>0?T+y:""}},7720:(e,t,n)=>{"use strict";var r=n(4765),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},l=1024;e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),l=0;l<s.length;++l){var c=s[l],u=a[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;u+=l){for(var h=s.length>=l?s.slice(u,u+l):s,d=[],p=0;p<h.length;++p){var f=h.charCodeAt(p);45===f||46===f||95===f||126===f||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||o===r.RFC1738&&(40===f||41===f)?d[d.length]=h.charAt(p):f<128?d[d.length]=a[f]:f<2048?d[d.length]=a[192|f>>6]+a[128|63&f]:f<55296||f>=57344?d[d.length]=a[224|f>>12]+a[128|f>>6&63]+a[128|63&f]:(p+=1,f=65536+((1023&f)<<10|1023&h.charCodeAt(p)),d[d.length]=a[240|f>>18]+a[128|f>>12&63]+a[128|f>>6&63]+a[128|63&f])}c+=d.join("")}return c},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&n&&"object"==typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},2551:(e,t,n)=>{"use strict";var r=n(6540),i=n(5228),o=n(9982);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){b[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];b[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){b[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){b[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){b[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){b[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){b[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){b[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){b[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function T(e,t,n,r){var i=b.hasOwnProperty(t)?b[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(m,e)||!p.call(f,e)&&(d.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);b[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);b[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);b[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),b.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){b[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,x=60106,w=60107,S=60108,A=60114,k=60109,C=60110,I=60112,O=60113,D=60120,P=60115,N=60116,R=60121,M=60128,L=60129,B=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),x=U("react.portal"),w=U("react.fragment"),S=U("react.strict_mode"),A=U("react.profiler"),k=U("react.provider"),C=U("react.context"),I=U("react.forward_ref"),O=U("react.suspense"),D=U("react.suspense_list"),P=U("react.memo"),N=U("react.lazy"),R=U("react.block"),U("react.scope"),M=U("react.opaque.id"),L=U("react.debug_trace_mode"),B=U("react.offscreen"),F=U("react.legacy_hidden")}var j,H="function"==typeof Symbol&&Symbol.iterator;function G(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=H&&e[H]||e["@@iterator"])?e:null}function z(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var V=!1;function Y(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function $(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return Y(e.type,!1);case 11:return Y(e.type.render,!1);case 22:return Y(e.type._render,!1);case 1:return Y(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case w:return"Fragment";case x:return"Portal";case A:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return X(e.type);case R:return X(e._render);case N:t=e._payload,e=e._init;try{return X(e(t))}catch(e){}}return null}function W(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&T(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ce(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,me,ge=(me=function(e,t){if(e.namespaceURI!==he.svg||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function Te(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Te(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,ke=null,Ce=null;function Ie(e){if(e=ni(e)){if("function"!=typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),Ae(e.stateNode,e.type,t))}}function Oe(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function De(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Pe(e,t){return e(t)}function Ne(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Me=Pe,Le=!1,Be=!1;function Fe(){null===ke&&null===Ce||(Re(),De())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var je=!1;if(h)try{var He={};Object.defineProperty(He,"passive",{get:function(){je=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(me){je=!1}function Ge(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var ze=!1,Ve=null,Ye=!1,$e=null,Xe={onError:function(e){ze=!0,Ve=e}};function We(e,t,n,r,i,o,a,s,l){ze=!1,Ve=null,Ge.apply(Xe,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ze(e){if(qe(e)!==e)throw Error(a(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ze(i),e;if(o===r)return Ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,lt=null,ct=new Map,ut=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ft(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ut.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){bt(e)&&n.delete(t)}function yt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&bt(at)&&(at=null),null!==st&&bt(st)&&(st=null),null!==lt&&bt(lt)&&(lt=null),ct.forEach(vt),ut.forEach(vt)}function Tt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,yt)))}function _t(e){function t(t){return Tt(t,e)}if(0<ot.length){Tt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&Tt(at,e),null!==st&&Tt(st,e),null!==lt&&Tt(lt,e),ct.forEach(t),ut.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},wt={},St={};function At(e){if(wt[e])return wt[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return wt[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var kt=At("animationend"),Ct=At("animationiteration"),It=At("animationstart"),Ot=At("transitionend"),Dt=new Map,Pt=new Map,Nt=["abort","abort",kt,"animationEnd",Ct,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Dt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Mt=8;function Lt(e){if(1&e)return Mt=15,1;if(2&e)return Mt=14,2;if(4&e)return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):32&e?(Mt=11,32):0!=(t=192&e)?(Mt=10,t):256&e?(Mt=9,256):0!=(t=3584&e)?(Mt=8,t):4096&e?(Mt=7,4096):0!=(t=4186112&e)?(Mt=6,t):0!=(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):134217728&e?(Mt=3,134217728):0!=(t=805306368&e)?(Mt=2,t):1073741824&e?(Mt=1,1073741824):(Mt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Mt=15;else if(0!=(o=134217727&n)){var l=o&~a;0!==l?(r=Lt(l),i=Mt):0!=(s&=o)&&(r=Lt(s),i=Mt)}else 0!=(o=n&~a)?(r=Lt(o),i=Mt):0!==s&&(r=Lt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&!(t&a)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Ut(10,t):e;case 10:return 0===(e=jt(192&~t))?Ut(8,t):e;case 8:return 0===(e=jt(3584&~t))&&0===(e=jt(4186112&~t))&&(e=512),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function jt(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/Yt|0)|0},Vt=Math.log,Yt=Math.LN2,$t=o.unstable_UserBlockingPriority,Xt=o.unstable_runWithPriority,Wt=!0;function qt(e,t,n,r){Le||Re();var i=Zt,o=Le;Le=!0;try{Ne(i,e,t,n,r)}finally{(Le=o)||Fe()}}function Kt(e,t,n,r){Xt($t,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Wt)if((i=!(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var o=Qt(e,t,n,r);if(null===o)i&&ft(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;ft(e,r)}Rr(e,t,r,null,n)}}}function Qt(e,t,n,r){var i=Se(r);if(null!==(i=ti(i))){var o=qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ke(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var Jt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,un,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),fn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(ln=e.screenX-un.screenX,cn=e.screenY-un.screenY):cn=ln=0,un=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(mn),bn=sn(i({},mn,{dataTransfer:0})),vn=sn(i({},pn,{relatedTarget:0})),yn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),Tn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(Tn),En=sn(i({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return An}var Cn=i({},pn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Cn),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Nn),Mn=[9,13,27,32],Ln=h&&"CompositionEvent"in window,Bn=null;h&&"documentMode"in document&&(Bn=document.documentMode);var Fn=h&&"TextEvent"in window&&!Bn,Un=h&&(!Ln||Bn&&8<Bn&&11>=Bn),jn=String.fromCharCode(32),Hn=!1;function Gn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1,Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yn[e.type]:"textarea"===t}function Xn(e,t,n,r){Oe(r),0<(t=Lr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,qn=null;function Kn(e){Cr(e,0)}function Zn(e){if(Z(ri(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Jn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Wn&&(Wn.detachEvent("onpropertychange",ir),qn=Wn=null)}function ir(e){if("value"===e.propertyName&&Zn(qn)){var t=[];if(Xn(t,qn,e,Se(e)),e=Kn,Le)e(t);else{Le=!0;try{Pe(e,t)}finally{Le=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(rr(),qn=n,(Wn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(qn)}function sr(e,t){if("click"===e)return Zn(t)}function lr(e,t){if("input"===e||"change"===e)return Zn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ur=Object.prototype.hasOwnProperty;function hr(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var br=h&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,Tr=null,_r=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==Q(r)||(r="selectionStart"in(r=vr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Tr&&hr(Tr,r)||(Tr=r,0<(r=Lr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Nt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<xr.length;wr++)Pt.set(xr[wr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function kr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(We.apply(this,arguments),ze){if(!ze)throw Error(a(198));var u=Ve;ze=!1,Ve=null,Ye||(Ye=!0,$e=u)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;kr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;kr(i,s,c),o=l}}}if(Ye)throw e=$e,Ye=!1,$e=null,e}function Ir(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Ar.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ar.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Nr(o,e,i,t),a.add(s))}function Nr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=qt;break;case 1:i=Kt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Be)return e();Be=!0;try{return Me(e,t,n)}finally{Be=!1,Fe()}}((function(){var r=o,i=Se(n),a=[];e:{var s=Dt.get(e);if(void 0!==s){var l=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case kt:case Ct:case It:l=yn;break;case Ot:l=Pn;break;case"scroll":l=fn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=!!(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&null!=(m=Ue(f,d))&&u.push(Mr(f,m,p))),h)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||16&t||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Jr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(h=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?s:ri(l),p=null==c?s:ri(c),(s=new u(m,f+"leave",l,n,i)).target=h,s.relatedTarget=p,m=null,ti(i)===r&&((u=new u(d,f+"enter",c,n,i)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Br(p))f++;for(p=0,m=d;m;m=Br(m))p++;for(;0<f-p;)u=Br(u),f--;for(;0<p-f;)d=Br(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Br(u),d=Br(d)}u=null}else u=null;null!==l&&Fr(a,s,l,u,!1),null!==c&&null!==h&&Fr(a,h,c,u,!0)}if("select"===(l=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if($n(s))if(Jn)g=lr;else{g=ar;var b=or}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=sr);switch(g&&(g=g(e,r))?Xn(a,g,n,i):(b&&b(e,s,r),"focusout"===e&&(b=s._wrapperState)&&b.controlled&&"number"===s.type&&ie(s,"number",s.value)),b=r?ri(r):window,e){case"focusin":($n(b)||"true"===b.contentEditable)&&(vr=b,yr=r,Tr=null);break;case"focusout":Tr=yr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Er(a,n,i);break;case"selectionchange":if(br)break;case"keydown":case"keyup":Er(a,n,i)}var v;if(Ln)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vn?Gn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Un&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Vn&&(v=nn()):(en="value"in(Jt=i)?Jt.value:Jt.textContent,Vn=!0)),0<(b=Lr(r,y)).length&&(y=new En(y,e,null,n,i),a.push({event:y,listeners:b}),(v||null!==(v=zn(n)))&&(y.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Hn=!0,jn);case"textInput":return(e=t.data)===jn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&Gn(e,t)?(e=nn(),tn=en=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Lr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}Cr(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ue(n,o))&&a.unshift(Mr(n,l,s)):i||null!=(l=Ue(n,o))&&a.push(Mr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var jr=null,Hr=null;function Gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vr="function"==typeof setTimeout?setTimeout:void 0,Yr="function"==typeof clearTimeout?clearTimeout:void 0;function $r(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Xr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Wr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var qr=0,Kr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Kr,Qr="__reactProps$"+Kr,Jr="__reactContainer$"+Kr,ei="__reactEvents$"+Kr;function ti(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Wr(e);null!==e;){if(n=e[Zr])return n;e=Wr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Zr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Qr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function li(e){return{current:e}}function ci(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ui(e,t){si++,ai[si]=e.current,e.current=t}var hi={},di=li(hi),pi=li(!1),fi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=e.childContextTypes}function bi(){ci(pi),ci(di)}function vi(e,t,n){if(di.current!==hi)throw Error(a(168));ui(di,t),ui(pi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,X(t)||"Unknown",o));return i({},n,r)}function Ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,fi=di.current,ui(di,e),ui(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=yi(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(di),ui(di,e)):ci(pi),ui(pi,n)}var Ei=null,xi=null,wi=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,ki=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Ii=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Di=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Li={},Bi=void 0!==Ci?Ci:function(){},Fi=null,Ui=null,ji=!1,Hi=Ii(),Gi=1e4>Hi?Ii:function(){return Ii()-Hi};function zi(){switch(Oi()){case Di:return 99;case Pi:return 98;case Ni:return 97;case Ri:return 96;case Mi:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return Di;case 98:return Pi;case 97:return Ni;case 96:return Ri;case 95:return Mi;default:throw Error(a(332))}}function Yi(e,t){return e=Vi(e),wi(e,t)}function $i(e,t,n){return e=Vi(e),Si(e,t,n)}function Xi(){if(null!==Ui){var e=Ui;Ui=null,Ai(e)}Wi()}function Wi(){if(!ji&&null!==Fi){ji=!0;var e=0;try{var t=Fi;Yi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Si(Di,Xi),t}finally{ji=!1}}}var qi=_.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=li(null),Qi=null,Ji=null,eo=null;function to(){eo=Ji=Qi=null}function no(e){var t=Zi.current;ci(Zi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Qi=e,eo=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(La=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===Qi)throw Error(a(308));Ji=t,Qi.dependencies={lanes:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==s&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=c)}}if(null!==a){for(d=o.baseState,s=0,h=u=c=null;;){l=a.lane;var p=a.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(l=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,l);break e}d=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=m.payload)?f.call(p,d,l):f))break e;d=i({},d,l);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else p={eventTime:p,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(u=h=p,c=d):h=h.next=p,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,Us|=s,e.lanes=s,e.memoizedState=d}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var bo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=hl(e),o=co(r,i);o.payload=t,null!=n&&(o.callback=n),uo(e,o),dl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=hl(e),o=co(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),uo(e,o),dl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=hl(e),i=co(n,r);i.tag=2,null!=t&&(i.callback=t),uo(e,i),dl(e,r,n)}};function vo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,o))}function yo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=gi(t)?fi:di.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function To(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,so(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=gi(t)?fi:di.current,i.context=mi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&bo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function wo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Yl(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=$l(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Wl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Yl(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case x:return(t=ql(t,e.mode,n)).return=e,t}if(Eo(t)||G(t))return(t=$l(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===w?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null}if(Eo(n)||G(n))return null!==i?null:h(e,t,n,r,null);wo(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===w?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||G(r))return h(t,e=e.get(n)||null,r,i,null);wo(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var b=p(i,h,s[m],l);if(null===b){null===h&&(h=g);break}e&&h&&null===b.alternate&&t(i,h),a=o(b,a,m),null===u?c=b:u.sibling=b,u=b,h=g}if(m===s.length)return n(i,h),c;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(a=o(h,a,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);m<s.length;m++)null!==(g=f(h,i,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=G(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=s,g=s=0,b=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var y=p(i,m,v.value,c);if(null===y){null===m&&(m=b);break}e&&m&&null===y.alternate&&t(i,m),s=o(y,s,g),null===h?u=y:h.sibling=y,h=y,m=b}if(v.done)return n(i,m),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(s=o(v,s,g),null===h?u=v:h.sibling=v,h=v);return u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"==typeof o&&null!==o&&o.type===w&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case E:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===w){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=xo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===w?((r=$l(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Yl(o.type,o.key,o.props,null,e.mode,l)).ref=xo(e,r,o),l.return=e,e=l)}return s(e);case x:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ql(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Wl(o,e.mode,l)).return=e,e=r),s(e);if(Eo(o))return m(e,r,o,l);if(G(o))return g(e,r,o,l);if(u&&wo(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(e.type)||"Component"))}return n(e,r)}}var Ao=So(!0),ko=So(!1),Co={},Io=li(Co),Oo=li(Co),Do=li(Co);function Po(e){if(e===Co)throw Error(a(174));return e}function No(e,t){switch(ui(Do,t),ui(Oo,e),ui(Io,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Io),ui(Io,t)}function Ro(){ci(Io),ci(Oo),ci(Do)}function Mo(e){Po(Do.current);var t=Po(Io.current),n=pe(t,e.type);t!==n&&(ui(Oo,e),ui(Io,n))}function Lo(e){Oo.current===e&&(ci(Io),ci(Oo))}var Bo=li(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,jo=null,Ho=!1;function Go(e,t){var n=Gl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Vo(e){if(Ho){var t=jo;if(t){var n=t;if(!zo(e,t)){if(!(t=Xr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,Ho=!1,void(Uo=e);Go(Uo,n)}Uo=e,jo=Xr(t.firstChild)}else e.flags=-1025&e.flags|2,Ho=!1,Uo=e}}function Yo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function $o(e){if(e!==Uo)return!1;if(!Ho)return Yo(e),Ho=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=jo;t;)Go(e,t),t=Xr(t.nextSibling);if(Yo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Xr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Uo?Xr(e.stateNode.nextSibling):null;return!0}function Xo(){jo=Uo=null,Ho=!1}var Wo=[];function qo(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var Ko=_.ReactCurrentDispatcher,Zo=_.ReactCurrentBatchConfig,Qo=0,Jo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Qo=o,Jo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ko.current=null===e||null===e.memoizedState?Pa:Na,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Ko.current=Ra,e=n(r,i)}while(ra)}if(Ko.current=Da,t=null!==ea&&null!==ea.next,Qo=0,ta=ea=Jo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Jo.memoizedState=ta=e:ta=ta.next=e,ta}function la(){if(null===ea){var e=Jo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Jo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Jo.memoizedState=ta=e:ta=ta.next=e}return ta}function ca(e,t){return"function"==typeof t?t(e):t}function ua(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var u=c.lane;if((Qo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=h,o=r):l=l.next=h,Jo.lanes|=u,Us|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,cr(r,t.memoizedState)||(La=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ha(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=r,Wo.push(t))),e)return n(t._source);throw Wo.push(t),Error(a(350))}function pa(e,t,n,r){var i=Ds;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Ko.current,c=l.useState((function(){return da(i,t,n)})),u=c[1],h=c[0];c=ta;var d=e.memoizedState,p=d.refs,f=p.getSnapshot,m=d.source;d=d.subscribe;var g=Jo;return e.memoizedState={refs:p,source:t,subscribe:r},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(h,e)||(u(e),e=hl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-zt(a),c=1<<l;r[l]|=e,a&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=hl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),cr(f,n)&&cr(m,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:h}).dispatch=u=Oa.bind(null,Jo,e),c.queue=e,c.baseQueue=null,h=da(i,t,n),c.memoizedState=c.baseState=h),h}function fa(e,t,n){return pa(la(),e,t,n)}function ma(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Oa.bind(null,Jo,e),[t.memoizedState,e]}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Jo.updateQueue)?(t={lastEffect:null},Jo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ba(e){return e={current:e},sa().memoizedState=e}function va(){return la().memoizedState}function ya(e,t,n,r){var i=sa();Jo.flags|=e,i.memoizedState=ga(1|t,n,void 0,void 0===r?null:r)}function Ta(e,t,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void ga(t,n,o,r)}Jo.flags|=e,i.memoizedState=ga(1|t,n,o,r)}function _a(e,t){return ya(516,4,e,t)}function Ea(e,t){return Ta(516,4,e,t)}function xa(e,t){return Ta(4,2,e,t)}function wa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(e,t,n){return n=null!=n?n.concat([e]):null,Ta(4,2,wa.bind(null,t,e),n)}function Aa(){}function ka(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ia(e,t){var n=zi();Yi(98>n?98:n,(function(){e(!0)})),Yi(97<n?97:n,(function(){var n=Zo.transition;Zo.transition=1;try{e(!1),t()}finally{Zo.transition=n}}))}function Oa(e,t,n){var r=ul(),i=hl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Jo||null!==a&&a===Jo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,cr(l,s))return}catch(e){}dl(e,i,r)}}var Da={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Pa={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ya(4,2,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,Jo,e),[r.memoizedState,e]},useRef:ba,useState:ma,useDebugValue:Aa,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return _a((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ba(e=Ia.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Ho){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(qr++).toString(36))),Error(a(355))})),n=ma(t)[1];return!(2&Jo.mode)&&(Jo.flags|=516,ga(5,(function(){n("r:"+(qr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(qr++).toString(36)),t},unstable_isNewReconciler:!1},Na={readContext:oo,useCallback:ka,useContext:oo,useEffect:Ea,useImperativeHandle:Sa,useLayoutEffect:xa,useMemo:Ca,useReducer:ua,useRef:va,useState:function(){return ua(ca)},useDebugValue:Aa,useDeferredValue:function(e){var t=ua(ca),n=t[0],r=t[1];return Ea((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ua(ca)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return ua(ca)[0]},unstable_isNewReconciler:!1},Ra={readContext:oo,useCallback:ka,useContext:oo,useEffect:Ea,useImperativeHandle:Sa,useLayoutEffect:xa,useMemo:Ca,useReducer:ha,useRef:va,useState:function(){return ha(ca)},useDebugValue:Aa,useDeferredValue:function(e){var t=ha(ca),n=t[0],r=t[1];return Ea((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ha(ca)[0];return[va().current,e]},useMutableSource:fa,useOpaqueIdentifier:function(){return ha(ca)[0]},unstable_isNewReconciler:!1},Ma=_.ReactCurrentOwner,La=!1;function Ba(e,t,n,r){t.child=null===e?ko(t,null,n,r):Ao(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||zl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Yl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ja(e,t,a,r,i,o))}return a=e.child,i&o||(i=a.memoizedProps,!(n=null!==(n=n.compare)?n:hr)(i,r)||e.ref!==t.ref)?(t.flags|=1,(e=Vl(a,r)).ref=t.ref,e.return=t,t.child=e):rs(e,t,o)}function ja(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(La=!1,!(o&i))return t.lanes=e.lanes,rs(e,t,o);16384&e.flags&&(La=!0)}return za(e,t,n,r,o)}function Ha(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(4&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Tl(0,e),null;t.memoizedState={baseLanes:0},Tl(0,null!==o?o.baseLanes:n)}else t.memoizedState={baseLanes:0},Tl(0,n);else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Tl(0,r);return Ba(e,t,i,n),t.child}function Ga(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=gi(n)?fi:di.current;return o=mi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||La?(t.flags|=1,Ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,rs(e,t,i))}function Va(e,t,n,r,i){if(gi(n)){var o=!0;Ti(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;c="object"==typeof c&&null!==c?oo(c):mi(t,c=gi(n)?fi:di.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&To(t,a,r,c),ao=!1;var d=t.memoizedState;a.state=d,po(t,r,a,i),l=t.memoizedState,s!==r||d!==l||pi.current||ao?("function"==typeof u&&(go(t,n,u,r),l=t.memoizedState),(s=ao||vo(t,n,s,r,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,lo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ki(t.type,s),a.props=c,h=t.pendingProps,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):mi(t,l=gi(n)?fi:di.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||d!==l)&&To(t,a,r,l),ao=!1,d=t.memoizedState,a.state=d,po(t,r,a,i);var f=t.memoizedState;s!==h||d!==f||pi.current||ao?("function"==typeof p&&(go(t,n,p,r),f=t.memoizedState),(c=ao||vo(t,n,c,r,d,f,l))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ya(e,t,n,r,o,i)}function Ya(e,t,n,r,i,o){Ga(e,t);var a=!!(64&t.flags);if(!r&&!a)return i&&_i(t,n,!1),rs(e,t,o);r=t.stateNode,Ma.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,s,o)):Ba(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function $a(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),No(e,t.containerInfo)}var Xa,Wa,qa,Ka,Za={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Bo.current,a=!1;return(r=!!(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ui(Bo,1&o),null===e?(void 0!==i.fallback&&Vo(t),e=i.children,o=i.fallback,a?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Za,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Za,t.lanes=33554432,e):((n=Xl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 2&o||t.child===a?n=Vl(a,s):((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?r=Vl(e,r):(r=$l(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Za,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Vl(i,{mode:"visible",children:n}),!(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Ja(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},2&i||null===o?o=Xl(t,i,0,null):(o.childLanes=0,o.pendingProps=t),n=$l(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ts(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ns(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ba(e,t,r.children,n),2&(r=Bo.current))r=1&r|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&es(e,n);else if(19===e.tag)es(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ui(Bo,r),2&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ts(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ts(t,!0,n,null,o,t.lastEffect);break;case"together":ts(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function rs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Us|=t.lanes,n&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Vl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function is(e,t){if(!Ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function os(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&bi(),null;case 3:return Ro(),ci(pi),ci(di),qo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||($o(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Wa(t),null;case 5:Lo(t);var o=Po(Do.current);if(n=t.type,null!==e&&null!=t.stateNode)qa(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Io.current),$o(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[Qr]=s,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ir(Sr[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,s),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ir("invalid",r);break;case"textarea":le(r,s),Ir("invalid",r)}for(var c in xe(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Ir("scroll",r));switch(n){case"input":K(r),re(r,s,!0);break;case"textarea":K(r),ue(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he.html&&(e=de(n)),e===he.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[Qr]=r,Xa(e,t,!1,!1),t.stateNode=e,c=we(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),o=r;break;case"iframe":case"object":case"embed":Ir("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Ir(Sr[o],e);o=r;break;case"source":Ir("error",e),o=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),o=r;break;case"details":Ir("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Ir("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Ir("invalid",e);break;default:o=r}xe(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];"style"===s?_e(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"==typeof h?("textarea"!==n||""!==h)&&be(e,h):"number"==typeof h&&be(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Ir("scroll",e):null!=h&&T(e,s,h,c))}switch(n){case"input":K(e),re(e,r,!1);break;case"textarea":K(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Ur)}Gr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ka(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Po(Do.current),Po(Io.current),$o(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return ci(Bo),r=t.memoizedState,64&t.flags?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&$o(t):n=null!==e.memoizedState,r&&!n&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&Bo.current?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===Ds||!(134217727&Us)&&!(134217727&js)||gl(Ds,Ns))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),Wa(t),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ci(Bo),null===(r=t.memoizedState))return null;if(s=!!(64&t.flags),null===(c=r.rendering))if(s)is(r,!1);else{if(0!==Ls||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(c=Fo(e))){for(t.flags|=64,is(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ui(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==r.tail&&Gi()>Vs&&(t.flags|=64,s=!0,is(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),is(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ho)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=64,s=!0,is(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=Bo.current,ui(Bo,s?1&t|2:1&t),n):null;case 23:case 24:return _l(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function as(e){switch(e.tag){case 1:gi(e.type)&&bi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),ci(pi),ci(di),qo(),64&(t=e.flags))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return ci(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Bo),null;case 4:return Ro(),null;case 10:return no(e),null;case 23:case 24:return _l(),null;default:return null}}function ss(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Xa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wa=function(){},qa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(Io.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Ur)}for(h in xe(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(h,u)):"children"===h?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Ir("scroll",e),s||c===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===M?u.toString():(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ka=function(e,t,n,r){n!==r&&(t.flags|=4)};var cs="function"==typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,qs=r),ls(0,t)},n}function hs(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"==typeof WeakSet?WeakSet:Set;function ps(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fl(e,t)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ki(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&$r(t.stateNode.containerInfo))}throw Error(a(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,4&(i=i.tag)&&1&i&&(Ml(n,e),Rl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ki(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Gr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(a(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Te("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(xi&&"function"==typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(Ei,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(4&r)Ml(t,n);else{r=t;try{i()}catch(e){Fl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ps(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Fl(t,e)}break;case 5:ps(t);break;case 4:xs(e,t)}}function vs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function Ts(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Es(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function xs(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,c=l;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{!(3&~r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),we(e,i),t=we(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?_e(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?be(n,l):T(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(zs=Gi(),gs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=jl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var ks=Math.ceil,Cs=_.ReactCurrentDispatcher,Is=_.ReactCurrentOwner,Os=0,Ds=null,Ps=null,Ns=0,Rs=0,Ms=li(0),Ls=0,Bs=null,Fs=0,Us=0,js=0,Hs=0,Gs=null,zs=0,Vs=1/0;function Ys(){Vs=Gi()+500}var $s,Xs=null,Ws=!1,qs=null,Ks=null,Zs=!1,Qs=null,Js=90,el=[],tl=[],nl=null,rl=0,il=null,ol=-1,al=0,sl=0,ll=null,cl=!1;function ul(){return 48&Os?Gi():-1!==ol?ol:ol=Gi()}function hl(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===zi()?1:2;if(0===al&&(al=Fs),0!==qi.transition){0!==sl&&(sl=null!==Gs?Gs.pendingLanes:0),e=al;var t=4186112&~sl;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=Ut(4&Os&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),al)}function dl(e,t,n){if(50<rl)throw rl=0,il=null,Error(a(185));if(null===(e=pl(e,t)))return null;Gt(e,t,n),e===Ds&&(js|=t,4===Ls&&gl(e,Ns));var r=zi();1===t?8&Os&&!(48&Os)?bl(e):(fl(e,n),0===Os&&(Ys(),Xi())):(!(4&Os)||98!==r&&99!==r||(null===nl?nl=new Set([e]):nl.add(e)),fl(e,n)),Gs=e}function pl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-zt(s),c=1<<l,u=o[l];if(-1===u){if(!(c&r)||c&i){u=t,Lt(c);var h=Mt;o[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Bt(e,e===Ds?Ns:0),t=Mt,0===r)null!==n&&(n!==Li&&Ai(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ai(n)}15===t?(n=bl.bind(null,e),null===Fi?(Fi=[n],Ui=Si(Di,Wi)):Fi.push(n),n=Li):14===t?n=$i(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=$i(n,ml.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ml(e){if(ol=-1,sl=al=0,48&Os)throw Error(a(327));var t=e.callbackNode;if(Nl()&&e.callbackNode!==t)return null;var n=Bt(e,e===Ds?Ns:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=wl();for(Ds===e&&Ns===r||(Ys(),El(e,r));;)try{kl();break}catch(t){xl(e,t)}if(to(),Cs.current=o,Os=i,null!==Ps?r=0:(Ds=null,Ns=0,r=Ls),Fs&js)El(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,$r(e.containerInfo)),0!==(n=Ft(e))&&(r=Sl(e,n))),1===r)throw t=Bs,El(e,0),gl(e,n),fl(e,Gi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ol(e);break;case 3:if(gl(e,n),(62914560&n)===n&&10<(r=zs+500-Gi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vr(Ol.bind(null,e),r);break}Ol(e);break;case 4:if(gl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Gi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ks(n/1960))-n)){e.timeoutHandle=Vr(Ol.bind(null,e),n);break}Ol(e);break;default:throw Error(a(329))}}return fl(e,Gi()),e.callbackNode===t?ml.bind(null,e):null}function gl(e,t){for(t&=~Hs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(48&Os)throw Error(a(327));if(Nl(),e===Ds&&e.expiredLanes&Ns){var t=Ns,n=Sl(e,t);Fs&js&&(n=Sl(e,t=Bt(e,t)))}else n=Sl(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,$r(e.containerInfo)),0!==(t=Ft(e))&&(n=Sl(e,t))),1===n)throw n=Bs,El(e,0),gl(e,t),fl(e,Gi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ol(e),fl(e,Gi()),null}function vl(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Ys(),Xi())}}function yl(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Ys(),Xi())}}function Tl(e,t){ui(Ms,Rs),Rs|=t,Fs|=t}function _l(){Rs=Ms.current,ci(Ms)}function El(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Yr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&bi();break;case 3:Ro(),ci(pi),ci(di),qo();break;case 5:Lo(r);break;case 4:Ro();break;case 13:case 19:ci(Bo);break;case 10:no(r);break;case 23:case 24:_l()}n=n.return}Ds=e,Ps=Vl(e.current,null),Ns=Rs=Fs=t,Ls=0,Bs=null,Hs=js=Us=0}function xl(e,t){for(;;){var n=Ps;try{if(to(),Ko.current=Da,na){for(var r=Jo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Qo=0,ta=ea=Jo=null,ra=!1,Is.current=null,null===n||null===n.return){Ls=1,Bs=t,Ps=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ns,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(!(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=!!(1&Bo.current),d=a;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(p){var g=d.updateQueue;if(null===g){var b=new Set;b.add(c),d.updateQueue=b}else g.add(c);if(!(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=co(-1,1);v.tag=2,uo(s,v)}s.lanes|=1;break e}l=void 0,s=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new cs,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(s)){l.add(s);var T=Ul.bind(null,o,c,s);c.then(T,T)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),l=ss(l,s),d=a;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,ho(d,us(0,o,t));break e;case 1:o=l;var _=d.type,E=d.stateNode;if(!(64&d.flags||"function"!=typeof _.getDerivedStateFromError&&(null===E||"function"!=typeof E.componentDidCatch||null!==Ks&&Ks.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,ho(d,hs(d,o,t));break e}}d=d.return}while(null!==d)}Il(n)}catch(e){t=e,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function wl(){var e=Cs.current;return Cs.current=Da,null===e?Da:e}function Sl(e,t){var n=Os;Os|=16;var r=wl();for(Ds===e&&Ns===t||El(e,t);;)try{Al();break}catch(t){xl(e,t)}if(to(),Os=n,Cs.current=r,null!==Ps)throw Error(a(261));return Ds=null,Ns=0,Ls}function Al(){for(;null!==Ps;)Cl(Ps)}function kl(){for(;null!==Ps&&!ki();)Cl(Ps)}function Cl(e){var t=$s(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?Il(e):Ps=t,Is.current=null}function Il(e){var t=e;do{var n=t.alternate;if(e=t.return,2048&t.flags){if(null!==(n=as(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(n=os(n,t,Rs)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||1073741824&Rs||!(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ls&&(Ls=5)}function Ol(e){var t=zi();return Yi(99,Dl.bind(null,e,t)),null}function Dl(e,t){do{Nl()}while(null!==Qs);if(48&Os)throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-zt(o),u=1<<c;i[c]=0,s[c]=-1,l[c]=-1,o&=~u}if(null!==nl&&!(24&r)&&nl.has(e)&&nl.delete(e),e===Ds&&(Ps=Ds=null,Ns=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Is.current=null,jr=Wt,gr(s=mr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var h=0,d=-1,p=-1,f=0,m=0,g=s,b=null;t:for(;;){for(var v;g!==l||0!==o&&3!==g.nodeType||(d=h+o),g!==c||0!==u&&3!==g.nodeType||(p=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)b=g,g=v;for(;;){if(g===s)break t;if(b===l&&++f===o&&(d=h),b===c&&++m===u&&(p=h),null!==(v=g.nextSibling))break;b=(g=b).parentNode}g=v}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Hr={focusedElem:s,selectionRange:l},Wt=!1,ll=null,cl=!1,Xs=r;do{try{Pl()}catch(e){if(null===Xs)throw Error(a(330));Fl(Xs,e),Xs=Xs.nextEffect}}while(null!==Xs);ll=null,Xs=r;do{try{for(s=e;null!==Xs;){var y=Xs.flags;if(16&y&&be(Xs.stateNode,""),128&y){var T=Xs.alternate;if(null!==T){var _=T.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&y){case 2:Ts(Xs),Xs.flags&=-3;break;case 6:Ts(Xs),Xs.flags&=-3,ws(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,ws(Xs.alternate,Xs);break;case 4:ws(Xs.alternate,Xs);break;case 8:xs(s,l=Xs);var E=l.alternate;vs(l),null!==E&&vs(E)}Xs=Xs.nextEffect}}catch(e){if(null===Xs)throw Error(a(330));Fl(Xs,e),Xs=Xs.nextEffect}}while(null!==Xs);if(_=Hr,T=mr(),y=_.focusedElem,s=_.selectionRange,T!==y&&y&&y.ownerDocument&&fr(y.ownerDocument.documentElement,y)){null!==s&&gr(y)&&(T=s.start,void 0===(_=s.end)&&(_=T),"selectionStart"in y?(y.selectionStart=T,y.selectionEnd=Math.min(_,y.value.length)):(_=(T=y.ownerDocument||document)&&T.defaultView||window).getSelection&&(_=_.getSelection(),l=y.textContent.length,E=Math.min(s.start,l),s=void 0===s.end?E:Math.min(s.end,l),!_.extend&&E>s&&(l=s,s=E,E=l),l=pr(y,E),o=pr(y,s),l&&o&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((T=T.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),E>s?(_.addRange(T),_.extend(o.node,o.offset)):(T.setEnd(o.node,o.offset),_.addRange(T))))),T=[];for(_=y;_=_.parentNode;)1===_.nodeType&&T.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<T.length;y++)(_=T[y]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Wt=!!jr,Hr=jr=null,e.current=n,Xs=r;do{try{for(y=e;null!==Xs;){var x=Xs.flags;if(36&x&&ms(y,Xs.alternate,Xs),128&x){T=void 0;var w=Xs.ref;if(null!==w){var S=Xs.stateNode;Xs.tag,T=S,"function"==typeof w?w(T):w.current=T}}Xs=Xs.nextEffect}}catch(e){if(null===Xs)throw Error(a(330));Fl(Xs,e),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,Bi(),Os=i}else e.current=n;if(Zs)Zs=!1,Qs=e,Js=t;else for(Xs=r;null!==Xs;)t=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((x=Xs).sibling=null,x.stateNode=null),Xs=t;if(0===(r=e.pendingLanes)&&(Ks=null),1===r?e===il?rl++:(rl=0,il=e):rl=0,n=n.stateNode,xi&&"function"==typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(Ei,n,void 0,!(64&~n.current.flags))}catch(e){}if(fl(e,Gi()),Ws)throw Ws=!1,e=qs,qs=null,e;return 8&Os||Xi(),null}function Pl(){for(;null!==Xs;){var e=Xs.alternate;cl||null===ll||(8&Xs.flags?Je(Xs,ll)&&(cl=!0):13===Xs.tag&&As(e,Xs)&&Je(Xs,ll)&&(cl=!0));var t=Xs.flags;256&t&&fs(e,Xs),!(512&t)||Zs||(Zs=!0,$i(97,(function(){return Nl(),null}))),Xs=Xs.nextEffect}}function Nl(){if(90!==Js){var e=97<Js?97:Js;return Js=90,Yi(e,Ll)}return!1}function Rl(e,t){el.push(t,e),Zs||(Zs=!0,$i(97,(function(){return Nl(),null})))}function Ml(e,t){tl.push(t,e),Zs||(Zs=!0,$i(97,(function(){return Nl(),null})))}function Ll(){if(null===Qs)return!1;var e=Qs;if(Qs=null,48&Os)throw Error(a(331));var t=Os;Os|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Fl(o,e)}}for(n=el,el=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(a(330));Fl(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Os=t,Xi(),!0}function Bl(e,t,n){uo(e,t=us(0,t=ss(n,t),1)),t=ul(),null!==(e=pl(e,1))&&(Gt(e,1,t),fl(e,t))}function Fl(e,t){if(3===e.tag)Bl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){var i=hs(n,e=ss(t,e),1);if(uo(n,i),i=ul(),null!==(n=pl(n,1)))Gt(n,1,i),fl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ks||!Ks.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ul(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ns&n)===n&&(4===Ls||3===Ls&&(62914560&Ns)===Ns&&500>Gi()-zs?El(e,0):Hs|=n),fl(e,t)}function jl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(2&(t=e.mode)?4&t?(0===al&&(al=Fs),0===(t=jt(62914560&~al))&&(t=4194304)):t=99===zi()?1:2:t=1),n=ul(),null!==(e=pl(e,t))&&(Gt(e,t,n),fl(e,n))}function Hl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gl(e,t,n,r){return new Hl(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vl(e,t){var n=e.alternate;return null===n?((n=Gl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yl(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)zl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case w:return $l(n.children,i,o,t);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case A:return(e=Gl(12,n,t,8|i)).elementType=A,e.type=A,e.lanes=o,e;case O:return(e=Gl(13,n,t,i)).type=O,e.elementType=O,e.lanes=o,e;case D:return(e=Gl(19,n,t,i)).elementType=D,e.lanes=o,e;case B:return Xl(n,i,o,t);case F:return(e=Gl(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case C:s=9;break e;case I:s=11;break e;case P:s=14;break e;case N:s=16,r=null;break e;case R:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Gl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function $l(e,t,n,r){return(e=Gl(7,e,r,t)).lanes=n,e}function Xl(e,t,n,r){return(e=Gl(23,e,r,t)).elementType=B,e.lanes=n,e}function Wl(e,t,n){return(e=Gl(6,e,null,t)).lanes=n,e}function ql(e,t,n){return(t=Gl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Zl(e,t,n,r){var i=t.current,o=ul(),s=hl(i);e:if(n){t:{if(qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=yi(n,c,l);break e}}n=l}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),dl(i,s,o),s}function Ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Jl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Jl(e,t),(e=e.alternate)&&Jl(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(e,t,null!=n&&!0===n.hydrate),t=Gl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Jr]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Ql(a);s.call(e)}}Zl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Ql(a);l.call(e)}}yl((function(){Zl(t,a,e,i)}))}return Ql(a)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}$s=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)La=!0;else{if(!(n&r)){switch(La=!1,t.tag){case 3:$a(t),Xo();break;case 5:Mo(t);break;case 1:gi(t.type)&&Ti(t);break;case 4:No(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ui(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return n&t.child.childLanes?Qa(e,t,n):(ui(Bo,1&Bo.current),null!==(t=rs(e,t,n))?t.sibling:null);ui(Bo,1&Bo.current);break;case 19:if(r=!!(n&t.childLanes),64&e.flags){if(r)return ns(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ui(Bo,Bo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ha(e,t,n)}return rs(e,t,n)}La=!!(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;Ti(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&go(t,r,s,e),i.updater=bo,t.stateNode=i,i._reactInternals=t,_o(t,r,e,n),t=Ya(null,t,r,!0,o,n)}else t.tag=0,Ba(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return zl(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(i),e=Ki(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Va(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Ki(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:if($a(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Xo(),t=rs(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(jo=Xr(t.stateNode.containerInfo.firstChild),Uo=t,o=Ho=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Wo.push(o);for(n=ko(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ba(e,t,r,n),Xo();t=t.child}return t;case 5:return Mo(t),null===e&&Vo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ga(e,t),Ba(e,t,s,n),t.child;case 6:return null===e&&Vo(t),null;case 13:return Qa(e,t,n);case 4:return No(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ao(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ui(Zi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=cr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!pi.current){t=rs(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&u.observedBits&o){1===l.tag&&((u=co(-1,n&-n)).tag=2,uo(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ro(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Ba(e,t,r,n),t.child;case 14:return o=Ki(i=t.type,t.pendingProps),Ua(e,t,i,o=Ki(i.type,o),r,n);case 15:return ja(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,Ti(t)):e=!1,io(t,n),yo(t,r,i),_o(t,r,i,n),Ya(null,t,r,!0,e,n);case 19:return ns(e,t,n);case 23:case 24:return Ha(e,t,n)}throw Error(a(156,t.tag))},tc.prototype.render=function(e){Zl(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zl(null,e,null,(function(){t[Jr]=null}))},et=function(e){13===e.tag&&(dl(e,4,ul()),ec(e,4))},tt=function(e){13===e.tag&&(dl(e,67108864,ul()),ec(e,67108864))},nt=function(e){if(13===e.tag){var t=ul(),n=hl(e);dl(e,n,t),ec(e,n)}},rt=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));Z(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=vl,Ne=function(e,t,n,r,i){var o=Os;Os|=4;try{return Yi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Ys(),Xi())}},Re=function(){!(49&Os)&&(function(){if(null!==nl){var e=nl;nl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,Gi())}))}Xi()}(),Nl())},Me=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Ys(),Xi())}};var oc={Events:[ni,ri,ii,Oe,De,Nl,{current:!1}]},ac={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Ei=lc.inject(sc),xi=lc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(48&n)return e(t);Os|=1;try{if(e)return Yi(99,e.bind(null,t))}finally{Os=n,Xi()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(a(40));return!!e._reactRootContainer&&(yl((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},t.unstable_batchedUpdates=vl,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},2799:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||_(e)===u},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===y||e.$$typeof===T||e.$$typeof===b)},t.typeOf=_},4363:(e,t,n)=>{"use strict";e.exports=n(2799)},5287:(e,t,n)=>{"use strict";var r=n(5228),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var y=v.prototype=new b;y.constructor=v,r(y,g.prototype),y.isPureReactComponent=!0;var T={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:T.current}}function w(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+A(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),k(a,t,n,"",(function(e){return e}))):null!=a&&(w(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+A(s=e[c],c);l+=k(s,t,n,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=k(s=s.value,t,n,u=r+A(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function D(){var e=O.current;if(null===e)throw Error(p(321));return e}var P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!w(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)_.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=w,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},6540:(e,t,n)=>{"use strict";e.exports=n(5287)},7463:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,b=-1,v=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,_=T.port2;T.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();y=e+v;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){b=d((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function w(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>S(a,n))void 0!==l&&0>S(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],k=[],C=1,I=null,O=3,D=!1,P=!1,N=!1;function R(e){for(var t=x(k);null!==t;){if(null===t.callback)w(k);else{if(!(t.startTime<=e))break;w(k),t.sortIndex=t.expirationTime,E(A,t)}t=x(k)}}function M(e){if(N=!1,R(e),!P)if(null!==x(A))P=!0,n(L);else{var t=x(k);null!==t&&r(M,t.startTime-e)}}function L(e,n){P=!1,N&&(N=!1,i()),D=!0;var o=O;try{for(R(n),I=x(A);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=I.callback;if("function"==typeof a){I.callback=null,O=I.priorityLevel;var s=a(I.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?I.callback=s:I===x(A)&&w(A),R(n)}else w(A);I=x(A)}if(null!==I)var l=!0;else{var c=x(k);null!==c&&r(M,c.startTime-n),l=!1}return l}finally{I=null,O=o,D=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||D||(P=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return x(A)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,E(k,e),null===x(A)&&e===x(k)&&(N?i():N=!0,r(M,a-s))):(e.sortIndex=l,E(A,e),P||D||(P=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},9982:(e,t,n)=>{"use strict";e.exports=n(7463)},6897:(e,t,n)=>{"use strict";var r=n(453),i=n(41),o=n(592)(),a=n(5795),s=n(9675),l=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in e&&a){var u=a(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},920:(e,t,n)=>{"use strict";var r=n(453),i=n(8075),o=n(8859),a=n(9675),s=r("%WeakMap%",!0),l=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),f=i("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return c(e,r)}else if(l){if(t)return d(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return h(e,r)}else if(l){if(t)return f(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),u(e,r,i)):l?(t||(t=new l),p(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],u=o[c]||0,h="".concat(c," ").concat(u);o[c]=u+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var f=i(p,r);r.byIndex=s,t.splice(s,0,{identifier:h,updater:f,references:1})}a.push(h)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var l=r(e,i),c=0;c<o.length;c++){var u=n(o[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1270:function(e,t,n){var r;e=n.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var o,a=2147483647,s=36,l=26,c=38,u=700,h=/^xn--/,d=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=s-1,g=Math.floor,b=String.fromCharCode;function v(e){throw new RangeError(f[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function T(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(p,".")).split("."),t).join(".")}function _(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function E(e){return y(e,(function(e){var t="";return e>65535&&(t+=b((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+b(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?g(e/u):e>>1,e+=g(e/t);e>m*l>>1;r+=s)e=g(e/m);return g(r+(m+1)*e/(e+c))}function S(e){var t,n,r,i,o,c,u,h,d,p,f,m=[],b=e.length,y=0,T=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=y,c=1,u=s;i>=b&&v("invalid-input"),((h=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:s)>=s||h>g((a-y)/c))&&v("overflow"),y+=h*c,!(h<(d=u<=_?1:u>=_+l?l:u-_));u+=s)c>g(a/(p=s-d))&&v("overflow"),c*=p;_=w(y-o,t=m.length+1,0==o),g(y/t)>a-T&&v("overflow"),T+=g(y/t),y%=t,m.splice(y++,0,T)}return E(m)}function A(e){var t,n,r,i,o,c,u,h,d,p,f,m,y,T,E,S=[];for(m=(e=_(e)).length,t=128,n=0,o=72,c=0;c<m;++c)(f=e[c])<128&&S.push(b(f));for(r=i=S.length,i&&S.push("-");r<m;){for(u=a,c=0;c<m;++c)(f=e[c])>=t&&f<u&&(u=f);for(u-t>g((a-n)/(y=r+1))&&v("overflow"),n+=(u-t)*y,t=u,c=0;c<m;++c)if((f=e[c])<t&&++n>a&&v("overflow"),f==t){for(h=n,d=s;!(h<(p=d<=o?1:d>=o+l?l:d-o));d+=s)E=h-p,T=s-p,S.push(b(x(p+E%T,0))),h=g(E/T);S.push(b(x(h,0))),o=w(n,y,r==i),n=0,++r}++n,++t}return S.join("")}o={version:"1.4.1",ucs2:{decode:_,encode:E},decode:S,encode:A,toASCII:function(e){return T(e,(function(e){return d.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return T(e,(function(e){return h.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8835:(e,t,n)=>{"use strict";var r=n(1270);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),u=["%","/","?",";","#"].concat(c),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(5373);function v(e,t,n){if(e&&"object"==typeof e&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=-1!==i&&i<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var v=e=l.join(a);if(v=v.trim(),!n&&1===e.split("#").length){var y=s.exec(v);if(y)return this.path=v,this.href=v,this.pathname=y[1],y[2]?(this.search=y[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var T=o.exec(v);if(T){var _=(T=T[0]).toLowerCase();this.protocol=_,v=v.substr(T.length)}if(n||T||v.match(/^\/\/[^@/]+@[^@/]+/)){var E="//"===v.substr(0,2);!E||T&&m[T]||(v=v.substr(2),this.slashes=!0)}if(!m[T]&&(E||T&&!g[T])){for(var x,w,S=-1,A=0;A<h.length;A++)-1!==(k=v.indexOf(h[A]))&&(-1===S||k<S)&&(S=k);for(-1!==(w=-1===S?v.lastIndexOf("@"):v.lastIndexOf("@",S))&&(x=v.slice(0,w),v=v.slice(w+1),this.auth=decodeURIComponent(x)),S=-1,A=0;A<u.length;A++){var k;-1!==(k=v.indexOf(u[A]))&&(-1===S||k<S)&&(S=k)}-1===S&&(S=v.length),this.host=v.slice(0,S),v=v.slice(S),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var I=this.hostname.split(/\./),O=(A=0,I.length);A<O;A++){var D=I[A];if(D&&!D.match(d)){for(var P="",N=0,R=D.length;N<R;N++)D.charCodeAt(N)>127?P+="x":P+=D[N];if(!P.match(d)){var M=I.slice(0,A),L=I.slice(A+1),B=D.match(p);B&&(M.push(B[1]),L.unshift(B[2])),L.length&&(v="/"+L.join(".")+v),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!f[_])for(A=0,O=c.length;A<O;A++){var j=c[A];if(-1!==v.indexOf(j)){var H=encodeURIComponent(j);H===j&&(H=escape(j)),v=v.split(j).join(H)}}var G=v.indexOf("#");-1!==G&&(this.hash=v.substr(G),v=v.slice(0,G));var z=v.indexOf("?");if(-1!==z?(this.search=v.substr(z),this.query=v.substr(z+1),t&&(this.query=b.parse(this.query)),v=v.slice(0,z)):t&&(this.search="",this.query={}),v&&(this.pathname=v),g[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var V=this.search||"";this.path=F+V}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=b.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"==typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=e[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var d=u[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",b=n.search||"";n.path=f+b}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),T=y||v||n.host&&e.pathname,_=T,E=n.pathname&&n.pathname.split("/")||[],x=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),T=T&&(""===p[0]||""===E[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=e.search,n.query=e.query;else if(null!=e.search)return x&&(n.host=E.shift(),n.hostname=n.host,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)),n.search=e.search,n.query=e.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var w=E.slice(-1)[0],S=(n.host||e.host||E.length>1)&&("."===w||".."===w)||""===w,A=0,k=E.length;k>=0;k--)"."===(w=E[k])?E.splice(k,1):".."===w?(E.splice(k,1),A++):A&&(E.splice(k,1),A--);if(!T&&!_)for(;A--;A)E.unshift("..");!T||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),S&&"/"!==E.join("/").substr(-1)&&E.push("");var C,I=""===E[0]||E[0]&&"/"===E[0].charAt(0);return x&&(n.hostname=I?"":E.length?E.shift():"",n.host=n.hostname,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)),(T=T||n.host&&E.length)&&!I&&E.unshift(""),E.length>0?n.pathname=E.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return"string"==typeof e&&(e=v(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i},1967:e=>{"use strict";for(var t=[],n={},r=0;r<256;r++)t[r]=(r+256).toString(16).substr(1),n[t[r]]=r;e.exports={parse:function(e,t,r){var i=t&&r||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){o<16&&(t[i+o++]=n[e])}));o<16;)t[i+o++]=0;return t},unparse:function(e,n){var r=n||0,i=t;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}}},3886:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27 width=%278%27 height=%278%27 viewBox=%270 0 8 8%27%3e%3cpath d=%27M2.75 0l-1.5 1.5L3.75 4l-2.5 2.5L2.75 8l4-4-4-4z%27/%3e%3c/svg%3e"},8226:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27 width=%278%27 height=%278%27 viewBox=%270 0 8 8%27%3e%3cpath d=%27M5.25 0l-4 4 4 4 1.5-1.5L4.25 4l2.5-2.5L5.25 0z%27/%3e%3c/svg%3e"},368:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27 viewBox=%270 0 12 12%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e"},3969:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2712%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},2006:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2730%27 height=%2730%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%280, 0, 0, 0.5%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},6426:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2730%27 height=%2730%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.5%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},1285:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%274%27 height=%274%27 viewBox=%270 0 4 4%27%3e%3cpath stroke=%27%23fff%27 d=%27M0 2h4%27/%3e%3c/svg%3e"},4512:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%274%27 height=%275%27 viewBox=%270 0 4 5%27%3e%3cpath fill=%27%23343a40%27 d=%27M2 0L0 2h4zm0 5L0 3h4z%27/%3e%3c/svg%3e"},2435:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%278%27 height=%278%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%2328a745%27 d=%27M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z%27/%3e%3c/svg%3e"},792:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%278%27 height=%278%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23fff%27 d=%27M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z%27/%3e%3c/svg%3e"},2634:()=>{}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=n,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,i.d(o,a),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.b=document.baseURI||self.location.href,i.nc=void 0,(()=>{"use strict";var e={};i.r(e),i.d(e,{VERSION:()=>E,after:()=>Qt,all:()=>yn,allKeys:()=>Re,any:()=>Tn,assign:()=>Qe,before:()=>Jt,bind:()=>jt,bindAll:()=>zt,chain:()=>Lt,chunk:()=>nr,clone:()=>nt,collect:()=>pn,compact:()=>Yn,compose:()=>Zt,constant:()=>ge,contains:()=>_n,countBy:()=>Mn,create:()=>tt,debounce:()=>Wt,default:()=>or,defaults:()=>Je,defer:()=>$t,delay:()=>Yt,detect:()=>un,difference:()=>Xn,drop:()=>zn,each:()=>dn,escape:()=>wt,every:()=>yn,extend:()=>Ze,extendOwn:()=>Qe,filter:()=>bn,find:()=>un,findIndex:()=>rn,findKey:()=>tn,findLastIndex:()=>on,findWhere:()=>hn,first:()=>Gn,flatten:()=>$n,foldl:()=>mn,foldr:()=>gn,forEach:()=>dn,functions:()=>qe,get:()=>st,groupBy:()=>Nn,has:()=>lt,head:()=>Gn,identity:()=>ct,include:()=>_n,includes:()=>_n,indexBy:()=>Rn,indexOf:()=>ln,initial:()=>Hn,inject:()=>mn,intersection:()=>Zn,invert:()=>We,invoke:()=>En,isArguments:()=>pe,isArray:()=>ue,isArrayBuffer:()=>te,isBoolean:()=>$,isDataView:()=>ce,isDate:()=>Z,isElement:()=>X,isEmpty:()=>Ae,isEqual:()=>Ne,isError:()=>J,isFinite:()=>fe,isFunction:()=>ie,isMap:()=>Ge,isMatch:()=>ke,isNaN:()=>me,isNull:()=>V,isNumber:()=>K,isObject:()=>z,isRegExp:()=>Q,isSet:()=>Ve,isString:()=>q,isSymbol:()=>ee,isTypedArray:()=>Ee,isUndefined:()=>Y,isWeakMap:()=>ze,isWeakSet:()=>Ye,iteratee:()=>ft,keys:()=>Se,last:()=>Vn,lastIndexOf:()=>cn,map:()=>pn,mapObject:()=>gt,matcher:()=>ut,matches:()=>ut,max:()=>Sn,memoize:()=>Vt,methods:()=>qe,min:()=>An,mixin:()=>ir,negate:()=>Kt,noop:()=>bt,now:()=>_t,object:()=>er,omit:()=>jn,once:()=>en,pairs:()=>Xe,partial:()=>Ut,partition:()=>Ln,pick:()=>Un,pluck:()=>xn,property:()=>ht,propertyOf:()=>vt,random:()=>Tt,range:()=>tr,reduce:()=>mn,reduceRight:()=>gn,reject:()=>vn,rest:()=>zn,restArguments:()=>G,result:()=>Nt,sample:()=>In,select:()=>bn,shuffle:()=>On,size:()=>Bn,some:()=>Tn,sortBy:()=>Dn,sortedIndex:()=>an,tail:()=>zn,take:()=>Gn,tap:()=>rt,template:()=>Pt,templateSettings:()=>At,throttle:()=>Xt,times:()=>yt,toArray:()=>Cn,toPath:()=>it,transpose:()=>Qn,unescape:()=>St,union:()=>Kn,uniq:()=>qn,unique:()=>qn,uniqueId:()=>Mt,unzip:()=>Qn,values:()=>$e,where:()=>wn,without:()=>Wn,wrap:()=>qt,zip:()=>Jn});var t={};i.r(t),i.d(t,{hasBrowserEnv:()=>mi,hasStandardBrowserEnv:()=>bi,hasStandardBrowserWebWorkerEnv:()=>vi,navigator:()=>gi,origin:()=>yi});var n=i(6540),r=i.t(n,2),o=i(961),a=i(5072),s=i.n(a),l=i(7825),c=i.n(l),u=i(7659),h=i.n(u),d=i(5056),p=i.n(d),f=i(540),m=i.n(f),g=i(1113),b=i.n(g),v=i(9891),y={};y.styleTagTransform=b(),y.setAttributes=p(),y.insert=h().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=m(),s()(v.A,y),v.A&&v.A.locals&&v.A.locals;var T=i(162),_={};_.styleTagTransform=b(),_.setAttributes=p(),_.insert=h().bind(null,"head"),_.domAPI=c(),_.insertStyleElement=m(),s()(T.A,_),T.A&&T.A.locals&&T.A.locals;var E="1.13.7",x="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},w=Array.prototype,S=Object.prototype,A="undefined"!=typeof Symbol?Symbol.prototype:null,k=w.push,C=w.slice,I=S.toString,O=S.hasOwnProperty,D="undefined"!=typeof ArrayBuffer,P="undefined"!=typeof DataView,N=Array.isArray,R=Object.keys,M=Object.create,L=D&&ArrayBuffer.isView,B=isNaN,F=isFinite,U=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],H=Math.pow(2,53)-1;function G(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function z(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function V(e){return null===e}function Y(e){return void 0===e}function $(e){return!0===e||!1===e||"[object Boolean]"===I.call(e)}function X(e){return!(!e||1!==e.nodeType)}function W(e){var t="[object "+e+"]";return function(e){return I.call(e)===t}}const q=W("String"),K=W("Number"),Z=W("Date"),Q=W("RegExp"),J=W("Error"),ee=W("Symbol"),te=W("ArrayBuffer");var ne=W("Function"),re=x.document&&x.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof re&&(ne=function(e){return"function"==typeof e||!1});const ie=ne,oe=W("Object");var ae=P&&(!/\[native code\]/.test(String(DataView))||oe(new DataView(new ArrayBuffer(8)))),se="undefined"!=typeof Map&&oe(new Map),le=W("DataView");const ce=ae?function(e){return null!=e&&ie(e.getInt8)&&te(e.buffer)}:le,ue=N||W("Array");function he(e,t){return null!=e&&O.call(e,t)}var de=W("Arguments");!function(){de(arguments)||(de=function(e){return he(e,"callee")})}();const pe=de;function fe(e){return!ee(e)&&F(e)&&!isNaN(parseFloat(e))}function me(e){return K(e)&&B(e)}function ge(e){return function(){return e}}function be(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=H}}function ve(e){return function(t){return null==t?void 0:t[e]}}const ye=ve("byteLength"),Te=be(ye);var _e=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Ee=D?function(e){return L?L(e)&&!ce(e):Te(e)&&_e.test(I.call(e))}:ge(!1),xe=ve("length");function we(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=j.length,r=e.constructor,i=ie(r)&&r.prototype||S,o="constructor";for(he(e,o)&&!t.contains(o)&&t.push(o);n--;)(o=j[n])in e&&e[o]!==i[o]&&!t.contains(o)&&t.push(o)}function Se(e){if(!z(e))return[];if(R)return R(e);var t=[];for(var n in e)he(e,n)&&t.push(n);return U&&we(e,t),t}function Ae(e){if(null==e)return!0;var t=xe(e);return"number"==typeof t&&(ue(e)||q(e)||pe(e))?0===t:0===xe(Se(e))}function ke(e,t){var n=Se(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0}function Ce(e){return e instanceof Ce?e:this instanceof Ce?void(this._wrapped=e):new Ce(e)}function Ie(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,ye(e))}Ce.VERSION=E,Ce.prototype.value=function(){return this._wrapped},Ce.prototype.valueOf=Ce.prototype.toJSON=Ce.prototype.value,Ce.prototype.toString=function(){return String(this._wrapped)};var Oe="[object DataView]";function De(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&Pe(e,t,n,r)}function Pe(e,t,n,r){e instanceof Ce&&(e=e._wrapped),t instanceof Ce&&(t=t._wrapped);var i=I.call(e);if(i!==I.call(t))return!1;if(ae&&"[object Object]"==i&&ce(e)){if(!ce(t))return!1;i=Oe}switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return A.valueOf.call(e)===A.valueOf.call(t);case"[object ArrayBuffer]":case Oe:return Pe(Ie(e),Ie(t),n,r)}var o="[object Array]"===i;if(!o&&Ee(e)){if(ye(e)!==ye(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(ie(a)&&a instanceof a&&ie(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!De(e[l],t[l],n,r))return!1}else{var c,u=Se(e);if(l=u.length,Se(t).length!==l)return!1;for(;l--;)if(!he(t,c=u[l])||!De(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0}function Ne(e,t){return De(e,t)}function Re(e){if(!z(e))return[];var t=[];for(var n in e)t.push(n);return U&&we(e,t),t}function Me(e){var t=xe(e);return function(n){if(null==n)return!1;var r=Re(n);if(xe(r))return!1;for(var i=0;i<t;i++)if(!ie(n[e[i]]))return!1;return e!==je||!ie(n[Le])}}var Le="forEach",Be=["clear","delete"],Fe=["get","has","set"],Ue=Be.concat(Le,Fe),je=Be.concat(Fe),He=["add"].concat(Be,Le,"has");const Ge=se?Me(Ue):W("Map"),ze=se?Me(je):W("WeakMap"),Ve=se?Me(He):W("Set"),Ye=W("WeakSet");function $e(e){for(var t=Se(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function Xe(e){for(var t=Se(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r}function We(e){for(var t={},n=Se(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function qe(e){var t=[];for(var n in e)ie(e[n])&&t.push(n);return t.sort()}function Ke(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}}const Ze=Ke(Re),Qe=Ke(Se),Je=Ke(Re,!0);function et(e){if(!z(e))return{};if(M)return M(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function tt(e,t){var n=et(e);return t&&Qe(n,t),n}function nt(e){return z(e)?ue(e)?e.slice():Ze({},e):e}function rt(e,t){return t(e),e}function it(e){return ue(e)?e:[e]}function ot(e){return Ce.toPath(e)}function at(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function st(e,t,n){var r=at(e,ot(t));return Y(r)?n:r}function lt(e,t){for(var n=(t=ot(t)).length,r=0;r<n;r++){var i=t[r];if(!he(e,i))return!1;e=e[i]}return!!n}function ct(e){return e}function ut(e){return e=Qe({},e),function(t){return ke(t,e)}}function ht(e){return e=ot(e),function(t){return at(t,e)}}function dt(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function pt(e,t,n){return null==e?ct:ie(e)?dt(e,t,n):z(e)&&!ue(e)?ut(e):ht(e)}function ft(e,t){return pt(e,t,1/0)}function mt(e,t,n){return Ce.iteratee!==ft?Ce.iteratee(e,t):pt(e,t,n)}function gt(e,t,n){t=mt(t,n);for(var r=Se(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o}function bt(){}function vt(e){return null==e?bt:function(t){return st(e,t)}}function yt(e,t,n){var r=Array(Math.max(0,e));t=dt(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r}function Tt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}Ce.toPath=it,Ce.iteratee=ft;const _t=Date.now||function(){return(new Date).getTime()};function Et(e){var t=function(t){return e[t]},n="(?:"+Se(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}const xt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},wt=Et(xt),St=Et(We(xt)),At=Ce.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var kt=/(.)^/,Ct={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},It=/\\|'|\r|\n|\u2028|\u2029/g;function Ot(e){return"\\"+Ct[e]}var Dt=/^\s*(\w|\$)+\s*$/;function Pt(e,t,n){!t&&n&&(t=n),t=Je({},t,Ce.templateSettings);var r=RegExp([(t.escape||kt).source,(t.interpolate||kt).source,(t.evaluate||kt).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,(function(t,n,r,a,s){return o+=e.slice(i,s).replace(It,Ot),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t})),o+="';\n";var a,s=t.variable;if(s){if(!Dt.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(e){throw e.source=o,e}var l=function(e){return a.call(this,e,Ce)};return l.source="function("+s+"){\n"+o+"}",l}function Nt(e,t,n){var r=(t=ot(t)).length;if(!r)return ie(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=ie(o)?o.call(e):o}return e}var Rt=0;function Mt(e){var t=++Rt+"";return e?e+t:t}function Lt(e){var t=Ce(e);return t._chain=!0,t}function Bt(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=et(e.prototype),a=e.apply(o,i);return z(a)?a:o}var Ft=G((function(e,t){var n=Ft.placeholder,r=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return Bt(e,r,this,this,a)};return r}));Ft.placeholder=Ce;const Ut=Ft,jt=G((function(e,t,n){if(!ie(e))throw new TypeError("Bind must be called on a function");var r=G((function(i){return Bt(e,r,t,this,n.concat(i))}));return r})),Ht=be(xe);function Gt(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,a=xe(e);o<a;o++){var s=e[o];if(Ht(s)&&(ue(s)||pe(s)))if(t>1)Gt(s,t-1,n,r),i=r.length;else for(var l=0,c=s.length;l<c;)r[i++]=s[l++];else n||(r[i++]=s)}return r}const zt=G((function(e,t){var n=(t=Gt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=jt(e[r],e)}return e}));function Vt(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return he(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n}const Yt=G((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),$t=Ut(Yt,Ce,1);function Xt(e,t,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:_t(),r=null,a=e.apply(i,o),r||(i=o=null)},c=function(){var c=_t();s||!1!==n.leading||(s=c);var u=t-(c-s);return i=this,o=arguments,u<=0||u>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c}function Wt(e,t,n){var r,i,o,a,s,l=function(){var c=_t()-i;t>c?r=setTimeout(l,t-c):(r=null,n||(a=e.apply(s,o)),r||(o=s=null))},c=G((function(c){return s=this,o=c,i=_t(),r||(r=setTimeout(l,t),n&&(a=e.apply(s,o))),a}));return c.cancel=function(){clearTimeout(r),r=o=s=null},c}function qt(e,t){return Ut(t,e)}function Kt(e){return function(){return!e.apply(this,arguments)}}function Zt(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function Qt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Jt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const en=Ut(Jt,2);function tn(e,t,n){t=mt(t,n);for(var r,i=Se(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r}function nn(e){return function(t,n,r){n=mt(n,r);for(var i=xe(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}const rn=nn(1),on=nn(-1);function an(e,t,n,r){for(var i=(n=mt(n,r,1))(t),o=0,a=xe(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o}function sn(e,t,n){return function(r,i,o){var a=0,s=xe(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(C.call(r,a,s),me))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}}const ln=sn(1,rn,an),cn=sn(-1,on);function un(e,t,n){var r=(Ht(e)?rn:tn)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function hn(e,t){return un(e,ut(t))}function dn(e,t,n){var r,i;if(t=dt(t,n),Ht(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=Se(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function pn(e,t,n){t=mt(t,n);for(var r=!Ht(e)&&Se(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o}function fn(e){return function(t,n,r,i){var o=arguments.length>=3;return function(t,n,r,i){var o=!Ht(t)&&Se(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var l=o?o[s]:s;r=n(r,t[l],l,t)}return r}(t,dt(n,i,4),r,o)}}const mn=fn(1),gn=fn(-1);function bn(e,t,n){var r=[];return t=mt(t,n),dn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function vn(e,t,n){return bn(e,Kt(mt(t)),n)}function yn(e,t,n){t=mt(t,n);for(var r=!Ht(e)&&Se(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0}function Tn(e,t,n){t=mt(t,n);for(var r=!Ht(e)&&Se(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1}function _n(e,t,n,r){return Ht(e)||(e=$e(e)),("number"!=typeof n||r)&&(n=0),ln(e,t,n)>=0}const En=G((function(e,t,n){var r,i;return ie(t)?i=t:(t=ot(t),r=t.slice(0,-1),t=t[t.length-1]),pn(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=at(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))}));function xn(e,t){return pn(e,ht(t))}function wn(e,t){return bn(e,ut(t))}function Sn(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=Ht(e)?e:$e(e)).length;s<l;s++)null!=(r=e[s])&&r>o&&(o=r);else t=mt(t,n),dn(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o}function An(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=Ht(e)?e:$e(e)).length;s<l;s++)null!=(r=e[s])&&r<o&&(o=r);else t=mt(t,n),dn(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o}var kn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Cn(e){return e?ue(e)?C.call(e):q(e)?e.match(kn):Ht(e)?pn(e,ct):$e(e):[]}function In(e,t,n){if(null==t||n)return Ht(e)||(e=$e(e)),e[Tt(e.length-1)];var r=Cn(e),i=xe(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=Tt(a,o),l=r[a];r[a]=r[s],r[s]=l}return r.slice(0,t)}function On(e){return In(e,1/0)}function Dn(e,t,n){var r=0;return t=mt(t,n),xn(pn(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")}function Pn(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=mt(r,i),dn(n,(function(t,i){var a=r(t,i,n);e(o,t,a)})),o}}const Nn=Pn((function(e,t,n){he(e,n)?e[n].push(t):e[n]=[t]})),Rn=Pn((function(e,t,n){e[n]=t})),Mn=Pn((function(e,t,n){he(e,n)?e[n]++:e[n]=1})),Ln=Pn((function(e,t,n){e[n?0:1].push(t)}),!0);function Bn(e){return null==e?0:Ht(e)?e.length:Se(e).length}function Fn(e,t,n){return t in n}const Un=G((function(e,t){var n={},r=t[0];if(null==e)return n;ie(r)?(t.length>1&&(r=dt(r,t[1])),t=Re(e)):(r=Fn,t=Gt(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n})),jn=G((function(e,t){var n,r=t[0];return ie(r)?(r=Kt(r),t.length>1&&(n=t[1])):(t=pn(Gt(t,!1,!1),String),r=function(e,n){return!_n(t,n)}),Un(e,r,n)}));function Hn(e,t,n){return C.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Gn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Hn(e,e.length-t)}function zn(e,t,n){return C.call(e,null==t||n?1:t)}function Vn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:zn(e,Math.max(0,e.length-t))}function Yn(e){return bn(e,Boolean)}function $n(e,t){return Gt(e,t,!1)}const Xn=G((function(e,t){return t=Gt(t,!0,!0),bn(e,(function(e){return!_n(t,e)}))})),Wn=G((function(e,t){return Xn(e,t)}));function qn(e,t,n,r){$(t)||(r=n,n=t,t=!1),null!=n&&(n=mt(n,r));for(var i=[],o=[],a=0,s=xe(e);a<s;a++){var l=e[a],c=n?n(l,a,e):l;t&&!n?(a&&o===c||i.push(l),o=c):n?_n(o,c)||(o.push(c),i.push(l)):_n(i,l)||i.push(l)}return i}const Kn=G((function(e){return qn(Gt(e,!0,!0))}));function Zn(e){for(var t=[],n=arguments.length,r=0,i=xe(e);r<i;r++){var o=e[r];if(!_n(t,o)){var a;for(a=1;a<n&&_n(arguments[a],o);a++);a===n&&t.push(o)}}return t}function Qn(e){for(var t=e&&Sn(e,xe).length||0,n=Array(t),r=0;r<t;r++)n[r]=xn(e,r);return n}const Jn=G(Qn);function er(e,t){for(var n={},r=0,i=xe(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function tr(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i}function nr(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(C.call(e,r,r+=t));return n}function rr(e,t){return e._chain?Ce(t).chain():t}function ir(e){return dn(qe(e),(function(t){var n=Ce[t]=e[t];Ce.prototype[t]=function(){var e=[this._wrapped];return k.apply(e,arguments),rr(this,n.apply(Ce,e))}})),Ce}dn(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=w[e];Ce.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),rr(this,n)}})),dn(["concat","join","slice"],(function(e){var t=w[e];Ce.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),rr(this,e)}}));const or=Ce;var ar=ir(e);ar._=ar;const sr=ar;function lr(e,t){return function(){return e.apply(t,arguments)}}const{toString:cr}=Object.prototype,{getPrototypeOf:ur}=Object,hr=(dr=Object.create(null),e=>{const t=cr.call(e);return dr[t]||(dr[t]=t.slice(8,-1).toLowerCase())});var dr;const pr=e=>(e=e.toLowerCase(),t=>hr(t)===e),fr=e=>t=>typeof t===e,{isArray:mr}=Array,gr=fr("undefined"),br=pr("ArrayBuffer"),vr=fr("string"),yr=fr("function"),Tr=fr("number"),_r=e=>null!==e&&"object"==typeof e,Er=e=>{if("object"!==hr(e))return!1;const t=ur(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},xr=pr("Date"),wr=pr("File"),Sr=pr("Blob"),Ar=pr("FileList"),kr=pr("URLSearchParams"),[Cr,Ir,Or,Dr]=["ReadableStream","Request","Response","Headers"].map(pr);function Pr(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),mr(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function Nr(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Rr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Mr=e=>!gr(e)&&e!==Rr,Lr=(Br="undefined"!=typeof Uint8Array&&ur(Uint8Array),e=>Br&&e instanceof Br);var Br;const Fr=pr("HTMLFormElement"),Ur=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),jr=pr("RegExp"),Hr=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Pr(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},Gr="abcdefghijklmnopqrstuvwxyz",zr="0123456789",Vr={DIGIT:zr,ALPHA:Gr,ALPHA_DIGIT:Gr+Gr.toUpperCase()+zr},Yr=pr("AsyncFunction"),$r=(Xr="function"==typeof setImmediate,Wr=yr(Rr.postMessage),Xr?setImmediate:Wr?((e,t)=>(Rr.addEventListener("message",(({source:n,data:r})=>{n===Rr&&r===e&&t.length&&t.shift()()}),!1),n=>{t.push(n),Rr.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var Xr,Wr;const qr="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Rr):"undefined"!=typeof process&&process.nextTick||$r,Kr={isArray:mr,isArrayBuffer:br,isBuffer:function(e){return null!==e&&!gr(e)&&null!==e.constructor&&!gr(e.constructor)&&yr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||yr(e.append)&&("formdata"===(t=hr(e))||"object"===t&&yr(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&br(e.buffer),t},isString:vr,isNumber:Tr,isBoolean:e=>!0===e||!1===e,isObject:_r,isPlainObject:Er,isReadableStream:Cr,isRequest:Ir,isResponse:Or,isHeaders:Dr,isUndefined:gr,isDate:xr,isFile:wr,isBlob:Sr,isRegExp:jr,isFunction:yr,isStream:e=>_r(e)&&yr(e.pipe),isURLSearchParams:kr,isTypedArray:Lr,isFileList:Ar,forEach:Pr,merge:function e(){const{caseless:t}=Mr(this)&&this||{},n={},r=(r,i)=>{const o=t&&Nr(n,i)||i;Er(n[o])&&Er(r)?n[o]=e(n[o],r):Er(r)?n[o]=e({},r):mr(r)?n[o]=r.slice():n[o]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&Pr(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(Pr(t,((t,r)=>{n&&yr(t)?e[r]=lr(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&ur(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:hr,kindOfTest:pr,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(mr(e))return e;let t=e.length;if(!Tr(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Fr,hasOwnProperty:Ur,hasOwnProp:Ur,reduceDescriptors:Hr,freezeMethods:e=>{Hr(e,((t,n)=>{if(yr(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];yr(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return mr(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Nr,global:Rr,isContextDefined:Mr,ALPHABET:Vr,generateString:(e=16,t=Vr.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&yr(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(_r(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=mr(e)?[]:{};return Pr(e,((e,t)=>{const o=n(e,r+1);!gr(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Yr,isThenable:e=>e&&(_r(e)||yr(e))&&yr(e.then)&&yr(e.catch),setImmediate:$r,asap:qr};function Zr(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Kr.inherits(Zr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Kr.toJSONObject(this.config),code:this.code,status:this.status}}});const Qr=Zr.prototype,Jr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Jr[e]={value:e}})),Object.defineProperties(Zr,Jr),Object.defineProperty(Qr,"isAxiosError",{value:!0}),Zr.from=(e,t,n,r,i,o)=>{const a=Object.create(Qr);return Kr.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Zr.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const ei=Zr;function ti(e){return Kr.isPlainObject(e)||Kr.isArray(e)}function ni(e){return Kr.endsWith(e,"[]")?e.slice(0,-2):e}function ri(e,t,n){return e?e.concat(t).map((function(e,t){return e=ni(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ii=Kr.toFlatObject(Kr,{},null,(function(e){return/^is[A-Z]/.test(e)})),oi=function(e,t,n){if(!Kr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Kr.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Kr.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Kr.isSpecCompliantForm(t);if(!Kr.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Kr.isDate(e))return e.toISOString();if(!s&&Kr.isBlob(e))throw new ei("Blob is not supported. Use a Buffer instead.");return Kr.isArrayBuffer(e)||Kr.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"==typeof e)if(Kr.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Kr.isArray(e)&&function(e){return Kr.isArray(e)&&!e.some(ti)}(e)||(Kr.isFileList(e)||Kr.endsWith(n,"[]"))&&(s=Kr.toArray(e)))return n=ni(n),s.forEach((function(e,r){!Kr.isUndefined(e)&&null!==e&&t.append(!0===a?ri([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!ti(e)||(t.append(ri(i,n,o),l(e)),!1)}const u=[],h=Object.assign(ii,{defaultVisitor:c,convertValue:l,isVisitable:ti});if(!Kr.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Kr.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Kr.forEach(n,(function(n,o){!0===(!(Kr.isUndefined(n)||null===n)&&i.call(t,n,Kr.isString(o)?o.trim():o,r,h))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function ai(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function si(e,t){this._pairs=[],e&&oi(e,this,t)}const li=si.prototype;li.append=function(e,t){this._pairs.push([e,t])},li.toString=function(e){const t=e?function(t){return e.call(this,t,ai)}:ai;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ci=si;function ui(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hi(e,t,n){if(!t)return e;const r=n&&n.encode||ui,i=n&&n.serialize;let o;if(o=i?i(t,n):Kr.isURLSearchParams(t)?t.toString():new ci(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const di=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Kr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},pi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fi={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ci,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},mi="undefined"!=typeof window&&"undefined"!=typeof document,gi="object"==typeof navigator&&navigator||void 0,bi=mi&&(!gi||["ReactNative","NativeScript","NS"].indexOf(gi.product)<0),vi="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,yi=mi&&window.location.href||"http://localhost",Ti={...t,...fi},_i=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;return o=!o&&Kr.isArray(r)?r.length:o,s?(Kr.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):(r[o]&&Kr.isObject(r[o])||(r[o]=[]),t(e,n,r[o],i)&&Kr.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a)}if(Kr.isFormData(e)&&Kr.isFunction(e.entries)){const n={};return Kr.forEachEntry(e,((e,r)=>{t(function(e){return Kr.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null},Ei={transitional:pi,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Kr.isObject(e);if(i&&Kr.isHTMLForm(e)&&(e=new FormData(e)),Kr.isFormData(e))return r?JSON.stringify(_i(e)):e;if(Kr.isArrayBuffer(e)||Kr.isBuffer(e)||Kr.isStream(e)||Kr.isFile(e)||Kr.isBlob(e)||Kr.isReadableStream(e))return e;if(Kr.isArrayBufferView(e))return e.buffer;if(Kr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return oi(e,new Ti.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ti.isNode&&Kr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Kr.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return oi(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e){if(Kr.isString(e))try{return(0,JSON.parse)(e),Kr.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Ei.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Kr.isResponse(e)||Kr.isReadableStream(e))return e;if(e&&Kr.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw ei.from(e,ei.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ti.classes.FormData,Blob:Ti.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Kr.forEach(["delete","get","head","post","put","patch"],(e=>{Ei.headers[e]={}}));const xi=Ei,wi=Kr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Si=Symbol("internals");function Ai(e){return e&&String(e).trim().toLowerCase()}function ki(e){return!1===e||null==e?e:Kr.isArray(e)?e.map(ki):String(e)}function Ci(e,t,n,r,i){return Kr.isFunction(r)?r.call(this,t,n):(i&&(t=n),Kr.isString(t)?Kr.isString(r)?-1!==t.indexOf(r):Kr.isRegExp(r)?r.test(t):void 0:void 0)}class Ii{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Ai(t);if(!i)throw new Error("header name must be a non-empty string");const o=Kr.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=ki(e))}const o=(e,t)=>Kr.forEach(e,((e,n)=>i(e,n,t)));if(Kr.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Kr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&wi[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Kr.isHeaders(e))for(const[t,r]of e.entries())i(r,t,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=Ai(e)){const n=Kr.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Kr.isFunction(t))return t.call(this,e,n);if(Kr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ai(e)){const n=Kr.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ci(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Ai(e)){const i=Kr.findKey(n,e);!i||t&&!Ci(0,n[i],i,t)||(delete n[i],r=!0)}}return Kr.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Ci(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Kr.forEach(this,((r,i)=>{const o=Kr.findKey(n,i);if(o)return t[o]=ki(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=ki(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Kr.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Kr.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Si]=this[Si]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Ai(e);t[r]||(function(e,t){const n=Kr.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Kr.isArray(e)?e.forEach(r):r(e),this}}Ii.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Kr.reduceDescriptors(Ii.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),Kr.freezeMethods(Ii);const Oi=Ii;function Di(e,t){const n=this||xi,r=t||n,i=Oi.from(r.headers);let o=r.data;return Kr.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Pi(e){return!(!e||!e.__CANCEL__)}function Ni(e,t,n){ei.call(this,null==e?"canceled":e,ei.ERR_CANCELED,t,n),this.name="CanceledError"}Kr.inherits(Ni,ei,{__CANCEL__:!0});const Ri=Ni;function Mi(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new ei("Request failed with status code "+n.status,[ei.ERR_BAD_REQUEST,ei.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Li=(e,t,n=3)=>{let r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let u=a,h=0;for(;u!==o;)h+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}}(50,250);return function(e,t){let n,r,i=0,o=1e3/t;const a=(t,o=Date.now())=>{i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-i;s>=o?a(e,t):(n=e,r||(r=setTimeout((()=>{r=null,a(n)}),o-s)))},()=>n&&a(n)]}((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,l=i(s);r=o,e({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},Bi=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Fi=e=>(...t)=>Kr.asap((()=>e(...t))),Ui=Ti.hasStandardBrowserEnv?function(){const e=Ti.navigator&&/(msie|trident)/i.test(Ti.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Kr.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},ji=Ti.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];Kr.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Kr.isString(r)&&a.push("path="+r),Kr.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Hi(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Gi=e=>e instanceof Oi?{...e}:e;function zi(e,t){t=t||{};const n={};function r(e,t,n){return Kr.isPlainObject(e)&&Kr.isPlainObject(t)?Kr.merge.call({caseless:n},e,t):Kr.isPlainObject(t)?Kr.merge({},t):Kr.isArray(t)?t.slice():t}function i(e,t,n){return Kr.isUndefined(t)?Kr.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!Kr.isUndefined(t))return r(void 0,t)}function a(e,t){return Kr.isUndefined(t)?Kr.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(Gi(e),Gi(t),!0)};return Kr.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,a=o(e[r],t[r],r);Kr.isUndefined(a)&&o!==s||(n[r]=a)})),n}const Vi=e=>{const t=zi({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=Oi.from(s),t.url=hi(Hi(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Kr.isFormData(r))if(Ti.hasStandardBrowserEnv||Ti.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Ti.hasStandardBrowserEnv&&(i&&Kr.isFunction(i)&&(i=i(t)),i||!1!==i&&Ui(t.url))){const e=o&&a&&ji.read(a);e&&s.set(o,e)}return t},Yi="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Vi(e);let i=r.data;const o=Oi.from(r.headers).normalize();let a,s,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Oi.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Mi((function(e){t(e),f()}),(function(e){n(e),f()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new ei("Request aborted",ei.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new ei("Network Error",ei.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||pi;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new ei(t,i.clarifyTimeoutError?ei.ETIMEDOUT:ei.ECONNABORTED,e,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&Kr.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Kr.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),h&&"json"!==h&&(m.responseType=r.responseType),p&&([l,u]=Li(p,!0),m.addEventListener("progress",l)),d&&m.upload&&([s,c]=Li(d),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Ri(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===Ti.protocols.indexOf(b)?n(new ei("Unsupported protocol "+b+":",ei.ERR_BAD_REQUEST,e)):m.send(i||null)}))},$i=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof ei?t:new Ri(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new ei(`timeout ${t} of ms exceeded`,ei.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>Kr.asap(a),s}},Xi=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Wi=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*Xi(n,t)}(e,t);let o,a=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=a+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},qi="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ki=qi&&"function"==typeof ReadableStream,Zi=qi&&("function"==typeof TextEncoder?(Qi=new TextEncoder,e=>Qi.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Qi;const Ji=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},eo=Ki&&Ji((()=>{let e=!1;const t=new Request(Ti.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),to=Ki&&Ji((()=>Kr.isReadableStream(new Response("").body))),no={stream:to&&(e=>e.body)};var ro;qi&&(ro=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!no[e]&&(no[e]=Kr.isFunction(ro[e])?t=>t[e]():(t,n)=>{throw new ei(`Response type '${e}' is not supported`,ei.ERR_NOT_SUPPORT,n)})})));const io=qi&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=Vi(e);c=c?(c+"").toLowerCase():"text";let p,f=$i([i,o&&o.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&eo&&"get"!==n&&"head"!==n&&0!==(g=await(async(e,t)=>{const n=Kr.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Kr.isBlob(e))return e.size;if(Kr.isSpecCompliantForm(e)){const t=new Request(Ti.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Kr.isArrayBufferView(e)||Kr.isArrayBuffer(e)?e.byteLength:(Kr.isURLSearchParams(e)&&(e+=""),Kr.isString(e)?(await Zi(e)).byteLength:void 0)})(t):n})(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Kr.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Bi(g,Li(Fi(l)));r=Wi(n.body,65536,e,t)}}Kr.isString(h)||(h=h?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,{...d,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?h:void 0});let o=await fetch(p);const a=to&&("stream"===c||"response"===c);if(to&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=Kr.toFiniteNumber(o.headers.get("content-length")),[n,r]=s&&Bi(t,Li(Fi(s),!0))||[];o=new Response(Wi(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let b=await no[Kr.findKey(no,c)||"text"](o,e);return!a&&m&&m(),await new Promise(((t,n)=>{Mi(t,n,{data:b,headers:Oi.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:p})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new ei("Network Error",ei.ERR_NETWORK,e,p),{cause:t.cause||t});throw ei.from(t,t&&t.code,e,p)}}),oo={http:null,xhr:Yi,fetch:io};Kr.forEach(oo,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const ao=e=>`- ${e}`,so=e=>Kr.isFunction(e)||null===e||!1===e,lo=e=>{e=Kr.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!so(n)&&(r=oo[(t=String(n)).toLowerCase()],void 0===r))throw new ei(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(ao).join("\n"):" "+ao(e[0]):"as no adapter specified";throw new ei("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function co(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ri(null,e)}function uo(e){return co(e),e.headers=Oi.from(e.headers),e.data=Di.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lo(e.adapter||xi.adapter)(e).then((function(t){return co(e),t.data=Di.call(e,e.transformResponse,t),t.headers=Oi.from(t.headers),t}),(function(t){return Pi(t)||(co(e),t&&t.response&&(t.response.data=Di.call(e,e.transformResponse,t.response),t.response.headers=Oi.from(t.response.headers))),Promise.reject(t)}))}const ho={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ho[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const po={};ho.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new ei(r(i," has been removed"+(t?" in "+t:"")),ei.ERR_DEPRECATED);return t&&!po[i]&&(po[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const fo={assertOptions:function(e,t,n){if("object"!=typeof e)throw new ei("options must be an object",ei.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new ei("option "+o+" must be "+n,ei.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ei("Unknown option "+o,ei.ERR_BAD_OPTION)}},validators:ho},mo=fo.validators;class go{constructor(e){this.defaults=e,this.interceptors={request:new di,response:new di}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=zi(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&fo.assertOptions(n,{silentJSONParsing:mo.transitional(mo.boolean),forcedJSONParsing:mo.transitional(mo.boolean),clarifyTimeoutError:mo.transitional(mo.boolean)},!1),null!=r&&(Kr.isFunction(r)?t.paramsSerializer={serialize:r}:fo.assertOptions(r,{encode:mo.function,serialize:mo.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Kr.merge(i.common,i[t.method]);i&&Kr.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Oi.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!s){const e=[uo.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=a.length;let d=t;for(h=0;h<u;){const e=a[h++],t=a[h++];try{d=e(d)}catch(e){t.call(this,e);break}}try{c=uo.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return hi(Hi((e=zi(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Kr.forEach(["delete","get","head","options"],(function(e){go.prototype[e]=function(t,n){return this.request(zi(n||{},{method:e,url:t,data:(n||{}).data}))}})),Kr.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(zi(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}go.prototype[e]=t(),go.prototype[e+"Form"]=t(!0)}));const bo=go;class vo{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Ri(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new vo((function(t){e=t})),cancel:e}}}const yo=vo,To={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(To).forEach((([e,t])=>{To[t]=e}));const _o=To,Eo=function e(t){const n=new bo(t),r=lr(bo.prototype.request,n);return Kr.extend(r,bo.prototype,n,{allOwnKeys:!0}),Kr.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(zi(t,n))},r}(xi);Eo.Axios=bo,Eo.CanceledError=Ri,Eo.CancelToken=yo,Eo.isCancel=Pi,Eo.VERSION="1.7.7",Eo.toFormData=oi,Eo.AxiosError=ei,Eo.Cancel=Eo.CanceledError,Eo.all=function(e){return Promise.all(e)},Eo.spread=function(e){return function(t){return e.apply(null,t)}},Eo.isAxiosError=function(e){return Kr.isObject(e)&&!0===e.isAxiosError},Eo.mergeConfig=zi,Eo.AxiosHeaders=Oi,Eo.formToJSON=e=>_i(Kr.isHTMLForm(e)?new FormData(e):e),Eo.getAdapter=lo,Eo.HttpStatusCode=_o,Eo.default=Eo;const xo=Eo;class wo extends n.PureComponent{constructor(e){super(e),this.higlassContainer=window.hgc,this.state={results:[],currentTextValue:e.value||"",loading:!1,error:null,info:null},this.currentRequest=null,this.onLoadData=sr.debounce(this.onLoadData.bind(this),500,!1),this.handleResultClick=this.handleResultClick.bind(this)}updateCurrentSearchTerm(e){const t=e.target.value;this.setState({currentTextValue:t},(()=>{this.onLoadData()}))}constructFetchURL(){const{currentTextValue:e}=this.state;return"https://higlass.io/api/v1/suggest/?d=OHJakQICQD6gTD7skx4EWA&ac="+encodeURIComponent(e)}onLoadData(){this.state.currentTextValue.length<=1?this.setState({currentTextValue:this.state.currentTextValue,loading:!1,results:[],error:null,info:null}):(this.setState({loading:!0}),xo.get(this.constructFetchURL()).then((e=>{let t=null;e&&e.data&&0===e.data.length?t=[]:e&&e.data&&e.data.length>0&&(t=e.data),null===t?this.setState({loading:!1,results:[],error:"Could not get a response from server. Check network and try again.",info:null}):0===t.length?this.setState({loading:!1,results:[],error:null,info:"We could not find any matching genes."}):t.length>0&&this.setState({loading:!1,results:t,error:null,info:null})})))}handleResultClick(e,t){if(e.preventDefault(),window.hgc&&window.hgc.current){const e=window.hgc.current,n=e.api.getViewConfig().views[0].uid;e.api.zoomToGene(n,t,5e3,2e3)}}render(){const{results:e=[],loading:t,error:r,info:i}=this.state,o=t?"fa fa-spinner fa-spin fas":"fa fa-search fas";return n.createElement(n.Fragment,null,n.createElement("div",{className:"input-group"},n.createElement("div",{className:"input-group-prepend"},n.createElement("span",{className:"input-group-text",id:"search-for-gene-addon"},n.createElement("i",{className:o}))),n.createElement("input",{type:"text",onChange:e=>this.updateCurrentSearchTerm(e),className:"form-control",placeholder:"Search for gene","aria-label":"Search for gene","aria-describedby":"search-for-gene-addon"})),n.createElement(So,{results:e,error:r,info:i,handleResultClick:this.handleResultClick}))}}const So=n.memo((function(e){const{results:t,error:r,info:i,handleResultClick:o}=e;if(r)return n.createElement("div",{className:"text-smaller"},n.createElement("i",{className:"icon icon-exclamation-triangle fas text-warning ml-05 mr-05"}),r);if(i)return n.createElement("div",{className:"text-smaller"},n.createElement("i",{className:"icon icon-info-circle fas text-secondary ml-05 mr-05"}),i);const a=t.map(((e,t)=>{if(!(t>=6))return n.createElement("div",{className:"mr-1",key:e.geneName},n.createElement("small",null,n.createElement("a",{href:"#",onClick:t=>o(t,e.geneName)},e.geneName)))}));return n.createElement("div",{className:"d-flex flex-row flex-wrap bd-highlight"},a)}));var Ao=i(4647);function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}function Co(e){var t=function(e){if("object"!=ko(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ko(t)?t:t+""}function Io(e,t,n){return(t=Co(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){Io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function No(e,t){if(e){if("string"==typeof e)return Po(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Po(e,t):void 0}}function Ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||No(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Lo=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bo.apply(null,arguments)}function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Co(r.key),r)}}function Uo(e,t){return Uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Uo(e,t)}function jo(e){return jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jo(e)}function Ho(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ho=function(){return!!e})()}function Go(e){return function(e){if(Array.isArray(e))return Po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||No(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zo=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Vo=Math.abs,Yo=String.fromCharCode,$o=Object.assign;function Xo(e){return e.trim()}function Wo(e,t,n){return e.replace(t,n)}function qo(e,t){return e.indexOf(t)}function Ko(e,t){return 0|e.charCodeAt(t)}function Zo(e,t,n){return e.slice(t,n)}function Qo(e){return e.length}function Jo(e){return e.length}function ea(e,t){return t.push(e),e}var ta=1,na=1,ra=0,ia=0,oa=0,aa="";function sa(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:ta,column:na,length:a,return:""}}function la(e,t){return $o(sa("",null,null,"",null,null,0),e,{length:-e.length},t)}function ca(){return oa=ia>0?Ko(aa,--ia):0,na--,10===oa&&(na=1,ta--),oa}function ua(){return oa=ia<ra?Ko(aa,ia++):0,na++,10===oa&&(na=1,ta++),oa}function ha(){return Ko(aa,ia)}function da(){return ia}function pa(e,t){return Zo(aa,e,t)}function fa(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ma(e){return ta=na=1,ra=Qo(aa=e),ia=0,[]}function ga(e){return aa="",e}function ba(e){return Xo(pa(ia-1,Ta(91===e?e+2:40===e?e+1:e)))}function va(e){for(;(oa=ha())&&oa<33;)ua();return fa(e)>2||fa(oa)>3?"":" "}function ya(e,t){for(;--t&&ua()&&!(oa<48||oa>102||oa>57&&oa<65||oa>70&&oa<97););return pa(e,da()+(t<6&&32==ha()&&32==ua()))}function Ta(e){for(;ua();)switch(oa){case e:return ia;case 34:case 39:34!==e&&39!==e&&Ta(oa);break;case 40:41===e&&Ta(e);break;case 92:ua()}return ia}function _a(e,t){for(;ua()&&e+oa!==57&&(e+oa!==84||47!==ha()););return"/*"+pa(t,ia-1)+"*"+Yo(47===e?e:ua())}function Ea(e){for(;!fa(ha());)ua();return pa(e,ia)}var xa="-ms-",wa="-moz-",Sa="-webkit-",Aa="comm",ka="rule",Ca="decl",Ia="@keyframes";function Oa(e,t){for(var n="",r=Jo(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Da(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ca:return e.return=e.return||e.value;case Aa:return"";case Ia:return e.return=e.value+"{"+Oa(e.children,r)+"}";case ka:e.value=e.props.join(",")}return Qo(n=Oa(e.children,r))?e.return=e.value+"{"+n+"}":""}function Pa(e){return ga(Na("",null,null,null,[""],e=ma(e),0,[0],e))}function Na(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,h=a,d=0,p=0,f=0,m=1,g=1,b=1,v=0,y="",T=i,_=o,E=r,x=y;g;)switch(f=v,v=ua()){case 40:if(108!=f&&58==Ko(x,h-1)){-1!=qo(x+=Wo(ba(v),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:x+=ba(v);break;case 9:case 10:case 13:case 32:x+=va(f);break;case 92:x+=ya(da()-1,7);continue;case 47:switch(ha()){case 42:case 47:ea(Ma(_a(ua(),da()),t,n),l);break;default:x+="/"}break;case 123*m:s[c++]=Qo(x)*b;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==b&&(x=Wo(x,/\f/g,"")),p>0&&Qo(x)-h&&ea(p>32?La(x+";",r,n,h-1):La(Wo(x," ","")+";",r,n,h-2),l);break;case 59:x+=";";default:if(ea(E=Ra(x,t,n,c,u,i,s,y,T=[],_=[],h),o),123===v)if(0===u)Na(x,t,E,E,T,o,h,s,_);else switch(99===d&&110===Ko(x,3)?100:d){case 100:case 108:case 109:case 115:Na(e,E,E,r&&ea(Ra(e,E,E,0,0,i,s,y,i,T=[],h),_),i,_,h,s,r?T:_);break;default:Na(x,E,E,E,[""],_,0,s,_)}}c=u=p=0,m=b=1,y=x="",h=a;break;case 58:h=1+Qo(x),p=f;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==ca())continue;switch(x+=Yo(v),v*m){case 38:b=u>0?1:(x+="\f",-1);break;case 44:s[c++]=(Qo(x)-1)*b,b=1;break;case 64:45===ha()&&(x+=ba(ua())),d=ha(),u=h=Qo(y=x+=Ea(da())),v++;break;case 45:45===f&&2==Qo(x)&&(m=0)}}return o}function Ra(e,t,n,r,i,o,a,s,l,c,u){for(var h=i-1,d=0===i?o:[""],p=Jo(d),f=0,m=0,g=0;f<r;++f)for(var b=0,v=Zo(e,h+1,h=Vo(m=a[f])),y=e;b<p;++b)(y=Xo(m>0?d[b]+" "+v:Wo(v,/&\f/g,d[b])))&&(l[g++]=y);return sa(e,t,n,0===i?ka:s,l,c,u)}function Ma(e,t,n){return sa(e,t,n,Aa,Yo(oa),Zo(e,2,-2),0)}function La(e,t,n,r){return sa(e,t,n,Ca,Zo(e,0,r),Zo(e,r+1,-1),r)}var Ba=function(e,t,n){for(var r=0,i=0;r=i,i=ha(),38===r&&12===i&&(t[n]=1),!fa(i);)ua();return pa(e,ia)},Fa=new WeakMap,Ua=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Fa.get(n))&&!r){Fa.set(e,!0);for(var i=[],o=function(e,t){return ga(function(e,t){var n=-1,r=44;do{switch(fa(r)){case 0:38===r&&12===ha()&&(t[n]=1),e[n]+=Ba(ia-1,t,n);break;case 2:e[n]+=ba(r);break;case 4:if(44===r){e[++n]=58===ha()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Yo(r)}}while(r=ua());return e}(ma(e),t))}(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},ja=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Ha(e,t){switch(function(e,t){return 45^Ko(e,0)?(((t<<2^Ko(e,0))<<2^Ko(e,1))<<2^Ko(e,2))<<2^Ko(e,3):0}(e,t)){case 5103:return Sa+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sa+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Sa+e+wa+e+xa+e+e;case 6828:case 4268:return Sa+e+xa+e+e;case 6165:return Sa+e+xa+"flex-"+e+e;case 5187:return Sa+e+Wo(e,/(\w+).+(:[^]+)/,Sa+"box-$1$2"+xa+"flex-$1$2")+e;case 5443:return Sa+e+xa+"flex-item-"+Wo(e,/flex-|-self/,"")+e;case 4675:return Sa+e+xa+"flex-line-pack"+Wo(e,/align-content|flex-|-self/,"")+e;case 5548:return Sa+e+xa+Wo(e,"shrink","negative")+e;case 5292:return Sa+e+xa+Wo(e,"basis","preferred-size")+e;case 6060:return Sa+"box-"+Wo(e,"-grow","")+Sa+e+xa+Wo(e,"grow","positive")+e;case 4554:return Sa+Wo(e,/([^-])(transform)/g,"$1"+Sa+"$2")+e;case 6187:return Wo(Wo(Wo(e,/(zoom-|grab)/,Sa+"$1"),/(image-set)/,Sa+"$1"),e,"")+e;case 5495:case 3959:return Wo(e,/(image-set\([^]*)/,Sa+"$1$`$1");case 4968:return Wo(Wo(e,/(.+:)(flex-)?(.*)/,Sa+"box-pack:$3"+xa+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sa+e+e;case 4095:case 3583:case 4068:case 2532:return Wo(e,/(.+)-inline(.+)/,Sa+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qo(e)-1-t>6)switch(Ko(e,t+1)){case 109:if(45!==Ko(e,t+4))break;case 102:return Wo(e,/(.+:)(.+)-([^]+)/,"$1"+Sa+"$2-$3$1"+wa+(108==Ko(e,t+3)?"$3":"$2-$3"))+e;case 115:return~qo(e,"stretch")?Ha(Wo(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Ko(e,t+1))break;case 6444:switch(Ko(e,Qo(e)-3-(~qo(e,"!important")&&10))){case 107:return Wo(e,":",":"+Sa)+e;case 101:return Wo(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Sa+(45===Ko(e,14)?"inline-":"")+"box$3$1"+Sa+"$2$3$1"+xa+"$2box$3")+e}break;case 5936:switch(Ko(e,t+11)){case 114:return Sa+e+xa+Wo(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Sa+e+xa+Wo(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Sa+e+xa+Wo(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Sa+e+xa+e+e}return e}var Ga=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ca:e.return=Ha(e.value,e.length);break;case Ia:return Oa([la(e,{value:Wo(e.value,"@","@"+Sa)})],r);case ka:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return Oa([la(e,{props:[Wo(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Oa([la(e,{props:[Wo(t,/:(plac\w+)/,":"+Sa+"input-$1")]}),la(e,{props:[Wo(t,/:(plac\w+)/,":-moz-$1")]}),la(e,{props:[Wo(t,/:(plac\w+)/,xa+"input-$1")]})],r)}return""}))}}],za=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,o=e.stylisPlugins||Ga,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,c,u,h,d=[Da,(h=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&h(e)})],p=(c=[Ua,ja].concat(o,d),u=Jo(c),function(e,t,n,r){for(var i="",o=0;o<u;o++)i+=c[o](e,t,n,r)||"";return i});i=function(e,t,n,r){l=n,Oa(Pa(e?e+"{"+t.styles+"}":t.styles),p),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new zo({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return f.sheet.hydrate(s),f},Va=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Ya={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function $a(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Xa=!1,Wa=/[A-Z]|^ms/g,qa=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ka=function(e){return 45===e.charCodeAt(1)},Za=function(e){return null!=e&&"boolean"!=typeof e},Qa=$a((function(e){return Ka(e)?e:e.replace(Wa,"-$&").toLowerCase()})),Ja=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(qa,(function(e,t,n){return ns={name:t,styles:n,next:ns},t}))}return 1===Ya[e]||Ka(e)||"number"!=typeof t||0===t?t:t+"px"},es="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function ts(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return ns={name:i.name,styles:i.styles,next:ns},i.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)ns={name:a.name,styles:a.styles,next:ns},a=a.next;return o.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ts(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a){var s=a;null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":Za(s)&&(r+=Qa(o)+":"+Ja(o,s)+";")}else{if("NO_COMPONENT_SELECTOR"===o&&Xa)throw new Error(es);if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=ts(e,t,a);switch(o){case"animation":case"animationName":r+=Qa(o)+":"+l+";";break;default:r+=o+"{"+l+"}"}}else for(var c=0;c<a.length;c++)Za(a[c])&&(r+=Qa(o)+":"+Ja(o,a[c])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var s=ns,l=n(e);return ns=s,ts(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var ns,rs=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function is(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";ns=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=ts(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=ts(n,t,e[a]),r&&(i+=o[a]);rs.lastIndex=0;for(var s,l="";null!==(s=rs.exec(i));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:ns}}var os=!!r.useInsertionEffect&&r.useInsertionEffect,as=os||function(e){return e()},ss=(os||n.useLayoutEffect,n.createContext("undefined"!=typeof HTMLElement?za({key:"css"}):null)),ls=(ss.Provider,function(e){return(0,n.forwardRef)((function(t,r){var i=(0,n.useContext)(ss);return e(t,i,r)}))}),cs=n.createContext({}),us={}.hasOwnProperty,hs="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ds=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Va(t,n,r),as((function(){return function(e,t,n){Va(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},ps=ls((function(e,t,r){var i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var o=e[hs],a=[i],s="";"string"==typeof e.className?s=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var l=is(a,void 0,n.useContext(cs));s+=t.key+"-"+l.name;var c={};for(var u in e)us.call(e,u)&&"css"!==u&&u!==hs&&(c[u]=e[u]);return c.className=s,r&&(c.ref=r),n.createElement(n.Fragment,null,n.createElement(ds,{cache:t,serialized:l,isStringTag:"string"==typeof o}),n.createElement(o,c))})),fs=ps,ms=(i(4146),function(e,t){var r=arguments;if(null==t||!us.call(t,"css"))return n.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=fs,o[1]=function(e,t){var n={};for(var r in t)us.call(t,r)&&(n[r]=t[r]);return n[hs]=e,n}(e,t);for(var a=2;a<i;a++)o[a]=r[a];return n.createElement.apply(null,o)});function gs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return is(t)}const bs=Math.min,vs=Math.max,ys=Math.round,Ts=Math.floor,_s=e=>({x:e,y:e});function Es(e){return Ss(e)?(e.nodeName||"").toLowerCase():"#document"}function xs(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function ws(e){var t;return null==(t=(Ss(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Ss(e){return e instanceof Node||e instanceof xs(e).Node}function As(e){return e instanceof Element||e instanceof xs(e).Element}function ks(e){return e instanceof HTMLElement||e instanceof xs(e).HTMLElement}function Cs(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof xs(e).ShadowRoot)}function Is(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Os(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Os(e){return xs(e).getComputedStyle(e)}function Ds(e){const t=function(e){if("html"===Es(e))return e;const t=e.assignedSlot||e.parentNode||Cs(e)&&e.host||ws(e);return Cs(t)?t.host:t}(e);return function(e){return["html","body","#document"].includes(Es(e))}(t)?e.ownerDocument?e.ownerDocument.body:e.body:ks(t)&&Is(t)?t:Ds(t)}function Ps(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=Ds(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),a=xs(i);if(o){const e=Ns(a);return t.concat(a,a.visualViewport||[],Is(i)?i:[],e&&n?Ps(e):[])}return t.concat(i,Ps(i,[],n))}function Ns(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rs(e){return As(e)?e:e.contextElement}function Ms(e){const t=Rs(e);if(!ks(t))return _s(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=function(e){const t=Os(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ks(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=ys(n)!==o||ys(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}(t);let a=(o?ys(n.width):n.width)/r,s=(o?ys(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const Ls=_s(0);function Bs(e){const t=xs(e);return"undefined"!=typeof CSS&&CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ls}function Fs(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=Rs(e);let a=_s(1);t&&(r?As(r)&&(a=Ms(r)):a=Ms(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==xs(e))&&t}(o,n,r)?Bs(o):_s(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(o){const e=xs(o),t=r&&As(r)?xs(r):r;let n=e,i=Ns(n);for(;i&&r&&t!==n;){const e=Ms(i),t=i.getBoundingClientRect(),r=Os(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=o,c+=a,n=xs(i),i=Ns(n)}}return function(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}({width:u,height:h,x:l,y:c})}const Us=n.useLayoutEffect;var js=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Hs=function(){};function Gs(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function zs(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(Gs(e,a)));return o.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Vs=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===ko(e)&&null!==e?[e]:[];var t},Ys=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Do({},Mo(e,js))},$s=function(e,t,n){var r=e.cx,i=e.getStyles,o=e.getClassNames,a=e.className;return{css:i(t,e),className:r(null!=n?n:{},o(t,e),a)}};function Xs(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Ws(e){return Xs(e)?window.pageYOffset:e.scrollTop}function qs(e,t){Xs(e)?window.scrollTo(0,t):e.scrollTop=t}function Ks(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Hs,i=Ws(e),o=t-i,a=0;!function t(){var s,l=o*((s=(s=a+=10)/n-1)*s*s+1)+i;qs(e,l),a<n?window.requestAnimationFrame(t):r(e)}()}function Zs(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?qs(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&qs(e,Math.max(t.offsetTop-i,0))}function Qs(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var Js=!1,el={get passive(){return Js=!0}},tl="undefined"!=typeof window?window:{};tl.addEventListener&&tl.removeEventListener&&(tl.addEventListener("p",Hs,el),tl.removeEventListener("p",Hs,!1));var nl=Js;function rl(e){return null!=e}function il(e,t,n){return e?t:n}var ol=["children","innerProps"],al=["children","innerProps"];var sl,ll,cl,ul=function(e){return"auto"===e?"bottom":e},hl=(0,n.createContext)(null),dl=function(e){var t=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,a=e.menuPosition,s=e.menuShouldScrollIntoView,l=e.theme,c=((0,n.useContext)(hl)||{}).setPortalPlacement,u=(0,n.useRef)(null),h=Ro((0,n.useState)(i),2),d=h[0],p=h[1],f=Ro((0,n.useState)(null),2),m=f[0],g=f[1],b=l.spacing.controlHeight;return Us((function(){var e=u.current;if(e){var t="fixed"===a,n=function(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u,h=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,f=d.height,m=d.top,g=n.offsetParent.getBoundingClientRect().top,b=a||Xs(u=l)?window.innerHeight:u.clientHeight,v=Ws(l),y=parseInt(getComputedStyle(n).marginBottom,10),T=parseInt(getComputedStyle(n).marginTop,10),_=g-T,E=b-m,x=_+v,w=h-v-m,S=p-b+v+y,A=v+m-T,k=160;switch(i){case"auto":case"bottom":if(E>=f)return{placement:"bottom",maxHeight:t};if(w>=f&&!a)return o&&Ks(l,S,k),{placement:"bottom",maxHeight:t};if(!a&&w>=r||a&&E>=r)return o&&Ks(l,S,k),{placement:"bottom",maxHeight:a?E-y:w-y};if("auto"===i||a){var C=t,I=a?_:x;return I>=r&&(C=Math.min(I-y-s,t)),{placement:"top",maxHeight:C}}if("bottom"===i)return o&&qs(l,S),{placement:"bottom",maxHeight:t};break;case"top":if(_>=f)return{placement:"top",maxHeight:t};if(x>=f&&!a)return o&&Ks(l,A,k),{placement:"top",maxHeight:t};if(!a&&x>=r||a&&_>=r){var O=t;return(!a&&x>=r||a&&_>=r)&&(O=a?_-T:x-T),o&&Ks(l,A,k),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}({maxHeight:i,menuEl:e,minHeight:r,placement:o,shouldScroll:s&&!t,isFixedPosition:t,controlHeight:b});p(n.maxHeight),g(n.placement),null==c||c(n.placement)}}),[i,o,a,s,r,c,b]),t({ref:u,placerProps:Do(Do({},e),{},{placement:m||ul(o),maxHeight:d})})},pl=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return Do({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},fl=pl,ml=pl,gl=["size"],bl=["innerProps","isRtl","size"],vl={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},yl=function(e){var t=e.size,n=Mo(e,gl);return ms("svg",Bo({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:vl},n))},Tl=function(e){return ms(yl,Bo({size:20},e),ms("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},_l=function(e){return ms(yl,Bo({size:20},e),ms("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},El=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return Do({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*i,":hover":{color:n?o.neutral80:o.neutral40}})},xl=El,wl=El,Sl=function(){var e=gs.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(sl||(ll=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],cl||(cl=ll.slice(0)),sl=Object.freeze(Object.defineProperties(ll,{raw:{value:Object.freeze(cl)}})))),Al=function(e){var t=e.delay,n=e.offset;return ms("span",{css:gs({animation:"".concat(Sl," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},kl=["data"],Cl=["innerRef","isDisabled","isHidden","inputClassName"],Il={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Ol={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Do({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Il)},Dl=function(e){return Do({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Il)},Pl=function(e){var t=e.children,n=e.innerProps;return ms("div",n,t)},Nl={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return ms("div",Bo({},$s(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||ms(Tl,null))},Control:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return ms("div",Bo({ref:i},$s(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),o,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return ms("div",Bo({},$s(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||ms(_l,null))},DownChevron:_l,CrossIcon:Tl,Group:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,o=e.Heading,a=e.headingProps,s=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return ms("div",Bo({},$s(e,"group",{group:!0}),s),ms(o,Bo({},a,{selectProps:u,theme:c,getStyles:r,getClassNames:i,cx:n}),l),ms("div",null,t))},GroupHeading:function(e){var t=Ys(e);t.data;var n=Mo(t,kl);return ms("div",Bo({},$s(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return ms("div",Bo({},$s(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return ms("span",Bo({},t,$s(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=Ys(e),i=r.innerRef,o=r.isDisabled,a=r.isHidden,s=r.inputClassName,l=Mo(r,Cl);return ms("div",Bo({},$s(e,"input",{"input-container":!0}),{"data-value":n||""}),ms("input",Bo({className:t({input:!0},s),ref:i,style:Dl(a),disabled:o},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,o=Mo(e,bl);return ms("div",Bo({},$s(Do(Do({},o),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ms(Al,{delay:0,offset:n}),ms(Al,{delay:160,offset:!0}),ms(Al,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return ms("div",Bo({},$s(e,"menu",{menu:!0}),{ref:n},r),t)},MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return ms("div",Bo({},$s(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,r=e.children,i=e.controlElement,a=e.innerProps,s=e.menuPlacement,l=e.menuPosition,c=(0,n.useRef)(null),u=(0,n.useRef)(null),h=Ro((0,n.useState)(ul(s)),2),d=h[0],p=h[1],f=(0,n.useMemo)((function(){return{setPortalPlacement:p}}),[]),m=Ro((0,n.useState)(null),2),g=m[0],b=m[1],v=(0,n.useCallback)((function(){if(i){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),t="fixed"===l?0:window.pageYOffset,n=e[d]+t;n===(null==g?void 0:g.offset)&&e.left===(null==g?void 0:g.rect.left)&&e.width===(null==g?void 0:g.rect.width)||b({offset:n,rect:e})}}),[i,l,d,null==g?void 0:g.offset,null==g?void 0:g.rect.left,null==g?void 0:g.rect.width]);Us((function(){v()}),[v]);var y=(0,n.useCallback)((function(){"function"==typeof u.current&&(u.current(),u.current=null),i&&c.current&&(u.current=function(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=Rs(e),u=i||o?[...c?Ps(c):[],...Ps(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const h=c&&s?function(e,t){let n,r=null;const i=ws(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const{left:c,top:u,width:h,height:d}=e.getBoundingClientRect();if(s||t(),!h||!d)return;const p={rootMargin:-Ts(u)+"px "+-Ts(i.clientWidth-(c+h))+"px "+-Ts(i.clientHeight-(u+d))+"px "+-Ts(c)+"px",threshold:vs(0,bs(1,l))||1};let f=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!f)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}f=!1}try{r=new IntersectionObserver(m,{...p,root:i.ownerDocument})}catch(e){r=new IntersectionObserver(m,p)}r.observe(e)}(!0),o}(c,n):null;let d,p=-1,f=null;a&&(f=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),c&&!l&&f.observe(c),f.observe(t));let m=l?Fs(e):null;return l&&function t(){const r=Fs(e);!m||r.x===m.x&&r.y===m.y&&r.width===m.width&&r.height===m.height||n(),m=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==h||h(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(d)}}(i,c.current,v,{elementResize:"ResizeObserver"in window}))}),[i,v]);Us((function(){y()}),[y]);var T=(0,n.useCallback)((function(e){c.current=e,y()}),[y]);if(!t&&"fixed"!==l||!g)return null;var _=ms("div",Bo({ref:T},$s(Do(Do({},e),{},{offset:g.offset,position:l,rect:g.rect}),"menuPortal",{"menu-portal":!0}),a),r);return ms(hl.Provider,{value:f},t?(0,o.createPortal)(_,t):_)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=Mo(e,al);return ms("div",Bo({},$s(Do(Do({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=Mo(e,ol);return ms("div",Bo({},$s(Do(Do({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,o=e.isDisabled,a=e.removeProps,s=e.selectProps,l=n.Container,c=n.Label,u=n.Remove;return ms(l,{data:r,innerProps:Do(Do({},$s(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:s},ms(c,{data:r,innerProps:Do({},$s(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},t),ms(u,{data:r,innerProps:Do(Do({},$s(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:s}))},MultiValueContainer:Pl,MultiValueLabel:Pl,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return ms("div",Bo({role:"button"},n),t||ms(Tl,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.innerRef,a=e.innerProps;return ms("div",Bo({},$s(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:o,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return ms("div",Bo({},$s(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return ms("div",Bo({},$s(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return ms("div",Bo({},$s(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return ms("div",Bo({},$s(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},Rl=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Ml(e,t){return e===t||!(!Rl(e)||!Rl(t))}function Ll(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ml(e[n],t[n]))return!1;return!0}for(var Bl={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Fl=function(e){return ms("span",Bo({css:Bl},e))},Ul={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,o=void 0===i?"":i,a=e.selectValue,s=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(o," focused, ").concat(u(a,n),".");if("menu"===t&&c){var h=s?" disabled":"",d="".concat(l?" selected":"").concat(h);return"".concat(o).concat(d,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},jl=function(e){var t=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,a=e.isFocused,s=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,h=l.ariaLiveMessages,d=l.getOptionLabel,p=l.inputValue,f=l.isMulti,m=l.isOptionDisabled,g=l.isSearchable,b=l.menuIsOpen,v=l.options,y=l.screenReaderStatus,T=l.tabSelectsValue,_=l.isLoading,E=l["aria-label"],x=l["aria-live"],w=(0,n.useMemo)((function(){return Do(Do({},Ul),h||{})}),[h]),S=(0,n.useMemo)((function(){var e,n="";if(t&&w.onChange){var r=t.option,i=t.options,o=t.removedValue,a=t.removedValues,l=t.value,c=o||r||(e=l,Array.isArray(e)?null:e),u=c?d(c):"",h=i||a||void 0,p=h?h.map(d):[],f=Do({isDisabled:c&&m(c,s),label:u,labels:p},t);n=w.onChange(f)}return n}),[t,w,m,s,d]),A=(0,n.useMemo)((function(){var e="",t=r||i,n=!!(r&&s&&s.includes(r));if(t&&w.onFocus){var a={focused:t,label:d(t),isDisabled:m(t,s),isSelected:n,options:o,context:t===r?"menu":"value",selectValue:s,isAppleDevice:u};e=w.onFocus(a)}return e}),[r,i,d,m,w,o,s,u]),k=(0,n.useMemo)((function(){var e="";if(b&&v.length&&!_&&w.onFilter){var t=y({count:o.length});e=w.onFilter({inputValue:p,resultsMessage:t})}return e}),[o,p,b,w,v,y,_]),C="initial-input-focus"===(null==t?void 0:t.action),I=(0,n.useMemo)((function(){var e="";if(w.guidance){var t=i?"value":b?"menu":"input";e=w.guidance({"aria-label":E,context:t,isDisabled:r&&m(r,s),isMulti:f,isSearchable:g,tabSelectsValue:T,isInitialFocus:C})}return e}),[E,r,i,f,m,g,b,w,s,T,C]),O=ms(n.Fragment,null,ms("span",{id:"aria-selection"},S),ms("span",{id:"aria-focused"},A),ms("span",{id:"aria-results"},k),ms("span",{id:"aria-guidance"},I));return ms(n.Fragment,null,ms(Fl,{id:c},C&&O),ms(Fl,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!C&&O))},Hl=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Gl=new RegExp("["+Hl.map((function(e){return e.letters})).join("")+"]","g"),zl={},Vl=0;Vl<Hl.length;Vl++)for(var Yl=Hl[Vl],$l=0;$l<Yl.letters.length;$l++)zl[Yl.letters[$l]]=Yl.base;var Xl=function(e){return e.replace(Gl,(function(e){return zl[e]}))},Wl=function(e,t){void 0===t&&(t=Ll);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(Xl),ql=function(e){return e.replace(/^\s+|\s+$/g,"")},Kl=function(e){return"".concat(e.label," ").concat(e.value)},Zl=["innerRef"];function Ql(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=Ro(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=Ro(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(Mo(e,Zl),"onExited","in","enter","exit","appear");return ms("input",Bo({ref:t},n,{css:gs({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Jl=["boxSizing","height","overflow","paddingRight","position"],ec={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function tc(e){e.preventDefault()}function nc(e){e.stopPropagation()}function rc(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function ic(){return"ontouchstart"in window||navigator.maxTouchPoints}var oc=!("undefined"==typeof window||!window.document||!window.document.createElement),ac=0,sc={capture:!1,passive:!1},lc=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},cc={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function uc(e){var t=e.children,r=e.lockEnabled,i=e.captureEnabled,o=function(e){var t=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,o=e.onTopArrive,a=e.onTopLeave,s=(0,n.useRef)(!1),l=(0,n.useRef)(!1),c=(0,n.useRef)(0),u=(0,n.useRef)(null),h=(0,n.useCallback)((function(e,t){if(null!==u.current){var n=u.current,c=n.scrollTop,h=n.scrollHeight,d=n.clientHeight,p=u.current,f=t>0,m=h-d-c,g=!1;m>t&&s.current&&(i&&i(e),s.current=!1),f&&l.current&&(a&&a(e),l.current=!1),f&&t>m?(r&&!s.current&&r(e),p.scrollTop=h,g=!0,s.current=!0):!f&&-t>c&&(o&&!l.current&&o(e),p.scrollTop=0,g=!0,l.current=!0),g&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}}),[r,i,o,a]),d=(0,n.useCallback)((function(e){h(e,e.deltaY)}),[h]),p=(0,n.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),f=(0,n.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;h(e,t)}),[h]),m=(0,n.useCallback)((function(e){if(e){var t=!!nl&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",p,t),e.addEventListener("touchmove",f,t)}}),[f,p,d]),g=(0,n.useCallback)((function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",p,!1),e.removeEventListener("touchmove",f,!1))}),[f,p,d]);return(0,n.useEffect)((function(){if(t){var e=u.current;return m(e),function(){g(e)}}}),[t,m,g]),function(e){u.current=e}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var t=e.isEnabled,r=e.accountForScrollbars,i=void 0===r||r,o=(0,n.useRef)({}),a=(0,n.useRef)(null),s=(0,n.useCallback)((function(e){if(oc){var t=document.body,n=t&&t.style;if(i&&Jl.forEach((function(e){var t=n&&n[e];o.current[e]=t})),i&&ac<1){var r=parseInt(o.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+r||0;Object.keys(ec).forEach((function(e){var t=ec[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&ic()&&(t.addEventListener("touchmove",tc,sc),e&&(e.addEventListener("touchstart",rc,sc),e.addEventListener("touchmove",nc,sc))),ac+=1}}),[i]),l=(0,n.useCallback)((function(e){if(oc){var t=document.body,n=t&&t.style;ac=Math.max(ac-1,0),i&&ac<1&&Jl.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&ic()&&(t.removeEventListener("touchmove",tc,sc),e&&(e.removeEventListener("touchstart",rc,sc),e.removeEventListener("touchmove",nc,sc)))}}),[i]);return(0,n.useEffect)((function(){if(t){var e=a.current;return s(e),function(){l(e)}}}),[t,s,l]),function(e){a.current=e}}({isEnabled:r});return ms(n.Fragment,null,r&&ms("div",{onClick:lc,css:cc}),t((function(e){o(e),a(e)})))}var hc={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},dc=function(e){var t=e.name,n=e.onFocus;return ms("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:hc,value:"",onChange:function(){}})};function pc(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function fc(){return pc(/^Mac/i)}var mc={clearIndicator:wl,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,o=i.colors,a=i.borderRadius;return Do({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:r?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},dropdownIndicator:xl,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return Do({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return Do({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,o=i.spacing,a=i.colors;return Do(Do({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},Ol),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,o=i.colors,a=i.spacing.baseUnit;return Do({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*a})},loadingMessage:ml,menu:function(e,t){var n,r=e.placement,i=e.theme,o=i.borderRadius,a=i.spacing,s=i.colors;return Do((Io(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),Io(n,"position","absolute"),Io(n,"width","100%"),Io(n,"zIndex",1),n),t?{}:{backgroundColor:s.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Do({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors;return Do({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return Do({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors,a=e.isFocused;return Do({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:fl,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.theme,a=o.spacing,s=o.colors;return Do({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?s.primary:r?s.primary25:"transparent",color:n?s.neutral20:i?s.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?s.primary:s.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return Do({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,o=r.colors;return Do({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Do({alignItems:"center",display:r&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},gc={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},bc={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Qs(),captureMenuScroll:!Qs(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=Do({ignoreCase:!0,ignoreAccents:!0,stringify:Kl,trim:!0,matchFrom:"any"},void 0),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,l=a?ql(t):t,c=a?ql(o(e)):o(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=Wl(l),c=Xl(c)),"start"===s?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function vc(e,t,n,r){return{type:"option",data:t,isDisabled:Ac(e,t,n),isSelected:kc(e,t,n),label:wc(e,t),value:Sc(e,t),index:r}}function yc(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return vc(e,n,t,r)})).filter((function(t){return Ec(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=vc(e,n,t,r);return Ec(e,o)?o:void 0})).filter(rl)}function Tc(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Go(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function _c(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,Go(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function Ec(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!Ic(e)||!o)&&Cc(e,{label:a,value:s,data:i},r)}var xc=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},wc=function(e,t){return e.getOptionLabel(t)},Sc=function(e,t){return e.getOptionValue(t)};function Ac(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function kc(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=Sc(e,t);return n.some((function(t){return Sc(e,t)===r}))}function Cc(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Ic=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Oc=1,Dc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uo(e,t)}(r,e);var t=function(e){var t=Ho();return function(){var n,r=jo(e);if(t){var i=jo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==ko(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}(r);function r(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},n.blockOptionHover=!1,n.isComposing=!1,n.commonProps=void 0,n.initialTouchX=0,n.initialTouchY=0,n.openAfterFocus=!1,n.scrollToFocusedOptionOnUpdate=!1,n.userIsDragging=void 0,n.isAppleDevice=fc()||pc(/^iPhone/i)||pc(/^iPad/i)||fc()&&navigator.maxTouchPoints>1,n.controlRef=null,n.getControlRef=function(e){n.controlRef=e},n.focusedOptionRef=null,n.getFocusedOptionRef=function(e){n.focusedOptionRef=e},n.menuListRef=null,n.getMenuListRef=function(e){n.menuListRef=e},n.inputRef=null,n.getInputRef=function(e){n.inputRef=e},n.focus=n.focusInput,n.blur=n.blurInput,n.onChange=function(e,t){var r=n.props,i=r.onChange,o=r.name;t.name=o,n.ariaOnChange(e,t),i(e,t)},n.setValue=function(e,t,r){var i=n.props,o=i.closeMenuOnSelect,a=i.isMulti,s=i.inputValue;n.onInputChange("",{action:"set-value",prevInputValue:s}),o&&(n.setState({inputIsHiddenAfterUpdate:!a}),n.onMenuClose()),n.setState({clearFocusValueOnUpdate:!0}),n.onChange(e,{action:t,option:r})},n.selectOption=function(e){var t=n.props,r=t.blurInputOnSelect,i=t.isMulti,o=t.name,a=n.state.selectValue,s=i&&n.isOptionSelected(e,a),l=n.isOptionDisabled(e,a);if(s){var c=n.getOptionValue(e);n.setValue(a.filter((function(e){return n.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void n.ariaOnChange(e,{action:"select-option",option:e,name:o});i?n.setValue([].concat(Go(a),[e]),"select-option",e):n.setValue(e,"select-option")}r&&n.blurInput()},n.removeValue=function(e){var t=n.props.isMulti,r=n.state.selectValue,i=n.getOptionValue(e),o=r.filter((function(e){return n.getOptionValue(e)!==i})),a=il(t,o,o[0]||null);n.onChange(a,{action:"remove-value",removedValue:e}),n.focusInput()},n.clearValue=function(){var e=n.state.selectValue;n.onChange(il(n.props.isMulti,[],null),{action:"clear",removedValues:e})},n.popValue=function(){var e=n.props.isMulti,t=n.state.selectValue,r=t[t.length-1],i=t.slice(0,t.length-1),o=il(e,i,i[0]||null);n.onChange(o,{action:"pop-value",removedValue:r})},n.getFocusedOptionId=function(e){return xc(n.state.focusableOptionsWithIds,e)},n.getFocusableOptionsWithIds=function(){return _c(yc(n.props,n.state.selectValue),n.getElementId("option"))},n.getValue=function(){return n.state.selectValue},n.cx=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return zs.apply(void 0,[n.props.classNamePrefix].concat(t))},n.getOptionLabel=function(e){return wc(n.props,e)},n.getOptionValue=function(e){return Sc(n.props,e)},n.getStyles=function(e,t){var r=n.props.unstyled,i=mc[e](t,r);i.boxSizing="border-box";var o=n.props.styles[e];return o?o(i,t):i},n.getClassNames=function(e,t){var r,i;return null===(r=(i=n.props.classNames)[e])||void 0===r?void 0:r.call(i,t)},n.getElementId=function(e){return"".concat(n.state.instancePrefix,"-").concat(e)},n.getComponents=function(){return e=n.props,Do(Do({},Nl),e.components);var e},n.buildCategorizedOptions=function(){return yc(n.props,n.state.selectValue)},n.getCategorizedOptions=function(){return n.props.menuIsOpen?n.buildCategorizedOptions():[]},n.buildFocusableOptions=function(){return Tc(n.buildCategorizedOptions())},n.getFocusableOptions=function(){return n.props.menuIsOpen?n.buildFocusableOptions():[]},n.ariaOnChange=function(e,t){n.setState({ariaSelection:Do({value:e},t)})},n.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.focusInput())},n.onMenuMouseMove=function(e){n.blockOptionHover=!1},n.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&n.onMenuClose():t&&n.openMenu("first"):(t&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},n.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||n.props.isDisabled)){var t=n.props,r=t.isMulti,i=t.menuIsOpen;n.focusInput(),i?(n.setState({inputIsHiddenAfterUpdate:!r}),n.onMenuClose()):n.openMenu("first"),e.preventDefault()}},n.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(n.clearValue(),e.preventDefault(),n.openAfterFocus=!1,"touchend"===e.type?n.focusInput():setTimeout((function(){return n.focusInput()})))},n.onScroll=function(e){"boolean"==typeof n.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Xs(e.target)&&n.props.onMenuClose():"function"==typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(e)&&n.props.onMenuClose()},n.onCompositionStart=function(){n.isComposing=!0},n.onCompositionEnd=function(){n.isComposing=!1},n.onTouchStart=function(e){var t=e.touches,r=t&&t.item(0);r&&(n.initialTouchX=r.clientX,n.initialTouchY=r.clientY,n.userIsDragging=!1)},n.onTouchMove=function(e){var t=e.touches,r=t&&t.item(0);if(r){var i=Math.abs(r.clientX-n.initialTouchX),o=Math.abs(r.clientY-n.initialTouchY);n.userIsDragging=i>5||o>5}},n.onTouchEnd=function(e){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(e.target)&&n.menuListRef&&!n.menuListRef.contains(e.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)},n.onControlTouchEnd=function(e){n.userIsDragging||n.onControlMouseDown(e)},n.onClearIndicatorTouchEnd=function(e){n.userIsDragging||n.onClearIndicatorMouseDown(e)},n.onDropdownIndicatorTouchEnd=function(e){n.userIsDragging||n.onDropdownIndicatorMouseDown(e)},n.handleInputChange=function(e){var t=n.props.inputValue,r=e.currentTarget.value;n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange(r,{action:"input-change",prevInputValue:t}),n.props.menuIsOpen||n.onMenuOpen()},n.onInputFocus=function(e){n.props.onFocus&&n.props.onFocus(e),n.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1},n.onInputBlur=function(e){var t=n.props.inputValue;n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(e),n.onInputChange("",{action:"input-blur",prevInputValue:t}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))},n.onOptionHover=function(e){if(!n.blockOptionHover&&n.state.focusedOption!==e){var t=n.getFocusableOptions().indexOf(e);n.setState({focusedOption:e,focusedOptionId:t>-1?n.getFocusedOptionId(e):null})}},n.shouldHideSelectedOptions=function(){return Ic(n.props)},n.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),n.focus()},n.onKeyDown=function(e){var t=n.props,r=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,h=t.tabSelectsValue,d=t.openMenuOnFocus,p=n.state,f=p.focusedOption,m=p.focusedValue,g=p.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(n.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;n.focusValue("previous");break;case"ArrowRight":if(!r||a)return;n.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)n.removeValue(m);else{if(!i)return;r?n.popValue():s&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(e.shiftKey||!c||!h||!f||d&&n.isOptionSelected(f,g))return;n.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f)return;if(n.isComposing)return;n.selectOption(f);break}return;case"Escape":c?(n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange("",{action:"menu-close",prevInputValue:a}),n.onMenuClose()):s&&o&&n.clearValue();break;case" ":if(a)return;if(!c){n.openMenu("first");break}if(!f)return;n.selectOption(f);break;case"ArrowUp":c?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":c?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!c)return;n.focusOption("pageup");break;case"PageDown":if(!c)return;n.focusOption("pagedown");break;case"Home":if(!c)return;n.focusOption("first");break;case"End":if(!c)return;n.focusOption("last");break;default:return}e.preventDefault()}},n.state.instancePrefix="react-select-"+(n.props.instanceId||++Oc),n.state.selectValue=Vs(e.value),e.menuIsOpen&&n.state.selectValue.length){var i=n.getFocusableOptionsWithIds(),o=n.buildFocusableOptions(),a=o.indexOf(n.state.selectValue[0]);n.state.focusableOptionsWithIds=i,n.state.focusedOption=o[a],n.state.focusedOptionId=xc(i,o[a])}return n}return function(e,t,n){t&&Fo(e.prototype,t),n&&Fo(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Zs(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Zs(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a],focusedOptionId:this.getFocusedOptionId(o[a])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[i])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(gc):Do(Do({},gc),this.props.theme):gc}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,o=this.selectOption,a=this.setValue,s=this.props,l=s.isMulti,c=s.isRtl,u=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:o,selectProps:s,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Ac(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return kc(this.props,e,t)}},{key:"filterOption",value:function(e,t){return Cc(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,r=e.isSearchable,i=e.inputId,o=e.inputValue,a=e.tabIndex,s=e.form,l=e.menuIsOpen,c=e.required,u=this.getComponents().Input,h=this.state,d=h.inputIsHidden,p=h.ariaSelection,f=this.commonProps,m=i||this.getElementId("input"),g=Do(Do(Do({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?n.createElement(u,Bo({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:s,type:"text",value:o},g)):n.createElement(Ql,Bo({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Hs,onFocus:this.onInputFocus,disabled:t,tabIndex:a,inputMode:"none",form:s,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),r=t.MultiValue,i=t.MultiValueContainer,o=t.MultiValueLabel,a=t.MultiValueRemove,s=t.SingleValue,l=t.Placeholder,c=this.commonProps,u=this.props,h=u.controlShouldRenderValue,d=u.isDisabled,p=u.isMulti,f=u.inputValue,m=u.placeholder,g=this.state,b=g.selectValue,v=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!h)return f?null:n.createElement(l,Bo({},c,{key:"placeholder",isDisabled:d,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),m);if(p)return b.map((function(t,s){var l=t===v,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return n.createElement(r,Bo({},c,{components:{Container:i,Label:o,Remove:a},isFocused:l,isDisabled:d,key:u,index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(f)return null;var T=b[0];return n.createElement(s,Bo({},c,{data:T,isDisabled:d}),this.formatOptionLabel(T,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return n.createElement(e,Bo({},t,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,a=this.state.isFocused;return e&&o?n.createElement(e,Bo({},t,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,r=e.IndicatorSeparator;if(!t||!r)return null;var i=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return n.createElement(r,Bo({},i,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return n.createElement(e,Bo({},t,{innerProps:o,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),r=t.Group,i=t.GroupHeading,o=t.Menu,a=t.MenuList,s=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,h=this.commonProps,d=this.state.focusedOption,p=this.props,f=p.captureMenuScroll,m=p.inputValue,g=p.isLoading,b=p.loadingMessage,v=p.minMenuHeight,y=p.maxMenuHeight,T=p.menuIsOpen,_=p.menuPlacement,E=p.menuPosition,x=p.menuPortalTarget,w=p.menuShouldBlockScroll,S=p.menuShouldScrollIntoView,A=p.noOptionsMessage,k=p.onMenuScrollToTop,C=p.onMenuScrollToBottom;if(!T)return null;var I,O=function(t,r){var i=t.type,o=t.data,a=t.isDisabled,s=t.isSelected,l=t.label,c=t.value,p=d===o,f=a?void 0:function(){return e.onOptionHover(o)},m=a?void 0:function(){return e.selectOption(o)},g="".concat(e.getElementId("option"),"-").concat(r),b={id:g,onClick:m,onMouseMove:f,onMouseOver:f,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:s};return n.createElement(u,Bo({},h,{innerProps:b,data:o,isDisabled:a,isSelected:s,key:g,label:l,type:i,value:c,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())I=this.getCategorizedOptions().map((function(t){if("group"===t.type){var o=t.data,a=t.options,s=t.index,l="".concat(e.getElementId("group"),"-").concat(s),c="".concat(l,"-heading");return n.createElement(r,Bo({},h,{key:l,data:o,options:a,Heading:i,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return O(e,"".concat(s,"-").concat(e.index))})))}if("option"===t.type)return O(t,"".concat(t.index))}));else if(g){var D=b({inputValue:m});if(null===D)return null;I=n.createElement(l,h,D)}else{var P=A({inputValue:m});if(null===P)return null;I=n.createElement(c,h,P)}var N={minMenuHeight:v,maxMenuHeight:y,menuPlacement:_,menuPosition:E,menuShouldScrollIntoView:S},R=n.createElement(dl,Bo({},h,N),(function(t){var r=t.ref,i=t.placerProps,s=i.placement,l=i.maxHeight;return n.createElement(o,Bo({},h,N,{innerRef:r,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:s}),n.createElement(uc,{captureEnabled:f,onTopArrive:k,onBottomArrive:C,lockEnabled:w},(function(t){return n.createElement(a,Bo({},h,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:e.getElementId("listbox")},isLoading:g,maxHeight:l,focusedOption:d}),I)})))}));return x||"fixed"===E?n.createElement(s,Bo({},h,{appendTo:x,controlElement:this.controlRef,menuPlacement:_,menuPosition:E}),R):R}},{key:"renderFormField",value:function(){var e=this,t=this.props,r=t.delimiter,i=t.isDisabled,o=t.isMulti,a=t.name,s=t.required,l=this.state.selectValue;if(s&&!this.hasValue()&&!i)return n.createElement(dc,{name:a,onFocus:this.onValueInputFocus});if(a&&!i){if(o){if(r){var c=l.map((function(t){return e.getOptionValue(t)})).join(r);return n.createElement("input",{name:a,type:"hidden",value:c})}var u=l.length>0?l.map((function(t,r){return n.createElement("input",{key:"i-".concat(r),name:a,type:"hidden",value:e.getOptionValue(t)})})):n.createElement("input",{name:a,type:"hidden",value:""});return n.createElement("div",null,u)}var h=l[0]?this.getOptionValue(l[0]):"";return n.createElement("input",{name:a,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,r=t.ariaSelection,i=t.focusedOption,o=t.focusedValue,a=t.isFocused,s=t.selectValue,l=this.getFocusableOptions();return n.createElement(jl,Bo({},e,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:i,focusedValue:o,isFocused:a,selectValue:s,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,r=e.IndicatorsContainer,i=e.SelectContainer,o=e.ValueContainer,a=this.props,s=a.className,l=a.id,c=a.isDisabled,u=a.menuIsOpen,h=this.state.isFocused,d=this.commonProps=this.getCommonProps();return n.createElement(i,Bo({},d,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:h}),this.renderLiveRegion(),n.createElement(t,Bo({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:h,menuIsOpen:u}),n.createElement(o,Bo({},d,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),n.createElement(r,Bo({},d,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,a=t.isFocused,s=t.prevWasFocused,l=t.instancePrefix,c=e.options,u=e.value,h=e.menuIsOpen,d=e.inputValue,p=e.isMulti,f=Vs(u),m={};if(n&&(u!==n.value||c!==n.options||h!==n.menuIsOpen||d!==n.inputValue)){var g=h?function(e,t){return Tc(yc(e,t))}(e,f):[],b=h?_c(yc(e,f),"".concat(l,"-option")):[],v=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,f):null,y=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);m={selectValue:f,focusedOption:y,focusedOptionId:xc(b,y),focusableOptionsWithIds:b,focusedValue:v,clearFocusValueOnUpdate:!1}}var T=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},_=o,E=a&&s;return a&&!E&&(_={value:il(p,f,f[0]||null),options:f,action:"initial-input-focus"},E=!s),"initial-input-focus"===(null==o?void 0:o.action)&&(_=null),Do(Do(Do({},m),T),{},{prevProps:e,ariaSelection:_,prevWasFocused:E})}}]),r}(n.Component);Dc.defaultProps=bc;var Pc=(0,n.forwardRef)((function(e,t){var r=function(e){var t=e.defaultInputValue,r=void 0===t?"":t,i=e.defaultMenuIsOpen,o=void 0!==i&&i,a=e.defaultValue,s=void 0===a?null:a,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,h=e.onInputChange,d=e.onMenuClose,p=e.onMenuOpen,f=e.value,m=Mo(e,Lo),g=Ro((0,n.useState)(void 0!==l?l:r),2),b=g[0],v=g[1],y=Ro((0,n.useState)(void 0!==c?c:o),2),T=y[0],_=y[1],E=Ro((0,n.useState)(void 0!==f?f:s),2),x=E[0],w=E[1],S=(0,n.useCallback)((function(e,t){"function"==typeof u&&u(e,t),w(e)}),[u]),A=(0,n.useCallback)((function(e,t){var n;"function"==typeof h&&(n=h(e,t)),v(void 0!==n?n:e)}),[h]),k=(0,n.useCallback)((function(){"function"==typeof p&&p(),_(!0)}),[p]),C=(0,n.useCallback)((function(){"function"==typeof d&&d(),_(!1)}),[d]),I=void 0!==l?l:b,O=void 0!==c?c:T,D=void 0!==f?f:x;return Do(Do({},m),{},{inputValue:I,menuIsOpen:O,onChange:S,onInputChange:A,onMenuClose:C,onMenuOpen:k,value:D})}(e);return n.createElement(Dc,Bo({ref:t},r))})),Nc=Pc;const Rc=[{value:"Loading...",label:"Loading..."}];class Mc extends n.PureComponent{constructor(e){super(e),this.state={region:"",regionError:!1,datasets:Rc,selectedDatasets:[]}}loadFiles=()=>{xo.get("https://cruk-specificancer.s3.amazonaws.com/cruk_data.json").then((e=>{const t=e.data.map((e=>({value:e.s3_url,label:e.label})));this.setState({datasets:t})}))};componentDidMount(){this.loadFiles()}exportDisplay=()=>{const e=window.hgc.current;if(!e)return void console.warn("Higlass component not found.");window.Buffer=window.Buffer||i(8287).hp;const t=e.api.exportAsSvg();var n=document.createElement("a");n.setAttribute("href","data:image/svg+xml;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download","cohort.svg"),n.click()};addToRegion=e=>{this.setState({region:e.target.value})};goToRegion=()=>{const e=window.hgc.current;if(!e)return void console.warn("Higlass component not found.");if(!/(chr)([0-9]{1,2}|X|Y|MT)(:)(\d+)(-)(chr)([0-9]{1,2}|X|Y|MT)(:)(\d+)$/g.test(this.state.region))return void this.setState({regionError:!0});this.setState({regionError:!1});const t=this.state.region.split("-"),n=t[0].split(":"),r=t[1].split(":"),i=n[0],o=parseInt(n[1],10),a=r[0],s=parseInt(r[1],10),l=e.api.getViewConfig();(0,Ao.ChromosomeInfo)("//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv").then((t=>{e.api.zoomTo(l.views[0].uid,t.chrToAbs([i,o]),t.chrToAbs([a,s]),t.chrToAbs(["chr1",0]),t.chrToAbs(["chr1",1e3]),2500)}))};handleDatasetChange=e=>{this.setState({selectedDatasets:e},(()=>{if(!window.hgc)return;const t=window.hgc.current,n=t.api.getViewConfig();n.views[0].tracks.top=n.views[0].tracks.top.slice(0,2),e.forEach((e=>{const t=(r=e.label,{data:{type:"bbi",url:e.value,chromSizesUrl:"https://aveit.s3.amazonaws.com/higlass/data/sequence/hg38.chrom.sizes"},uid:window.crypto.randomUUID(),type:"bar",options:{labelPosition:"bottomLeft",labelLeftMargin:0,labelRightMargin:0,labelTopMargin:0,labelColor:"black",labelBottomMargin:0,labelShowResolution:!1,labelShowAssembly:!0,axisPositionHorizontal:"right",axisLabelFormatting:"scientific",barFillColor:"darkgreen",valueScaling:"linear",trackBorderWidth:0,trackBorderColor:"black",labelTextOpacity:1,labelBackgroundOpacity:.8,name:r},width:20,height:60});var r;n.views[0].tracks.top.push(t),n.views[0].tracks.top.push({uid:window.crypto.randomUUID(),type:"text",options:{backgroundColor:"#ffffff",textColor:"#333333",fontSize:14,fontFamily:"Arial",fontWeight:"normal",offsetY:0,align:"left",text:""},width:568,height:10})})),t.api.setViewConfig(n,!0).then((e=>{const r={viewId:"aa",trackId:n.views[0].tracks.top[0].uid};t.trackDimensionsModifiedHandlerBound(r)}))}))};render(){const{selectedDatasets:e,datasets:t}=this.state,r=this.state.regionError?"form-control is-invalid form-control-sm mb-2 mr-sm-2":"form-control form-control-sm mb-2 mr-sm-2";return n.createElement(n.Fragment,null,n.createElement("div",{className:"row z0"},n.createElement("div",{className:"col"},n.createElement("div",{className:"d-block bg-light px-2 mb-2"},n.createElement("small",null,"DATASETS")),n.createElement("div",{className:"mb-1 mt-3"},"Add datasets"),n.createElement(Nc,{value:e,onChange:this.handleDatasetChange,options:t,closeMenuOnSelect:!1,isMulti:!0,placeholder:"Select multiple..."}),n.createElement("div",{className:"d-block bg-light px-2 mb-2 mt-3"},n.createElement("small",null,"NAVIGATION")),n.createElement("div",{className:"mb-1 mt-3"},"Go to specific region"),n.createElement("input",{type:"text",onChange:this.addToRegion,className:r,placeholder:"e.g., chr2:1000-chr2:2000"}),n.createElement("button",{className:"btn btn-outline-primary btn-sm btn-block mb-3",onClick:this.goToRegion},"Go"),n.createElement("div",{className:"mb-1 mt-2"},"Go to specific gene"),n.createElement(wo,null),n.createElement("div",{className:"d-block mb-1 mt-4"},n.createElement("button",{type:"button",className:"btn btn-primary btn-sm btn-block",onClick:this.exportDisplay},n.createElement("i",{className:"icon icon-download icon-sm fas mr-1"}),"Export display")))))}}var Lc=i(2181),Bc={};Bc.styleTagTransform=b(),Bc.setAttributes=p(),Bc.insert=h().bind(null,"head"),Bc.domAPI=c(),Bc.insertStyleElement=m(),s()(Lc.A,Bc),Lc.A&&Lc.A.locals&&Lc.A.locals;var Fc=i(724),Uc=i.n(Fc),jc=i(3944),Hc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();const Gc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataConfig=t}return Hc(e,[{key:"tilesetInfo",value:function(e){this.tilesetInfoLoading=!1;var t=1024,n={tile_size:t,bins_per_dimension:t,max_zoom:22,max_width:t*Math.pow(2,22),min_pos:[0],max_pos:[3e9]};return e&&e(n),n}},{key:"fetchTilesDebounced",value:function(e,t){return{}}},{key:"tile",value:function(e,t){return this.tilesetInfo().then((function(e){return[]}))}}]),e}();var zc=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vc=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},Yc=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');e.services.tileProxy;var i=e.utils.colorToHex,o=function(t){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e.dataFetcher=new Gc(e.dataConfig);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t)),i=e.animate;return r.animate=i,r.isTrackShownVertically="left"===e.definition.position||"right"===e.definition.position,r.options=t,r.initOptions(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),zc(n,[{key:"initTile",value:function(e){}},{key:"initOptions",value:function(){this.fontSize=+this.options.fontSize,this.colors={},this.colors.textColor=i(this.options.textColor),this.colors.black=i("#000000"),this.colors.white=i("#ffffff"),this.colors.lightgrey=i("#ededed"),this.text=this.options.text,this.textOptions={fontSize:this.fontSize+"px",fontFamily:this.options.fontFamily,fontWeight:this.options.fontWeight,fill:this.colors.textColor}}},{key:"drawTile",value:function(){}},{key:"rerender",value:function(e,t){var n=JSON.stringify(e);(t||n!==this.prevOptions)&&(this.options=e,this.initOptions(),this.prevOptions=n,this.renderText(),requestAnimationFrame(this.animate))}},{key:"drawTile",value:function(e){}},{key:"renderTile",value:function(e){}},{key:"draw",value:function(){}},{key:"renderText",value:function(){this.pForeground.clear(),this.pForeground.removeChildren();var t=new e.libraries.PIXI.Text(this.text,this.textOptions);t.interactive=!0,t.anchor.x=0,t.anchor.y=0,t.visible=!0,t.y=this.options.offsetY,t.x=5,this.isTrackShownVertically?"right"===this.options.align?(t.anchor.x=1,t.scale.x*=-1,this.svgAnchor="end"):"middle"===this.options.align?(t.anchor.x=.5,t.scale.x*=-1,t.x=this.dimensions[0]/2,this.svgAnchor="middle"):"left"===this.options.align&&(t.anchor.x=0,t.scale.x*=-1,t.x=this.dimensions[0]-5,this.svgAnchor="start"):"left"===this.options.align?(t.anchor.x=0,t.x=5,this.svgAnchor="start"):"middle"===this.options.align?(t.anchor.x=.5,t.x=this.dimensions[0]/2,this.svgAnchor="middle"):"right"===this.options.align&&(t.anchor.x=1,t.x=this.dimensions[0]-5,this.svgAnchor="end"),this.svgX=t.x,this.pForeground.addChild(t)}},{key:"zoomedY",value:function(e,t){}},{key:"movedY",value:function(e){}},{key:"destroyTile",value:function(e){e.graphics.destroy(),e=null}},{key:"setDimensions",value:function(e){Vc(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"setDimensions",this).call(this,e),this.rerender(this.options,!1)}},{key:"getMouseOverHtml",value:function(e,t){}},{key:"exportSVG",value:function(){var e,t=null;t=e=document.createElement("g");var n=jc.nice(),r=document.createElement("g");r.setAttribute("style","clip-path:url(#"+n+");"),t.appendChild(r);var i=document.createElementNS("http://www.w3.org/2000/svg","clipPath");i.setAttribute("id",n),t.appendChild(i);var o=document.createElementNS("http://www.w3.org/2000/svg","polygon");i.appendChild(o),o.setAttribute("points",this.position[0]+","+this.position[1]+" "+(this.position[0]+this.dimensions[0])+","+this.position[1]+" "+(this.position[0]+this.dimensions[0])+","+(this.position[1]+this.dimensions[1])+" "+this.position[0]+","+(this.position[1]+this.dimensions[1])+" ");var a=document.createElement("g");a.setAttribute("transform","translate("+this.position[0]+","+this.position[1]+")"),r.appendChild(a);var s=document.createElement("g"),l=document.createElement("path"),c="M 0 0 H "+this.dimensions[0]+" V "+this.dimensions[1]+" H 0 Z";l.setAttribute("d",c),l.setAttribute("fill",this.options.backgroundColor),l.setAttribute("opacity","1"),s.appendChild(l),a.appendChild(s);var u=document.createElement("g"),h=document.createElement("text");h.setAttribute("text-anchor",this.svgAnchor),h.setAttribute("font-family",this.options.fontFamily),h.setAttribute("font-size",this.fontSize+"px"),h.setAttribute("font-weight",this.options.fontWeight),u.setAttribute("transform","scale(1,1)"),h.setAttribute("fill",this.options.textColor),h.innerHTML=this.options.text;var d=this.isTrackShownVertically?-1:1;return u.appendChild(h),u.setAttribute("transform","translate("+this.svgX+","+(this.options.offsetY+this.fontSize)+")scale("+d+",1)"),a.appendChild(u),[e,e]}}]),n}(e.tracks.BedLikeTrack);return new(Function.prototype.bind.apply(o,[null].concat(n)))};Yc.config={type:"text",datatype:["bedlike"],local:!1,orientation:"1d-horizontal",thumbnail:(new DOMParser).parseFromString('<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M-1-1h22v22H-1z"/><g><path stroke="#007fff" stroke-width="1.5" fill="#007fff" d="M-.667-.091h5v20.167h-5z"/><path stroke-width="1.5" stroke="#e8e500" fill="#e8e500" d="M5.667.242h5v20.167h-5z"/><path stroke-width="1.5" stroke="#ff0038" fill="#ff0038" d="M15.833.076h5v20.167h-5z"/><path stroke="green" stroke-width="1.5" fill="green" d="M10.833-.258H14.5v20.167h-3.667z"/></g></svg>',"text/xml").documentElement,availableOptions:["backgroundColor","textColor","fontSize","fontWeight","offsetY","align","text"],defaultOptions:{backgroundColor:"#ededed",textColor:"#333333",fontSize:14,fontFamily:"Arial",fontWeight:"normal",align:"left",offsetY:0,text:""}};const $c=Yc;var Xc,Wc,qc,Kc,Zc,Qc,Jc,eu,tu,nu,ru,iu,ou,au,su,lu,cu,uu,hu,du,pu,fu,mu,gu=Object.create,bu=Object.defineProperty,vu=Object.getOwnPropertyDescriptor,yu=Object.getOwnPropertyNames,Tu=Object.getPrototypeOf,_u=Object.prototype.hasOwnProperty,Eu=(e,t)=>function(){return e&&(t=(0,e[yu(e)[0]])(e=0)),t},xu=(e,t)=>function(){return t||(0,e[yu(e)[0]])((t={exports:{}}).exports,t),t.exports},wu=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of yu(t))_u.call(e,i)||i===n||bu(e,i,{get:()=>t[i],enumerable:!(r=vu(t,i))||r.enumerable});return e},Su=(e,t,n)=>(n=null!=e?gu(Tu(e)):{},wu(!t&&e&&e.__esModule?n:bu(n,"default",{value:e,enumerable:!0}),e));function Au(){throw new Error("setTimeout has not been defined")}function ku(){throw new Error("clearTimeout has not been defined")}function Cu(e){if(Xc===setTimeout)return setTimeout(e,0);if((Xc===Au||!Xc)&&setTimeout)return Xc=setTimeout,setTimeout(e,0);try{return Xc(e,0)}catch(t){try{return Xc.call(null,e,0)}catch(t){return Xc.call(this,e,0)}}}function Iu(){Kc&&Zc&&(Kc=!1,Zc.length?qc=Zc.concat(qc):Qc=-1,qc.length&&Ou())}function Ou(){if(!Kc){var e=Cu(Iu);Kc=!0;for(var t=qc.length;t;){for(Zc=qc,qc=[];++Qc<t;)Zc&&Zc[Qc].run();Qc=-1,t=qc.length}Zc=null,Kc=!1,function(e){if(Wc===clearTimeout)return clearTimeout(e);if((Wc===ku||!Wc)&&clearTimeout)return Wc=clearTimeout,clearTimeout(e);try{return Wc(e)}catch(t){try{return Wc.call(null,e)}catch(t){return Wc.call(this,e)}}}(e)}}function Du(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];qc.push(new Pu(e,t)),1!==qc.length||Kc||Cu(Ou)}function Pu(e,t){this.fun=e,this.array=t}function Nu(){}function Ru(e){throw new Error("process.binding is not supported")}function Mu(){return"/"}function Lu(e){throw new Error("process.chdir is not supported")}function Bu(){return 0}function Fu(e){var t=.001*du.call(hu),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]}function Uu(){return(new Date-pu)/1e3}var ju,Hu,Gu,zu,Vu,Yu,$u=Eu({"node_modules/@esbuild-plugins/node-globals-polyfill/_virtual-process-polyfill_.js"(){Xc=Au,Wc=ku,"function"==typeof globalThis.setTimeout&&(Xc=setTimeout),"function"==typeof globalThis.clearTimeout&&(Wc=clearTimeout),qc=[],Kc=!1,Qc=-1,Pu.prototype.run=function(){this.fun.apply(null,this.array)},Jc={},eu=[],tu={},nu={},ru={},iu=Nu,ou=Nu,au=Nu,su=Nu,lu=Nu,cu=Nu,uu=Nu,hu=globalThis.performance||{},du=hu.now||hu.mozNow||hu.msNow||hu.oNow||hu.webkitNow||function(){return(new Date).getTime()},pu=new Date,fu={nextTick:Du,title:"browser",browser:!0,env:Jc,argv:eu,version:"",versions:tu,on:iu,addListener:ou,once:au,off:su,removeListener:lu,removeAllListeners:cu,emit:uu,binding:Ru,cwd:Mu,chdir:Lu,umask:Bu,hrtime:Fu,platform:"browser",release:nu,config:ru,uptime:Uu},mu={},Object.keys(mu).forEach((e=>{const t=e.split(".");let n=fu;for(let r=0;r<t.length;r++){const i=t[r];r===t.length-1?n[i]=mu[e]:n=n[i]||(n[i]={})}}))}});function Xu(){zu=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)ju[t]=e[t],Hu[e.charCodeAt(t)]=t;Hu["-".charCodeAt(0)]=62,Hu["_".charCodeAt(0)]=63}function Wu(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(ju[(i=r)>>18&63]+ju[i>>12&63]+ju[i>>6&63]+ju[63&i]);return o.join("")}function qu(e){var t;zu||Xu();for(var n=e.length,r=n%3,i="",o=[],a=16383,s=0,l=n-r;s<l;s+=a)o.push(Wu(e,s,s+a>l?l:s+a));return 1===r?(t=e[n-1],i+=ju[t>>2],i+=ju[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=ju[t>>10],i+=ju[t>>4&63],i+=ju[t<<2&63],i+="="),o.push(i),o.join("")}function Ku(){return Qu.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Zu(e,t){if(Ku()<t)throw new RangeError("Invalid typed array length");return Qu.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Qu.prototype:(null===e&&(e=new Qu(t)),e.length=t),e}function Qu(e,t,n){if(!(Qu.TYPED_ARRAY_SUPPORT||this instanceof Qu))return new Qu(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return th(this,e)}return Ju(this,e,t,n)}function Ju(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),Qu.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Qu.prototype:e=nh(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!Qu.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|oh(t,n),i=(e=Zu(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(ih(t)){var n=0|rh(t.length);return 0===(e=Zu(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?Zu(e,0):nh(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return nh(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function eh(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function th(e,t){if(eh(t),e=Zu(e,t<0?0:0|rh(t)),!Qu.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function nh(e,t){var n=t.length<0?0:0|rh(t.length);e=Zu(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function rh(e){if(e>=Ku())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ku().toString(16)+" bytes");return 0|e}function ih(e){return!(null==e||!e._isBuffer)}function oh(e,t){if(ih(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Ih(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Oh(e).length;default:if(r)return Ih(e).length;t=(""+t).toLowerCase(),r=!0}}function ah(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Th(this,t,n);case"utf8":case"utf-8":return bh(this,t,n);case"ascii":return vh(this,t,n);case"latin1":case"binary":return yh(this,t,n);case"base64":return gh(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _h(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function sh(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function lh(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=Qu.from(t,r)),ih(t))return 0===t.length?-1:ch(e,t,n,r,i);if("number"==typeof t)return t&=255,Qu.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):ch(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function ch(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){h=!1;break}if(h)return o}return-1}function uh(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function hh(e,t,n,r){return Dh(Ih(t,e.length-n),e,n,r)}function dh(e,t,n,r){return Dh(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function ph(e,t,n,r){return dh(e,t,n,r)}function fh(e,t,n,r){return Dh(Oh(t),e,n,r)}function mh(e,t,n,r){return Dh(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function gh(e,t,n){return 0===t&&n===e.length?qu(e):qu(e.slice(t,n))}function bh(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(e){var t=e.length;if(t<=Vu)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Vu));return n}(r)}function vh(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function yh(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function Th(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function _h(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function Eh(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function xh(e,t,n,r,i,o){if(!ih(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function wh(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function Sh(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function Ah(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function kh(e,t,n,r,i){return i||Ah(e,0,n,4),Mh(e,t,n,r,23,4),n+4}function Ch(e,t,n,r,i){return i||Ah(e,0,n,8),Mh(e,t,n,r,52,8),n+8}function Ih(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Oh(e){return function(e){var t,n,r,i,o,a;zu||Xu();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new Gu(3*s/4-o),r=o>0?s-4:s;var l=0;for(t=0,n=0;t<r;t+=4,n+=3)i=Hu[e.charCodeAt(t)]<<18|Hu[e.charCodeAt(t+1)]<<12|Hu[e.charCodeAt(t+2)]<<6|Hu[e.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===o?(i=Hu[e.charCodeAt(t)]<<2|Hu[e.charCodeAt(t+1)]>>4,a[l++]=255&i):1===o&&(i=Hu[e.charCodeAt(t)]<<10|Hu[e.charCodeAt(t+1)]<<4|Hu[e.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Yu,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Dh(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Ph(e){return null!=e&&(!!e._isBuffer||Nh(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Nh(e.slice(0,0))}(e))}function Nh(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function Rh(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)}function Mh(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m}var Lh,Bh,Fh=Eu({"node_modules/@esbuild-plugins/node-globals-polyfill/Buffer.js"(){$u(),Uh(),ju=[],Hu=[],Gu="undefined"!=typeof Uint8Array?Uint8Array:Array,zu=!1,Qu.TYPED_ARRAY_SUPPORT=void 0===globalThis.TYPED_ARRAY_SUPPORT||globalThis.TYPED_ARRAY_SUPPORT,Qu.poolSize=8192,Qu._augment=function(e){return e.__proto__=Qu.prototype,e},Qu.from=function(e,t,n){return Ju(null,e,t,n)},Qu.kMaxLength=Ku(),Qu.TYPED_ARRAY_SUPPORT&&(Qu.prototype.__proto__=Uint8Array.prototype,Qu.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Qu[Symbol.species]),Qu.alloc=function(e,t,n){return function(e,t,n,r){return eh(t),t<=0?Zu(e,t):void 0!==n?"string"==typeof r?Zu(e,t).fill(n,r):Zu(e,t).fill(n):Zu(e,t)}(null,e,t,n)},Qu.allocUnsafe=function(e){return th(null,e)},Qu.allocUnsafeSlow=function(e){return th(null,e)},Qu.isBuffer=Ph,Qu.compare=function(e,t){if(!ih(e)||!ih(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},Qu.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Qu.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Qu.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=Qu.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!ih(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},Qu.byteLength=oh,Qu.prototype._isBuffer=!0,Qu.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)sh(this,t,t+1);return this},Qu.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)sh(this,t,t+3),sh(this,t+1,t+2);return this},Qu.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)sh(this,t,t+7),sh(this,t+1,t+6),sh(this,t+2,t+5),sh(this,t+3,t+4);return this},Qu.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?bh(this,0,e):ah.apply(this,arguments)},Qu.prototype.equals=function(e){if(!ih(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Qu.compare(this,e)},Qu.prototype.compare=function(e,t,n,r,i){if(!ih(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),u=0;u<s;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},Qu.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Qu.prototype.indexOf=function(e,t,n){return lh(this,e,t,n,!0)},Qu.prototype.lastIndexOf=function(e,t,n){return lh(this,e,t,n,!1)},Qu.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return uh(this,e,t,n);case"utf8":case"utf-8":return hh(this,e,t,n);case"ascii":return dh(this,e,t,n);case"latin1":case"binary":return ph(this,e,t,n);case"base64":return fh(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mh(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Qu.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Vu=4096,Qu.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),Qu.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=Qu.prototype;else{var i=t-e;n=new Qu(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},Qu.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||Eh(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},Qu.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||Eh(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},Qu.prototype.readUInt8=function(e,t){return t||Eh(e,1,this.length),this[e]},Qu.prototype.readUInt16LE=function(e,t){return t||Eh(e,2,this.length),this[e]|this[e+1]<<8},Qu.prototype.readUInt16BE=function(e,t){return t||Eh(e,2,this.length),this[e]<<8|this[e+1]},Qu.prototype.readUInt32LE=function(e,t){return t||Eh(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Qu.prototype.readUInt32BE=function(e,t){return t||Eh(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Qu.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||Eh(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},Qu.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||Eh(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},Qu.prototype.readInt8=function(e,t){return t||Eh(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Qu.prototype.readInt16LE=function(e,t){t||Eh(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Qu.prototype.readInt16BE=function(e,t){t||Eh(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Qu.prototype.readInt32LE=function(e,t){return t||Eh(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Qu.prototype.readInt32BE=function(e,t){return t||Eh(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Qu.prototype.readFloatLE=function(e,t){return t||Eh(e,4,this.length),Rh(this,e,!0,23,4)},Qu.prototype.readFloatBE=function(e,t){return t||Eh(e,4,this.length),Rh(this,e,!1,23,4)},Qu.prototype.readDoubleLE=function(e,t){return t||Eh(e,8,this.length),Rh(this,e,!0,52,8)},Qu.prototype.readDoubleBE=function(e,t){return t||Eh(e,8,this.length),Rh(this,e,!1,52,8)},Qu.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||xh(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},Qu.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||xh(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},Qu.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||xh(this,e,t,1,255,0),Qu.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Qu.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||xh(this,e,t,2,65535,0),Qu.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):wh(this,e,t,!0),t+2},Qu.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||xh(this,e,t,2,65535,0),Qu.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):wh(this,e,t,!1),t+2},Qu.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||xh(this,e,t,4,4294967295,0),Qu.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Sh(this,e,t,!0),t+4},Qu.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||xh(this,e,t,4,4294967295,0),Qu.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Sh(this,e,t,!1),t+4},Qu.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);xh(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},Qu.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);xh(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},Qu.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||xh(this,e,t,1,127,-128),Qu.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Qu.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||xh(this,e,t,2,32767,-32768),Qu.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):wh(this,e,t,!0),t+2},Qu.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||xh(this,e,t,2,32767,-32768),Qu.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):wh(this,e,t,!1),t+2},Qu.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||xh(this,e,t,4,2147483647,-2147483648),Qu.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Sh(this,e,t,!0),t+4},Qu.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||xh(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Qu.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Sh(this,e,t,!1),t+4},Qu.prototype.writeFloatLE=function(e,t,n){return kh(this,e,t,!0,n)},Qu.prototype.writeFloatBE=function(e,t,n){return kh(this,e,t,!1,n)},Qu.prototype.writeDoubleLE=function(e,t,n){return Ch(this,e,t,!0,n)},Qu.prototype.writeDoubleBE=function(e,t,n){return Ch(this,e,t,!1,n)},Qu.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!Qu.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},Qu.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!Qu.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=ih(e)?e:Ih(new Qu(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this},Yu=/[^+\/0-9A-Za-z-_]/g}}),Uh=Eu({"node_modules/@esbuild-plugins/node-globals-polyfill/_buffer.js"(){Fh()}});function jh(){if(!Lh&&!(Lh="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lh(Bh)}var Hh,Gh,zh=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/rng.js"(){$u(),Uh(),Bh=new Uint8Array(16)}}),Vh=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/regex.js"(){$u(),Uh(),Hh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}});function Yh(e){return"string"==typeof e&&Hh.test(e)}var $h,Xh,Wh,qh=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/validate.js"(){$u(),Uh(),Vh(),Gh=Yh}});function Kh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=($h[e[t+0]]+$h[e[t+1]]+$h[e[t+2]]+$h[e[t+3]]+"-"+$h[e[t+4]]+$h[e[t+5]]+"-"+$h[e[t+6]]+$h[e[t+7]]+"-"+$h[e[t+8]]+$h[e[t+9]]+"-"+$h[e[t+10]]+$h[e[t+11]]+$h[e[t+12]]+$h[e[t+13]]+$h[e[t+14]]+$h[e[t+15]]).toLowerCase();if(!Gh(n))throw TypeError("Stringified UUID is invalid");return n}var Zh,Qh,Jh,ed,td,nd=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/stringify.js"(){for($u(),Uh(),qh(),$h=[],Xh=0;Xh<256;++Xh)$h.push((Xh+256).toString(16).substr(1));Wh=Kh}});function rd(e,t,n){var r=t&&n||0,i=t||new Array(16),o=(e=e||{}).node||Zh,a=void 0!==e.clockseq?e.clockseq:Qh;if(null==o||null==a){var s=e.random||(e.rng||jh)();null==o&&(o=Zh=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==a&&(a=Qh=16383&(s[6]<<8|s[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:ed+1,u=l-Jh+(c-ed)/1e4;if(u<0&&void 0===e.clockseq&&(a=a+1&16383),(u<0||l>Jh)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Jh=l,ed=c,Qh=a;var h=(1e4*(268435455&(l+=122192928e5))+c)%4294967296;i[r++]=h>>>24&255,i[r++]=h>>>16&255,i[r++]=h>>>8&255,i[r++]=255&h;var d=l/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var p=0;p<6;++p)i[r+p]=o[p];return t||Wh(i)}var id,od=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v1.js"(){$u(),Uh(),zh(),nd(),Jh=0,ed=0,td=rd}});function ad(e){if(!Gh(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}var sd,ld,cd=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/parse.js"(){$u(),Uh(),qh(),id=ad}});function ud(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=id(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return Wh(a)}try{r.name=e}catch(e){}return r.DNS=sd,r.URL=ld,r}var hd,dd=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v35.js"(){$u(),Uh(),nd(),cd(),sd="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ld="6ba7b811-9dad-11d1-80b4-00c04fd430c8"}});function pd(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[fd(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,l=r,c=i,u=o;n=bd(n,r,i,o,e[a],7,-680876936),o=bd(o,n,r,i,e[a+1],12,-389564586),i=bd(i,o,n,r,e[a+2],17,606105819),r=bd(r,i,o,n,e[a+3],22,-1044525330),n=bd(n,r,i,o,e[a+4],7,-176418897),o=bd(o,n,r,i,e[a+5],12,1200080426),i=bd(i,o,n,r,e[a+6],17,-1473231341),r=bd(r,i,o,n,e[a+7],22,-45705983),n=bd(n,r,i,o,e[a+8],7,1770035416),o=bd(o,n,r,i,e[a+9],12,-1958414417),i=bd(i,o,n,r,e[a+10],17,-42063),r=bd(r,i,o,n,e[a+11],22,-1990404162),n=bd(n,r,i,o,e[a+12],7,1804603682),o=bd(o,n,r,i,e[a+13],12,-40341101),i=bd(i,o,n,r,e[a+14],17,-1502002290),n=vd(n,r=bd(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=vd(o,n,r,i,e[a+6],9,-1069501632),i=vd(i,o,n,r,e[a+11],14,643717713),r=vd(r,i,o,n,e[a],20,-373897302),n=vd(n,r,i,o,e[a+5],5,-701558691),o=vd(o,n,r,i,e[a+10],9,38016083),i=vd(i,o,n,r,e[a+15],14,-660478335),r=vd(r,i,o,n,e[a+4],20,-405537848),n=vd(n,r,i,o,e[a+9],5,568446438),o=vd(o,n,r,i,e[a+14],9,-1019803690),i=vd(i,o,n,r,e[a+3],14,-187363961),r=vd(r,i,o,n,e[a+8],20,1163531501),n=vd(n,r,i,o,e[a+13],5,-1444681467),o=vd(o,n,r,i,e[a+2],9,-51403784),i=vd(i,o,n,r,e[a+7],14,1735328473),n=yd(n,r=vd(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=yd(o,n,r,i,e[a+8],11,-2022574463),i=yd(i,o,n,r,e[a+11],16,1839030562),r=yd(r,i,o,n,e[a+14],23,-35309556),n=yd(n,r,i,o,e[a+1],4,-1530992060),o=yd(o,n,r,i,e[a+4],11,1272893353),i=yd(i,o,n,r,e[a+7],16,-155497632),r=yd(r,i,o,n,e[a+10],23,-1094730640),n=yd(n,r,i,o,e[a+13],4,681279174),o=yd(o,n,r,i,e[a],11,-358537222),i=yd(i,o,n,r,e[a+3],16,-722521979),r=yd(r,i,o,n,e[a+6],23,76029189),n=yd(n,r,i,o,e[a+9],4,-640364487),o=yd(o,n,r,i,e[a+12],11,-421815835),i=yd(i,o,n,r,e[a+15],16,530742520),n=Td(n,r=yd(r,i,o,n,e[a+2],23,-995338651),i,o,e[a],6,-198630844),o=Td(o,n,r,i,e[a+7],10,1126891415),i=Td(i,o,n,r,e[a+14],15,-1416354905),r=Td(r,i,o,n,e[a+5],21,-57434055),n=Td(n,r,i,o,e[a+12],6,1700485571),o=Td(o,n,r,i,e[a+3],10,-1894986606),i=Td(i,o,n,r,e[a+10],15,-1051523),r=Td(r,i,o,n,e[a+1],21,-2054922799),n=Td(n,r,i,o,e[a+8],6,1873313359),o=Td(o,n,r,i,e[a+15],10,-30611744),i=Td(i,o,n,r,e[a+6],15,-1560198380),r=Td(r,i,o,n,e[a+13],21,1309151649),n=Td(n,r,i,o,e[a+4],6,-145523070),o=Td(o,n,r,i,e[a+11],10,-1120210379),i=Td(i,o,n,r,e[a+2],15,718787259),r=Td(r,i,o,n,e[a+9],21,-343485551),n=md(n,s),r=md(r,l),i=md(i,c),o=md(o,u)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(fd(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}function fd(e){return 14+(e+64>>>9<<4)+1}function md(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function gd(e,t,n,r,i,o){return md((a=md(md(t,e),md(r,o)))<<(s=i)|a>>>32-s,n);var a,s}function bd(e,t,n,r,i,o,a){return gd(t&n|~t&r,e,t,i,o,a)}function vd(e,t,n,r,i,o,a){return gd(t&r|n&~r,e,t,i,o,a)}function yd(e,t,n,r,i,o,a){return gd(t^n^r,e,t,i,o,a)}function Td(e,t,n,r,i,o,a){return gd(n^(t|~r),e,t,i,o,a)}var _d,Ed,xd,wd=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/md5.js"(){$u(),Uh(),hd=pd}}),Sd=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v3.js"(){$u(),Uh(),dd(),wd(),_d=ud("v3",48,hd),Ed=_d}});function Ad(e,t,n){var r=(e=e||{}).random||(e.rng||jh)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Wh(r)}var kd,Cd=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v4.js"(){$u(),Uh(),zh(),nd(),xd=Ad}});function Id(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function Od(e,t){return e<<t|e>>>32-t}function Dd(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),l=0;l<a;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[64*l+4*u]<<24|e[64*l+4*u+1]<<16|e[64*l+4*u+2]<<8|e[64*l+4*u+3];s[l]=c}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<a;++h){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=s[h][p];for(var f=16;f<80;++f)d[f]=Od(d[f-3]^d[f-8]^d[f-14]^d[f-16],1);for(var m=n[0],g=n[1],b=n[2],v=n[3],y=n[4],T=0;T<80;++T){var _=Math.floor(T/20),E=Od(m,5)+Id(_,g,b,v)+y+t[_]+d[T]>>>0;y=v,v=b,b=Od(g,30)>>>0,g=m,m=E}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+v>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}var Pd,Nd,Rd,Md,Ld=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/sha1.js"(){$u(),Uh(),kd=Dd}}),Bd=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/v5.js"(){$u(),Uh(),dd(),Ld(),Pd=ud("v5",80,kd),Nd=Pd}}),Fd=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/nil.js"(){$u(),Uh(),Rd="00000000-0000-0000-0000-000000000000"}});function Ud(e){if(!Gh(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var jd=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/version.js"(){$u(),Uh(),qh(),Md=Ud}}),Hd={};((e,t)=>{for(var n in t)bu(e,n,{get:t[n],enumerable:!0})})(Hd,{NIL:()=>Rd,parse:()=>id,stringify:()=>Wh,v1:()=>td,v3:()=>Ed,v4:()=>xd,v5:()=>Nd,validate:()=>Gh,version:()=>Md});var Gd=Eu({"node_modules/slugid/node_modules/uuid/dist/esm-browser/index.js"(){$u(),Uh(),od(),Sd(),Cd(),Bd(),Fd(),jd(),qh(),nd(),cd()}}),zd=xu({"node_modules/slugid/slugid.js"(e){$u(),Uh();var t,n=(Gd(),t=Hd,wu(bu({},"__esModule",{value:!0}),t));e.encode=function(e){var t=n.parse(e);return Qu.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},e.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/")+"==";return n.stringify(Qu.from(t,"base64"))},e.v4=function(){return n.v4(null,Qu.alloc(16)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)},e.nice=function(){var e=n.v4(null,Qu.alloc(16));return e[0]=127&e[0],e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").substring(0,22)}}}),Vd=xu({"node_modules/slugid/index.js"(e,t){$u(),Uh(),t.exports=zd()}}),Yd=xu({"node_modules/abortcontroller-polyfill/dist/cjs-ponyfill.js"(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}$u(),Uh(),Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(e,[{key:"addEventListener",value:function(e,t,n){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:t,options:n})}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r].callback===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var t=this.listeners[e.type].slice(),n=0,r=t.length;n<r;n++){var i=t[n];try{i.callback.call(this,e)}catch(e){Promise.resolve().then((function(){throw e}))}i.options&&i.options.once&&this.removeEventListener(e.type,i.callback)}return!e.defaultPrevented}}}]),e}(),c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(h,e);var n,c,u=(n=h,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=i(n);if(c){var r=i(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}(this,e)});function h(){var e;return t(this,h),(e=u.call(this)).listeners||l.call(a(e)),Object.defineProperty(a(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(e),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(a(e),"reason",{value:void 0,writable:!0,configurable:!0}),e}return r(h,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),s(i(h.prototype),"dispatchEvent",this).call(this,e)}}]),h}(l),u=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new c,writable:!0,configurable:!0})}return r(e,[{key:"abort",value:function(e){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}var n=e;if(void 0===n)if("undefined"==typeof document)(n=new Error("This operation was aborted")).name="AbortError";else try{n=new DOMException("signal is aborted without reason")}catch(e){(n=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=n,this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(u.prototype[Symbol.toStringTag]="AbortController",c.prototype[Symbol.toStringTag]="AbortSignal"),e.AbortController=u,e.AbortSignal=c,e.abortableFetch=function(e){"function"==typeof e&&(e={fetch:e});var t,n=e,r=n.fetch,i=n.Request,o=void 0===i?r.Request:i,a=n.AbortController,s=n.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,l=void 0!==s&&s;if(!((t={fetch:r,Request:o,AbortController:a,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:l}).__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),1):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController))return{fetch:r,Request:c};var c=o;(c&&!c.prototype.hasOwnProperty("signal")||l)&&((c=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var r=new o(e,t);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=o.prototype);var u=r;return{fetch:function(e,t){var n=c&&c.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(e){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var i=new Promise((function(e,t){n.addEventListener("abort",(function(){return t(r)}),{once:!0})}));return t&&t.signal&&delete t.signal,Promise.race([i,u(e,t)])}return u(e,t)},Request:c}}}}),$d=xu({"node_modules/abortable-promise-cache/esm/abortcontroller-ponyfill.js"(e){$u(),Uh(),Object.defineProperty(e,"__esModule",{value:!0}),e.AbortSignal=e.AbortController=void 0;var t=Yd(),n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof globalThis)return globalThis;throw new Error("unable to locate global object")},r=void 0===n().AbortController?t.AbortController:n().AbortController;e.AbortController=r;var i=void 0===n().AbortController?t.AbortSignal:n().AbortSignal;e.AbortSignal=i}}),Xd=xu({"node_modules/abortable-promise-cache/esm/AggregateAbortController.js"(e){$u(),Uh(),Object.defineProperty(e,"__esModule",{value:!0});var t=$d(),n=class{};e.default=class{constructor(){this.signals=new Set,this.abortController=new t.AbortController}addSignal(e=new n){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(e),e.aborted?this.handleAborted(e):"function"==typeof e.addEventListener&&e.addEventListener("abort",(()=>{this.handleAborted(e)}))}handleAborted(e){this.signals.delete(e),0===this.signals.size&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}}}}),Wd=xu({"node_modules/abortable-promise-cache/esm/AggregateStatusReporter.js"(e){$u(),Uh(),Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.callbacks=new Set}addCallback(e=()=>{}){this.callbacks.add(e),e(this.currentMessage)}callback(e){this.currentMessage=e,this.callbacks.forEach((t=>{t(e)}))}}}}),qd=xu({"node_modules/abortable-promise-cache/esm/AbortablePromiseCache.js"(e){$u(),Uh();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var n=$d(),r=t(Xd()),i=t(Wd()),o=class{constructor({fill:e,cache:t}){if("function"!=typeof e)throw new TypeError("must pass a fill function");if("object"!=typeof t)throw new TypeError("must pass a cache object");if("function"!=typeof t.get||"function"!=typeof t.set||"function"!=typeof t.delete)throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=t,this.fillCallback=e}static isAbortException(e){return"AbortError"===e.name||"ERR_ABORTED"===e.code||"AbortError: aborted"===e.message||"Error: aborted"===e.message}evict(e,t){this.cache.get(e)===t&&this.cache.delete(e)}fill(e,t,n,o){const a=new r.default,s=new i.default;s.addCallback(o);const l={aborter:a,promise:this.fillCallback(t,a.signal,(e=>{s.callback(e)})),settled:!1,statusReporter:s,get aborted(){return this.aborter.signal.aborted}};l.aborter.addSignal(n),l.aborter.signal.addEventListener("abort",(()=>{l.settled||this.evict(e,l)})),l.promise.then((()=>{l.settled=!0}),(()=>{l.settled=!0,this.evict(e,l)})).catch((e=>{throw console.error(e),e})),this.cache.set(e,l)}static checkSinglePromise(e,t){function n(){if(t&&t.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return e.then((e=>(n(),e)),(e=>{throw n(),e}))}has(e){return this.cache.has(e)}get(e,t,r,i){if(!r&&t instanceof n.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");const a=this.cache.get(e);return a?a.aborted&&!a.settled?(this.evict(e,a),this.get(e,t,r,i)):a.settled?a.promise:(a.aborter.addSignal(r),a.statusReporter.addCallback(i),o.checkSinglePromise(a.promise,r)):(this.fill(e,t,r,i),o.checkSinglePromise(this.cache.get(e).promise,r))}delete(e){const t=this.cache.get(e);t&&(t.settled||t.aborter.abort(),this.cache.delete(e))}clear(){const e=this.cache.keys();let t=0;for(let n=e.next();!n.done;n=e.next())this.delete(n.value),t+=1;return t}};e.default=o}}),Kd=xu({"node_modules/abortable-promise-cache/esm/index.js"(e){$u(),Uh();var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var n=t(qd());e.default=n.default}}),Zd=xu({"node_modules/quick-lru/index.js"(e,t){$u(),Uh();var n=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}};t.exports=n}}),Qd=xu({"(disabled):node_modules/generic-filehandle/esm/localFile"(){$u(),Uh()}}),Jd=xu({"node_modules/rxjs/node_modules/tslib/tslib.js"(e,t){var n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,b,v,y,T,_,E,x,w,S,A,k,C,I,O;$u(),Uh(),function(e){var n="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof this?this:{};function r(e,t){return e!==n&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}"function"==typeof define&&define.amd?define("tslib",["exports"],(function(t){e(r(n,r(t)))})):"object"==typeof t&&"object"==typeof t.exports?e(r(n,r(t.exports))):e(r(n))}((function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};n=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){return function(n,r){t(n,r,e)}},s=function(e,t,n,r,i,o){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d=!1,p=n.length-1;p>=0;p--){var f={};for(var m in r)f[m]="access"===m?{}:r[m];for(var m in r.access)f.access[m]=r.access[m];f.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");o.push(a(e||null))};var g=(0,n[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(s=a(g.get))&&(h.get=s),(s=a(g.set))&&(h.set=s),(s=a(g.init))&&i.push(s)}else(s=a(g))&&("field"===l?i.push(s):h[c]=s)}u&&Object.defineProperty(u,r.name,h),d=!0},l=function(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0},c=function(e){return"symbol"==typeof e?e:"".concat(e)},u=function(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})},h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},f=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||O(t,e,n)},O=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},m=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},g=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},b=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e},v=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},y=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},T=function(e){return this instanceof T?(this.v=e,this):new T(e)},_=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof T?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},E=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:T(e[r](t)),done:!1}:i?i(t):t}:i}},x=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=m(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}},w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var D=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&O(t,e,n);return D(t,e),t},A=function(e){return e&&e.__esModule?e:{default:e}},k=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},C=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},I=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)},e("__extends",n),e("__assign",r),e("__rest",i),e("__decorate",o),e("__param",a),e("__esDecorate",s),e("__runInitializers",l),e("__propKey",c),e("__setFunctionName",u),e("__metadata",h),e("__awaiter",d),e("__generator",p),e("__exportStar",f),e("__createBinding",O),e("__values",m),e("__read",g),e("__spread",b),e("__spreadArrays",v),e("__spreadArray",y),e("__await",T),e("__asyncGenerator",_),e("__asyncDelegator",E),e("__asyncValues",x),e("__makeTemplateObject",w),e("__importStar",S),e("__importDefault",A),e("__classPrivateFieldGet",k),e("__classPrivateFieldSet",C),e("__classPrivateFieldIn",I)}))}});$u(),Uh(),$u(),Uh();var ep=Su(Vd(),1);$u(),Uh(),$u(),Uh(),$u(),Uh();var tp=BigInt(32);"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(e,t){return function(e,t,n){const r=Number(!!n),i=Number(!n);return BigInt(e.getInt32(t,n)*i+e.getInt32(t+4,n)*r)<<tp|BigInt(e.getUint32(t,n)*r+e.getUint32(t+4,n)*i)}(this,e,t)}),"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(e,t){return function(e,t,n){const r=e.getUint32(t,n),i=e.getUint32(t+4,n),o=Number(!!n),a=Number(!n);return BigInt(r*a+i*o)<<tp|BigInt(r*o+i*a)}(this,e,t)}),"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(e,t,n){!function(e,t,n,r){const i=Number(n>>tp),o=Number(n&BigInt(4294967295));r?(e.setInt32(t+4,i,r),e.setUint32(t,o,r)):(e.setInt32(t,i,r),e.setUint32(t+4,o,r))}(this,e,t,n)}),"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(e,t,n){!function(e,t,n,r){const i=Number(n>>tp),o=Number(n&BigInt(4294967295));r?(e.setUint32(t+4,i,r),e.setUint32(t,o,r)):(e.setUint32(t,i,r),e.setUint32(t+4,o,r))}(this,e,t,n)}),$u(),Uh(),$u(),Uh(),$u(),Uh();var np=[],rp=[],ip="undefined"!=typeof Uint8Array?Uint8Array:Array,op=!1;function ap(){op=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)np[t]=e[t],rp[e.charCodeAt(t)]=t;rp["-".charCodeAt(0)]=62,rp["_".charCodeAt(0)]=63}function sp(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(np[(i=r)>>18&63]+np[i>>12&63]+np[i>>6&63]+np[63&i]);return o.join("")}function lp(e){var t;op||ap();for(var n=e.length,r=n%3,i="",o=[],a=16383,s=0,l=n-r;s<l;s+=a)o.push(sp(e,s,s+a>l?l:s+a));return 1===r?(t=e[n-1],i+=np[t>>2],i+=np[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=np[t>>10],i+=np[t>>4&63],i+=np[t<<2&63],i+="="),o.push(i),o.join("")}function cp(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)}function up(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m}var hp={}.toString,dp=Array.isArray||function(e){return"[object Array]"==hp.call(e)};function pp(){return mp.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function fp(e,t){if(pp()<t)throw new RangeError("Invalid typed array length");return mp.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=mp.prototype:(null===e&&(e=new mp(t)),e.length=t),e}function mp(e,t,n){if(!(mp.TYPED_ARRAY_SUPPORT||this instanceof mp))return new mp(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return vp(this,e)}return gp(this,e,t,n)}function gp(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),mp.TYPED_ARRAY_SUPPORT?(e=t).__proto__=mp.prototype:e=yp(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!mp.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Ep(t,n),i=(e=fp(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(_p(t)){var n=0|Tp(t.length);return 0===(e=fp(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?fp(e,0):yp(e,t);if("Buffer"===t.type&&dp(t.data))return yp(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function bp(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function vp(e,t){if(bp(t),e=fp(e,t<0?0:0|Tp(t)),!mp.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function yp(e,t){var n=t.length<0?0:0|Tp(t.length);e=fp(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function Tp(e){if(e>=pp())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+pp().toString(16)+" bytes");return 0|e}function _p(e){return!(null==e||!e._isBuffer)}function Ep(e,t){if(_p(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Wp(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return qp(e).length;default:if(r)return Wp(e).length;t=(""+t).toLowerCase(),r=!0}}function xp(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Fp(this,t,n);case"utf8":case"utf-8":return Rp(this,t,n);case"ascii":return Lp(this,t,n);case"latin1":case"binary":return Bp(this,t,n);case"base64":return Np(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Up(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function wp(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Sp(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=mp.from(t,r)),_p(t))return 0===t.length?-1:Ap(e,t,n,r,i);if("number"==typeof t)return t&=255,mp.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Ap(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function Ap(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){h=!1;break}if(h)return o}return-1}function kp(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function Cp(e,t,n,r){return Kp(Wp(t,e.length-n),e,n,r)}function Ip(e,t,n,r){return Kp(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function Op(e,t,n,r){return Ip(e,t,n,r)}function Dp(e,t,n,r){return Kp(qp(t),e,n,r)}function Pp(e,t,n,r){return Kp(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function Np(e,t,n){return 0===t&&n===e.length?lp(e):lp(e.slice(t,n))}function Rp(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(e){var t=e.length;if(t<=Mp)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Mp));return n}(r)}mp.TYPED_ARRAY_SUPPORT=void 0===globalThis.TYPED_ARRAY_SUPPORT||globalThis.TYPED_ARRAY_SUPPORT,pp(),mp.poolSize=8192,mp._augment=function(e){return e.__proto__=mp.prototype,e},mp.from=function(e,t,n){return gp(null,e,t,n)},mp.TYPED_ARRAY_SUPPORT&&(mp.prototype.__proto__=Uint8Array.prototype,mp.__proto__=Uint8Array),mp.alloc=function(e,t,n){return function(e,t,n,r){return bp(t),t<=0?fp(e,t):void 0!==n?"string"==typeof r?fp(e,t).fill(n,r):fp(e,t).fill(n):fp(e,t)}(null,e,t,n)},mp.allocUnsafe=function(e){return vp(null,e)},mp.allocUnsafeSlow=function(e){return vp(null,e)},mp.isBuffer=function(e){return null!=e&&(!!e._isBuffer||Zp(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Zp(e.slice(0,0))}(e))},mp.compare=function(e,t){if(!_p(e)||!_p(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},mp.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},mp.concat=function(e,t){if(!dp(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return mp.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=mp.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!_p(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},mp.byteLength=Ep,mp.prototype._isBuffer=!0,mp.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)wp(this,t,t+1);return this},mp.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)wp(this,t,t+3),wp(this,t+1,t+2);return this},mp.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)wp(this,t,t+7),wp(this,t+1,t+6),wp(this,t+2,t+5),wp(this,t+3,t+4);return this},mp.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Rp(this,0,e):xp.apply(this,arguments)},mp.prototype.equals=function(e){if(!_p(e))throw new TypeError("Argument must be a Buffer");return this===e||0===mp.compare(this,e)},mp.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},mp.prototype.compare=function(e,t,n,r,i){if(!_p(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),u=0;u<s;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},mp.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},mp.prototype.indexOf=function(e,t,n){return Sp(this,e,t,n,!0)},mp.prototype.lastIndexOf=function(e,t,n){return Sp(this,e,t,n,!1)},mp.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return kp(this,e,t,n);case"utf8":case"utf-8":return Cp(this,e,t,n);case"ascii":return Ip(this,e,t,n);case"latin1":case"binary":return Op(this,e,t,n);case"base64":return Dp(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pp(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},mp.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Mp=4096;function Lp(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function Bp(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function Fp(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function Up(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function jp(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function Hp(e,t,n,r,i,o){if(!_p(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function Gp(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function zp(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function Vp(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Yp(e,t,n,r,i){return i||Vp(e,0,n,4),up(e,t,n,r,23,4),n+4}function $p(e,t,n,r,i){return i||Vp(e,0,n,8),up(e,t,n,r,52,8),n+8}mp.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),mp.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=mp.prototype;else{var i=t-e;n=new mp(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},mp.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||jp(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},mp.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||jp(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},mp.prototype.readUInt8=function(e,t){return t||jp(e,1,this.length),this[e]},mp.prototype.readUInt16LE=function(e,t){return t||jp(e,2,this.length),this[e]|this[e+1]<<8},mp.prototype.readUInt16BE=function(e,t){return t||jp(e,2,this.length),this[e]<<8|this[e+1]},mp.prototype.readUInt32LE=function(e,t){return t||jp(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},mp.prototype.readUInt32BE=function(e,t){return t||jp(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},mp.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||jp(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},mp.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||jp(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},mp.prototype.readInt8=function(e,t){return t||jp(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},mp.prototype.readInt16LE=function(e,t){t||jp(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},mp.prototype.readInt16BE=function(e,t){t||jp(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},mp.prototype.readInt32LE=function(e,t){return t||jp(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},mp.prototype.readInt32BE=function(e,t){return t||jp(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},mp.prototype.readFloatLE=function(e,t){return t||jp(e,4,this.length),cp(this,e,!0,23,4)},mp.prototype.readFloatBE=function(e,t){return t||jp(e,4,this.length),cp(this,e,!1,23,4)},mp.prototype.readDoubleLE=function(e,t){return t||jp(e,8,this.length),cp(this,e,!0,52,8)},mp.prototype.readDoubleBE=function(e,t){return t||jp(e,8,this.length),cp(this,e,!1,52,8)},mp.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||Hp(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},mp.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||Hp(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},mp.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||Hp(this,e,t,1,255,0),mp.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},mp.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||Hp(this,e,t,2,65535,0),mp.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Gp(this,e,t,!0),t+2},mp.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||Hp(this,e,t,2,65535,0),mp.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Gp(this,e,t,!1),t+2},mp.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||Hp(this,e,t,4,4294967295,0),mp.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):zp(this,e,t,!0),t+4},mp.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||Hp(this,e,t,4,4294967295,0),mp.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):zp(this,e,t,!1),t+4},mp.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Hp(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},mp.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);Hp(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},mp.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||Hp(this,e,t,1,127,-128),mp.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},mp.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||Hp(this,e,t,2,32767,-32768),mp.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Gp(this,e,t,!0),t+2},mp.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||Hp(this,e,t,2,32767,-32768),mp.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Gp(this,e,t,!1),t+2},mp.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||Hp(this,e,t,4,2147483647,-2147483648),mp.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):zp(this,e,t,!0),t+4},mp.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||Hp(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),mp.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):zp(this,e,t,!1),t+4},mp.prototype.writeFloatLE=function(e,t,n){return Yp(this,e,t,!0,n)},mp.prototype.writeFloatBE=function(e,t,n){return Yp(this,e,t,!1,n)},mp.prototype.writeDoubleLE=function(e,t,n){return $p(this,e,t,!0,n)},mp.prototype.writeDoubleBE=function(e,t,n){return $p(this,e,t,!1,n)},mp.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!mp.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},mp.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!mp.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=_p(e)?e:Wp(new mp(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var Xp=/[^+\/0-9A-Za-z-_]/g;function Wp(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function qp(e){return function(e){var t,n,r,i,o,a;op||ap();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o="="===e[s-2]?2:"="===e[s-1]?1:0,a=new ip(3*s/4-o),r=o>0?s-4:s;var l=0;for(t=0,n=0;t<r;t+=4,n+=3)i=rp[e.charCodeAt(t)]<<18|rp[e.charCodeAt(t+1)]<<12|rp[e.charCodeAt(t+2)]<<6|rp[e.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=255&i;return 2===o?(i=rp[e.charCodeAt(t)]<<2|rp[e.charCodeAt(t+1)]>>4,a[l++]=255&i):1===o&&(i=rp[e.charCodeAt(t)]<<10|rp[e.charCodeAt(t+1)]<<4|rp[e.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=255&i),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Xp,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Kp(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Zp(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}$u(),Uh();var Qp=class{constructor(e,t){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=e,this.useContextVariables=t}generateVariable(e){const t=[...this.scopes[this.scopes.length-1]];return e&&t.push(e),t.join(".")}generateOption(e){switch(typeof e){case"number":return e.toString();case"string":return this.generateVariable(e);case"function":return`${this.addImport(e)}.call(${this.generateVariable()}, vars)`}}generateError(e){this.pushCode(`throw new Error(${e});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(e){this.code+=e+"\n"}pushPath(e){e&&this.scopes[this.scopes.length-1].push(e)}popPath(e){e&&this.scopes[this.scopes.length-1].pop()}pushScope(e){this.scopes.push([e])}popScope(){this.scopes.pop()}addImport(e){if(!this.importPath)return`(${e})`;let t=this.reverseImports.get(e);return t||(t=this.imports.push(e)-1,this.reverseImports.set(e,t)),`${this.importPath}[${t}]`}addReference(e){this.references.has(e)||this.references.set(e,{resolved:!1,requested:!1})}markResolved(e){const t=this.references.get(e);t&&(t.resolved=!0)}markRequested(e){e.forEach((e=>{const t=this.references.get(e);t&&(t.requested=!0)}))}getUnresolvedReferences(){return Array.from(this.references).filter((([e,t])=>!t.resolved&&!t.requested)).map((([e,t])=>e))}},Jp=new Map,ef="___parser_",tf={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},nf={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},rf={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},of=class{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new of}primitiveGenerateN(e,t){const n=nf[e],r=rf[e];t.pushCode(`${t.generateVariable(this.varName)} = dataView.get${n}(offset, ${r});`),t.pushCode(`offset += ${tf[e]};`)}primitiveN(e,t,n){return this.setNextParser(e,t,n)}useThisEndian(e){return e+this.endian.toLowerCase()}uint8(e,t={}){return this.primitiveN("uint8",e,t)}uint16(e,t={}){return this.primitiveN(this.useThisEndian("uint16"),e,t)}uint16le(e,t={}){return this.primitiveN("uint16le",e,t)}uint16be(e,t={}){return this.primitiveN("uint16be",e,t)}uint32(e,t={}){return this.primitiveN(this.useThisEndian("uint32"),e,t)}uint32le(e,t={}){return this.primitiveN("uint32le",e,t)}uint32be(e,t={}){return this.primitiveN("uint32be",e,t)}int8(e,t={}){return this.primitiveN("int8",e,t)}int16(e,t={}){return this.primitiveN(this.useThisEndian("int16"),e,t)}int16le(e,t={}){return this.primitiveN("int16le",e,t)}int16be(e,t={}){return this.primitiveN("int16be",e,t)}int32(e,t={}){return this.primitiveN(this.useThisEndian("int32"),e,t)}int32le(e,t={}){return this.primitiveN("int32le",e,t)}int32be(e,t={}){return this.primitiveN("int32be",e,t)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(e,t={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),e,t)}int64be(e,t={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",e,t)}int64le(e,t={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",e,t)}uint64(e,t={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),e,t)}uint64be(e,t={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",e,t)}uint64le(e,t={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",e,t)}floatle(e,t={}){return this.primitiveN("floatle",e,t)}floatbe(e,t={}){return this.primitiveN("floatbe",e,t)}doublele(e,t={}){return this.primitiveN("doublele",e,t)}doublebe(e,t={}){return this.primitiveN("doublebe",e,t)}bitN(e,t,n){return n.length=e,this.setNextParser("bit",t,n)}bit1(e,t={}){return this.bitN(1,e,t)}bit2(e,t={}){return this.bitN(2,e,t)}bit3(e,t={}){return this.bitN(3,e,t)}bit4(e,t={}){return this.bitN(4,e,t)}bit5(e,t={}){return this.bitN(5,e,t)}bit6(e,t={}){return this.bitN(6,e,t)}bit7(e,t={}){return this.bitN(7,e,t)}bit8(e,t={}){return this.bitN(8,e,t)}bit9(e,t={}){return this.bitN(9,e,t)}bit10(e,t={}){return this.bitN(10,e,t)}bit11(e,t={}){return this.bitN(11,e,t)}bit12(e,t={}){return this.bitN(12,e,t)}bit13(e,t={}){return this.bitN(13,e,t)}bit14(e,t={}){return this.bitN(14,e,t)}bit15(e,t={}){return this.bitN(15,e,t)}bit16(e,t={}){return this.bitN(16,e,t)}bit17(e,t={}){return this.bitN(17,e,t)}bit18(e,t={}){return this.bitN(18,e,t)}bit19(e,t={}){return this.bitN(19,e,t)}bit20(e,t={}){return this.bitN(20,e,t)}bit21(e,t={}){return this.bitN(21,e,t)}bit22(e,t={}){return this.bitN(22,e,t)}bit23(e,t={}){return this.bitN(23,e,t)}bit24(e,t={}){return this.bitN(24,e,t)}bit25(e,t={}){return this.bitN(25,e,t)}bit26(e,t={}){return this.bitN(26,e,t)}bit27(e,t={}){return this.bitN(27,e,t)}bit28(e,t={}){return this.bitN(28,e,t)}bit29(e,t={}){return this.bitN(29,e,t)}bit30(e,t={}){return this.bitN(30,e,t)}bit31(e,t={}){return this.bitN(31,e,t)}bit32(e,t={}){return this.bitN(32,e,t)}namely(e){return Jp.set(e,this),this.alias=e,this}skip(e,t={}){return this.seek(e,t)}seek(e,t={}){if(t.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:e})}string(e,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!t.length&&!t.greedy)throw new Error("length or greedy must be defined if stripNull is enabled.");return t.encoding=t.encoding||"utf8",this.setNextParser("string",e,t)}buffer(e,t){if(!t.length&&!t.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",e,t)}wrapped(e,t){if("object"!=typeof t&&"object"==typeof e&&(t=e,e=""),!t||!t.wrapper||!t.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!t.length&&!t.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",e,t)}array(e,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!t.type)throw new Error("type is required for array.");if("string"==typeof t.type&&!Jp.has(t.type)&&!(t.type in tf))throw new Error(`Array element type "${t.type}" is unkown.`);return this.setNextParser("array",e,t)}choice(e,t){if("object"!=typeof t&&"object"==typeof e&&(t=e,e=""),!t)throw new Error("tag and choices are are required for choice.");if(!t.tag)throw new Error("tag is requird for choice.");if(!t.choices)throw new Error("choices is required for choice.");for(const e in t.choices){const n=parseInt(e,10),r=t.choices[n];if(isNaN(n))throw new Error(`Choice key "${e}" is not a number.`);if("string"==typeof r&&!Jp.has(r)&&!(r in tf))throw new Error(`Choice type "${r}" is unkown.`)}return this.setNextParser("choice",e,t)}nest(e,t){if("object"!=typeof t&&"object"==typeof e&&(t=e,e=""),!t||!t.type)throw new Error("type is required for nest.");if(!(t.type instanceof of||Jp.has(t.type)))throw new Error("type must be a known parser name or a Parser object.");if(!(t.type instanceof of||e))throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",e,t)}pointer(e,t){if(!t.offset)throw new Error("offset is required for pointer.");if(!t.type)throw new Error("type is required for pointer.");if("string"==typeof t.type&&!(t.type in tf)&&!Jp.has(t.type))throw new Error(`Pointer type "${t.type}" is unkown.`);return this.setNextParser("pointer",e,t)}saveOffset(e,t={}){return this.setNextParser("saveOffset",e,t)}endianness(e){switch(e.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(e){return this.endianness(e)}useContextVars(e=!0){return this.useContextVariables=e,this}create(e){if(!(e instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=e,this}getContext(e){const t=new Qp(e,this.useContextVariables);return t.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(t),t.pushCode(`return ${ef+this.alias}(0).result;`)):this.addRawCode(t),t}getCode(){return this.getContext("imports").code}addRawCode(e){e.pushCode("var offset = 0;"),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("vars.$parent = null;"),e.pushCode("vars.$root = vars;"),this.generate(e),this.resolveReferences(e),e.pushCode("delete vars.$parent;"),e.pushCode("delete vars.$root;"),e.pushCode("return vars;")}addAliasedCode(e){return e.pushCode(`function ${ef+this.alias}(offset, context) {`),e.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),e.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),e.pushCode("vars = Object.assign(vars, ctx);"),this.generate(e),e.markResolved(this.alias),this.resolveReferences(e),e.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),e.pushCode("return { offset: offset, result: vars };"),e.pushCode("}"),e}resolveReferences(e){const t=e.getUnresolvedReferences();e.markRequested(t),t.forEach((t=>{var n;null===(n=Jp.get(t))||void 0===n||n.addAliasedCode(e)}))}compile(){const e="imports",t=this.getContext(e);this.compiled=new Function(e,"TextDecoder",`return function (buffer, constructorFn) { ${t.code} };`)(t.imports,TextDecoder)}sizeOf(){let e=NaN;if(Object.keys(tf).indexOf(this.type)>=0)e=tf[this.type];else if("string"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("buffer"===this.type&&"number"==typeof this.options.length)e=this.options.length;else if("array"===this.type&&"number"==typeof this.options.length){let t=NaN;"string"==typeof this.options.type?t=tf[this.options.type]:this.options.type instanceof of&&(t=this.options.type.sizeOf()),e=this.options.length*t}else"seek"===this.type?e=this.options.length:"nest"===this.type?e=this.options.type.sizeOf():this.type||(e=0);return this.next&&(e+=this.next.sizeOf()),e}parse(e){return this.compiled||this.compile(),this.compiled(e,this.constructorFn)}setNextParser(e,t,n){const r=new of;return r.type=e,r.varName=t,r.options=n,r.endian=this.endian,this.head?this.head.next=r:this.next=r,this.head=r,this}generate(e){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,e);break;case"bit":this.generateBit(e);break;case"string":this.generateString(e);break;case"buffer":this.generateBuffer(e);break;case"seek":this.generateSeek(e);break;case"nest":this.generateNest(e);break;case"array":this.generateArray(e);break;case"choice":this.generateChoice(e);break;case"pointer":this.generatePointer(e);break;case"saveOffset":this.generateSaveOffset(e);break;case"wrapper":this.generateWrapper(e)}"bit"!==this.type&&this.generateAssert(e)}const t=e.generateVariable(this.varName);return this.options.formatter&&"bit"!==this.type&&this.generateFormatter(e,t,this.options.formatter),this.generateNext(e)}generateAssert(e){if(!this.options.assert)return;const t=e.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{const n=e.addImport(this.options.assert);e.pushCode(`if (!${n}.call(vars, ${t})) {`)}break;case"number":e.pushCode(`if (${this.options.assert} !== ${t}) {`);break;case"string":e.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${t}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}e.generateError(`"Assertion error: ${t} is " + ${JSON.stringify(this.options.assert.toString())}`),e.pushCode("}")}generateNext(e){return this.next&&(e=this.next.generate(e)),e}generateBit(e){const t=JSON.parse(JSON.stringify(this));if(t.options=this.options,t.generateAssert=this.generateAssert.bind(this),t.generateFormatter=this.generateFormatter.bind(this),t.varName=e.generateVariable(t.varName),e.bitFields.push(t),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){const t=e.generateTmpVariable();e.pushCode(`var ${t} = 0;`);const n=(t=0)=>{let n=0;for(let r=t;r<e.bitFields.length;r++){const t=e.bitFields[r].options.length;if(n+t>32)break;n+=t}return n},r=n=>(n<=8?(e.pushCode(`${t} = dataView.getUint8(offset);`),n=8):n<=16?(e.pushCode(`${t} = dataView.getUint16(offset);`),n=16):n<=24?(e.pushCode(`${t} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),n=24):(e.pushCode(`${t} = dataView.getUint32(offset);`),n=32),e.pushCode(`offset += ${n/8};`),n);let i=0;const o="be"===this.endian;let a=0,s=0;e.bitFields.forEach(((l,c)=>{let u=l.options.length;if(u>s){if(s){const n=-1>>>32-s;e.pushCode(`${l.varName} = (${t} & 0x${n.toString(16)}) << ${u-s};`),u-=s}i=0,s=a=r(n(c)-s)}const h=o?a-i-u:i,d=-1>>>32-u;e.pushCode(`${l.varName} ${u<l.options.length?"|=":"="} ${t} >> ${h} & 0x${d.toString(16)};`),32===l.options.length&&e.pushCode(`${l.varName} >>>= 0`),l.options.assert&&l.generateAssert(e),l.options.formatter&&l.generateFormatter(e,l.varName,l.options.formatter),i+=u,s-=u})),e.bitFields=[]}}generateSeek(e){const t=e.generateOption(this.options.length);e.pushCode(`offset += ${t};`)}generateString(e){const t=e.generateVariable(this.varName),n=e.generateTmpVariable(),r=this.options.encoding,i="hex"===r.toLowerCase(),o='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){const a=this.options.length;e.pushCode(`var ${n} = offset;`),e.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${n} < ${a});`);const s=`offset - ${n} < ${a} ? offset - 1 : offset`;e.pushCode(i?`${t} = Array.from(buffer.subarray(${n}, ${s}), ${o}).join('');`:`${t} = new TextDecoder('${r}').decode(buffer.subarray(${n}, ${s}));`)}else if(this.options.length){const n=e.generateOption(this.options.length);e.pushCode(i?`${t} = Array.from(buffer.subarray(offset, offset + ${n}), ${o}).join('');`:`${t} = new TextDecoder('${r}').decode(buffer.subarray(offset, offset + ${n}));`),e.pushCode(`offset += ${n};`)}else this.options.zeroTerminated?(e.pushCode(`var ${n} = offset;`),e.pushCode("while(dataView.getUint8(offset++) !== 0);"),e.pushCode(i?`${t} = Array.from(buffer.subarray(${n}, offset - 1), ${o}).join('');`:`${t} = new TextDecoder('${r}').decode(buffer.subarray(${n}, offset - 1));`)):this.options.greedy&&(e.pushCode(`var ${n} = offset;`),e.pushCode("while(buffer.length > offset++);"),e.pushCode(i?`${t} = Array.from(buffer.subarray(${n}, offset), ${o}).join('');`:`${t} = new TextDecoder('${r}').decode(buffer.subarray(${n}, offset));`));this.options.stripNull&&e.pushCode(`${t} = ${t}.replace(/\\x00+$/g, '')`)}generateBuffer(e){const t=e.generateVariable(this.varName);if("function"==typeof this.options.readUntil){const n=this.options.readUntil,r=e.generateTmpVariable(),i=e.generateTmpVariable();e.pushCode(`var ${r} = offset;`),e.pushCode(`var ${i} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${i} = dataView.getUint8(offset);`);const o=e.addImport(n);e.pushCode(`if (${o}.call(${e.generateVariable()}, ${i}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${t} = buffer.subarray(${r}, offset);`)}else if("eof"===this.options.readUntil)e.pushCode(`${t} = buffer.subarray(offset);`);else{const n=e.generateOption(this.options.length);e.pushCode(`${t} = buffer.subarray(offset, offset + ${n});`),e.pushCode(`offset += ${n};`)}this.options.clone&&e.pushCode(`${t} = buffer.constructor.from(${t});`)}generateArray(e){const t=e.generateOption(this.options.length),n=e.generateOption(this.options.lengthInBytes),r=this.options.type,i=e.generateTmpVariable(),o=e.generateVariable(this.varName),a=e.generateTmpVariable(),s=this.options.key,l="string"==typeof s;if(l?e.pushCode(`${o} = {};`):e.pushCode(`${o} = [];`),"function"==typeof this.options.readUntil?e.pushCode("do {"):"eof"===this.options.readUntil?e.pushCode(`for (var ${i} = 0; offset < buffer.length; ${i}++) {`):void 0!==n?e.pushCode(`for (var ${i} = offset + ${n}; offset < ${i}; ) {`):e.pushCode(`for (var ${i} = ${t}; ${i} > 0; ${i}--) {`),"string"==typeof r)if(Jp.get(r)){const o=e.generateTmpVariable();if(e.pushCode(`var ${o} = ${ef+r}(offset, {`),e.useContextVariables){const r=e.generateVariable();e.pushCode(`$parent: ${r},`),e.pushCode(`$root: ${r}.$root,`),this.options.readUntil||void 0!==n||e.pushCode(`$index: ${t} - ${i},`)}e.pushCode("});"),e.pushCode(`var ${a} = ${o}.result; offset = ${o}.offset;`),r!==this.alias&&e.addReference(r)}else{const t=nf[r],n=rf[r];e.pushCode(`var ${a} = dataView.get${t}(offset, ${n});`),e.pushCode(`offset += ${tf[r]};`)}else if(r instanceof of){e.pushCode(`var ${a} = {};`);const o=e.generateVariable();e.pushScope(a),e.useContextVariables&&(e.pushCode(`${a}.$parent = ${o};`),e.pushCode(`${a}.$root = ${o}.$root;`),this.options.readUntil||void 0!==n||e.pushCode(`${a}.$index = ${t} - ${i};`)),r.generate(e),e.useContextVariables&&(e.pushCode(`delete ${a}.$parent;`),e.pushCode(`delete ${a}.$root;`),e.pushCode(`delete ${a}.$index;`)),e.popScope()}if(l?e.pushCode(`${o}[${a}.${s}] = ${a};`):e.pushCode(`${o}.push(${a});`),e.pushCode("}"),"function"==typeof this.options.readUntil){const t=this.options.readUntil,n=e.addImport(t);e.pushCode(`while (!${n}.call(${e.generateVariable()}, ${a}, buffer.subarray(offset)));`)}}generateChoiceCase(e,t,n){if("string"==typeof n){const t=e.generateVariable(this.varName);if(Jp.has(n)){const r=e.generateTmpVariable();e.pushCode(`var ${r} = ${ef+n}(offset, {`),e.useContextVariables&&(e.pushCode(`$parent: ${t}.$parent,`),e.pushCode(`$root: ${t}.$root,`)),e.pushCode("});"),e.pushCode(`${t} = ${r}.result; offset = ${r}.offset;`),n!==this.alias&&e.addReference(n)}else{const r=nf[n],i=rf[n];e.pushCode(`${t} = dataView.get${r}(offset, ${i});`),e.pushCode(`offset += ${tf[n]}`)}}else n instanceof of&&(e.pushPath(t),n.generate(e),e.popPath(t))}generateChoice(e){const t=e.generateOption(this.options.tag),n=e.generateVariable(this.varName);if(this.varName&&(e.pushCode(`${n} = {};`),e.useContextVariables)){const t=e.generateVariable();e.pushCode(`${n}.$parent = ${t};`),e.pushCode(`${n}.$root = ${t}.$root;`)}e.pushCode(`switch(${t}) {`);for(const t in this.options.choices){const n=parseInt(t,10),r=this.options.choices[n];e.pushCode(`case ${n}:`),this.generateChoiceCase(e,this.varName,r),e.pushCode("break;")}e.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(e,this.varName,this.options.defaultChoice):e.generateError(`"Met undefined tag value " + ${t} + " at choice"`),e.pushCode("}"),this.varName&&e.useContextVariables&&(e.pushCode(`delete ${n}.$parent;`),e.pushCode(`delete ${n}.$root;`))}generateNest(e){const t=e.generateVariable(this.varName);if(this.options.type instanceof of){if(this.varName&&(e.pushCode(`${t} = {};`),e.useContextVariables)){const n=e.generateVariable();e.pushCode(`${t}.$parent = ${n};`),e.pushCode(`${t}.$root = ${n}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),this.varName&&e.useContextVariables&&e.useContextVariables&&(e.pushCode(`delete ${t}.$parent;`),e.pushCode(`delete ${t}.$root;`))}else if(Jp.has(this.options.type)){const n=e.generateTmpVariable();if(e.pushCode(`var ${n} = ${ef+this.options.type}(offset, {`),e.useContextVariables){const t=e.generateVariable();e.pushCode(`$parent: ${t},`),e.pushCode(`$root: ${t}.$root,`)}e.pushCode("});"),e.pushCode(`${t} = ${n}.result; offset = ${n}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}}generateWrapper(e){const t=e.generateVariable(this.varName),n=e.generateTmpVariable();if("function"==typeof this.options.readUntil){const t=this.options.readUntil,r=e.generateTmpVariable(),i=e.generateTmpVariable();e.pushCode(`var ${r} = offset;`),e.pushCode(`var ${i} = 0;`),e.pushCode("while (offset < buffer.length) {"),e.pushCode(`${i} = dataView.getUint8(offset);`);const o=e.addImport(t);e.pushCode(`if (${o}.call(${e.generateVariable()}, ${i}, buffer.subarray(offset))) break;`),e.pushCode("offset += 1;"),e.pushCode("}"),e.pushCode(`${n} = buffer.subarray(${r}, offset);`)}else if("eof"===this.options.readUntil)e.pushCode(`${n} = buffer.subarray(offset);`);else{const t=e.generateOption(this.options.length);e.pushCode(`${n} = buffer.subarray(offset, offset + ${t});`),e.pushCode(`offset += ${t};`)}this.options.clone&&e.pushCode(`${n} = buffer.constructor.from(${n});`);const r=e.generateTmpVariable(),i=e.generateTmpVariable(),o=e.generateTmpVariable(),a=e.addImport(this.options.wrapper);if(e.pushCode(`${n} = ${a}.call(this, ${n}).subarray(0);`),e.pushCode(`var ${r} = buffer;`),e.pushCode(`var ${i} = offset;`),e.pushCode(`var ${o} = dataView;`),e.pushCode(`buffer = ${n};`),e.pushCode("offset = 0;"),e.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof of)this.varName&&e.pushCode(`${t} = {};`),e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName);else if(Jp.has(this.options.type)){const n=e.generateTmpVariable();e.pushCode(`var ${n} = ${ef+this.options.type}(0);`),e.pushCode(`${t} = ${n}.result;`),this.options.type!==this.alias&&e.addReference(this.options.type)}e.pushCode(`buffer = ${r};`),e.pushCode(`dataView = ${o};`),e.pushCode(`offset = ${i};`)}generateFormatter(e,t,n){if("function"==typeof n){const r=e.addImport(n);e.pushCode(`${t} = ${r}.call(${e.generateVariable()}, ${t});`)}}generatePointer(e){const t=this.options.type,n=e.generateOption(this.options.offset),r=e.generateTmpVariable(),i=e.generateVariable(this.varName);if(e.pushCode(`var ${r} = offset;`),e.pushCode(`offset = ${n};`),this.options.type instanceof of){if(e.pushCode(`${i} = {};`),e.useContextVariables){const t=e.generateVariable();e.pushCode(`${i}.$parent = ${t};`),e.pushCode(`${i}.$root = ${t}.$root;`)}e.pushPath(this.varName),this.options.type.generate(e),e.popPath(this.varName),e.useContextVariables&&(e.pushCode(`delete ${i}.$parent;`),e.pushCode(`delete ${i}.$root;`))}else if(Jp.has(this.options.type)){const t=e.generateTmpVariable();if(e.pushCode(`var ${t} = ${ef+this.options.type}(offset, {`),e.useContextVariables){const t=e.generateVariable();e.pushCode(`$parent: ${t},`),e.pushCode(`$root: ${t}.$root,`)}e.pushCode("});"),e.pushCode(`${i} = ${t}.result; offset = ${t}.offset;`),this.options.type!==this.alias&&e.addReference(this.options.type)}else if(Object.keys(tf).indexOf(this.options.type)>=0){const n=nf[t],r=rf[t];e.pushCode(`${i} = dataView.get${n}(offset, ${r});`),e.pushCode(`offset += ${tf[t]};`)}e.pushCode(`offset = ${r};`)}generateSaveOffset(e){const t=e.generateVariable(this.varName);e.pushCode(`${t} = offset`)}},af=Su(Kd()),sf=Su(Zd());$u(),Uh();var lf=class{constructor(e,t){this.ranges=2===arguments.length?[{min:e,max:t}]:0 in e?Object.assign({},e):[e]}min(){return this.ranges[0].min}max(){return this.ranges[this.ranges.length-1].max}contains(e){for(let t=0;t<this.ranges.length;t+=1){const n=this.ranges[t];if(n.min<=e&&n.max>=e)return!0}return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map((e=>new lf(e.min,e.max)))}toString(){return this.ranges.map((e=>`[${e.min}-${e.max}]`)).join(",")}union(e){const t=this.getRanges().concat(e.getRanges()).sort(this.rangeOrder),n=[];let r=t[0];for(let e=1;e<t.length;e+=1){const i=t[e];i.min()>r.max()+1?(n.push(r),r=i):i.max()>r.max()&&(r=new lf(r.min(),i.max()))}return n.push(r),1===n.length?n[0]:new lf(n)}intersection(e){let t=this,n=e;const r=this.ranges(),i=n.ranges(),o=r.length,a=i.length;let s=0,l=0;const c=[];for(;s<o&&l<a;){t=r[s],n=i[l];const e=Math.max(t.min(),n.min()),o=Math.min(t.max(),n.max());o>=e&&c.push(new lf(e,o)),t.max()>n.max()?l+=1:s+=1}if(0===c.length)throw new Error("found range of length 0");return 1===c.length?c[0]:new lf(c)}coverage(){let e=0;const t=this.ranges();for(let n=0;n<t.length;n+=1){const r=t[n];e+=r.max()-r.min()+1}return e}rangeOrder(e,t){let n=e,r=t;return arguments.length<2&&(r=n,n=this),n.min()<r.min()?-1:n.min()>r.min()?1:n.max()<r.max()?-1:r.max()>n.max()?1:0}};function cf(e){let t=e.length;for(;--t>=0;)e[t]=0}$u(),Uh(),$u(),Uh();var uf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),hf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),df=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),pf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ff=new Array(576);cf(ff);var mf=new Array(60);cf(mf);var gf=new Array(512);cf(gf);var bf=new Array(256);cf(bf);var vf=new Array(29);cf(vf);var yf,Tf,_f,Ef=new Array(30);function xf(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function wf(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}cf(Ef);var Sf=e=>e<256?gf[e]:gf[256+(e>>>7)],Af=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},kf=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Af(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Cf=(e,t,n)=>{kf(e,n[2*t],n[2*t+1])},If=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},Of=(e,t,n)=>{const r=new Array(16);let i,o,a=0;for(i=1;i<=15;i++)a=a+n[i-1]<<1,r[i]=a;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=If(r[t]++,t))}},Df=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Pf=e=>{e.bi_valid>8?Af(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Nf=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},Rf=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Nf(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Nf(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},Mf=(e,t,n)=>{let r,i,o,a,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,i=e.pending_buf[e.sym_buf+s++],0===r?Cf(e,i,t):(o=bf[i],Cf(e,o+256+1,t),a=uf[o],0!==a&&(i-=vf[o],kf(e,i,a)),r--,o=Sf(r),Cf(e,o,n),a=hf[o],0!==a&&(r-=Ef[o],kf(e,r,a)))}while(s<e.sym_next);Cf(e,256,t)},Lf=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)Rf(e,n,a);l=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Rf(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*l]=n[2*a]+n[2*s],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=l,e.heap[1]=l++,Rf(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,h,d,p,f,m=0;for(d=0;d<=15;d++)e.bl_count[d]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],d=n[2*n[2*u+1]+1]+1,d>l&&(d=l,m++),n[2*u+1]=d,u>r||(e.bl_count[d]++,p=0,u>=s&&(p=a[u-s]),f=n[2*u],e.opt_len+=f*(d+p),o&&(e.static_len+=f*(i[2*u+1]+p)));if(0!==m){do{for(d=l-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(d=l;0!==d;d--)for(u=e.bl_count[d];0!==u;)h=e.heap[--c],h>r||(n[2*h+1]!==d&&(e.opt_len+=(d-n[2*h+1])*n[2*h],n[2*h+1]=d),u--)}})(e,t),Of(n,c,e.bl_count)},Bf=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},Ff=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do{Cf(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(Cf(e,i,e.bl_tree),s--),Cf(e,16,e.bl_tree),kf(e,s-3,2)):s<=10?(Cf(e,17,e.bl_tree),kf(e,s-3,3)):(Cf(e,18,e.bl_tree),kf(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}},Uf=!1,jf=(e,t,n,r)=>{kf(e,0+(r?1:0),3),Pf(e),Af(e,n),Af(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},Hf={_tr_init:e=>{Uf||((()=>{let e,t,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(vf[r]=n,e=0;e<1<<uf[r];e++)bf[n++]=r;for(bf[n-1]=r,i=0,r=0;r<16;r++)for(Ef[r]=i,e=0;e<1<<hf[r];e++)gf[i++]=r;for(i>>=7;r<30;r++)for(Ef[r]=i<<7,e=0;e<1<<hf[r]-7;e++)gf[256+i++]=r;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)ff[2*e+1]=8,e++,o[8]++;for(;e<=255;)ff[2*e+1]=9,e++,o[9]++;for(;e<=279;)ff[2*e+1]=7,e++,o[7]++;for(;e<=287;)ff[2*e+1]=8,e++,o[8]++;for(Of(ff,287,o),e=0;e<30;e++)mf[2*e+1]=5,mf[2*e]=If(e,5);yf=new xf(ff,uf,257,286,15),Tf=new xf(mf,hf,0,30,15),_f=new xf(new Array(0),df,0,19,7)})(),Uf=!0),e.l_desc=new wf(e.dyn_ltree,yf),e.d_desc=new wf(e.dyn_dtree,Tf),e.bl_desc=new wf(e.bl_tree,_f),e.bi_buf=0,e.bi_valid=0,Df(e)},_tr_stored_block:jf,_tr_flush_block:(e,t,n,r)=>{let i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Lf(e,e.l_desc),Lf(e,e.d_desc),a=(e=>{let t;for(Bf(e,e.dyn_ltree,e.l_desc.max_code),Bf(e,e.dyn_dtree,e.d_desc.max_code),Lf(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*pf[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?jf(e,t,n,r):4===e.strategy||o===i?(kf(e,2+(r?1:0),3),Mf(e,ff,mf)):(kf(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(kf(e,t-257,5),kf(e,n-1,5),kf(e,r-4,4),i=0;i<r;i++)kf(e,e.bl_tree[2*pf[i]+1],3);Ff(e,e.dyn_ltree,t-1),Ff(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Mf(e,e.dyn_ltree,e.dyn_dtree)),Df(e),r&&Pf(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(bf[n]+256+1)]++,e.dyn_dtree[2*Sf(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{kf(e,2,3),Cf(e,256,ff),(e=>{16===e.bi_valid?(Af(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},Gf=(e,t,n,r)=>{let i=65535&e,o=e>>>16&65535,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16},zf=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})()),Vf=(e,t,n,r)=>{const i=zf,o=r+n;e^=-1;for(let n=r;n<o;n++)e=e>>>8^i[255&(e^t[n])];return~e},Yf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$f={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Xf,_tr_stored_block:Wf,_tr_flush_block:qf,_tr_tally:Kf,_tr_align:Zf}=Hf,{Z_NO_FLUSH:Qf,Z_PARTIAL_FLUSH:Jf,Z_FULL_FLUSH:em,Z_FINISH:tm,Z_BLOCK:nm,Z_OK:rm,Z_STREAM_END:im,Z_STREAM_ERROR:om,Z_DATA_ERROR:am,Z_BUF_ERROR:sm,Z_DEFAULT_COMPRESSION:lm,Z_FILTERED:cm,Z_HUFFMAN_ONLY:um,Z_RLE:hm,Z_FIXED:dm,Z_DEFAULT_STRATEGY:pm,Z_UNKNOWN:fm,Z_DEFLATED:mm}=$f,gm=258,bm=262,vm=42,ym=113,Tm=666,_m=(e,t)=>(e.msg=Yf[t],t),Em=e=>2*e-(e>4?9:0),xm=e=>{let t=e.length;for(;--t>=0;)e[t]=0},wm=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);t=i,r=t;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)},Sm=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Am=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},km=(e,t)=>{qf(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Am(e.strm)},Cm=(e,t)=>{e.pending_buf[e.pending++]=t},Im=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Om=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=Gf(e.adler,t,i,n):2===e.state.wrap&&(e.adler=Vf(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Dm=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-bm?e.strstart-(e.w_size-bm):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+gm;let p=c[o+a-1],f=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===f&&c[n+a-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=gm-(d-o),o=d-gm,r>a){if(e.match_start=t,a=r,r>=s)break;p=c[o+a-1],f=c[o+a]}}}while((t=h[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead},Pm=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-bm)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),wm(e),r+=t),0===e.strm.avail_in)break;if(n=Om(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Sm(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Sm(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<bm&&0!==e.strm.avail_in)},Nm=(e,t)=>{let n,r,i,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&t!==tm||t===Qf||n!==r+e.strm.avail_in))break;a=t===tm&&n===r+e.strm.avail_in?1:0,Wf(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Am(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(Om(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==Qf&&t!==tm&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Om(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,o=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=o||(r||t===tm)&&t!==Qf&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=t===tm&&0===e.strm.avail_in&&n===r?1:0,Wf(e,e.block_start,n,a),e.block_start+=n,Am(e.strm)),a?3:1)},Rm=(e,t)=>{let n,r;for(;;){if(e.lookahead<bm){if(Pm(e),e.lookahead<bm&&t===Qf)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Sm(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-bm&&(e.match_length=Dm(e,n)),e.match_length>=3)if(r=Kf(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Sm(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Sm(e,e.ins_h,e.window[e.strstart+1]);else r=Kf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(km(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===tm?(km(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(km(e,!1),0===e.strm.avail_out)?1:2},Mm=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<bm){if(Pm(e),e.lookahead<bm&&t===Qf)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Sm(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-bm&&(e.match_length=Dm(e,n),e.match_length<=5&&(e.strategy===cm||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=Kf(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Sm(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(km(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=Kf(e,0,e.window[e.strstart-1]),r&&km(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Kf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===tm?(km(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(km(e,!1),0===e.strm.avail_out)?1:2};function Lm(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var Bm=[new Lm(0,0,0,0,Nm),new Lm(4,4,8,4,Rm),new Lm(4,5,16,8,Rm),new Lm(4,6,32,32,Rm),new Lm(4,4,16,16,Mm),new Lm(8,16,32,32,Mm),new Lm(8,16,128,128,Mm),new Lm(8,32,128,256,Mm),new Lm(32,128,258,1024,Mm),new Lm(32,258,258,4096,Mm)];function Fm(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mm,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),xm(this.dyn_ltree),xm(this.dyn_dtree),xm(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),xm(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),xm(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Um=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==vm&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==ym&&t.status!==Tm?1:0},jm=e=>{if(Um(e))return _m(e,om);e.total_in=e.total_out=0,e.data_type=fm;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?vm:ym,e.adler=2===t.wrap?0:1,t.last_flush=-2,Xf(t),rm},Hm=e=>{const t=jm(e);var n;return t===rm&&((n=e.state).window_size=2*n.w_size,xm(n.head),n.max_lazy_match=Bm[n.level].max_lazy,n.good_match=Bm[n.level].good_length,n.nice_match=Bm[n.level].nice_length,n.max_chain_length=Bm[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Gm=(e,t,n,r,i,o)=>{if(!e)return om;let a=1;if(t===lm&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==mm||r<8||r>15||t<0||t>9||o<0||o>dm||8===r&&1!==a)return _m(e,om);8===r&&(r=9);const s=new Fm;return e.state=s,s.strm=e,s.status=vm,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=o,s.method=n,Hm(e)},zm={deflateInit:(e,t)=>Gm(e,t,mm,15,8,pm),deflateInit2:Gm,deflateReset:Hm,deflateResetKeep:jm,deflateSetHeader:(e,t)=>Um(e)||2!==e.state.wrap?om:(e.state.gzhead=t,rm),deflate:(e,t)=>{if(Um(e)||t>nm||t<0)return e?_m(e,om):om;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Tm&&t!==tm)return _m(e,0===e.avail_out?sm:om);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(Am(e),0===e.avail_out)return n.last_flush=-1,rm}else if(0===e.avail_in&&Em(t)<=Em(r)&&t!==tm)return _m(e,sm);if(n.status===Tm&&0!==e.avail_in)return _m(e,sm);if(n.status===vm&&0===n.wrap&&(n.status=ym),n.status===vm){let t=mm+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=um||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,Im(n,t),0!==n.strstart&&(Im(n,e.adler>>>16),Im(n,65535&e.adler)),e.adler=1,n.status=ym,Am(e),0!==n.pending)return n.last_flush=-1,rm}if(57===n.status)if(e.adler=0,Cm(n,31),Cm(n,139),Cm(n,8),n.gzhead)Cm(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Cm(n,255&n.gzhead.time),Cm(n,n.gzhead.time>>8&255),Cm(n,n.gzhead.time>>16&255),Cm(n,n.gzhead.time>>24&255),Cm(n,9===n.level?2:n.strategy>=um||n.level<2?4:0),Cm(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Cm(n,255&n.gzhead.extra.length),Cm(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Vf(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Cm(n,0),Cm(n,0),Cm(n,0),Cm(n,0),Cm(n,0),Cm(n,9===n.level?2:n.strategy>=um||n.level<2?4:0),Cm(n,3),n.status=ym,Am(e),0!==n.pending)return n.last_flush=-1,rm;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=Vf(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,Am(e),0!==n.pending)return n.last_flush=-1,rm;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=Vf(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Vf(e.adler,n.pending_buf,n.pending-r,r)),Am(e),0!==n.pending)return n.last_flush=-1,rm;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Cm(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=Vf(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Vf(e.adler,n.pending_buf,n.pending-r,r)),Am(e),0!==n.pending)return n.last_flush=-1,rm;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Cm(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=Vf(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Am(e),0!==n.pending))return n.last_flush=-1,rm;Cm(n,255&e.adler),Cm(n,e.adler>>8&255),e.adler=0}if(n.status=ym,Am(e),0!==n.pending)return n.last_flush=-1,rm}if(0!==e.avail_in||0!==n.lookahead||t!==Qf&&n.status!==Tm){let r=0===n.level?Nm(n,t):n.strategy===um?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Pm(e),0===e.lookahead)){if(t===Qf)return 1;break}if(e.match_length=0,n=Kf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(km(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===tm?(km(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(km(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===hm?((e,t)=>{let n,r,i,o;const a=e.window;for(;;){if(e.lookahead<=gm){if(Pm(e),e.lookahead<=gm&&t===Qf)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+gm;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=gm-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Kf(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Kf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(km(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===tm?(km(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(km(e,!1),0===e.strm.avail_out)?1:2})(n,t):Bm[n.level].func(n,t);if(3!==r&&4!==r||(n.status=Tm),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),rm;if(2===r&&(t===Jf?Zf(n):t!==nm&&(Wf(n,0,0,!1),t===em&&(xm(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Am(e),0===e.avail_out))return n.last_flush=-1,rm}return t!==tm?rm:n.wrap<=0?im:(2===n.wrap?(Cm(n,255&e.adler),Cm(n,e.adler>>8&255),Cm(n,e.adler>>16&255),Cm(n,e.adler>>24&255),Cm(n,255&e.total_in),Cm(n,e.total_in>>8&255),Cm(n,e.total_in>>16&255),Cm(n,e.total_in>>24&255)):(Im(n,e.adler>>>16),Im(n,65535&e.adler)),Am(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?rm:im)},deflateEnd:e=>{if(Um(e))return om;const t=e.state.status;return e.state=null,t===ym?_m(e,am):rm},deflateSetDictionary:(e,t)=>{let n=t.length;if(Um(e))return om;const r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==vm||r.lookahead)return om;if(1===i&&(e.adler=Gf(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(xm(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Pm(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Sm(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Pm(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,rm},deflateInfo:"pako deflate (from Nodeca project)"},Vm=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Ym={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Vm(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n}},$m=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){$m=!1}var Xm=new Uint8Array(256);for(let e=0;e<256;e++)Xm[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Xm[254]=Xm[254]=1;var Wm={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){o[i++]=t;continue}let a=Xm[t];if(a>4)o[i++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&$m)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,i)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Xm[e[n]]>t?n:t}},qm=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Km=Object.prototype.toString,{Z_NO_FLUSH:Zm,Z_SYNC_FLUSH:Qm,Z_FULL_FLUSH:Jm,Z_FINISH:eg,Z_OK:tg,Z_STREAM_END:ng,Z_DEFAULT_COMPRESSION:rg,Z_DEFAULT_STRATEGY:ig,Z_DEFLATED:og}=$f;function ag(e){this.options=Ym.assign({level:rg,method:og,chunkSize:16384,windowBits:15,memLevel:8,strategy:ig},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qm,this.strm.avail_out=0;let n=zm.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==tg)throw new Error(Yf[n]);if(t.header&&zm.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Wm.string2buf(t.dictionary):"[object ArrayBuffer]"===Km.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=zm.deflateSetDictionary(this.strm,e),n!==tg)throw new Error(Yf[n]);this._dict_set=!0}}function sg(e,t){const n=new ag(t);if(n.push(e,!0),n.err)throw n.msg||Yf[n.err];return n.result}ag.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?eg:Zm,"string"==typeof e?n.input=Wm.string2buf(e):"[object ArrayBuffer]"===Km.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Qm||o===Jm)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=zm.deflate(n,o),i===ng)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=zm.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===tg;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},ag.prototype.onData=function(e){this.chunks.push(e)},ag.prototype.onEnd=function(e){e===tg&&(this.result=Ym.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var lg={Deflate:ag,deflate:sg,deflateRaw:function(e,t){return(t=t||{}).raw=!0,sg(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,sg(e,t)},constants:$f},cg=16209,ug=function(e,t){let n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,b,v,y,T,_,E,x,w,S;const A=e.state;n=e.next_in,w=e.input,r=n+(e.avail_in-5),i=e.next_out,S=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=A.dmax,l=A.wsize,c=A.whave,u=A.wnext,h=A.window,d=A.hold,p=A.bits,f=A.lencode,m=A.distcode,g=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{p<15&&(d+=w[n++]<<p,p+=8,d+=w[n++]<<p,p+=8),v=f[d&g];t:for(;;){if(y=v>>>24,d>>>=y,p-=y,y=v>>>16&255,0===y)S[i++]=65535&v;else{if(!(16&y)){if(64&y){if(32&y){A.mode=16191;break e}e.msg="invalid literal/length code",A.mode=cg;break e}v=f[(65535&v)+(d&(1<<y)-1)];continue t}for(T=65535&v,y&=15,y&&(p<y&&(d+=w[n++]<<p,p+=8),T+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=w[n++]<<p,p+=8,d+=w[n++]<<p,p+=8),v=m[d&b];;){if(y=v>>>24,d>>>=y,p-=y,y=v>>>16&255,16&y){if(_=65535&v,y&=15,p<y&&(d+=w[n++]<<p,p+=8,p<y&&(d+=w[n++]<<p,p+=8)),_+=d&(1<<y)-1,_>s){e.msg="invalid distance too far back",A.mode=cg;break e}if(d>>>=y,p-=y,y=i-o,_>y){if(y=_-y,y>c&&A.sane){e.msg="invalid distance too far back",A.mode=cg;break e}if(E=0,x=h,0===u){if(E+=l-y,y<T){T-=y;do{S[i++]=h[E++]}while(--y);E=i-_,x=S}}else if(u<y){if(E+=l+u-y,y-=u,y<T){T-=y;do{S[i++]=h[E++]}while(--y);if(E=0,u<T){y=u,T-=y;do{S[i++]=h[E++]}while(--y);E=i-_,x=S}}}else if(E+=u-y,y<T){T-=y;do{S[i++]=h[E++]}while(--y);E=i-_,x=S}for(;T>2;)S[i++]=x[E++],S[i++]=x[E++],S[i++]=x[E++],T-=3;T&&(S[i++]=x[E++],T>1&&(S[i++]=x[E++]))}else{E=i-_;do{S[i++]=S[E++],S[i++]=S[E++],S[i++]=S[E++],T-=3}while(T>2);T&&(S[i++]=S[E++],T>1&&(S[i++]=S[E++]))}break}if(64&y){e.msg="invalid distance code",A.mode=cg;break e}v=m[(65535&v)+(d&(1<<y)-1)]}}break}}while(n<r&&i<a);T=p>>3,n-=T,p-=T<<3,d&=(1<<p)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),A.hold=d,A.bits=p},hg=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dg=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pg=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fg=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),mg=(e,t,n,r,i,o,a,s)=>{const l=s.bits;let c,u,h,d,p,f,m=0,g=0,b=0,v=0,y=0,T=0,_=0,E=0,x=0,w=0,S=null;const A=new Uint16Array(16),k=new Uint16Array(16);let C,I,O,D=null;for(m=0;m<=15;m++)A[m]=0;for(g=0;g<r;g++)A[t[n+g]]++;for(y=l,v=15;v>=1&&0===A[v];v--);if(y>v&&(y=v),0===v)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(b=1;b<v&&0===A[b];b++);for(y<b&&(y=b),E=1,m=1;m<=15;m++)if(E<<=1,E-=A[m],E<0)return-1;if(E>0&&(0===e||1!==v))return-1;for(k[1]=0,m=1;m<15;m++)k[m+1]=k[m]+A[m];for(g=0;g<r;g++)0!==t[n+g]&&(a[k[t[n+g]]++]=g);if(0===e?(S=D=a,f=20):1===e?(S=hg,D=dg,f=257):(S=pg,D=fg,f=0),w=0,g=0,m=b,p=o,T=y,_=0,h=-1,x=1<<y,d=x-1,1===e&&x>852||2===e&&x>592)return 1;for(;;){C=m-_,a[g]+1<f?(I=0,O=a[g]):a[g]>=f?(I=D[a[g]-f],O=S[a[g]-f]):(I=96,O=0),c=1<<m-_,u=1<<T,b=u;do{u-=c,i[p+(w>>_)+u]=C<<24|I<<16|O}while(0!==u);for(c=1<<m-1;w&c;)c>>=1;if(0!==c?(w&=c-1,w+=c):w=0,g++,0==--A[m]){if(m===v)break;m=t[n+a[g]]}if(m>y&&(w&d)!==h){for(0===_&&(_=y),p+=b,T=m-_,E=1<<T;T+_<v&&(E-=A[T+_],!(E<=0));)T++,E<<=1;if(x+=1<<T,1===e&&x>852||2===e&&x>592)return 1;h=w&d,i[h]=y<<24|T<<16|p-o}}return 0!==w&&(i[p+w]=m-_<<24|64<<16),s.bits=y,0},{Z_FINISH:gg,Z_BLOCK:bg,Z_TREES:vg,Z_OK:yg,Z_STREAM_END:Tg,Z_NEED_DICT:_g,Z_STREAM_ERROR:Eg,Z_DATA_ERROR:xg,Z_MEM_ERROR:wg,Z_BUF_ERROR:Sg,Z_DEFLATED:Ag}=$f,kg=16180,Cg=16190,Ig=16191,Og=16192,Dg=16194,Pg=16199,Ng=16200,Rg=16206,Mg=16209,Lg=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Bg(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Fg,Ug,jg=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<kg||t.mode>16211?1:0},Hg=e=>{if(jg(e))return Eg;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=kg,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,yg},Gg=e=>{if(jg(e))return Eg;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Hg(e)},zg=(e,t)=>{let n;if(jg(e))return Eg;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Eg:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Gg(e))},Vg=(e,t)=>{if(!e)return Eg;const n=new Bg;e.state=n,n.strm=e,n.window=null,n.mode=kg;const r=zg(e,t);return r!==yg&&(e.state=null),r},Yg=!0,$g=e=>{if(Yg){Fg=new Int32Array(512),Ug=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(mg(1,e.lens,0,288,Fg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;mg(2,e.lens,0,32,Ug,0,e.work,{bits:5}),Yg=!1}e.lencode=Fg,e.lenbits=9,e.distcode=Ug,e.distbits=5},Xg=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Wg={inflateReset:Gg,inflateReset2:zg,inflateResetKeep:Hg,inflateInit:e=>Vg(e,15),inflateInit2:Vg,inflate:(e,t)=>{let n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,b,v,y,T,_,E,x,w=0;const S=new Uint8Array(4);let A,k;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jg(e)||!e.output||!e.input&&0!==e.avail_in)return Eg;n=e.state,n.mode===Ig&&(n.mode=Og),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,h=s,d=l,x=yg;e:for(;;)switch(n.mode){case kg:if(0===n.wrap){n.mode=Og;break}for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,S[0]=255&c,S[1]=c>>>8&255,n.check=Vf(n.check,S,2,0),c=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Mg;break}if((15&c)!==Ag){e.msg="unknown compression method",n.mode=Mg;break}if(c>>>=4,u-=4,E=8+(15&c),0===n.wbits&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=Mg;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:Ig,c=0,u=0;break;case 16181:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==Ag){e.msg="unknown compression method",n.mode=Mg;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Mg;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=Vf(n.check,S,2,0)),c=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,n.check=Vf(n.check,S,4,0)),c=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=Vf(n.check,S,2,0)),c=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(S[0]=255&c,S[1]=c>>>8&255,n.check=Vf(n.check,S,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>s&&(p=s),p&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+p),E)),512&n.flags&&4&n.wrap&&(n.check=Vf(n.check,r,p,o)),s-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;p=0;do{E=r[o+p++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&p<s);if(512&n.flags&&4&n.wrap&&(n.check=Vf(n.check,r,p,o)),s-=p,o+=p,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;p=0;do{E=r[o+p++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&p<s);if(512&n.flags&&4&n.wrap&&(n.check=Vf(n.check,r,p,o)),s-=p,o+=p,E)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Mg;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ig;break;case 16189:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}e.adler=n.check=Lg(c),c=0,u=0,n.mode=Cg;case Cg:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,_g;e.adler=n.check=1,n.mode=Ig;case Ig:if(t===bg||t===vg)break e;case Og:if(n.last){c>>>=7&u,u-=7&u,n.mode=Rg;break}for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=16193;break;case 1:if($g(n),n.mode=Pg,t===vg){c>>>=2,u-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Mg}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Mg;break}if(n.length=65535&c,c=0,u=0,n.mode=Dg,t===vg)break e;case Dg:n.mode=16195;case 16195:if(p=n.length,p){if(p>s&&(p=s),p>l&&(p=l),0===p)break e;i.set(r.subarray(o,o+p),a),s-=p,o+=p,l-=p,a+=p,n.length-=p;break}n.mode=Ig;break;case 16196:for(;u<14;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Mg;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.lens[C[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},x=mg(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,x){e.msg="invalid code lengths set",n.mode=Mg;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[c&(1<<n.lenbits)-1],g=w>>>24,b=w>>>16&255,v=65535&w,!(g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(v<16)c>>>=g,u-=g,n.lens[n.have++]=v;else{if(16===v){for(k=g+2;u<k;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=Mg;break}E=n.lens[n.have-1],p=3+(3&c),c>>>=2,u-=2}else if(17===v){for(k=g+3;u<k;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=g,u-=g,E=0,p=3+(7&c),c>>>=3,u-=3}else{for(k=g+7;u<k;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=g,u-=g,E=0,p=11+(127&c),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Mg;break}for(;p--;)n.lens[n.have++]=E}}if(n.mode===Mg)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Mg;break}if(n.lenbits=9,A={bits:n.lenbits},x=mg(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,x){e.msg="invalid literal/lengths set",n.mode=Mg;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},x=mg(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,x){e.msg="invalid distances set",n.mode=Mg;break}if(n.mode=Pg,t===vg)break e;case Pg:n.mode=Ng;case Ng:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,ug(e,d),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,n.mode===Ig&&(n.back=-1);break}for(n.back=0;w=n.lencode[c&(1<<n.lenbits)-1],g=w>>>24,b=w>>>16&255,v=65535&w,!(g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(b&&!(240&b)){for(y=g,T=b,_=v;w=n.lencode[_+((c&(1<<y+T)-1)>>y)],g=w>>>24,b=w>>>16&255,v=65535&w,!(y+g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,n.length=v,0===b){n.mode=16205;break}if(32&b){n.back=-1,n.mode=Ig;break}if(64&b){e.msg="invalid literal/length code",n.mode=Mg;break}n.extra=15&b,n.mode=16201;case 16201:if(n.extra){for(k=n.extra;u<k;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;w=n.distcode[c&(1<<n.distbits)-1],g=w>>>24,b=w>>>16&255,v=65535&w,!(g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(!(240&b)){for(y=g,T=b,_=v;w=n.distcode[_+((c&(1<<y+T)-1)>>y)],g=w>>>24,b=w>>>16&255,v=65535&w,!(y+g<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,64&b){e.msg="invalid distance code",n.mode=Mg;break}n.offset=v,n.extra=15&b,n.mode=16203;case 16203:if(n.extra){for(k=n.extra;u<k;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Mg;break}n.mode=16204;case 16204:if(0===l)break e;if(p=d-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Mg;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=i,f=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{i[a++]=m[f++]}while(--p);0===n.length&&(n.mode=Ng);break;case 16205:if(0===l)break e;i[a++]=n.length,l--,n.mode=Ng;break;case Rg:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=r[o++]<<u,u+=8}if(d-=l,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=n.flags?Vf(n.check,i,d,a-d):Gf(n.check,i,d,a-d)),d=l,4&n.wrap&&(n.flags?c:Lg(c))!==n.check){e.msg="incorrect data check",n.mode=Mg;break}c=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Mg;break}c=0,u=0}n.mode=16208;case 16208:x=Tg;break e;case Mg:x=xg;break e;case 16210:return wg;default:return Eg}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||d!==e.avail_out&&n.mode<Mg&&(n.mode<Rg||t!==gg))&&Xg(e,e.output,e.next_out,d-e.avail_out),h-=e.avail_in,d-=e.avail_out,e.total_in+=h,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=n.flags?Vf(n.check,i,d,e.next_out-d):Gf(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ig?128:0)+(n.mode===Pg||n.mode===Dg?256:0),(0===h&&0===d||t===gg)&&x===yg&&(x=Sg),x},inflateEnd:e=>{if(jg(e))return Eg;let t=e.state;return t.window&&(t.window=null),e.state=null,yg},inflateGetHeader:(e,t)=>{if(jg(e))return Eg;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,yg):Eg},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,o;return jg(e)?Eg:(r=e.state,0!==r.wrap&&r.mode!==Cg?Eg:r.mode===Cg&&(i=1,i=Gf(i,t,n,0),i!==r.check)?xg:(o=Xg(e,t,n,n),o?(r.mode=16210,wg):(r.havedict=1,yg)))},inflateInfo:"pako inflate (from Nodeca project)"},qg=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Kg=Object.prototype.toString,{Z_NO_FLUSH:Zg,Z_FINISH:Qg,Z_OK:Jg,Z_STREAM_END:eb,Z_NEED_DICT:tb,Z_STREAM_ERROR:nb,Z_DATA_ERROR:rb,Z_MEM_ERROR:ib}=$f;function ob(e){this.options=Ym.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qm,this.strm.avail_out=0;let n=Wg.inflateInit2(this.strm,t.windowBits);if(n!==Jg)throw new Error(Yf[n]);if(this.header=new qg,Wg.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Wm.string2buf(t.dictionary):"[object ArrayBuffer]"===Kg.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Wg.inflateSetDictionary(this.strm,t.dictionary),n!==Jg)))throw new Error(Yf[n])}function ab(e,t){const n=new ob(t);if(n.push(e),n.err)throw n.msg||Yf[n.err];return n.result}ob.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Qg:Zg,"[object ArrayBuffer]"===Kg.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Wg.inflate(n,a),o===tb&&i&&(o=Wg.inflateSetDictionary(n,i),o===Jg?o=Wg.inflate(n,a):o===rb&&(o=tb));n.avail_in>0&&o===eb&&n.state.wrap>0&&0!==e[n.next_in];)Wg.inflateReset(n),o=Wg.inflate(n,a);switch(o){case nb:case rb:case tb:case ib:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===eb))if("string"===this.options.to){let e=Wm.utf8border(n.output,n.next_out),t=n.next_out-e,i=Wm.buf2string(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Jg||0!==s){if(o===eb)return o=Wg.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},ob.prototype.onData=function(e){this.chunks.push(e)},ob.prototype.onEnd=function(e){e===Jg&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ym.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var sb={Inflate:ob,inflate:ab,inflateRaw:function(e,t){return(t=t||{}).raw=!0,ab(e,t)},ungzip:ab,constants:$f},{Deflate:lb,deflate:cb,deflateRaw:ub,gzip:hb}=lg,{Inflate:db,inflate:pb,inflateRaw:fb,ungzip:mb}=sb,gb=fb;$u(),Uh();var bb=class extends Error{constructor(e){super(e),this.code="ERR_ABORTED"}};function vb(e){if(e&&e.aborted){if("undefined"!=typeof DOMException)throw new DOMException("aborted","AbortError");{const e=new bb("aborted");throw e.code="ERR_ABORTED",e}}}var yb=1,Tb=2,_b=3;function Eb(e,t,n,r){return e<r&&t>=n}var xb=class{constructor(e,t,n,r,i,o){if(this.bbi=e,this.refsByName=t,this.cirTreeOffset=n,this.isBigEndian=r,this.isCompressed=i,this.blockType=o,this.featureCache=new af.default({cache:new sf.default({maxSize:1e3}),fill:async(e,t)=>{const n=Number(e.length),r=Number(e.offset),{buffer:i}=await this.bbi.read(mp.alloc(n),0,n,r,{signal:t});return i}}),!(n>=0))throw new Error("invalid cirTreeOffset!");const a=function(e){const t=e?"big":"little",n=(new of).endianess(t).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),r=(new of).endianess(t).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:(new of).endianess(t).array("blocksToFetch",{length:"cnt",type:(new of).endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:(new of).array("recurOffsets",{length:"cnt",type:(new of).endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),i=(new of).endianess(t).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:(new of).endianess(t).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[_b]:(new of).array("items",{length:"itemCount",type:(new of).floatle("score")}),[Tb]:(new of).array("items",{length:"itemCount",type:(new of).endianess(t).int32("start").floatle("score")}),[yb]:(new of).array("items",{length:"itemCount",type:(new of).endianess(t).int32("start").int32("end").floatle("score")})}}),bigBedParser:i,summaryParser:n,leafParser:r}}(r);this.leafParser=a.leafParser,this.bigBedParser=a.bigBedParser}async readWigData(e,t,n,r,i){try{const{refsByName:o,bbi:a,cirTreeOffset:s,isBigEndian:l}=this,c=o[e];void 0===c&&r.complete();const u={chrId:c,start:t,end:n};this.cirTreePromise||(this.cirTreePromise=a.read(mp.alloc(48),0,48,Number(s),i));const{buffer:h}=await this.cirTreePromise,d=l?h.readUInt32BE(4):h.readUInt32LE(4);let p=[],f=0;const m=(e,t,n)=>{try{const r=e.subarray(t),i=this.leafParser.parse(r);if(i.blocksToFetch&&(p=p.concat(i.blocksToFetch.filter(g).map((e=>({offset:e.blockOffset,length:e.blockSize}))))),i.recurOffsets){const e=i.recurOffsets.filter(g).map((e=>Number(e.blockOffset)));e.length>0&&v(e,n+1)}}catch(e){r.error(e)}},g=e=>{const{startChrom:r,startBase:i,endChrom:o,endBase:a}=e;return(r<c||r===c&&i<=n)&&(o>c||o===c&&a>=t)},b=async(e,t,n)=>{try{const o=t.max()-t.min(),a=t.min(),s=await this.featureCache.get(`${o}_${a}`,{length:o,offset:a},i.signal);for(let o=0;o<e.length;o+=1)t.contains(e[o])&&(m(s,e[o]-a,n),f-=1,0===f&&this.readFeatures(r,p,{...i,request:u}))}catch(e){r.error(e)}},v=(e,t)=>{try{f+=e.length;const n=4+32*Number(d);let r=new lf(e[0],e[0]+n);for(let t=1;t<e.length;t+=1){const i=new lf(e[t],e[t]+n);r=r.union(i)}r.getRanges().map((n=>b(e,n,t)))}catch(e){r.error(e)}};return v([Number(s)+48],1)}catch(e){r.error(e)}}parseSummaryBlock(e,t,n){const r=[];let i=t;const o=new DataView(e.buffer,e.byteOffset,e.length);for(;i<e.byteLength;){const e=o.getUint32(i,!0);i+=4;const t=o.getUint32(i,!0);i+=4;const a=o.getUint32(i,!0);i+=4;const s=o.getUint32(i,!0);i+=4;const l=o.getFloat32(i,!0);i+=4;const c=o.getFloat32(i,!0);i+=4;const u=o.getFloat32(i,!0);i+=4,i+=4,(!n||e===n.chrId&&Eb(t,a,n.start,n.end))&&r.push({start:t,end:a,maxScore:c,minScore:l,summary:!0,score:u/(s||1)})}return r}parseBigBedBlock(e,t,n,r){const i=[];let o=t;for(;o<e.byteLength;){const t=this.bigBedParser.parse(e.subarray(o));i.push({...t,uniqueId:`bb-${n+o}`}),o+=t.offset}return r?i.filter((e=>Eb(e.start,e.end,r.start,r.end))):i}parseBigWigBlock(e,t,n){const r=e.subarray(t),i=new DataView(r.buffer,r.byteOffset,r.length);let o=0;o+=4;const a=i.getInt32(o,!0);o+=8;const s=i.getUint32(o,!0);o+=4;const l=i.getUint32(o,!0);o+=4;const c=i.getUint8(o);o+=2;const u=i.getUint16(o,!0);o+=2;const h=new Array(u);switch(c){case 1:for(let e=0;e<u;e++){const t=i.getInt32(o,!0);o+=4;const n=i.getInt32(o,!0);o+=4;const r=i.getFloat32(o,!0);o+=4,h[e]={start:t,end:n,score:r}}break;case 2:for(let e=0;e<u;e++){const t=i.getInt32(o,!0);o+=4;const n=i.getFloat32(o,!0);o+=4,h[e]={score:n,start:t,end:t+l}}break;case 3:for(let e=0;e<u;e++){const t=i.getFloat32(o,!0);o+=4;const n=a+e*s;h[e]={score:t,start:n,end:n+l}}}return n?h.filter((e=>Eb(e.start,e.end,n.start,n.end))):h}async readFeatures(e,t,n={}){try{const{blockType:r,isCompressed:i}=this,{signal:o,request:a}=n,s=function(e){e.sort(((e,t)=>Number(e.offset)-Number(t.offset)));const t=[];let n,r;for(let i=0;i<e.length;i+=1)n&&r&&Number(e[i].offset)-r<=2e3?(n.length=BigInt(Number(n.length)+Number(e[i].length)-r+Number(e[i].offset)),n.blocks.push(e[i])):t.push(n={blocks:[e[i]],length:e[i].length,offset:e[i].offset}),r=Number(n.offset)+Number(n.length);return t}(t);vb(o),await Promise.all(s.map((async t=>{vb(o);const{length:n,offset:s}=t,l=await this.featureCache.get(`${n}_${s}`,t,o);t.blocks.forEach((n=>{vb(o);let s=Number(n.offset)-Number(t.offset),c=l;var u;switch(i&&(u=l.subarray(s),c=gb(u.subarray(2)),s=0),vb(o),r){case"summary":e.next(this.parseSummaryBlock(c,s,a));break;case"bigwig":e.next(this.parseBigWigBlock(c,s,a));break;case"bigbed":e.next(this.parseBigBedBlock(c,s,256*Number(n.offset),a));break;default:console.warn(`Don't know what to do with ${r}`)}}))}))),e.complete()}catch(t){e.error(t)}}};$u(),Uh(),$u(),Uh();var wb=Su(Qd());$u(),Uh();var Sb="undefined"!=typeof window?window:"undefined"!=typeof self?self:{fetch:void 0},Ab=class{async getBufferFromResponse(e){if("function"==typeof e.buffer)return e.buffer();if("function"==typeof e.arrayBuffer){const t=await e.arrayBuffer();return mp.from(t)}throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(e,t={}){this.baseOverrides={},this.url=e;const n=t.fetch||Sb.fetch&&Sb.fetch.bind(Sb);if(!n)throw new TypeError("no fetch function supplied, and none found in global environment");t.overrides&&(this.baseOverrides=t.overrides),this.fetchImplementation=n}async fetch(e,t){let n;try{n=await this.fetchImplementation(e,t)}catch(r){if(!`${r}`.includes("Failed to fetch"))throw r;console.warn(`generic-filehandle: refetching ${e} to attempt to work around chrome CORS header caching bug`),n=await this.fetchImplementation(e,{...t,cache:"reload"})}return n}async read(e,t=0,n,r=0,i={}){const{headers:o={},signal:a,overrides:s={}}=i;n<1/0?o.range=`bytes=${r}-${r+n}`:n===1/0&&0!==r&&(o.range=`bytes=${r}-`);const l={...this.baseOverrides,...s,headers:{...o,...s.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:a},c=await this.fetch(this.url,l);if(!c.ok)throw new Error(`HTTP ${c.status} ${c.statusText} ${this.url}`);if(200===c.status&&0===r||206===c.status){const r=await this.getBufferFromResponse(c),i=r.copy(e,t,0,Math.min(n,r.length)),o=c.headers.get("content-range"),a=/\/(\d+)$/.exec(o||"");return a&&a[1]&&(this._stat={size:parseInt(a[1],10)}),{bytesRead:i,buffer:e}}if(200===c.status)throw new Error("${this.url} fetch returned status 200, expected 206");throw new Error(`HTTP ${c.status} fetching ${this.url}`)}async readFile(e={}){let t,n;"string"==typeof e?(t=e,n={}):(t=e.encoding,n=e,delete n.encoding);const{headers:r={},signal:i,overrides:o={}}=n,a={headers:r,method:"GET",redirect:"follow",mode:"cors",signal:i,...this.baseOverrides,...o},s=await this.fetch(this.url,a);if(!s)throw new Error("generic-filehandle failed to fetch");if(200!==s.status)throw Object.assign(new Error(`HTTP ${s.status} fetching ${this.url}`),{status:s.status});if("utf8"===t)return s.text();if(t)throw new Error(`unsupported encoding: ${t}`);return this.getBufferFromResponse(s)}async stat(){if(!this._stat){const e=mp.allocUnsafe(10);if(await this.read(e,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}};$u(),Uh(),$u(),Uh(),$u(),Uh(),$u(),Uh(),$u(),Uh(),$u(),Uh();var kb=Su(Jd(),1),{__extends:Cb,__assign:Ib,__rest:Ob,__decorate:Db,__param:Pb,__esDecorate:Nb,__runInitializers:Rb,__propKey:Mb,__setFunctionName:Lb,__metadata:Bb,__awaiter:Fb,__generator:Ub,__exportStar:jb,__createBinding:Hb,__values:Gb,__read:zb,__spread:Vb,__spreadArrays:Yb,__spreadArray:$b,__await:Xb,__asyncGenerator:Wb,__asyncDelegator:qb,__asyncValues:Kb,__makeTemplateObject:Zb,__importStar:Qb,__importDefault:Jb,__classPrivateFieldGet:ev,__classPrivateFieldSet:tv,__classPrivateFieldIn:nv}=kb.default;function rv(e){return"function"==typeof e}function iv(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}$u(),Uh(),$u(),Uh(),$u(),Uh(),$u(),Uh();var ov=iv((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function av(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}$u(),Uh();var sv=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Gb(o),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(rv(l))try{l()}catch(e){i=e instanceof ov?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=Gb(c),h=u.next();!h.done;h=u.next()){var d=h.value;try{cv(d)}catch(e){i=null!=i?i:[],e instanceof ov?i=$b($b([],zb(i)),zb(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(i)throw new ov(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)cv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&av(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&av(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function lv(e){return e instanceof sv||e&&"closed"in e&&rv(e.remove)&&rv(e.add)&&rv(e.unsubscribe)}function cv(e){rv(e)?e():e.unsubscribe()}sv.EMPTY,$u(),Uh();var uv=null,hv=null,dv=void 0,pv=!1,fv=!1;$u(),Uh(),$u(),Uh();var mv={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=mv.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,$b([e,t],zb(n))):setTimeout.apply(void 0,$b([e,t],zb(n)))},clearTimeout:function(e){var t=mv.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function gv(){}$u(),Uh(),$u(),Uh();var bv=vv("C",void 0,void 0);function vv(e,t,n){return{kind:e,value:t,error:n}}$u(),Uh();var yv=null,Tv=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,lv(t)&&t.add(n)):n.destination=kv,n}return Cb(t,e),t.create=function(e,t,n){return new wv(e,t,n)},t.prototype.next=function(e){this.isStopped?Av(function(e){return vv("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Av(vv("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Av(bv,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(sv),_v=Function.prototype.bind;function Ev(e,t){return _v.call(e,t)}var xv=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Sv(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Sv(e)}else Sv(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Sv(e)}},e}(),wv=function(e){function t(t,n,r){var i,o,a=e.call(this)||this;return rv(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&fv?((o=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&Ev(t.next,o),error:t.error&&Ev(t.error,o),complete:t.complete&&Ev(t.complete,o)}):i=t,a.destination=new xv(i),a}return Cb(t,e),t}(Tv);function Sv(e){var t;pv?(t=e,pv&&yv&&(yv.errorThrown=!0,yv.error=t)):function(e){mv.setTimeout((function(){if(!uv)throw e;uv(e)}))}(e)}function Av(e,t){var n=hv;n&&mv.setTimeout((function(){return n(e,t)}))}var kv={closed:!0,next:gv,error:function(e){throw e},complete:gv};$u(),Uh();var Cv="function"==typeof Symbol&&Symbol.observable||"@@observable";function Iv(e){return e}$u(),Uh(),$u(),Uh();var Ov=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof Tv||function(e){return e&&rv(e.next)&&rv(e.error)&&rv(e.complete)}(e)&&lv(e)}(e)?e:new wv(e,t,n);return function(e){if(pv){var t=!yv;if(t&&(yv={errorThrown:!1,error:null}),e(),t){var n=yv,r=n.errorThrown,i=n.error;if(yv=null,r)throw i}}else e()}((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Dv(t))((function(t,r){var i=new wv({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Cv]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0===(e=t).length?Iv:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=Dv(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Dv(e){var t;return null!==(t=null!=e?e:dv)&&void 0!==t?t:Promise}function Pv(e){return function(t){if(function(e){return rv(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}$u(),Uh(),$u(),Uh();var Nv=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return Cb(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(Tv);$u(),Uh();var Rv=iv((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));$u(),Uh(),$u(),Uh(),$u(),Uh(),$u(),Uh();var Mv=function(e,t){return e.push(t),e};function Lv(){return Pv((function(e,t){(function(e,t){return Pv(function(e,t,n,r,i){return function(o,a){var s,l=n,c=t,u=0;o.subscribe((s=function(t){var n=u++;c=l?e(c,t,n):(l=!0,t),r&&a.next(c)},new Nv(a,s,i&&function(){l&&a.next(c),a.complete()},void 0,void 0)))}}(e,t,arguments.length>=2,!1,!0))})(Mv,[])(e).subscribe(t)}))}$u(),Uh();var Bv=-2003829722,Fv=-2021002517;function Uv(e){const t=e?"big":"little",n=(new of).endianess(t).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:(new of).endianess(t).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),r=(new of).endianess(t).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares");return{chromTreeParser:(new of).endianess(t).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),totalSummaryParser:r,headerParser:n,isLeafNode:(new of).endianess(t).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset")}}var jv=class{getHeader(e={}){const t="aborted"in e?{signal:e}:e;return this.headerP||(this.headerP=this._getHeader(t).catch((e=>{throw this.headerP=void 0,e}))),this.headerP}constructor(e={}){const{filehandle:t,renameRefSeqs:n=e=>e,path:r,url:i}=e;if(this.renameRefSeqs=n,t)this.bbi=t;else if(i)this.bbi=new Ab(i);else{if(!r)throw new Error("no file given");this.bbi=new wb.default(r)}}async _getHeader(e){const t=await this._getMainHeader(e),n=await this._readChromTree(t,e);return{...t,...n}}async _getMainHeader(e,t=2e3){const{buffer:n}=await this.bbi.read(mp.alloc(t),0,t,0,e),r=this._isBigEndian(n),i=Uv(r),o=i.headerParser.parse(n),{magic:a,asOffset:s,totalSummaryOffset:l}=o;if(o.fileType=a===Fv?"bigbed":"bigwig",s>t||l>t)return this._getMainHeader(e,2*t);if(s){const e=Number(o.asOffset);o.autoSql=(c=n.subarray(e,n.indexOf(0,e)),(new TextDecoder).decode(c))}var c;if(o.totalSummaryOffset>t)return this._getMainHeader(e,2*t);if(o.totalSummaryOffset){const e=n.subarray(Number(o.totalSummaryOffset)),t=i.totalSummaryParser.parse(e);o.totalSummary={...t,basesCovered:Number(t.basesCovered)}}return{...o,isBigEndian:r}}_isBigEndian(e){let t=e.readInt32LE(0);if(t===Bv||t===Fv)return!1;if(t=e.readInt32BE(0),t===Bv||t===Fv)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(e,t){const n=e.isBigEndian,r=n?"big":"little",i=[],o={};let a=Number(e.unzoomedDataOffset);const s=Number(e.chromTreeOffset);for(;a%4!=0;)a+=1;const l=a-s,{buffer:c}=await this.bbi.read(mp.alloc(l),0,l,Number(s),t),u=Uv(n),{keySize:h}=u.chromTreeParser.parse(c),d=(new of).endianess(r).string("key",{stripNull:!0,length:h}).uint32("refId").uint32("refSize").saveOffset("offset"),p=(new of).endianess(r).skip(h).uint64("childOffset").saveOffset("offset"),f=async e=>{let t=e;if(t>=c.length)throw new Error("reading beyond end of buffer");const n=u.isLeafNode.parse(c.subarray(t)),{isLeafNode:r,cnt:a}=n;if(t+=n.offset,r)for(let e=0;e<a;e+=1){const e=d.parse(c.subarray(t));t+=e.offset;const{key:n,refId:r,refSize:a}=e,s={name:n,id:r,length:a};o[this.renameRefSeqs(n)]=r,i[r]=s}else{const e=[];for(let n=0;n<a;n+=1){const n=p.parse(c.subarray(t)),{childOffset:r}=n;t+=n.offset,e.push(f(Number(r)-Number(s)))}await Promise.all(e)}};return await f(32),{refsByName:o,refsByNumber:i}}async getUnzoomedView(e){const{unzoomedIndexOffset:t,refsByName:n,uncompressBufSize:r,isBigEndian:i,fileType:o}=await this.getHeader(e);return new xb(this.bbi,n,t,i,r>0,o)}async getFeatureStream(e,t,n,r={scale:1}){await this.getHeader(r);const i=this.renameRefSeqs(e);let o;if(o=r.basesPerSpan?await this.getView(1/r.basesPerSpan,r):r.scale?await this.getView(r.scale,r):await this.getView(1,r),!o)throw new Error("unable to get block view for data");return new Ov((e=>{o.readWigData(i,t,n,e,r)}))}async getFeatures(e,t,n,r={scale:1}){const i=await this.getFeatureStream(e,t,n,r),o=await(a=i.pipe(Lv()),new Promise((function(e,t){var n=new wv({next:function(t){e(t),n.unsubscribe()},error:t,complete:function(){t(new Rv)}});a.subscribe(n)})));var a;return o.flat()}},Hv=class extends jv{async getView(e,t){const{zoomLevels:n,refsByName:r,fileSize:i,isBigEndian:o,uncompressBufSize:a}=await this.getHeader(t),s=1/e;let l=n.length;i||(l-=1);for(let e=l;e>=0;e-=1){const t=n[e];if(t&&t.reductionLevel<=2*s){const e=Number(t.indexOffset);return new xb(this.bbi,r,e,o,a>0,"summary")}}return this.getUnzoomedView(t)}};$u(),Uh(),Su(Kd()),Su(Zd()),$u(),Uh(),$u(),Uh();var Gv={},zv={};function Vv(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function Yv(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function $v(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}$u(),Uh();var Xv=function(e){var t=new RegExp('["\t\n\r]'),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return zv;if(c)return c=!1,Gv;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==zv;){for(var h=[];r!==Gv&&r!==zv;)h.push(r),r=u();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?(i=(n=e).getUTCHours(),o=n.getUTCMinutes(),a=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+$v(-r,6):r>9999?"+"+$v(r,6):$v(r,4))+"-"+$v(n.getUTCMonth()+1,2)+"-"+$v(n.getUTCDate(),2)+(s?"T"+$v(i,2)+":"+$v(o,2)+":"+$v(a,2)+"."+$v(s,3)+"Z":a?"T"+$v(i,2)+":"+$v(o,2)+":"+$v(a,2)+"Z":o||i?"T"+$v(i,2)+":"+$v(o,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,r,i,o,a,s}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=Vv(e);return function(r,i){return t(n(r),i,e)}}(e,t):Vv(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=Yv(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Yv(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}("\t"),Wv=(Xv.parse,Xv.parseRows);Xv.format,Xv.formatBody,Xv.formatRows,Xv.formatRow,Xv.formatValue,$u(),Uh(),$u(),Uh(),$u(),Uh(),$u(),Uh(),$u(),Uh();var qv="$";function Kv(){}function Zv(e,t){var n=new Kv;if(e instanceof Kv)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}Kv.prototype=Zv.prototype={constructor:Kv,has:function(e){return qv+e in this},get:function(e){return this[qv+e]},set:function(e,t){return this[qv+e]=t,this},remove:function(e){var t=qv+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===qv&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===qv&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===qv&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===qv&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===qv&&++e;return e},empty:function(){for(var e in this)if(e[0]===qv)return!1;return!0},each:function(e){for(var t in this)t[0]===qv&&e(this[t],t.slice(1),this)}};var Qv=Zv;function Jv(){}$u(),Uh();var ey=Qv.prototype;Jv.prototype=function(e,t){var n=new Jv;if(e instanceof Jv)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}.prototype={constructor:Jv,has:ey.has,add:function(e){return this[qv+(e+="")]=e,this},remove:ey.remove,clear:ey.clear,values:ey.keys,size:ey.size,empty:ey.empty,each:ey.each},$u(),Uh(),$u(),Uh(),$u(),Uh(),$u(),Uh(),$u(),Uh();var ty={value:function(){}};function ny(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new ry(r)}function ry(e){this._=e}function iy(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function oy(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ty,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}ry.prototype=ny.prototype={constructor:ry,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=oy(i[n],e.name,t);else if(null==t)for(n in i)i[n]=oy(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=iy(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ry(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var ay=ny;function sy(e,t){var n,r,i,o,a=ay("beforesend","progress","load","error"),s=Qv(),l=new XMLHttpRequest,c=null,u=null,h=0;function d(e){var t,r=l.status;if(!r&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(l)||r>=200&&r<300||304===r){if(i)try{t=i.call(n,l)}catch(e){return void a.call("error",n,e)}else t=l;a.call("load",n,t)}else a.call("error",n,e)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(e)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=d:l.onreadystatechange=function(e){l.readyState>3&&d(e)},l.onprogress=function(e){a.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s.get(e):(null==t?s.remove(e):s.set(e,t+""),n)},mimeType:function(e){return arguments.length?(r=null==e?null:e+"",n):r},responseType:function(e){return arguments.length?(o=e,n):o},timeout:function(e){return arguments.length?(h=+e,n):h},user:function(e){return arguments.length<1?c:(c=null==e?null:e+"",n)},password:function(e){return arguments.length<1?u:(u=null==e?null:e+"",n)},response:function(e){return i=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,i,d){return l.open(t,e,!0,c,u),null==r||s.has("accept")||s.set("accept",r+",*/*"),l.setRequestHeader&&s.each((function(e,t){l.setRequestHeader(t,e)})),null!=r&&l.overrideMimeType&&l.overrideMimeType(r),null!=o&&(l.responseType=o),h>0&&(l.timeout=h),null==d&&"function"==typeof i&&(d=i,i=null),null!=d&&1===d.length&&(d=function(e){return function(t,n){e(null==t?n:null)}}(d)),null!=d&&n.on("error",d).on("load",(function(e){d(null,e)})),a.call("beforesend",n,l),l.send(null==i?null:i),n},abort:function(){return l.abort(),n},on:function(){var e=a.on.apply(a,arguments);return e===a?n:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n}function ly(e,t){return function(n,r){var i=sy(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}}$u(),Uh(),$u(),Uh(),ly("text/html",(function(e){return document.createRange().createContextualFragment(e.responseText)})),$u(),Uh(),ly("application/json",(function(e){return JSON.parse(e.responseText)})),$u(),Uh();var cy=ly("text/plain",(function(e){return e.responseText}));$u(),Uh(),ly("application/xml",(function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t})),$u(),Uh(),$u(),Uh(),$u(),Uh();var uy={},hy={};function dy(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function py(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function fy(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function my(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return hy;if(c)return c=!1,uy;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==hy;){for(var h=[];r!==uy&&r!==hy;)h.push(r),r=u();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?(i=(n=e).getUTCHours(),o=n.getUTCMinutes(),a=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+fy(-r,6):r>9999?"+"+fy(r,6):fy(r,4))+"-"+fy(n.getUTCMonth()+1,2)+"-"+fy(n.getUTCDate(),2)+(s?"T"+fy(i,2)+":"+fy(o,2)+":"+fy(a,2)+"."+fy(s,3)+"Z":a?"T"+fy(i,2)+":"+fy(o,2)+":"+fy(a,2)+"Z":o||i?"T"+fy(i,2)+":"+fy(o,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,r,i,o,a,s}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=dy(e);return function(r,i){return t(n(r),i,e)}}(e,t):dy(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=py(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=py(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}$u(),Uh();var gy=my(","),by=gy.parse;gy.parseRows,gy.format,gy.formatBody,gy.formatRows,gy.formatRow,gy.formatValue,$u(),Uh();var vy=my("\t"),yy=vy.parse;function Ty(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=sy(n).mimeType(e);return o.row=function(e){return arguments.length?o.response(function(e,t){return function(n){return e(n.responseText,t)}}(t,r=e)):r},o.row(r),i?o.get(i):o}}vy.parseRows,vy.format,vy.formatBody,vy.formatRows,vy.formatRow,vy.formatValue,$u(),Uh(),Ty("text/csv",by),$u(),Uh(),Ty("text/tab-separated-values",yy);var _y=(e,t,n)=>n.chrPositions[e].pos+t;var Ey=function(e,...t){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');return new class{constructor(e){this.dataConfig=e,this.trackUid=ep.default.nice(),this.bwFileHeader=null,this.bwFile=null,this.TILE_SIZE=1024,this.errorTxt="",this.dataPromises=[],this.dataPromises.push(this.loadChromsizes(e)),this.dataPromises.push(this.loadBBI(e))}loadChromsizes(e){return e.chromSizesUrl?new Promise((t=>{!function(e,t){const n={absToChr:e=>n.chrPositions?absToChr(e,n):null,chrToAbs:([e,t]=[])=>n.chrPositions?_y(e,t,n):null};cy(e,((e,r)=>{if(e)t&&t(null);else{const e=function(e){const t=[],n={},r={};let i=0;for(let o=0;o<e.length;o++){const a=Number(e[o][1]);i+=a;const s={id:o,chr:e[o][0],pos:i-a};t.push(s),r[s.chr]=s,n[e[o][0]]=a}return{chrToAbs:([e,t])=>_y(e,t,{chrPositions:r}),cumPositions:t,chrPositions:r,totalLength:i,chromLengths:n}}(Wv(r));Object.keys(e).forEach((t=>{n[t]=e[t]})),t&&t(n)}}))}(e.chromSizesUrl,(e=>{this.chromSizes=e,t()}))})):(console.error('Please enter a "chromSizesUrl" field to the data config'),null)}loadBBI(e){return e.url?(this.bwFile=new Hv({filehandle:new Ab(e.url)}),this.bwFile.getHeader().then((e=>{this.bwFileHeader=e}))):(console.error('Please enter a "url" field to the data config'),null)}tilesetInfo(e){return this.tilesetInfoLoading=!0,Promise.all(this.dataPromises).then((()=>{this.tilesetInfoLoading=!1;let t={};const n=this.chromSizes.totalLength;return t={tile_size:this.TILE_SIZE,max_zoom:Math.ceil(Math.log(n/this.TILE_SIZE)/Math.log(2)),max_width:2**Math.ceil(Math.log(n)/Math.log(2)),min_pos:[0],max_pos:[n]},e&&e(t),t})).catch((t=>{this.tilesetInfoLoading=!1,console.error(t),e&&e({error:`Error parsing bigwig: ${t}`})}))}fetchTilesDebounced(e,t){const n={},r=[],i=[];for(const e of t){const t=e.split("."),n=parseInt(t[0],10),o=parseInt(t[1],10);Number.isNaN(o)||Number.isNaN(n)?console.warn("Invalid tile zoom or position:",n,o):(r.push(e),i.push(this.tile(n,o)))}return Promise.all(i).then((t=>{for(let e=0;e<t.length;e++){const i=r[e];n[i]=t[e],n[i].tilePositionId=i}e(n)})),n}tile(t,n){return this.tilesetInfo().then((r=>{const i=+r.max_width/2**+t,o=[],a={tilePos:[n],tileId:"bigwig."+t+"."+n,zoomLevel:t},s=r.min_pos[0]+n*i;let l=s;const c=r.min_pos[0]+(n+1)*i,u=this.determineScale(l,c),h=(c-l)/this.TILE_SIZE,d=[];for(let e=0;e<this.TILE_SIZE;e++)d.push(l+e*h);const{chromLengths:p,cumPositions:f}=this.chromSizes;for(let t=0;t<f.length;t++){const n=f[t].chr,r=f[t].pos,i=f[t].pos+p[n];let a,s;if(r<=l&&l<i){if(!(c>i)){a=Math.floor(l-r),s=Math.ceil(c-r),o.push(this.bwFile.getFeatures(n,a,s,{scale:1/u}).then((t=>(t.forEach((t=>{t.startAbs=e.utils.chrToAbs(n,t.start,this.chromSizes),t.endAbs=e.utils.chrToAbs(n,t.end,this.chromSizes)})),t))));break}a=l-r,s=i-r,o.push(this.bwFile.getFeatures(n,a,s,{scale:1/u}).then((t=>(t.forEach((t=>{t.startAbs=e.utils.chrToAbs(n,t.start,this.chromSizes),t.endAbs=e.utils.chrToAbs(n,t.end,this.chromSizes)})),t)))),l=i}}return Promise.all(o).then((t=>{const n=t.flat();for(var r=[],i=0;i<this.TILE_SIZE;i++)r.push(null);d.forEach(((e,t)=>{if(e<s||e>c)return;const i=n.filter((t=>e>=t.startAbs&&e<t.endAbs)).map((e=>e.score));r[t]=i.length>0?i[0]:null})),a.min_value=Math.min(...r),a.max_value=Math.max(...r);const o=new e.utils.DenseDataExtrema1D(r);return a.dense=r,a.denseDataExtrema=o,a.minNonZero=o.minNonZeroInTile,a.maxNonZero=o.maxNonZeroInTile,a}))}))}determineScale(e,t){const n=[1],r=t-e;this.bwFileHeader.zoomLevels.forEach((e=>{n.push(e.reductionLevel)}));for(var i=0;i<n.length;i++){const e=n[i];if(r/e<=20*this.TILE_SIZE)return e}return n.slice(-1)[0]}}(...t)};Ey.config={type:"bbi"};var xy=Ey;const wy=JSON.parse('{"m":{"editable":true,"zoomFixed":false,"trackSourceServers":["//higlass.io/api/v1"],"exportViewUrl":"/api/v1/viewconfs","views":[{"uid":"aa","initialXDomain":[100000000,3000000000],"autocompleteSource":"/api/v1/suggest/?d=OHJakQICQD6gTD7skx4EWA&","genomePositionSearchBox":{"autocompleteServer":"//higlass.io/api/v1","autocompleteId":"P0PLbQMwTYGy-5uPIQid7A","chromInfoServer":"//higlass.io/api/v1","chromInfoId":"hg38","visible":true},"chromInfoPath":"https://cgap-higlass.s3.amazonaws.com/sequence/hg38.mod.chrom.sizes","tracks":{"top":[{"filetype":"beddb","server":"//higlass.io/api/v1","tilesetUid":"P0PLbQMwTYGy-5uPIQid7A","uid":"TAH0j3v5QTiUbmd0l2sgXw","type":"gene-annotations","options":{"fontSize":10,"labelColor":"black","labelBackgroundColor":"#ffffff","labelPosition":"hidden","labelLeftMargin":0,"labelRightMargin":0,"labelTopMargin":0,"labelBottomMargin":0,"minHeight":24,"plusStrandColor":"blue","minusStrandColor":"red","trackBorderWidth":0,"trackBorderColor":"black","showMousePosition":false,"mousePositionColor":"#000000","geneAnnotationHeight":16,"geneLabelPosition":"outside","geneStrandSpacing":4,"name":"Gene Annotations (hg38)"},"width":1188,"height":90},{"filetype":"chromsizes-tsv","server":"//higlass.io/api/v1","tilesetUid":"NyITQvZsS_mOFNlz5C2LJg","uid":"KuYNGV4QRISWSYQa9PKRTw","type":"chromosome-labels","options":{"color":"#808080","stroke":"#ffffff","fontSize":12,"fontIsLeftAligned":false,"showMousePosition":false,"mousePositionColor":"#000000","reverseOrientation":false},"width":20,"height":40}],"left":[],"center":[],"right":[],"bottom":[],"whole":[],"gallery":[]},"layout":{"w":12,"h":12,"x":0,"y":0,"moved":false,"static":false},"initialYDomain":[0,1000]}],"zoomLocks":{"locksByViewUid":{},"locksDict":{}},"locationLocks":{"locksByViewUid":{},"locksDict":{}},"valueScaleLocks":{"locksByViewUid":{},"locksDict":{}}}}');class Sy extends n.PureComponent{constructor(e){super(e),this.hgc=n.createRef(),window.hgc=this.hgc,this.viewConfig=wy.m,Uc()({name:"TextTrack",track:$c,config:$c.config}),Uc()({dataFetcher:xy,config:xy.config},{pluginType:"dataFetcher"})}componentDidMount(){}render(){return n.createElement(Ao.HiGlassComponent,{viewConfig:this.viewConfig,bounded:!0,ref:this.hgc})}}const Ay=function(){return n.createElement("div",{className:"App"},n.createElement("div",{className:"container mt-5"},n.createElement("h2",{id:"variant-view",className:"text-center"},"SPECIFICANCER data visualization"),n.createElement("div",{className:"row mt-4"},n.createElement("div",{className:"col-md-3 "},n.createElement("div",{className:"border p-2 mt-3"},n.createElement(Mc,null))),n.createElement("div",{className:"col-md-9"},n.createElement("div",{className:"fixedHeight"},n.createElement(Sy,null)))),n.createElement("div",{className:"py-5"})),n.createElement("div",{className:"container-fluid bg-light mt-5 py-4 text-center"},n.createElement("div",{className:"mb-1"},"For support or questions, please open an issue on our"," ",n.createElement("a",{href:"https://github.com/parklab/SPECIFICANCER_data"},"GitHub repository"),".")))};o.render(n.createElement(n.StrictMode,null,n.createElement(Ay,null)),document.getElementById("app"))})()})();